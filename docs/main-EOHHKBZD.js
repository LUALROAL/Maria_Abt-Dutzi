var a1=Object.defineProperty,c1=Object.defineProperties;var l1=Object.getOwnPropertyDescriptors;var kl=Object.getOwnPropertySymbols;var rI=Object.prototype.hasOwnProperty,iI=Object.prototype.propertyIsEnumerable;var nI=(n,e,t)=>e in n?a1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,V=(n,e)=>{for(var t in e||={})rI.call(e,t)&&nI(n,t,e[t]);if(kl)for(var t of kl(e))iI.call(e,t)&&nI(n,t,e[t]);return n},pe=(n,e)=>c1(n,l1(e));var Do=(n,e)=>{var t={};for(var r in n)rI.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&kl)for(var r of kl(n))e.indexOf(r)<0&&iI.call(n,r)&&(t[r]=n[r]);return t};var M=(n,e,t)=>new Promise((r,i)=>{var o=l=>{try{a(t.next(l))}catch(u){i(u)}},s=l=>{try{a(t.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(n,e)).next())});function oI(n,e){return Object.is(n,e)}var at=null,Ol=!1,Fl=1,sr=Symbol("SIGNAL");function Se(n){let e=at;return at=n,e}function sI(){return at}var Ea={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function fp(n){if(Ol)throw new Error("");if(at===null)return;at.consumerOnSignalRead(n);let e=at.nextProducerIndex++;if(Ul(at),e<at.producerNode.length&&at.producerNode[e]!==n&&Ia(at)){let t=at.producerNode[e];jl(t,at.producerIndexOfThis[e])}at.producerNode[e]!==n&&(at.producerNode[e]=n,at.producerIndexOfThis[e]=Ia(at)?uI(n,at,e):0),at.producerLastReadVersion[e]=n.version}function u1(){Fl++}function aI(n){if(!(Ia(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Fl)){if(!n.producerMustRecompute(n)&&!mp(n)){n.dirty=!1,n.lastCleanEpoch=Fl;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Fl}}function cI(n){if(n.liveConsumerNode===void 0)return;let e=Ol;Ol=!0;try{for(let t of n.liveConsumerNode)t.dirty||d1(t)}finally{Ol=e}}function lI(){return at?.consumerAllowSignalWrites!==!1}function d1(n){n.dirty=!0,cI(n),n.consumerMarkedDirty?.(n)}function Vl(n){return n&&(n.nextProducerIndex=0),Se(n)}function pp(n,e){if(Se(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ia(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)jl(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function mp(n){Ul(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(aI(t),r!==t.version))return!0}return!1}function gp(n){if(Ul(n),Ia(n))for(let e=0;e<n.producerNode.length;e++)jl(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function uI(n,e,t){if(dI(n),n.liveConsumerNode.length===0&&hI(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=uI(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function jl(n,e){if(dI(n),n.liveConsumerNode.length===1&&hI(n))for(let r=0;r<n.producerNode.length;r++)jl(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Ul(i),i.producerIndexOfThis[r]=e}}function Ia(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ul(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function dI(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function hI(n){return n.producerNode!==void 0}function fI(n){let e=Object.create(h1);e.computation=n;let t=()=>{if(aI(e),fp(e),e.value===Ll)throw e.error;return e.value};return t[sr]=e,t}var dp=Symbol("UNSET"),hp=Symbol("COMPUTING"),Ll=Symbol("ERRORED"),h1=pe(V({},Ea),{value:dp,dirty:!0,error:null,equal:oI,producerMustRecompute(n){return n.value===dp||n.value===hp},producerRecomputeValue(n){if(n.value===hp)throw new Error("Detected cycle in computations.");let e=n.value;n.value=hp;let t=Vl(n),r;try{r=n.computation()}catch(i){r=Ll,n.error=i}finally{pp(n,t)}if(e!==dp&&e!==Ll&&r!==Ll&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function f1(){throw new Error}var pI=f1;function mI(){pI()}function gI(n){pI=n}var p1=null;function yI(n){let e=Object.create(_I);e.value=n;let t=()=>(fp(e),e.value);return t[sr]=e,t}function yp(n,e){lI()||mI(),n.equal(n.value,e)||(n.value=e,m1(n))}function vI(n,e){lI()||mI(),yp(n,e(n.value))}var _I=pe(V({},Ea),{equal:oI,value:void 0});function m1(n){n.version++,u1(),cI(n),p1?.()}function me(n){return typeof n=="function"}function To(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Bl=To(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ai(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var je=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(me(r))try{r()}catch(o){e=o instanceof Bl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{wI(o)}catch(s){e=e??[],s instanceof Bl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Bl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)wI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ai(t,e)}remove(e){let{_finalizers:t}=this;t&&Ai(t,e),e instanceof n&&e._removeParent(this)}};je.EMPTY=(()=>{let n=new je;return n.closed=!0,n})();var vp=je.EMPTY;function $l(n){return n instanceof je||n&&"closed"in n&&me(n.remove)&&me(n.add)&&me(n.unsubscribe)}function wI(n){me(n)?n():n.unsubscribe()}var wn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var So={setTimeout(n,e,...t){let{delegate:r}=So;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=So;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Hl(n){So.setTimeout(()=>{let{onUnhandledError:e}=wn;if(e)e(n);else throw n})}function ba(){}var II=_p("C",void 0,void 0);function EI(n){return _p("E",void 0,n)}function bI(n){return _p("N",n,void 0)}function _p(n,e,t){return{kind:n,value:e,error:t}}var xi=null;function Ao(n){if(wn.useDeprecatedSynchronousErrorHandling){let e=!xi;if(e&&(xi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=xi;if(xi=null,t)throw r}}else n()}function CI(n){wn.useDeprecatedSynchronousErrorHandling&&xi&&(xi.errorThrown=!0,xi.error=n)}var Mi=class extends je{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,$l(e)&&e.add(this)):this.destination=v1}static create(e,t,r){return new ar(e,t,r)}next(e){this.isStopped?Ip(bI(e),this):this._next(e)}error(e){this.isStopped?Ip(EI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ip(II,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},g1=Function.prototype.bind;function wp(n,e){return g1.call(n,e)}var Ep=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){zl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){zl(r)}else zl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){zl(t)}}},ar=class extends Mi{constructor(e,t,r){super();let i;if(me(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&wn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&wp(e.next,o),error:e.error&&wp(e.error,o),complete:e.complete&&wp(e.complete,o)}):i=e}this.destination=new Ep(i)}};function zl(n){wn.useDeprecatedSynchronousErrorHandling?CI(n):Hl(n)}function y1(n){throw n}function Ip(n,e){let{onStoppedNotification:t}=wn;t&&So.setTimeout(()=>t(n,e))}var v1={closed:!0,next:ba,error:y1,complete:ba};var xo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Pt(n){return n}function bp(...n){return Cp(n)}function Cp(n){return n.length===0?Pt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ye=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=w1(t)?t:new ar(t,r,i);return Ao(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=DI(r),new r((i,o)=>{let s=new ar({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[xo](){return this}pipe(...t){return Cp(t)(this)}toPromise(t){return t=DI(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function DI(n){var e;return(e=n??wn.Promise)!==null&&e!==void 0?e:Promise}function _1(n){return n&&me(n.next)&&me(n.error)&&me(n.complete)}function w1(n){return n&&n instanceof Mi||_1(n)&&$l(n)}function Dp(n){return me(n?.lift)}function Ee(n){return e=>{if(Dp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function we(n,e,t,r,i){return new Tp(n,e,t,r,i)}var Tp=class extends Mi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Mo(){return Ee((n,e)=>{let t=null;n._refCount++;let r=we(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ro=class extends ye{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Dp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new je;let t=this.getSubject();e.add(this.source.subscribe(we(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=je.EMPTY)}return e}refCount(){return Mo()(this)}};var TI=To(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var qe=(()=>{class n extends ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ql(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new TI}next(t){Ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?vp:(this.currentObservers=null,o.push(t),new je(()=>{this.currentObservers=null,Ai(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ye;return t.source=this,t}}return n.create=(e,t)=>new ql(e,t),n})(),ql=class extends qe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:vp}};var Ke=class extends qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ca={now(){return(Ca.delegate||Date).now()},delegate:void 0};var Da=class extends qe{constructor(e=1/0,t=1/0,r=Ca){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var Gl=class extends je{constructor(e,t){super()}schedule(e,t=0){return this}};var Ta={setInterval(n,e,...t){let{delegate:r}=Ta;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ta;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var No=class extends Gl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Ta.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ta.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ai(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Po=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Po.now=Ca.now;var ko=class extends Po{constructor(e,t=Po.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Wl=new ko(No),Sp=Wl;var Kl=class extends No{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Ql=class extends ko{};var Ap=new Ql(Kl);var kt=new ye(n=>n.complete());function Yl(n){return n&&me(n.schedule)}function SI(n){return n[n.length-1]}function Zl(n){return me(SI(n))?n.pop():void 0}function Fr(n){return Yl(SI(n))?n.pop():void 0}function xp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function xI(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(p){s(p)}}function l(h){try{u(r.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):i(h.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}function AI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ri(n){return this instanceof Ri?(this.v=n,this):new Ri(n)}function MI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(A){return Promise.resolve(A).then(y,p)}}function a(y,A){r[y]&&(i[y]=function(k){return new Promise(function(N,U){o.push([y,k,N,U])>1||l(y,k)})},A&&(i[y]=A(i[y])))}function l(y,A){try{u(r[y](A))}catch(k){g(o[0][3],k)}}function u(y){y.value instanceof Ri?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){l("next",y)}function p(y){l("throw",y)}function g(y,A){y(A),o.shift(),o.length&&l(o[0][0],o[0][1])}}function RI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof AI=="function"?AI(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var Jl=n=>n&&typeof n.length=="number"&&typeof n!="function";function Xl(n){return me(n?.then)}function eu(n){return me(n[xo])}function tu(n){return Symbol.asyncIterator&&me(n?.[Symbol.asyncIterator])}function nu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function I1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ru=I1();function iu(n){return me(n?.[ru])}function ou(n){return MI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ri(t.read());if(i)return yield Ri(void 0);yield yield Ri(r)}}finally{t.releaseLock()}})}function su(n){return me(n?.getReader)}function He(n){if(n instanceof ye)return n;if(n!=null){if(eu(n))return E1(n);if(Jl(n))return b1(n);if(Xl(n))return C1(n);if(tu(n))return NI(n);if(iu(n))return D1(n);if(su(n))return T1(n)}throw nu(n)}function E1(n){return new ye(e=>{let t=n[xo]();if(me(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function b1(n){return new ye(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function C1(n){return new ye(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Hl)})}function D1(n){return new ye(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function NI(n){return new ye(e=>{S1(n,e).catch(t=>e.error(t))})}function T1(n){return NI(ou(n))}function S1(n,e){var t,r,i,o;return xI(this,void 0,void 0,function*(){try{for(t=RI(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Ut(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Lr(n,e=0){return Ee((t,r)=>{t.subscribe(we(r,i=>Ut(r,n,()=>r.next(i),e),()=>Ut(r,n,()=>r.complete(),e),i=>Ut(r,n,()=>r.error(i),e)))})}function Vr(n,e=0){return Ee((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function PI(n,e){return He(n).pipe(Vr(e),Lr(e))}function kI(n,e){return He(n).pipe(Vr(e),Lr(e))}function OI(n,e){return new ye(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function FI(n,e){return new ye(t=>{let r;return Ut(t,e,()=>{r=n[ru](),Ut(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>me(r?.return)&&r.return()})}function au(n,e){if(!n)throw new Error("Iterable cannot be null");return new ye(t=>{Ut(t,e,()=>{let r=n[Symbol.asyncIterator]();Ut(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function LI(n,e){return au(ou(n),e)}function VI(n,e){if(n!=null){if(eu(n))return PI(n,e);if(Jl(n))return OI(n,e);if(Xl(n))return kI(n,e);if(tu(n))return au(n,e);if(iu(n))return FI(n,e);if(su(n))return LI(n,e)}throw nu(n)}function Fe(n,e){return e?VI(n,e):He(n)}function ne(...n){let e=Fr(n);return Fe(n,e)}function Oo(n,e){let t=me(n)?n:()=>n,r=i=>i.error(t());return new ye(e?i=>e.schedule(r,0,i):r)}function Mp(n){return!!n&&(n instanceof ye||me(n.lift)&&me(n.subscribe))}var cr=To(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function jI(n){return n instanceof Date&&!isNaN(n)}function re(n,e){return Ee((t,r)=>{let i=0;t.subscribe(we(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:A1}=Array;function x1(n,e){return A1(e)?n(...e):n(e)}function cu(n){return re(e=>x1(n,e))}var{isArray:M1}=Array,{getPrototypeOf:R1,prototype:N1,keys:P1}=Object;function lu(n){if(n.length===1){let e=n[0];if(M1(e))return{args:e,keys:null};if(k1(e)){let t=P1(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function k1(n){return n&&typeof n=="object"&&R1(n)===N1}function uu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Ni(...n){let e=Fr(n),t=Zl(n),{args:r,keys:i}=lu(n);if(r.length===0)return Fe([],e);let o=new ye(O1(r,e,i?s=>uu(i,s):Pt));return t?o.pipe(cu(t)):o}function O1(n,e,t=Pt){return r=>{UI(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)UI(e,()=>{let u=Fe(n[l],e),h=!1;u.subscribe(we(r,p=>{o[l]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function UI(n,e,t){n?Ut(t,n,e):e()}function BI(n,e,t,r,i,o,s,a){let l=[],u=0,h=0,p=!1,g=()=>{p&&!l.length&&!u&&e.complete()},y=k=>u<r?A(k):l.push(k),A=k=>{o&&e.next(k),u++;let N=!1;He(t(k,h++)).subscribe(we(e,U=>{i?.(U),o?y(U):e.next(U)},()=>{N=!0},void 0,()=>{if(N)try{for(u--;l.length&&u<r;){let U=l.shift();s?Ut(e,s,()=>A(U)):A(U)}g()}catch(U){e.error(U)}}))};return n.subscribe(we(e,y,()=>{p=!0,g()})),()=>{a?.()}}function nt(n,e,t=1/0){return me(e)?nt((r,i)=>re((o,s)=>e(r,o,i,s))(He(n(r,i))),t):(typeof e=="number"&&(t=e),Ee((r,i)=>BI(r,i,n,t)))}function Fo(n=1/0){return nt(Pt,n)}function $I(){return Fo(1)}function Lo(...n){return $I()(Fe(n,Fr(n)))}function du(n){return new ye(e=>{He(n()).subscribe(e)})}function Pi(...n){let e=Zl(n),{args:t,keys:r}=lu(n),i=new ye(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let h=0;h<s;h++){let p=!1;He(t[h]).subscribe(we(o,g=>{p||(p=!0,u--),a[h]=g},()=>l--,void 0,()=>{(!l||!p)&&(u||o.next(r?uu(r,a):a),o.complete())}))}});return e?i.pipe(cu(e)):i}function HI(n=0,e,t=Sp){let r=-1;return e!=null&&(Yl(e)?t=e:r=e),new ye(i=>{let o=jI(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Bt(n,e){return Ee((t,r)=>{let i=0;t.subscribe(we(r,o=>n.call(e,o,i++)&&r.next(o)))})}function In(n){return Ee((e,t)=>{let r=null,i=!1,o;r=e.subscribe(we(t,void 0,void 0,s=>{o=He(n(s,In(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function zI(n,e,t,r,i){return(o,s)=>{let a=t,l=e,u=0;o.subscribe(we(s,h=>{let p=u++;l=a?n(l,h,p):(a=!0,h),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function lr(n,e){return me(e)?nt(n,e,1):nt(n,1)}function jr(n){return Ee((e,t)=>{let r=!1;e.subscribe(we(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function nn(n){return n<=0?()=>kt:Ee((e,t)=>{let r=0;e.subscribe(we(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Rp(n){return re(()=>n)}function hu(n=F1){return Ee((e,t)=>{let r=!1;e.subscribe(we(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function F1(){return new cr}function ki(n){return Ee((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ln(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Bt((i,o)=>n(i,o,r)):Pt,nn(1),t?jr(e):hu(()=>new cr))}function Vo(n){return n<=0?()=>kt:Ee((e,t)=>{let r=[];e.subscribe(we(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Np(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Bt((i,o)=>n(i,o,r)):Pt,Vo(1),t?jr(e):hu(()=>new cr))}function Pp(n=1/0){let e;n&&typeof n=="object"?e=n:e={count:n};let{count:t=1/0,delay:r,resetOnSuccess:i=!1}=e;return t<=0?Pt:Ee((o,s)=>{let a=0,l,u=()=>{let h=!1;l=o.subscribe(we(s,p=>{i&&(a=0),s.next(p)},void 0,p=>{if(a++<t){let g=()=>{l?(l.unsubscribe(),l=null,u()):h=!0};if(r!=null){let y=typeof r=="number"?HI(r):He(r(p,a)),A=we(s,()=>{A.unsubscribe(),g()},()=>{s.complete()});y.subscribe(A)}else g()}else s.error(p)})),h&&(l.unsubscribe(),l=null,u())};u()})}function kp(n,e){return Ee(zI(n,e,arguments.length>=2,!0))}function qI(n={}){let{connector:e=()=>new qe,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,u=0,h=!1,p=!1,g=()=>{a?.unsubscribe(),a=void 0},y=()=>{g(),s=l=void 0,h=p=!1},A=()=>{let k=s;y(),k?.unsubscribe()};return Ee((k,N)=>{u++,!p&&!h&&g();let U=l=l??e();N.add(()=>{u--,u===0&&!p&&!h&&(a=Op(A,i))}),U.subscribe(N),!s&&u>0&&(s=new ar({next:J=>U.next(J),error:J=>{p=!0,g(),a=Op(y,t,J),U.error(J)},complete:()=>{h=!0,g(),a=Op(y,r),U.complete()}}),He(k).subscribe(s))})(o)}}function Op(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new ar({next:()=>{r.unsubscribe(),n()}});return He(e(...t)).subscribe(r)}function Fp(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,qI({connector:()=>new Da(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Lp(...n){let e=Fr(n);return Ee((t,r)=>{(e?Lo(n,t,e):Lo(n,t)).subscribe(r)})}function et(n,e){return Ee((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(we(r,l=>{i?.unsubscribe();let u=0,h=o++;He(n(l,h)).subscribe(i=we(r,p=>r.next(e?e(l,p,h,u++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Sa(n){return Ee((e,t)=>{He(n).subscribe(we(t,()=>t.complete(),ba)),!t.closed&&e.subscribe(t)})}function Qe(n,e,t){let r=me(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ee((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(we(o,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Pt}var PE="https://g.co/ng/security#xss",ee=class extends Error{constructor(e,t){super(Yu(e,t)),this.code=e}};function Yu(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function La(n){return{toString:n}.toString()}var fu="__parameters__";function L1(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function kE(n,e,t){return La(()=>{let r=L1(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,u,h){let p=l.hasOwnProperty(fu)?l[fu]:Object.defineProperty(l,fu,{value:[]})[fu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Ma=globalThis;function Ve(n){for(let e in n)if(n[e]===Ve)return e;throw Error("Could not find renamed property on target object.")}function V1(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ft(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Ft).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Zp(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var j1=Ve({__forward_ref__:Ve});function Tn(n){return n.__forward_ref__=Tn,n.toString=function(){return Ft(this())},n}function Ot(n){return OE(n)?n():n}function OE(n){return typeof n=="function"&&n.hasOwnProperty(j1)&&n.__forward_ref__===Tn}function K(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Sn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Zu(n){return GI(n,LE)||GI(n,VE)}function FE(n){return Zu(n)!==null}function GI(n,e){return n.hasOwnProperty(e)?n[e]:null}function U1(n){let e=n&&(n[LE]||n[VE]);return e||null}function WI(n){return n&&(n.hasOwnProperty(KI)||n.hasOwnProperty(B1))?n[KI]:null}var LE=Ve({\u0275prov:Ve}),KI=Ve({\u0275inj:Ve}),VE=Ve({ngInjectableDef:Ve}),B1=Ve({ngInjectorDef:Ve}),W=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=K({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function jE(n){return n&&!!n.\u0275providers}var $1=Ve({\u0275cmp:Ve}),H1=Ve({\u0275dir:Ve}),z1=Ve({\u0275pipe:Ve}),q1=Ve({\u0275mod:Ve}),Du=Ve({\u0275fac:Ve}),xa=Ve({__NG_ELEMENT_ID__:Ve}),QI=Ve({__NG_ENV_ID__:Ve});function Fi(n){return typeof n=="string"?n:n==null?"":String(n)}function G1(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Fi(n)}function W1(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ee(-200,n)}function qm(n,e){throw new ee(-201,!1)}var Ie=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ie||{}),Jp;function UE(){return Jp}function $t(n){let e=Jp;return Jp=n,e}function BE(n,e,t){let r=Zu(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Ie.Optional)return null;if(e!==void 0)return e;qm(n,"Injector")}var K1={},Ra=K1,Xp="__NG_DI_FLAG__",Tu="ngTempTokenPath",Q1="ngTokenPath",Y1=/\n/gm,Z1="\u0275",YI="__source",Ho;function J1(){return Ho}function Ur(n){let e=Ho;return Ho=n,e}function X1(n,e=Ie.Default){if(Ho===void 0)throw new ee(-203,!1);return Ho===null?BE(n,void 0,e):Ho.get(n,e&Ie.Optional?null:void 0,e)}function Q(n,e=Ie.Default){return(UE()||X1)(Ot(n),e)}function F(n,e=Ie.Default){return Q(n,Ju(e))}function Ju(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function em(n){let e=[];for(let t=0;t<n.length;t++){let r=Ot(n[t]);if(Array.isArray(r)){if(r.length===0)throw new ee(900,!1);let i,o=Ie.Default;for(let s=0;s<r.length;s++){let a=r[s],l=eR(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(Q(i,o))}else e.push(Q(r))}return e}function $E(n,e){return n[Xp]=e,n.prototype[Xp]=e,n}function eR(n){return n[Xp]}function tR(n,e,t,r){let i=n[Tu];throw e[YI]&&i.unshift(e[YI]),n.message=nR(`
`+n.message,i,t,r),n[Q1]=i,n[Tu]=null,n}function nR(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==Z1?n.slice(2):n;let i=Ft(e);if(Array.isArray(e))i=e.map(Ft).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ft(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Y1,`
  `)}`}var an=$E(kE("Optional"),8);var Gm=$E(kE("SkipSelf"),4);function Li(n,e){let t=n.hasOwnProperty(Du);return t?n[Du]:null}function Wm(n,e){n.forEach(t=>Array.isArray(t)?Wm(t,e):e(t))}function HE(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Su(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function rR(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Km(n,e,t){let r=Va(n,e);return r>=0?n[r|1]=t:(r=~r,rR(n,r,e,t)),r}function Vp(n,e){let t=Va(n,e);if(t>=0)return n[t|1]}function Va(n,e){return iR(n,e,1)}function iR(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var qo={},Ht=[],Go=new W(""),zE=new W("",-1),qE=new W(""),Au=class{get(e,t=Ra){if(t===Ra){let r=new Error(`NullInjectorError: No provider for ${Ft(e)}!`);throw r.name="NullInjectorError",r}return t}},GE=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(GE||{}),Un=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Un||{}),Hr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Hr||{});function oR(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function tm(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];sR(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function WE(n){return n===3||n===4||n===6}function sR(n){return n.charCodeAt(0)===64}function Na(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?ZI(n,t,i,null,e[++r]):ZI(n,t,i,null,null))}}return n}function ZI(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var KE="ng-template";function aR(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&oR(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Qm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Qm(n){return n.type===4&&n.value!==KE}function cR(n,e,t){let r=n.type===4&&!t?KE:n.value;return e===r}function lR(n,e,t){let r=4,i=n.attrs,o=i!==null?hR(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!En(r)&&!En(l))return!1;if(s&&En(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!cR(n,l,t)||l===""&&e.length===1){if(En(r))return!1;s=!0}}else if(r&8){if(i===null||!aR(n,i,l,t)){if(En(r))return!1;s=!0}}else{let u=e[++a],h=uR(l,i,Qm(n),t);if(h===-1){if(En(r))return!1;s=!0;continue}if(u!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&u!==p){if(En(r))return!1;s=!0}}}}return En(r)||s}function En(n){return(n&1)===0}function uR(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return fR(e,n)}function dR(n,e,t=!1){for(let r=0;r<e.length;r++)if(lR(n,e[r],t))return!0;return!1}function hR(n){for(let e=0;e<n.length;e++){let t=n[e];if(WE(t))return e}return n.length}function fR(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function JI(n,e){return n?":not("+e.trim()+")":e}function pR(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!En(s)&&(e+=JI(o,i),i=""),r=s,o=o||!En(r);t++}return i!==""&&(e+=JI(o,i)),e}function mR(n){return n.map(pR).join(",")}function gR(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!En(i))break;i=o}r++}return{attrs:e,classes:t}}function Ue(n){return La(()=>{let e=XE(n),t=pe(V({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===GE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Un.Emulated,styles:n.styles||Ht,_:null,schemas:n.schemas||null,tView:null,id:""});eb(t);let r=n.dependencies;return t.directiveDefs=eE(r,!1),t.pipeDefs=eE(r,!0),t.id=_R(t),t})}function yR(n){return zr(n)||QE(n)}function vR(n){return n!==null}function An(n){return La(()=>({type:n.type,bootstrap:n.bootstrap||Ht,declarations:n.declarations||Ht,imports:n.imports||Ht,exports:n.exports||Ht,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function XI(n,e){if(n==null)return qo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Hr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Hr.None?[r,a]:r,e[o]=s):t[o]=r}return t}function ze(n){return La(()=>{let e=XE(n);return eb(e),e})}function Ym(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function zr(n){return n[$1]||null}function QE(n){return n[H1]||null}function YE(n){return n[z1]||null}function ZE(n){let e=zr(n)||QE(n)||YE(n);return e!==null?e.standalone:!1}function JE(n,e){let t=n[q1]||null;if(!t&&e===!0)throw new Error(`Type ${Ft(n)} does not have '\u0275mod' property.`);return t}function XE(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||qo,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Ht,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:XI(n.inputs,e),outputs:XI(n.outputs),debugInfo:null}}function eb(n){n.features?.forEach(e=>e(n))}function eE(n,e){if(!n)return null;let t=e?YE:yR;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(vR)}function _R(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function gt(n){return{\u0275providers:n}}function wR(...n){return{\u0275providers:tb(!0,n),\u0275fromNgModule:!0}}function tb(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Wm(e,s=>{let a=s;nm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&nb(i,o),t}function nb(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Zm(i,o=>{e(o,r)})}}function nm(n,e,t,r){if(n=Ot(n),!n)return!1;let i=null,o=WI(n),s=!o&&zr(n);if(!o&&!s){let l=n.ngModule;if(o=WI(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)nm(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{Wm(o.imports,h=>{nm(h,e,t,r)&&(u||=[],u.push(h))})}finally{}u!==void 0&&nb(u,e)}if(!a){let u=Li(i)||(()=>new i);e({provide:i,useFactory:u,deps:Ht},i),e({provide:qE,useValue:i,multi:!0},i),e({provide:Go,useValue:()=>Q(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let u=n;Zm(l,h=>{e(h,u)})}}else return!1;return i!==n&&n.providers!==void 0}function Zm(n,e){for(let t of n)jE(t)&&(t=t.\u0275providers),Array.isArray(t)?Zm(t,e):e(t)}var IR=Ve({provide:String,useValue:Ve});function rb(n){return n!==null&&typeof n=="object"&&IR in n}function ER(n){return!!(n&&n.useExisting)}function bR(n){return!!(n&&n.useFactory)}function Wo(n){return typeof n=="function"}function CR(n){return!!n.useClass}var Xu=new W(""),wu={},DR={},jp;function Jm(){return jp===void 0&&(jp=new Au),jp}var Lt=class{},Pa=class extends Lt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,im(e,s=>this.processProvider(s)),this.records.set(zE,jo(void 0,this)),i.has("environment")&&this.records.set(Lt,jo(void 0,this));let o=this.records.get(Xu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(qE,Ht,Ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Se(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Se(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Ur(this),r=$t(void 0),i;try{return e()}finally{Ur(t),$t(r)}}get(e,t=Ra,r=Ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(QI))return e[QI](this);r=Ju(r);let i,o=Ur(this),s=$t(void 0);try{if(!(r&Ie.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=MR(e)&&Zu(e);u&&this.injectableDefInScope(u)?l=jo(rm(e),wu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&Ie.Self?Jm():this.parent;return t=r&Ie.Optional&&t===Ra?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Tu]=a[Tu]||[]).unshift(Ft(e)),o)throw a;return tR(a,e,"R3InjectorError",this.source)}else throw a}finally{$t(s),Ur(o)}}resolveInjectorInitializers(){let e=Se(null),t=Ur(this),r=$t(void 0),i;try{let o=this.get(Go,Ht,Ie.Self);for(let s of o)s()}finally{Ur(t),$t(r),Se(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Ft(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(e){e=Ot(e);let t=Wo(e)?e:Ot(e&&e.provide),r=SR(e);if(!Wo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=jo(void 0,wu,!0),i.factory=()=>em(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Se(null);try{return t.value===wu&&(t.value=DR,t.value=t.factory()),typeof t.value=="object"&&t.value&&xR(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Se(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ot(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function rm(n){let e=Zu(n),t=e!==null?e.factory:Li(n);if(t!==null)return t;if(n instanceof W)throw new ee(204,!1);if(n instanceof Function)return TR(n);throw new ee(204,!1)}function TR(n){if(n.length>0)throw new ee(204,!1);let t=U1(n);return t!==null?()=>t.factory(n):()=>new n}function SR(n){if(rb(n))return jo(void 0,n.useValue);{let e=ib(n);return jo(e,wu)}}function ib(n,e,t){let r;if(Wo(n)){let i=Ot(n);return Li(i)||rm(i)}else if(rb(n))r=()=>Ot(n.useValue);else if(bR(n))r=()=>n.useFactory(...em(n.deps||[]));else if(ER(n))r=()=>Q(Ot(n.useExisting));else{let i=Ot(n&&(n.useClass||n.provide));if(AR(n))r=()=>new i(...em(n.deps));else return Li(i)||rm(i)}return r}function jo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function AR(n){return!!n.deps}function xR(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function MR(n){return typeof n=="function"||typeof n=="object"&&n instanceof W}function im(n,e){for(let t of n)Array.isArray(t)?im(t,e):t&&jE(t)?im(t.\u0275providers,e):e(t)}function Gt(n,e){n instanceof Pa&&n.assertNotDestroyed();let t,r=Ur(n),i=$t(void 0);try{return e()}finally{Ur(r),$t(i)}}function ob(){return UE()!==void 0||J1()!=null}function ed(n){if(!ob())throw new ee(-203,!1)}function RR(n){return typeof n=="function"}var pr=0,be=1,le=2,Vt=3,Cn=4,xn=5,xu=6,Mu=7,Dn=8,Ko=9,Bn=10,tt=11,ka=12,tE=13,is=14,$n=15,Qo=16,Uo=17,Yo=18,td=19,sb=20,Br=21,Up=22,rn=23,sn=25,ab=1;var Vi=7,Ru=8,Nu=9,on=10,Pu=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Pu||{});function $r(n){return Array.isArray(n)&&typeof n[ab]=="object"}function mr(n){return Array.isArray(n)&&n[ab]===!0}function Xm(n){return(n.flags&4)!==0}function nd(n){return n.componentOffset>-1}function rd(n){return(n.flags&1)===1}function qr(n){return!!n.template}function om(n){return(n[le]&512)!==0}var sm=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function cb(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function cn(){return lb}function lb(n){return n.type.prototype.ngOnChanges&&(n.setInput=PR),NR}cn.ngInherit=!0;function NR(){let n=db(this),e=n?.current;if(e){let t=n.previous;if(t===qo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function PR(n,e,t,r,i){let o=this.declaredInputs[r],s=db(n)||kR(n,{previous:qo,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new sm(u&&u.currentValue,t,l===qo),cb(n,e,i,t)}var ub="__ngSimpleChanges__";function db(n){return n[ub]||null}function kR(n,e){return n[ub]=e}var nE=null;var Vn=function(n,e,t){nE?.(n,e,t)},hb="svg",OR="math";function Hn(n){for(;Array.isArray(n);)n=n[pr];return n}function fb(n,e){return Hn(e[n])}function ln(n,e){return Hn(e[n.index])}function pb(n,e){return n.data[e]}function mb(n,e){return n[e]}function Kr(n,e){let t=e[n];return $r(t)?t:t[pr]}function eg(n){return(n[le]&128)===128}function FR(n){return mr(n[Vt])}function Zo(n,e){return e==null?null:n[e]}function gb(n){n[Uo]=0}function yb(n){n[le]&1024||(n[le]|=1024,eg(n)&&od(n))}function LR(n,e){for(;n>0;)e=e[is],n--;return e}function id(n){return!!(n[le]&9216||n[rn]?.dirty)}function am(n){n[Bn].changeDetectionScheduler?.notify(8),n[le]&64&&(n[le]|=1024),id(n)&&od(n)}function od(n){n[Bn].changeDetectionScheduler?.notify(0);let e=ji(n);for(;e!==null&&!(e[le]&8192||(e[le]|=8192,!eg(e)));)e=ji(e)}function vb(n,e){if((n[le]&256)===256)throw new ee(911,!1);n[Br]===null&&(n[Br]=[]),n[Br].push(e)}function VR(n,e){if(n[Br]===null)return;let t=n[Br].indexOf(e);t!==-1&&n[Br].splice(t,1)}function ji(n){let e=n[Vt];return mr(e)?e[Vt]:e}var ve={lFrame:Sb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var _b=!1;function jR(){return ve.lFrame.elementDepthCount}function UR(){ve.lFrame.elementDepthCount++}function BR(){ve.lFrame.elementDepthCount--}function wb(){return ve.bindingsEnabled}function $R(){return ve.skipHydrationRootTNode!==null}function HR(n){return ve.skipHydrationRootTNode===n}function zR(){ve.skipHydrationRootTNode=null}function Pe(){return ve.lFrame.lView}function yt(){return ve.lFrame.tView}function oe(n){return ve.lFrame.contextLView=n,n[Dn]}function se(n){return ve.lFrame.contextLView=null,n}function Ct(){let n=Ib();for(;n!==null&&n.type===64;)n=n.parent;return n}function Ib(){return ve.lFrame.currentTNode}function qR(){let n=ve.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function zi(n,e){let t=ve.lFrame;t.currentTNode=n,t.isParent=e}function tg(){return ve.lFrame.isParent}function Eb(){ve.lFrame.isParent=!1}function GR(){return ve.lFrame.contextLView}function bb(){return _b}function rE(n){_b=n}function WR(){let n=ve.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function KR(){return ve.lFrame.bindingIndex}function QR(n){return ve.lFrame.bindingIndex=n}function sd(){return ve.lFrame.bindingIndex++}function ng(n){let e=ve.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function YR(){return ve.lFrame.inI18n}function ZR(n,e){let t=ve.lFrame;t.bindingIndex=t.bindingRootIndex=n,cm(e)}function JR(){return ve.lFrame.currentDirectiveIndex}function cm(n){ve.lFrame.currentDirectiveIndex=n}function XR(n){let e=ve.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Cb(n){ve.lFrame.currentQueryIndex=n}function eN(n){let e=n[be];return e.type===2?e.declTNode:e.type===1?n[xn]:null}function Db(n,e,t){if(t&Ie.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&Ie.Host);)if(i=eN(o),i===null||(o=o[is],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ve.lFrame=Tb();return r.currentTNode=e,r.lView=n,!0}function rg(n){let e=Tb(),t=n[be];ve.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Tb(){let n=ve.lFrame,e=n===null?null:n.child;return e===null?Sb(n):e}function Sb(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Ab(){let n=ve.lFrame;return ve.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var xb=Ab;function ig(){let n=Ab();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function tN(n){return(ve.lFrame.contextLView=LR(n,ve.lFrame.contextLView))[Dn]}function Qr(){return ve.lFrame.selectedIndex}function Ui(n){ve.lFrame.selectedIndex=n}function og(){let n=ve.lFrame;return pb(n.tView,n.selectedIndex)}function Mb(){ve.lFrame.currentNamespace=hb}function Rb(){nN()}function nN(){ve.lFrame.currentNamespace=null}function rN(){return ve.lFrame.currentNamespace}var Nb=!0;function ad(){return Nb}function cd(n){Nb=n}function iN(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=lb(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function ld(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Iu(n,e,t){Pb(n,e,3,t)}function Eu(n,e,t,r){(n[le]&3)===t&&Pb(n,e,t,r)}function Bp(n,e){let t=n[le];(t&3)===e&&(t&=16383,t+=1,n[le]=t)}function Pb(n,e,t,r){let i=r!==void 0?n[Uo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[Uo]+=65536),(a<o||o==-1)&&(oN(n,t,e,l),n[Uo]=(n[Uo]&4294901760)+l+2),l++}function iE(n,e){Vn(4,n,e);let t=Se(null);try{e.call(n)}finally{Se(t),Vn(5,n,e)}}function oN(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[le]>>14<n[Uo]>>16&&(n[le]&3)===e&&(n[le]+=16384,iE(a,o)):iE(a,o)}var zo=-1,Bi=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function sN(n){return n instanceof Bi}function aN(n){return(n.flags&8)!==0}function cN(n){return(n.flags&16)!==0}var $p={},lm=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Ju(r);let i=this.injector.get(e,$p,r);return i!==$p||t===$p?i:this.parentInjector.get(e,t,r)}};function kb(n){return n!==zo}function ku(n){return n&32767}function lN(n){return n>>16}function Ou(n,e){let t=lN(n),r=e;for(;t>0;)r=r[is],t--;return r}var um=!0;function Fu(n){let e=um;return um=n,e}var uN=256,Ob=uN-1,Fb=5,dN=0,jn={};function hN(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(xa)&&(r=t[xa]),r==null&&(r=t[xa]=dN++);let i=r&Ob,o=1<<i;e.data[n+(i>>Fb)]|=o}function Lu(n,e){let t=Lb(n,e);if(t!==-1)return t;let r=e[be];r.firstCreatePass&&(n.injectorIndex=e.length,Hp(r.data,n),Hp(e,null),Hp(r.blueprint,null));let i=sg(n,e),o=n.injectorIndex;if(kb(i)){let s=ku(i),a=Ou(i,e),l=a[be].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function Hp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Lb(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function sg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=$b(i),r===null)return zo;if(t++,i=i[is],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return zo}function dm(n,e,t){hN(n,e,t)}function fN(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(WE(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function Vb(n,e,t){if(t&Ie.Optional||n!==void 0)return n;qm(e,"NodeInjector")}function jb(n,e,t,r){if(t&Ie.Optional&&r===void 0&&(r=null),!(t&(Ie.Self|Ie.Host))){let i=n[Ko],o=$t(void 0);try{return i?i.get(e,r,t&Ie.Optional):BE(e,r,t&Ie.Optional)}finally{$t(o)}}return Vb(r,e,t)}function Ub(n,e,t,r=Ie.Default,i){if(n!==null){if(e[le]&2048&&!(r&Ie.Self)){let s=vN(n,e,t,r,jn);if(s!==jn)return s}let o=Bb(n,e,t,r,jn);if(o!==jn)return o}return jb(e,t,r,i)}function Bb(n,e,t,r,i){let o=gN(t);if(typeof o=="function"){if(!Db(e,n,r))return r&Ie.Host?Vb(i,t,r):jb(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&Ie.Optional))qm(t);else return s}finally{xb()}}else if(typeof o=="number"){let s=null,a=Lb(n,e),l=zo,u=r&Ie.Host?e[$n][xn]:null;for((a===-1||r&Ie.SkipSelf)&&(l=a===-1?sg(n,e):e[a+8],l===zo||!sE(r,!1)?a=-1:(s=e[be],a=ku(l),e=Ou(l,e)));a!==-1;){let h=e[be];if(oE(o,a,h.data)){let p=pN(a,e,t,s,r,u);if(p!==jn)return p}l=e[a+8],l!==zo&&sE(r,e[be].data[a+8]===u)&&oE(o,a,e)?(s=h,a=ku(l),e=Ou(l,e)):a=-1}}return i}function pN(n,e,t,r,i,o){let s=e[be],a=s.data[n+8],l=r==null?nd(a)&&um:r!=s&&(a.type&3)!==0,u=i&Ie.Host&&o===a,h=mN(a,s,t,l,u);return h!==null?Jo(e,s,h,a):jn}function mN(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,u=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:u;for(let y=p;y<g;y++){let A=s[y];if(y<l&&t===A||y>=l&&A.type===t)return y}if(i){let y=s[l];if(y&&qr(y)&&y.type===t)return l}return null}function Jo(n,e,t,r){let i=n[t],o=e.data;if(sN(i)){let s=i;s.resolving&&W1(G1(o[t]));let a=Fu(s.canSeeViewProviders);s.resolving=!0;let l,u=s.injectImpl?$t(s.injectImpl):null,h=Db(n,r,Ie.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&iN(t,o[t],e)}finally{u!==null&&$t(u),Fu(a),s.resolving=!1,xb()}}return i}function gN(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(xa)?n[xa]:void 0;return typeof e=="number"?e>=0?e&Ob:yN:e}function oE(n,e,t){let r=1<<n;return!!(t[e+(n>>Fb)]&r)}function sE(n,e){return!(n&Ie.Self)&&!(n&Ie.Host&&e)}var Oi=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Ub(this._tNode,this._lView,e,Ju(r),t)}};function yN(){return new Oi(Ct(),Pe())}function Mn(n){return La(()=>{let e=n.prototype.constructor,t=e[Du]||hm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Du]||hm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function hm(n){return OE(n)?()=>{let e=hm(Ot(n));return e&&e()}:Li(n)}function vN(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[le]&2048&&!(s[le]&512);){let a=Bb(o,s,t,r|Ie.Self,jn);if(a!==jn)return a;let l=o.parent;if(!l){let u=s[sb];if(u){let h=u.get(t,jn,r);if(h!==jn)return h}l=$b(s),s=s[is]}o=l}return i}function $b(n){let e=n[be],t=e.type;return t===2?e.declTNode:t===1?n[xn]:null}function ag(n){return fN(Ct(),n)}function aE(n,e=null,t=null,r){let i=Hb(n,e,t,r);return i.resolveInjectorInitializers(),i}function Hb(n,e=null,t=null,r,i=new Set){let o=[t||Ht,wR(n)];return r=r||(typeof n=="object"?void 0:Ft(n)),new Pa(o,e||Jm(),r||null,i)}var mt=class n{static{this.THROW_IF_NOT_FOUND=Ra}static{this.NULL=new Au}static create(e,t){if(Array.isArray(e))return aE({name:""},t,e,"");{let r=e.name??"";return aE({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=K({token:n,providedIn:"any",factory:()=>Q(zE)})}static{this.__NG_ELEMENT_ID__=-1}};var _N=new W("");_N.__NG_ELEMENT_ID__=n=>{let e=Ct();if(e===null)throw new ee(204,!1);if(e.type&2)return e.value;if(n&Ie.Optional)return null;throw new ee(204,!1)};var wN="ngOriginalError";function zp(n){return n[wN]}var zb=!0,Yr=(()=>{class n{static{this.__NG_ELEMENT_ID__=IN}static{this.__NG_ENV_ID__=t=>t}}return n})(),fm=class extends Yr{constructor(e){super(),this._lView=e}onDestroy(e){return vb(this._lView,e),()=>VR(this._lView,e)}};function IN(){return new fm(Pe())}var Zr=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ke(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}}return n})();var pm=class extends qe{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,ob()&&(this.destroyRef=F(Yr,{optional:!0})??void 0,this.pendingTasks=F(Zr,{optional:!0})??void 0)}emit(e){let t=Se(null);try{super.next(e)}finally{Se(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof je&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},rt=pm;function Vu(...n){}function qb(n){let e,t;function r(){n=Vu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function cE(n){return queueMicrotask(()=>n()),()=>{n=Vu}}var cg="isAngularZone",ju=cg+"_ID",EN=0,Ne=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rt(!1),this.onMicrotaskEmpty=new rt(!1),this.onStable=new rt(!1),this.onError=new rt(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=zb}=e;if(typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,DN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(cg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new ee(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,bN,Vu,Vu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},bN={};function lg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function CN(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){qb(()=>{n.callbackScheduled=!1,mm(n),n.isCheckStableRunning=!0,lg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),mm(n)}function DN(n){let e=()=>{CN(n)},t=EN++;n._inner=n._inner.fork({name:"angular",properties:{[cg]:!0,[ju]:t,[ju+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(TN(l))return r.invokeTask(o,s,a,l);try{return lE(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),uE(n)}},onInvoke:(r,i,o,s,a,l,u)=>{try{return lE(n),r.invoke(o,s,a,l,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!SN(l)&&e(),uE(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,mm(n),lg(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function mm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function lE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function uE(n){n._nesting--,lg(n)}var gm=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rt,this.onMicrotaskEmpty=new rt,this.onStable=new rt,this.onError=new rt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function TN(n){return Gb(n,"__ignore_ng_zone__")}function SN(n){return Gb(n,"__scheduler_tick__")}function Gb(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var ur=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&zp(e);for(;t&&zp(t);)t=zp(t);return t||null}},AN=new W("",{providedIn:"root",factory:()=>{let n=F(Ne),e=F(ur);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function xN(){return ud(Ct(),Pe())}function ud(n,e){return new un(ln(n,e))}var un=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=xN}}return n})();function Wb(n){return(n.flags&128)===128}var Kb=new Map,MN=0;function RN(){return MN++}function NN(n){Kb.set(n[td],n)}function ym(n){Kb.delete(n[td])}var dE="__ngContext__";function Gr(n,e){$r(e)?(n[dE]=e[td],NN(e)):n[dE]=e}function Qb(n){return Zb(n[ka])}function Yb(n){return Zb(n[Cn])}function Zb(n){for(;n!==null&&!mr(n);)n=n[Cn];return n}var vm;function Jb(n){vm=n}function Xb(){if(vm!==void 0)return vm;if(typeof document<"u")return document;throw new ee(210,!1)}var ug=new W("",{providedIn:"root",factory:()=>PN}),PN="ng",dg=new W(""),dn=new W("",{providedIn:"platform",factory:()=>"unknown"});var hg=new W("",{providedIn:"root",factory:()=>Xb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var kN="h",ON="b";var FN=()=>null;function fg(n,e,t=!1){return FN(n,e,t)}var eC=!1,LN=new W("",{providedIn:"root",factory:()=>eC});var pu;function VN(){if(pu===void 0&&(pu=null,Ma.trustedTypes))try{pu=Ma.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return pu}function dd(n){return VN()?.createHTML(n)||n}var mu;function tC(){if(mu===void 0&&(mu=null,Ma.trustedTypes))try{mu=Ma.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return mu}function hE(n){return tC()?.createHTML(n)||n}function fE(n){return tC()?.createScriptURL(n)||n}var Uu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${PE})`}};function qi(n){return n instanceof Uu?n.changingThisBreaksApplicationSecurity:n}function hd(n,e){let t=jN(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${PE})`)}return t===e}function jN(n){return n instanceof Uu&&n.getTypeName()||null}function UN(n){let e=new wm(n);return BN()?new _m(e):e}var _m=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(dd(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},wm=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=dd(e),t}};function BN(){try{return!!new window.DOMParser().parseFromString(dd(""),"text/html")}catch{return!1}}var $N=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function pg(n){return n=String(n),n.match($N)?n:"unsafe:"+n}function gr(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function ja(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var nC=gr("area,br,col,hr,img,wbr"),rC=gr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),iC=gr("rp,rt"),HN=ja(iC,rC),zN=ja(rC,gr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qN=ja(iC,gr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pE=ja(nC,zN,qN,HN),oC=gr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),GN=gr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),WN=gr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),KN=ja(oC,GN,WN),QN=gr("script,style,template"),Im=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=JN(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=ZN(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=mE(e).toLowerCase();if(!pE.hasOwnProperty(t))return this.sanitizedSomething=!0,!QN.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!KN.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;oC[a]&&(l=pg(l)),this.buf.push(" ",s,'="',gE(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=mE(e).toLowerCase();pE.hasOwnProperty(t)&&!nC.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(gE(e))}};function YN(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function ZN(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw sC(e);return e}function JN(n){let e=n.firstChild;if(e&&YN(n,e))throw sC(e);return e}function mE(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function sC(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var XN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,eP=/([^\#-~ |!])/g;function gE(n){return n.replace(/&/g,"&amp;").replace(XN,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(eP,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var gu;function aC(n,e){let t=null;try{gu=gu||UN(n);let r=e?String(e):"";t=gu.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=gu.getInertBodyElement(r)}while(r!==o);let a=new Im().sanitizeChildren(yE(t)||t);return dd(a)}finally{if(t){let r=yE(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function yE(n){return"content"in n&&tP(n)?n.content:null}function tP(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Ua=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Ua||{});function Gi(n){let e=mg();return e?hE(e.sanitize(Ua.HTML,n)||""):hd(n,"HTML")?hE(qi(n)):aC(Xb(),Fi(n))}function os(n){let e=mg();return e?e.sanitize(Ua.URL,n)||"":hd(n,"URL")?qi(n):pg(Fi(n))}function nP(n){let e=mg();if(e)return fE(e.sanitize(Ua.RESOURCE_URL,n)||"");if(hd(n,"ResourceURL"))return fE(qi(n));throw new ee(904,!1)}function rP(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?nP:os}function cC(n,e,t){return rP(e,t)(n)}function mg(){let n=Pe();return n&&n[Bn].sanitizer}var iP=/^>|^->|<!--|-->|--!>|<!-$/g,oP=/(<|>)/g,sP="\u200B$1\u200B";function aP(n){return n.replace(iP,e=>e.replace(oP,sP))}function Ba(n){return n.ownerDocument}function lC(n){return n instanceof Function?n():n}function cP(n){return(n??F(mt)).get(dn)==="browser"}var dr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(dr||{}),lP;function gg(n,e){return lP(n,e)}function Bo(n,e,t,r,i){if(r!=null){let o,s=!1;mr(r)?o=r:$r(r)&&(s=!0,r=r[pr]);let a=Hn(r);n===0&&t!==null?i==null?pC(e,t,a):Bu(e,t,a,i||null,!0):n===1&&t!==null?Bu(e,t,a,i||null,!0):n===2?DP(e,a,s):n===3&&e.destroyNode(a),o!=null&&SP(e,n,o,t,i)}}function uP(n,e){return n.createText(e)}function dP(n,e,t){n.setValue(e,t)}function hP(n,e){return n.createComment(aP(e))}function uC(n,e,t){return n.createElement(e,t)}function fP(n,e){dC(n,e),e[pr]=null,e[xn]=null}function pP(n,e,t,r,i,o){r[pr]=i,r[xn]=e,pd(n,r,t,1,i,o)}function dC(n,e){e[Bn].changeDetectionScheduler?.notify(9),pd(n,e,e[tt],2,null,null)}function mP(n){let e=n[ka];if(!e)return qp(n[be],n);for(;e;){let t=null;if($r(e))t=e[ka];else{let r=e[on];r&&(t=r)}if(!t){for(;e&&!e[Cn]&&e!==n;)$r(e)&&qp(e[be],e),e=e[Vt];e===null&&(e=n),$r(e)&&qp(e[be],e),t=e&&e[Cn]}e=t}}function gP(n,e,t,r){let i=on+r,o=t.length;r>0&&(t[i-1][Cn]=e),r<o-on?(e[Cn]=t[i],HE(t,on+r,e)):(t.push(e),e[Cn]=null),e[Vt]=t;let s=e[Qo];s!==null&&t!==s&&hC(s,e);let a=e[Yo];a!==null&&a.insertView(n),am(e),e[le]|=128}function hC(n,e){let t=n[Nu],r=e[Vt];if($r(r))n[le]|=Pu.HasTransplantedViews;else{let i=r[Vt][$n];e[$n]!==i&&(n[le]|=Pu.HasTransplantedViews)}t===null?n[Nu]=[e]:t.push(e)}function yg(n,e){let t=n[Nu],r=t.indexOf(e);t.splice(r,1)}function Em(n,e){if(n.length<=on)return;let t=on+e,r=n[t];if(r){let i=r[Qo];i!==null&&i!==n&&yg(i,r),e>0&&(n[t-1][Cn]=r[Cn]);let o=Su(n,on+e);fP(r[be],r);let s=o[Yo];s!==null&&s.detachView(o[be]),r[Vt]=null,r[Cn]=null,r[le]&=-129}return r}function fC(n,e){if(!(e[le]&256)){let t=e[tt];t.destroyNode&&pd(n,e,t,3,null,null),mP(e)}}function qp(n,e){if(e[le]&256)return;let t=Se(null);try{e[le]&=-129,e[le]|=256,e[rn]&&gp(e[rn]),vP(n,e),yP(n,e),e[be].type===1&&e[tt].destroy();let r=e[Qo];if(r!==null&&mr(e[Vt])){r!==e[Vt]&&yg(r,e);let i=e[Yo];i!==null&&i.detachView(n)}ym(e)}finally{Se(t)}}function yP(n,e){let t=n.cleanup,r=e[Mu];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Mu]=null);let i=e[Br];if(i!==null){e[Br]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function vP(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Bi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Vn(4,a,l);try{l.call(a)}finally{Vn(5,a,l)}}else{Vn(4,i,o);try{o.call(i)}finally{Vn(5,i,o)}}}}}function _P(n,e,t){return wP(n,e.parent,t)}function wP(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[pr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===Un.None||o===Un.Emulated)return null}return ln(r,t)}}function Bu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function pC(n,e,t){n.appendChild(e,t)}function vE(n,e,t,r,i){r!==null?Bu(n,e,t,r,i):pC(n,e,t)}function mC(n,e){return n.parentNode(e)}function IP(n,e){return n.nextSibling(e)}function EP(n,e,t){return CP(n,e,t)}function bP(n,e,t){return n.type&40?ln(n,t):null}var CP=bP,_E;function fd(n,e,t,r){let i=_P(n,r,e),o=e[tt],s=r.parent||e[xn],a=EP(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)vE(o,i,t[l],a,!1);else vE(o,i,t,a,!1);_E!==void 0&&_E(o,r,e,t,i)}function Aa(n,e){if(e!==null){let t=e.type;if(t&3)return ln(e,n);if(t&4)return bm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Aa(n,r);{let i=n[e.index];return mr(i)?bm(-1,i):Hn(i)}}else{if(t&128)return Aa(n,e.next);if(t&32)return gg(e,n)()||Hn(n[e.index]);{let r=gC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ji(n[$n]);return Aa(i,r)}else return Aa(n,e.next)}}}return null}function gC(n,e){if(e!==null){let r=n[$n][xn],i=e.projection;return r.projection[i]}return null}function bm(n,e){let t=on+n+1;if(t<e.length){let r=e[t],i=r[be].firstChild;if(i!==null)return Aa(r,i)}return e[Vi]}function DP(n,e,t){n.removeChild(null,e,t)}function vg(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&e===0&&(a&&Gr(Hn(a),r),t.flags|=2),(t.flags&32)!==32)if(l&8)vg(n,e,t.child,r,i,o,!1),Bo(e,n,i,a,o);else if(l&32){let u=gg(t,r),h;for(;h=u();)Bo(e,n,i,h,o);Bo(e,n,i,a,o)}else l&16?TP(n,e,r,t,i,o):Bo(e,n,i,a,o);t=s?t.projectionNext:t.next}}function pd(n,e,t,r,i,o){vg(t,r,n.firstChild,e,i,o,!1)}function TP(n,e,t,r,i,o){let s=t[$n],l=s[xn].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let h=l[u];Bo(e,n,i,h,o)}else{let u=l,h=s[Vt];Wb(r)&&(u.flags|=128),vg(n,e,u,h,i,o,!0)}}function SP(n,e,t,r,i){let o=t[Vi],s=Hn(t);o!==s&&Bo(e,n,r,o,i);for(let a=on;a<t.length;a++){let l=t[a];pd(l[be],l,n,e,r,o)}}function AP(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:dr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=dr.Important),n.setStyle(t,r,i,o))}}function xP(n,e,t){n.setAttribute(e,"style",t)}function yC(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function vC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&tm(n,e,r),i!==null&&yC(n,e,i),o!==null&&xP(n,e,o)}var Rn={};function w(n=1){_C(yt(),Pe(),Qr()+n,!1)}function _C(n,e,t,r){if(!r)if((e[le]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Iu(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Eu(e,o,0,t)}Ui(t)}function te(n,e=Ie.Default){let t=Pe();if(t===null)return Q(n,e);let r=Ct();return Ub(r,t,Ot(n),e)}function wC(){let n="invalid";throw new Error(n)}function IC(n,e,t,r,i,o){let s=Se(null);try{let a=null;i&Hr.SignalBased&&(a=e[r][sr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Hr.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):cb(e,a,r,o)}finally{Se(s)}}function MP(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ui(~i);else{let o=i,s=t[++r],a=t[++r];ZR(s,o);let l=e[o];a(2,l)}}}finally{Ui(-1)}}function md(n,e,t,r,i,o,s,a,l,u,h){let p=e.blueprint.slice();return p[pr]=i,p[le]=r|4|128|8|64,(u!==null||n&&n[le]&2048)&&(p[le]|=2048),gb(p),p[Vt]=p[is]=n,p[Dn]=t,p[Bn]=s||n&&n[Bn],p[tt]=a||n&&n[tt],p[Ko]=l||n&&n[Ko]||null,p[xn]=o,p[td]=RN(),p[xu]=h,p[sb]=u,p[$n]=e.type==2?n[$n]:p,p}function $a(n,e,t,r,i){let o=n.data[e];if(o===null)o=RP(n,e,t,r,i),YR()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=qR();o.injectorIndex=s===null?-1:s.injectorIndex}return zi(o,!0),o}function RP(n,e,t,r,i){let o=Ib(),s=tg(),a=s?o:o&&o.parent,l=n.data[e]=FP(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function EC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function bC(n,e,t,r,i){let o=Qr(),s=r&2;try{Ui(-1),s&&e.length>sn&&_C(n,e,sn,!1),Vn(s?2:0,i),t(r,i)}finally{Ui(o),Vn(s?3:1,i)}}function _g(n,e,t){if(Xm(e)){let r=Se(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{Se(r)}}}function wg(n,e,t){wb()&&($P(n,e,t,ln(t,e)),(t.flags&64)===64&&SC(n,e,t))}function Ig(n,e,t=ln){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function CC(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Eg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Eg(n,e,t,r,i,o,s,a,l,u,h){let p=sn+r,g=p+i,y=NP(p,g),A=typeof u=="function"?u():u;return y[be]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:A,incompleteFirstPass:!1,ssrId:h}}function NP(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Rn);return t}function PP(n,e,t,r){let o=r.get(LN,eC)||t===Un.ShadowDom,s=n.selectRootElement(e,o);return kP(s),s}function kP(n){OP(n)}var OP=()=>null;function FP(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return $R()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function wE(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,l=Hr.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}n===0?IE(r,t,u,a,l):IE(r,t,u,a)}return r}function IE(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function LP(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],l=null,u=null;for(let h=r;h<i;h++){let p=o[h],g=t?t.get(p):null,y=g?g.inputs:null,A=g?g.outputs:null;l=wE(0,p.inputs,h,l,y),u=wE(1,p.outputs,h,u,A);let k=l!==null&&s!==null&&!Qm(e)?XP(l,h,s):null;a.push(k)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}function VP(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function DC(n,e,t,r,i,o,s,a){let l=ln(e,t),u=e.inputs,h;!a&&u!=null&&(h=u[r])?(Cg(n,t,h,r,i),nd(e)&&jP(t,e.index)):e.type&3?(r=VP(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)):e.type&12}function jP(n,e){let t=Kr(e,n);t[le]&16||(t[le]|=64)}function bg(n,e,t,r){if(wb()){let i=r===null?null:{"":-1},o=zP(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&TC(n,e,t,s,i,a),i&&qP(t,r,i)}t.mergedAttrs=Na(t.mergedAttrs,t.attrs)}function TC(n,e,t,r,i,o){for(let u=0;u<r.length;u++)dm(Lu(t,e),n,r[u].type);WP(t,n.data.length,r.length);for(let u=0;u<r.length;u++){let h=r[u];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,l=EC(n,e,r.length,null);for(let u=0;u<r.length;u++){let h=r[u];t.mergedAttrs=Na(t.mergedAttrs,h.hostAttrs),KP(n,t,e,l,h),GP(l,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}LP(n,t,o)}function UP(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;BP(s)!=a&&s.push(a),s.push(t,r,o)}}function BP(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function $P(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;nd(t)&&QP(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Lu(t,e),Gr(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let l=n.data[a],u=Jo(e,n,a,t);if(Gr(u,e),s!==null&&JP(e,a-i,u,l,t,s),qr(l)){let h=Kr(t.index,e);h[Dn]=Jo(e,n,a,t)}}}function SC(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=JR();try{Ui(o);for(let a=r;a<i;a++){let l=n.data[a],u=e[a];cm(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&HP(l,u)}}finally{Ui(-1),cm(s)}}function HP(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function zP(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(dR(e,s.selectors,!1))if(r||(r=[]),qr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;Cm(n,e,l)}else r.unshift(s),Cm(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Cm(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function qP(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new ee(-301,!1);r.push(e[i],o)}}}function GP(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;qr(e)&&(t[""]=n)}}function WP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function KP(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Li(i.type,!0)),s=new Bi(o,qr(i),te);n.blueprint[r]=s,t[r]=s,UP(n,e,r,EC(n,t,i.hostVars,Rn),i)}function QP(n,e,t){let r=ln(e,n),i=CC(t),o=n[Bn].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=gd(n,md(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function YP(n,e,t,r,i,o){let s=ln(n,e);ZP(e[tt],s,o,n.value,t,r,i)}function ZP(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Fi(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function JP(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],u=s[a++],h=s[a++],p=s[a++];IC(r,t,l,u,h,p)}}function XP(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function AC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function xC(n,e){let t=n.contentQueries;if(t!==null){let r=Se(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Cb(o),a.contentQueries(2,e[s],s)}}}finally{Se(r)}}}function gd(n,e){return n[ka]?n[tE][Cn]=e:n[ka]=e,n[tE]=e,e}function Dm(n,e,t){Cb(0);let r=Se(null);try{e(n,t)}finally{Se(r)}}function ek(n){return n[Mu]??=[]}function tk(n){return n.cleanup??=[]}function MC(n,e){let t=n[Ko],r=t?t.get(ur,null):null;r&&r.handleError(e)}function Cg(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],l=t[o++],u=e[s],h=n.data[s];IC(h,u,r,a,l,i)}}function RC(n,e,t){let r=fb(e,n);dP(n[tt],r,t)}function nk(n,e){let t=Kr(e,n),r=t[be];rk(r,t);let i=t[pr];i!==null&&t[xu]===null&&(t[xu]=fg(i,t[Ko])),Dg(r,t,t[Dn])}function rk(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Dg(n,e,t){rg(e);try{let r=n.viewQuery;r!==null&&Dm(1,r,t);let i=n.template;i!==null&&bC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Yo]?.finishViewCreation(n),n.staticContentQueries&&xC(n,e),n.staticViewQueries&&Dm(2,n.viewQuery,t);let o=n.components;o!==null&&ik(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[le]&=-5,ig()}}function ik(n,e){for(let t=0;t<e.length;t++)nk(n,e[t])}function ok(n,e,t,r){let i=Se(null);try{let o=e.tView,a=n[le]&4096?4096:16,l=md(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];l[Qo]=u;let h=n[Yo];return h!==null&&(l[Yo]=h.createEmbeddedView(o)),Dg(o,l,t),l}finally{Se(i)}}function EE(n,e){return!e||e.firstChild===null||Wb(n)}function sk(n,e,t,r=!0){let i=e[be];if(gP(i,e,n,t),r){let s=bm(t,n),a=e[tt],l=mC(a,n[Vi]);l!==null&&pP(i,n[xn],a,e,l,s)}let o=e[xu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function $u(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Hn(o)),mr(o)&&ak(o,r);let s=t.type;if(s&8)$u(n,e,t.child,r);else if(s&32){let a=gg(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=gC(e,t);if(Array.isArray(a))r.push(...a);else{let l=ji(e[$n]);$u(l[be],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function ak(n,e){for(let t=on;t<n.length;t++){let r=n[t],i=r[be].firstChild;i!==null&&$u(r[be],r,i,e)}n[Vi]!==n[pr]&&e.push(n[Vi])}var NC=[];function ck(n){return n[rn]??lk(n)}function lk(n){let e=NC.pop()??Object.create(dk);return e.lView=n,e}function uk(n){n.lView[rn]!==n&&(n.lView=null,NC.push(n))}var dk=pe(V({},Ea),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{od(n.lView)},consumerOnSignalRead(){this.lView[rn]=this}});function hk(n){let e=n[rn]??Object.create(fk);return e.lView=n,e}var fk=pe(V({},Ea),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=ji(n.lView);for(;e&&!PC(e[be]);)e=ji(e);e&&yb(e)},consumerOnSignalRead(){this.lView[rn]=this}});function PC(n){return n.type!==2}var pk=100;function kC(n,e=!0,t=0){let r=n[Bn],i=r.rendererFactory,o=!1;o||i.begin?.();try{mk(n,t)}catch(s){throw e&&MC(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function mk(n,e){let t=bb();try{rE(!0),Tm(n,e);let r=0;for(;id(n);){if(r===pk)throw new ee(103,!1);r++,Tm(n,1)}}finally{rE(t)}}function gk(n,e,t,r){let i=e[le];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Bn].inlineEffectRunner?.flush(),rg(e);let a=!0,l=null,u=null;o||(PC(n)?(u=ck(e),l=Vl(u)):sI()===null?(a=!1,u=hk(e),l=Vl(u)):e[rn]&&(gp(e[rn]),e[rn]=null));try{gb(e),QR(n.bindingStartIndex),t!==null&&bC(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&Iu(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Eu(e,y,0,null),Bp(e,0)}if(s||yk(e),OC(e,0),n.contentQueries!==null&&xC(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&Iu(e,y)}else{let y=n.contentHooks;y!==null&&Eu(e,y,1),Bp(e,1)}MP(n,e);let p=n.components;p!==null&&LC(e,p,0);let g=n.viewQuery;if(g!==null&&Dm(2,g,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&Iu(e,y)}else{let y=n.viewHooks;y!==null&&Eu(e,y,2),Bp(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Up]){for(let y of e[Up])y();e[Up]=null}o||(e[le]&=-73)}catch(h){throw o||od(e),h}finally{u!==null&&(pp(u,l),a&&uk(u)),ig()}}function OC(n,e){for(let t=Qb(n);t!==null;t=Yb(t))for(let r=on;r<t.length;r++){let i=t[r];FC(i,e)}}function yk(n){for(let e=Qb(n);e!==null;e=Yb(e)){if(!(e[le]&Pu.HasTransplantedViews))continue;let t=e[Nu];for(let r=0;r<t.length;r++){let i=t[r];yb(i)}}}function vk(n,e,t){let r=Kr(e,n);FC(r,t)}function FC(n,e){eg(n)&&Tm(n,e)}function Tm(n,e){let r=n[be],i=n[le],o=n[rn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&mp(o)),s||=!1,o&&(o.dirty=!1),n[le]&=-9217,s)gk(r,n,r.template,n[Dn]);else if(i&8192){OC(n,1);let a=r.components;a!==null&&LC(n,a,1)}}function LC(n,e,t){for(let r=0;r<e.length;r++)vk(n,e[r],t)}function Tg(n,e){let t=bb()?64:1088;for(n[Bn].changeDetectionScheduler?.notify(e);n;){n[le]|=t;let r=ji(n);if(om(n)&&!r)return n;n=r}return null}var $i=class{get rootNodes(){let e=this._lView,t=e[be];return $u(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Dn]}set context(e){this._lView[Dn]=e}get destroyed(){return(this._lView[le]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Vt];if(mr(e)){let t=e[Ru],r=t?t.indexOf(this):-1;r>-1&&(Em(e,r),Su(t,r))}this._attachedToViewContainer=!1}fC(this._lView[be],this._lView)}onDestroy(e){vb(this._lView,e)}markForCheck(){Tg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[le]&=-129}reattach(){am(this._lView),this._lView[le]|=128}detectChanges(){this._lView[le]|=1024,kC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=om(this._lView),t=this._lView[Qo];t!==null&&!e&&yg(t,this._lView),dC(this._lView[be],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=e;let t=om(this._lView),r=this._lView[Qo];r!==null&&!t&&hC(r,this._lView),am(this._lView)}},Wi=(()=>{class n{static{this.__NG_ELEMENT_ID__=Ik}}return n})(),_k=Wi,wk=class extends _k{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=ok(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new $i(i)}};function Ik(){return VC(Ct(),Pe())}function VC(n,e){return n.type&4?new wk(e,n,ud(n,e)):null}var J9=new RegExp(`^(\\d+)*(${ON}|${kN})*(.*)`);var Ek=()=>null;function bE(n,e){return Ek(n,e)}var Xo=class{},yd=new W("",{providedIn:"root",factory:()=>!1});var jC=new W(""),UC=new W(""),Sm=class{},Hu=class{};function bk(n){let e=Error(`No component factory found for ${Ft(n)}.`);return e[Ck]=n,e}var Ck="ngComponent";var Am=class{resolveComponentFactory(e){throw bk(e)}},es=class{static{this.NULL=new Am}},ts=class{},Nn=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>Dk()}}return n})();function Dk(){let n=Pe(),e=Ct(),t=Kr(e.index,n);return($r(t)?t:n)[tt]}var Tk=(()=>{class n{static{this.\u0275prov=K({token:n,providedIn:"root",factory:()=>null})}}return n})();function zu(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Zp(i,a);else if(o==2){let l=a,u=e[++s];r=Zp(r,l+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var qu=class extends es{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=zr(e);return new ns(t,this.ngModule)}};function CE(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Hr.None;e?t.push({propName:s,templateName:r,isSignal:(a&Hr.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function Sk(n){let e=n.toLowerCase();return e==="svg"?hb:e==="math"?OR:null}var ns=class extends Hu{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=CE(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return CE(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=mR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=Se(null);try{i=i||this.ngModule;let s=i instanceof Lt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new lm(e,s):e,l=a.get(ts,null);if(l===null)throw new ee(407,!1);let u=a.get(Tk,null),h=a.get(Xo,null),p={rendererFactory:l,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:h},g=l.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",A=r?PP(g,r,this.componentDef.encapsulation,a):uC(g,y,Sk(y)),k=512;this.componentDef.signals?k|=4096:this.componentDef.onPush||(k|=16);let N=null;A!==null&&(N=fg(A,a,!0));let U=Eg(0,null,null,1,0,null,null,null,null,null,null),J=md(null,U,null,k,null,null,p,g,a,null,N);rg(J);let Y,fe,Re=null;try{let ae=this.componentDef,C,v=null;ae.findHostDirectiveDefs?(C=[],v=new Map,ae.findHostDirectiveDefs(ae,C,v),C.push(ae)):C=[ae];let I=Ak(J,A);Re=xk(I,A,ae,C,J,p,g),fe=pb(U,sn),A&&Nk(g,ae,A,r),t!==void 0&&Pk(fe,this.ngContentSelectors,t),Y=Rk(Re,ae,C,v,J,[kk]),Dg(U,J,null)}catch(ae){throw Re!==null&&ym(Re),ym(J),ae}finally{ig()}return new xm(this.componentType,Y,ud(fe,J),J,fe)}finally{Se(o)}}},xm=class extends Sm{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new $i(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Cg(o[be],o,i,e,t),this.previousInputValues.set(e,t);let s=Kr(this._tNode.index,o);Tg(s,1)}}get injector(){return new Oi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Ak(n,e){let t=n[be],r=sn;return n[r]=e,$a(t,r,2,"#host",null)}function xk(n,e,t,r,i,o,s){let a=i[be];Mk(r,n,e,s);let l=null;e!==null&&(l=fg(e,i[Ko]));let u=o.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let p=md(i,CC(t),null,h,i[n.index],n,o,u,null,null,l);return a.firstCreatePass&&Cm(a,n,r.length-1),gd(i,p),i[n.index]=p}function Mk(n,e,t,r){for(let i of n)e.mergedAttrs=Na(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(zu(e,e.mergedAttrs,!0),t!==null&&vC(r,t,e))}function Rk(n,e,t,r,i,o){let s=Ct(),a=i[be],l=ln(s,i);TC(a,i,s,t,null,r);for(let h=0;h<t.length;h++){let p=s.directiveStart+h,g=Jo(i,a,p,s);Gr(g,i)}SC(a,i,s),l&&Gr(l,i);let u=Jo(i,a,s.directiveStart+s.componentOffset,s);if(n[Dn]=i[Dn]=u,o!==null)for(let h of o)h(u,e);return _g(a,s,i),u}function Nk(n,e,t,r){if(r)tm(n,t,["ng-version","18.2.14"]);else{let{attrs:i,classes:o}=gR(e.selectors[0]);i&&tm(n,t,i),o&&o.length>0&&yC(n,t,o.join(" "))}}function Pk(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function kk(){let n=Ct();ld(Pe()[be],n)}var Jr=(()=>{class n{static{this.__NG_ELEMENT_ID__=Ok}}return n})();function Ok(){let n=Ct();return Lk(n,Pe())}var Fk=Jr,BC=class extends Fk{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ud(this._hostTNode,this._hostLView)}get injector(){return new Oi(this._hostTNode,this._hostLView)}get parentInjector(){let e=sg(this._hostTNode,this._hostLView);if(kb(e)){let t=Ou(e,this._hostLView),r=ku(e),i=t[be].data[r+8];return new Oi(i,t)}else return new Oi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=DE(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-on}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=bE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,EE(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!RR(e),a;if(s)a=t;else{let A=t||{};a=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let l=s?e:new ns(zr(e)),u=r||this.parentInjector;if(!o&&l.ngModule==null){let k=(s?u:this.parentInjector).get(Lt,null);k&&(o=k)}let h=zr(l.componentType??{}),p=bE(this._lContainer,h?.id??null),g=p?.firstChild??null,y=l.create(u,i,g,o);return this.insertImpl(y.hostView,a,EE(this._hostTNode,p)),y}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(FR(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Vt],u=new BC(l,l[xn],l[Vt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return sk(s,i,o,r),e.attachToViewContainerRef(),HE(Gp(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=DE(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Em(this._lContainer,t);r&&(Su(Gp(this._lContainer),t),fC(r[be],r))}detach(e){let t=this._adjustIndex(e,-1),r=Em(this._lContainer,t);return r&&Su(Gp(this._lContainer),t)!=null?new $i(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function DE(n){return n[Ru]}function Gp(n){return n[Ru]||(n[Ru]=[])}function Lk(n,e){let t,r=e[n.index];return mr(r)?t=r:(t=AC(r,e,null,n),e[n.index]=t,gd(e,t)),jk(t,e,n,r),new BC(t,n,e)}function Vk(n,e){let t=n[tt],r=t.createComment(""),i=ln(e,n),o=mC(t,i);return Bu(t,o,r,IP(t,i),!1),r}var jk=$k,Uk=()=>!1;function Bk(n,e,t){return Uk(n,e,t)}function $k(n,e,t,r){if(n[Vi])return;let i;t.type&8?i=Hn(r):i=Vk(e,t),n[Vi]=i}var TE=new Set;function Ki(n){TE.has(n)||(TE.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function $C(n){return typeof n=="function"&&n[sr]!==void 0}function ss(n,e){Ki("NgSignals");let t=yI(n),r=t[sr];return e?.equal&&(r.equal=e.equal),t.set=i=>yp(r,i),t.update=i=>vI(r,i),t.asReadonly=Hk.bind(t),t}function Hk(){let n=this[sr];if(n.readonlyFn===void 0){let e=()=>this();e[sr]=n,n.readonlyFn=e}return n.readonlyFn}function HC(n){return $C(n)&&typeof n.set=="function"}function zk(n){return Object.getPrototypeOf(n.prototype).constructor}function Wt(n){let e=zk(n.type),t=!0,r=[n];for(;e;){let i;if(qr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ee(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=yu(n.inputs),s.inputTransforms=yu(n.inputTransforms),s.declaredInputs=yu(n.declaredInputs),s.outputs=yu(n.outputs);let a=i.hostBindings;a&&Qk(n,a);let l=i.viewQuery,u=i.contentQueries;if(l&&Wk(n,l),u&&Kk(n,u),qk(n,i),V1(n.outputs,i.outputs),qr(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Wt&&(t=!1)}}e=Object.getPrototypeOf(e)}Gk(r)}function qk(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function Gk(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Na(i.hostAttrs,t=Na(t,i.hostAttrs))}}function yu(n){return n===qo?{}:n===Ht?[]:n}function Wk(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Kk(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function Qk(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Sg(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var Wr=class{},Oa=class{};var Mm=class extends Wr{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qu(this);let o=JE(e);this._bootstrapComponents=lC(o.bootstrap),this._r3Injector=Hb(e,t,[{provide:Wr,useValue:this},{provide:es,useValue:this.componentFactoryResolver},...r],Ft(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Rm=class extends Oa{constructor(e){super(),this.moduleType=e}create(e){return new Mm(this.moduleType,e,[])}};var Gu=class extends Wr{constructor(e){super(),this.componentFactoryResolver=new qu(this),this.instance=null;let t=new Pa([...e.providers,{provide:Wr,useValue:this},{provide:es,useValue:this.componentFactoryResolver}],e.parent||Jm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function vd(n,e,t=null){return new Gu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function zC(n){return Zk(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Yk(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Zk(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Jk(n,e,t){return n[e]=t}function hr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Xk(n,e,t,r){let i=hr(n,e,t);return hr(n,e+1,r)||i}function eO(n){return(n.flags&32)===32}function tO(n,e,t,r,i,o,s,a,l){let u=e.consts,h=$a(e,n,4,s||null,a||null);bg(e,t,h,Zo(u,l)),ld(e,h);let p=h.tView=Eg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function nO(n,e,t,r,i,o,s,a,l,u){let h=t+sn,p=e.firstCreatePass?tO(h,e,n,r,i,o,s,a,l):e.data[h];zi(p,!1);let g=rO(e,n,p,t);ad()&&fd(e,n,g,p),Gr(g,n);let y=AC(g,n,g,p);return n[h]=y,gd(n,y),Bk(y,p,n),rd(p)&&wg(e,n,p),l!=null&&Ig(n,p,u),p}function B(n,e,t,r,i,o,s,a){let l=Pe(),u=yt(),h=Zo(u.consts,o);return nO(l,u,n,e,t,r,i,h,s,a),B}var rO=iO;function iO(n,e,t,r){return cd(!0),e[tt].createComment("")}var $o=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}($o||{}),qC=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Nm=class n{constructor(){this.ngZone=F(Ne),this.scheduler=F(Xo),this.errorHandler=F(ur,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[$o.EarlyRead,$o.Write,$o.MixedReadWrite,$o.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}},Pm=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Ag(n,e){!e?.injector&&ed(Ag);let t=e?.injector??F(mt);return cP(t)?(Ki("NgAfterNextRender"),sO(n,t,e,!0)):aO}function oO(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function sO(n,e,t,r){let i=e.get(qC);i.impl??=e.get(Nm);let o=t?.phase??$o.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(Yr):null,a=new Pm(i.impl,oO(n,o),r,s);return i.impl.register(a),a}var aO={destroy(){}};function as(n,e,t,r){let i=Pe(),o=sd();if(hr(i,o,e)){let s=yt(),a=og();YP(a,i,n,e,t,r)}return as}function cO(n,e,t,r){return hr(n,sd(),t)?e+Fi(t)+r:Rn}function lO(n,e,t,r,i,o){let s=KR(),a=Xk(n,s,t,i);return ng(2),a?e+Fi(t)+r+Fi(i)+o:Rn}function vu(n,e){return n<<17|e<<2}function Hi(n){return n>>17&32767}function uO(n){return(n&2)==2}function dO(n,e){return n&131071|e<<17}function km(n){return n|2}function rs(n){return(n&131068)>>2}function Wp(n,e){return n&-131069|e<<2}function hO(n){return(n&1)===1}function Om(n){return n|1}function fO(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Hi(s),l=rs(s);n[r]=t;let u=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Va(p,h)>0)&&(u=!0)}else h=t;if(i)if(l!==0){let g=Hi(n[a+1]);n[r+1]=vu(g,a),g!==0&&(n[g+1]=Wp(n[g+1],r)),n[a+1]=dO(n[a+1],r)}else n[r+1]=vu(a,0),a!==0&&(n[a+1]=Wp(n[a+1],r)),a=r;else n[r+1]=vu(l,0),a===0?a=r:n[l+1]=Wp(n[l+1],r),l=r;u&&(n[r+1]=km(n[r+1])),SE(n,h,r,!0),SE(n,h,r,!1),pO(e,h,n,r,o),s=vu(a,l),o?e.classBindings=s:e.styleBindings=s}function pO(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Va(o,e)>=0&&(t[r+1]=Om(t[r+1]))}function SE(n,e,t,r){let i=n[t+1],o=e===null,s=r?Hi(i):rs(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],u=n[s+1];mO(l,e)&&(a=!0,n[s+1]=r?Om(u):km(u)),s=r?Hi(u):rs(u)}a&&(n[t+1]=r?km(i):Om(i))}function mO(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Va(n,e)>=0:!1}var bn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function gO(n){return n.substring(bn.key,bn.keyEnd)}function yO(n){return vO(n),GC(n,WC(n,0,bn.textEnd))}function GC(n,e){let t=bn.textEnd;return t===e?-1:(e=bn.keyEnd=_O(n,bn.key=e,t),WC(n,e,t))}function vO(n){bn.key=0,bn.keyEnd=0,bn.value=0,bn.valueEnd=0,bn.textEnd=n.length}function WC(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function _O(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function O(n,e,t){let r=Pe(),i=sd();if(hr(r,i,e)){let o=yt(),s=og();DC(o,s,r,n,e,r[tt],t,!1)}return O}function Fm(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Cg(n,t,o[s],s,r)}function _d(n,e,t){return QC(n,e,t,!1),_d}function Kt(n,e){return QC(n,e,null,!0),Kt}function KC(n){IO(SO,wO,n,!0)}function wO(n,e){for(let t=yO(e);t>=0;t=GC(e,t))Km(n,gO(e),!0)}function QC(n,e,t,r){let i=Pe(),o=yt(),s=ng(2);if(o.firstUpdatePass&&ZC(o,n,s,r),e!==Rn&&hr(i,s,e)){let a=o.data[Qr()];JC(o,a,i,i[tt],n,i[s+1]=xO(e,t),r,s)}}function IO(n,e,t,r){let i=yt(),o=ng(2);i.firstUpdatePass&&ZC(i,null,o,r);let s=Pe();if(t!==Rn&&hr(s,o,t)){let a=i.data[Qr()];if(XC(a,r)&&!YC(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Zp(l,t||"")),Fm(i,a,s,t,r)}else AO(i,a,s,s[tt],s[o+1],s[o+1]=TO(n,e,t),r,o)}}function YC(n,e){return e>=n.expandoStartIndex}function ZC(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Qr()],s=YC(n,t);XC(o,r)&&e===null&&!s&&(e=!1),e=EO(i,o,e,r),fO(i,o,e,t,s,r)}}function EO(n,e,t,r){let i=XR(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Kp(null,n,e,t,r),t=Fa(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Kp(i,n,e,t,r),o===null){let l=bO(n,e,r);l!==void 0&&Array.isArray(l)&&(l=Kp(null,n,e,l[1],r),l=Fa(l,e.attrs,r),CO(n,e,r,l))}else o=DO(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function bO(n,e,t){let r=t?e.classBindings:e.styleBindings;if(rs(r)!==0)return n[Hi(r)]}function CO(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Hi(i)]=r}function DO(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Fa(r,s,t)}return Fa(r,e.attrs,t)}function Kp(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Fa(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Fa(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Km(n,s,t?!0:e[++o]))}return n===void 0?null:n}function TO(n,e,t){if(t==null||t==="")return Ht;let r=[],i=qi(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function SO(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&Km(n,r,t)}function AO(n,e,t,r,i,o,s,a){i===Rn&&(i=Ht);let l=0,u=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let g=l<i.length?i[l+1]:void 0,y=u<o.length?o[u+1]:void 0,A=null,k;h===p?(l+=2,u+=2,g!==y&&(A=p,k=y)):p===null||h!==null&&h<p?(l+=2,A=h):(u+=2,A=p,k=y),A!==null&&JC(n,e,t,r,A,k,s,a),h=l<i.length?i[l]:null,p=u<o.length?o[u]:null}}function JC(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,u=l[a+1],h=hO(u)?AE(l,e,t,i,rs(u),s):void 0;if(!Wu(h)){Wu(o)||uO(u)&&(o=AE(l,null,t,i,a,s));let p=fb(Qr(),t);AP(r,s,p,i,o)}}function AE(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],u=Array.isArray(l),h=u?l[1]:l,p=h===null,g=t[i+1];g===Rn&&(g=p?Ht:void 0);let y=p?Vp(g,r):h===r?g:void 0;if(u&&!Wu(y)&&(y=Vp(l,r)),Wu(y)&&(a=y,s))return a;let A=n[i+1];i=s?Hi(A):rs(A)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Vp(l,r))}return a}function Wu(n){return n!==void 0}function xO(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Ft(qi(n)))),n}function XC(n,e){return(n.flags&(e?8:16))!==0}function MO(n,e,t,r,i,o){let s=e.consts,a=Zo(s,i),l=$a(e,n,2,r,a);return bg(e,t,l,Zo(s,o)),l.attrs!==null&&zu(l,l.attrs,!1),l.mergedAttrs!==null&&zu(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function _(n,e,t,r){let i=Pe(),o=yt(),s=sn+n,a=i[tt],l=o.firstCreatePass?MO(s,o,i,e,t,r):o.data[s],u=RO(o,i,l,a,e,n);i[s]=u;let h=rd(l);return zi(l,!0),vC(a,u,l),!eO(l)&&ad()&&fd(o,i,u,l),jR()===0&&Gr(u,i),UR(),h&&(wg(o,i,l),_g(o,l,i)),r!==null&&Ig(i,l),_}function b(){let n=Ct();tg()?Eb():(n=n.parent,zi(n,!1));let e=n;HR(e)&&zR(),BR();let t=yt();return t.firstCreatePass&&(ld(t,n),Xm(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&aN(e)&&Fm(t,e,Pe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&cN(e)&&Fm(t,e,Pe(),e.stylesWithoutHost,!1),b}function G(n,e,t,r){return _(n,e,t,r),b(),G}var RO=(n,e,t,r,i,o)=>(cd(!0),uC(r,i,rN()));function NO(n,e,t,r,i){let o=e.consts,s=Zo(o,r),a=$a(e,n,8,"ng-container",s);s!==null&&zu(a,s,!0);let l=Zo(o,i);return bg(e,t,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function wd(n,e,t){let r=Pe(),i=yt(),o=n+sn,s=i.firstCreatePass?NO(o,i,r,e,t):i.data[o];zi(s,!0);let a=PO(i,r,s,n);return r[o]=a,ad()&&fd(i,r,a,s),Gr(a,r),rd(s)&&(wg(i,r,s),_g(i,s,r)),t!=null&&Ig(r,s),wd}function Id(){let n=Ct(),e=yt();return tg()?Eb():(n=n.parent,zi(n,!1)),e.firstCreatePass&&(ld(e,n),Xm(n)&&e.queries.elementEnd(n)),Id}var PO=(n,e,t,r)=>(cd(!0),hP(e[tt],""));function ct(){return Pe()}var Ku="en-US";var kO=Ku;function OO(n){typeof n=="string"&&(kO=n.toLowerCase().replace(/_/g,"-"))}var FO=(n,e,t)=>{};function de(n,e,t,r){let i=Pe(),o=yt(),s=Ct();return eD(o,i,i[tt],s,n,e,r),de}function LO(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Mu],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function eD(n,e,t,r,i,o,s){let a=rd(r),u=n.firstCreatePass&&tk(n),h=e[Dn],p=ek(e),g=!0;if(r.type&3||s){let k=ln(r,e),N=s?s(k):k,U=p.length,J=s?fe=>s(Hn(fe[r.index])):r.index,Y=null;if(!s&&a&&(Y=LO(n,e,i,r.index)),Y!==null){let fe=Y.__ngLastListenerFn__||Y;fe.__ngNextListenerFn__=o,Y.__ngLastListenerFn__=o,g=!1}else{o=ME(r,e,h,o),FO(k,i,o);let fe=t.listen(N,i,o);p.push(o,fe),u&&u.push(i,J,U,U+1)}}else o=ME(r,e,h,o);let y=r.outputs,A;if(g&&y!==null&&(A=y[i])){let k=A.length;if(k)for(let N=0;N<k;N+=2){let U=A[N],J=A[N+1],Re=e[U][J].subscribe(o),ae=p.length;p.push(o,Re),u&&u.push(i,r.index,ae,-(ae+1))}}}function xE(n,e,t,r){let i=Se(null);try{return Vn(6,e,t),t(r)!==!1}catch(o){return MC(n,o),!1}finally{Vn(7,e,t),Se(i)}}function ME(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?Kr(n.index,e):e;Tg(s,5);let a=xE(e,t,r,o),l=i.__ngNextListenerFn__;for(;l;)a=xE(e,t,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function ue(n=1){return tN(n)}function VO(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Qi(n){let e=GR();return mb(e,sn+n)}function R(n,e=""){let t=Pe(),r=yt(),i=n+sn,o=r.firstCreatePass?$a(r,i,1,e,null):r.data[i],s=jO(r,t,o,e,n);t[i]=s,ad()&&fd(r,t,s,o),zi(o,!1)}var jO=(n,e,t,r,i)=>(cd(!0),uP(e[tt],r));function Ge(n){return H("",n,""),Ge}function H(n,e,t){let r=Pe(),i=cO(r,n,e,t);return i!==Rn&&RC(r,Qr(),i),H}function Ha(n,e,t,r,i){let o=Pe(),s=lO(o,n,e,t,r,i);return s!==Rn&&RC(o,Qr(),s),Ha}function lt(n,e,t){HC(e)&&(e=e());let r=Pe(),i=sd();if(hr(r,i,e)){let o=yt(),s=og();DC(o,s,r,n,e,r[tt],t,!1)}return lt}function vt(n,e){let t=HC(n);return t&&n.set(e),t}function ut(n,e){let t=Pe(),r=yt(),i=Ct();return eD(r,t,t[tt],i,n,e),ut}function UO(n,e,t){let r=yt();if(r.firstCreatePass){let i=qr(n);Lm(t,r.data,r.blueprint,i,!0),Lm(e,r.data,r.blueprint,i,!1)}}function Lm(n,e,t,r,i){if(n=Ot(n),Array.isArray(n))for(let o=0;o<n.length;o++)Lm(n[o],e,t,r,i);else{let o=yt(),s=Pe(),a=Ct(),l=Wo(n)?n:Ot(n.provide),u=ib(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Wo(n)||!n.multi){let y=new Bi(u,i,te),A=Yp(l,e,i?h:h+g,p);A===-1?(dm(Lu(a,s),o,l),Qp(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[A]=y,s[A]=y)}else{let y=Yp(l,e,h+g,p),A=Yp(l,e,h,h+g),k=y>=0&&t[y],N=A>=0&&t[A];if(i&&!N||!i&&!k){dm(Lu(a,s),o,l);let U=HO(i?$O:BO,t.length,i,r,u);!i&&N&&(t[A].providerFactory=U),Qp(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(U),s.push(U)}else{let U=tD(t[i?A:y],u,!i&&r);Qp(o,n,y>-1?y:A,U)}!i&&r&&N&&t[A].componentProviders++}}}function Qp(n,e,t,r){let i=Wo(e),o=CR(e);if(i||o){let l=(o?Ot(e.useClass):e).prototype.ngOnDestroy;if(l){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=u.indexOf(t);h===-1?u.push(t,[r,l]):u[h+1].push(r,l)}else u.push(t,l)}}}function tD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Yp(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function BO(n,e,t,r){return Vm(this.multi,[])}function $O(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Jo(t,t[be],this.providerFactory.index,r);o=a.slice(0,s),Vm(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Vm(i,o);return o}function Vm(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function HO(n,e,t,r,i){let o=new Bi(n,t,te);return o.multi=[],o.index=e,o.componentProviders=0,tD(o,i,r&&!t),o}function yr(n,e=[]){return t=>{t.providersResolver=(r,i)=>UO(r,i?i(n):n,e)}}var zO=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=tb(!1,t.type),i=r.length>0?vd([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=K({token:n,providedIn:"environment",factory:()=>new n(Q(Lt))})}}return n})();function Be(n){Ki("NgStandalone"),n.getStandaloneInjector=e=>e.get(zO).getOrCreateStandaloneInjector(n)}function qO(n,e){let t=n[e];return t===Rn?void 0:t}function GO(n,e,t,r,i,o){let s=e+t;return hr(n,s,i)?Jk(n,s+1,o?r.call(o,i):r(i)):qO(n,s+1)}function z(n,e){let t=yt(),r,i=n+sn;t.firstCreatePass?(r=WO(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Li(r.type,!0)),s,a=$t(te);try{let l=Fu(!1),u=o();return Fu(l),VO(t,Pe(),i,u),u}finally{$t(a)}}function WO(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function q(n,e,t){let r=n+sn,i=Pe(),o=mb(i,r);return KO(i,r)?GO(i,WR(),e,o.transform,t,o):o.transform(t)}function KO(n,e){return n[be].data[e].pure}function za(n,e){return VC(n,e)}var fr=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},nD=new fr("18.2.14");var Ed=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var rD=new W("");function Yi(n){return!!n&&typeof n.then=="function"}function iD(n){return!!n&&typeof n.subscribe=="function"}var qa=new W(""),oD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=F(qa,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(Yi(o))t.push(o);else if(iD(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ga=new W("");function QO(){gI(()=>{throw new ee(600,!1)})}function YO(n){return n.isBoundToModule}var ZO=10;function JO(n,e,t){try{let r=t();return Yi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Xr=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(AN),this.afterRenderManager=F(qC),this.zonelessEnabled=F(yd),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new qe,this.afterTick=new qe,this.componentTypes=[],this.components=[],this.isStable=F(Zr).hasPendingTasks.pipe(re(t=>!t)),this._injector=F(Lt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Hu;if(!this._injector.get(oD).done){let g=!i&&ZE(t),y=!1;throw new ee(405,y)}let s;i?s=t:s=this._injector.get(es).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=YO(s)?void 0:this._injector.get(Wr),l=r||s.selector,u=s.create(mt.NULL,[],l,a),h=u.location.nativeElement,p=u.injector.get(rD,null);return p?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),bu(this.components,u),p?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ee(101,!1);let t=Se(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Se(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(ts,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<ZO;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)XO(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>id(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;bu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Ga,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>bu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ee(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function bu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function XO(n,e,t,r){if(!t&&!id(n))return;kC(n,e,t&&!r?0:1)}var jm=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},bd=(()=>{class n{compileModuleSync(t){return new Rm(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=JE(t),o=lC(i.declarations).reduce((s,a)=>{let l=zr(a);return l&&s.push(new ns(l)),s},[]);return new jm(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var eF=(()=>{class n{constructor(){this.zone=F(Ne),this.changeDetectionScheduler=F(Xo),this.applicationRef=F(Xr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),tF=new W("",{factory:()=>!1});function sD({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ne(pe(V({},cD()),{scheduleInRootZone:t})),[{provide:Ne,useFactory:n},{provide:Go,multi:!0,useFactory:()=>{let r=F(eF,{optional:!0});return()=>r.initialize()}},{provide:Go,multi:!0,useFactory:()=>{let r=F(nF);return()=>{r.initialize()}}},e===!0?{provide:jC,useValue:!0}:[],{provide:UC,useValue:t??zb}]}function aD(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=sD({ngZoneFactory:()=>{let i=cD(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Ki("NgZone_CoalesceEvent"),new Ne(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return gt([{provide:tF,useValue:!0},{provide:yd,useValue:!1},r])}function cD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var nF=(()=>{class n{constructor(){this.subscription=new je,this.initialized=!1,this.zone=F(Ne),this.pendingTasks=F(Zr)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ne.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ne.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var rF=(()=>{class n{constructor(){this.appRef=F(Xr),this.taskService=F(Zr),this.ngZone=F(Ne),this.zonelessEnabled=F(yd),this.disableScheduling=F(jC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new je,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ju):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(F(UC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof gm||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?cE:qb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ju+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,cE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function iF(){return typeof $localize<"u"&&$localize.locale||Ku}var xg=new W("",{providedIn:"root",factory:()=>F(xg,Ie.Optional|Ie.SkipSelf)||iF()});var Um=new W("");function _u(n){return!n.moduleRef}function oF(n){let e=_u(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ne);return t.run(()=>{_u(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(ur,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),_u(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Um);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Um);s.add(o),n.moduleRef.onDestroy(()=>{bu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return JO(r,t,()=>{let o=e.get(oD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(xg,Ku);if(OO(s||Ku),_u(n)){let a=e.get(Xr);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return sF(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function sF(n,e){let t=n.injector.get(Xr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new ee(-403,!1);e.push(n)}var Cu=null,lD=new W("");function aF(n=[],e){return mt.create({name:e,providers:[{provide:Xu,useValue:"platform"},{provide:Um,useValue:new Set([()=>Cu=null])},...n]})}function cF(n=[]){if(Cu)return Cu;let e=aF(n);return e.get(lD,!1)||(Cu=e),QO(),lF(e),e}function lF(n){n.get(dg,null)?.forEach(t=>t())}function uD(){return!1}var Pn=(()=>{class n{static{this.__NG_ELEMENT_ID__=uF}}return n})();function uF(n){return dF(Ct(),Pe(),(n&16)===16)}function dF(n,e,t){if(nd(n)&&!t){let r=Kr(n.index,e);return new $i(r,r)}else if(n.type&175){let r=e[$n];return new $i(r,e)}return null}var Bm=class{constructor(){}supports(e){return zC(e)}create(e){return new $m(e)}},hF=(n,e)=>e,$m=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||hF}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<RE(r,i,o)?t:r,a=RE(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,h=l-i;if(u!=h){for(let g=0;g<u;g++){let y=g<o.length?o[g]:o[g]=0,A=y+g;h<=A&&A<u&&(o[g]=y+1)}let p=s.previousIndex;o[p]=h-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!zC(e))throw new ee(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,Yk(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Hm(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Qu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Qu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Hm=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},zm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Qu=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new zm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function RE(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function NE(){return new Mg([new Bm])}var Mg=(()=>{class n{static{this.\u0275prov=K({token:n,providedIn:"root",factory:NE})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||NE()),deps:[[n,new Gm,new an]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new ee(901,!1)}}return n})();function dD(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;try{let o=i?.injector??cF(r);if(o.get(lD,!1)===!0&&!n.platformRef)throw new ee(401,!1);let s=[sD({}),{provide:Xo,useExisting:rF},...t||[]],a=new Gu({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return oF({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}}function ei(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Zi(n,e){Ki("NgSignals");let t=fI(n);return e?.equal&&(t[sr].equal=e.equal),t}function zn(n){let e=Se(null);try{return n()}finally{Se(e)}}function hD(n){let e=zr(n);if(!e)return null;let t=new ns(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var yD=null;function _r(){return yD}function vD(n){yD??=n}var Cd=class{};var Dt=new W(""),Og=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>F(pF),providedIn:"platform"})}}return n})(),_D=new W(""),pF=(()=>{class n extends Og{constructor(){super(),this._doc=F(Dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _r().getBaseHref(this._doc)}onPopState(t){let r=_r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=_r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Fg(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function fD(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function vr(n){return n&&n[0]!=="?"?"?"+n:n}var wr=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>F(Lg),providedIn:"root"})}}return n})(),wD=new W(""),Lg=(()=>{class n extends wr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??F(Dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Fg(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+vr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+vr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+vr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Q(Og),Q(wD,8))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ID=(()=>{class n extends wr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Fg(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+vr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+vr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Q(Og),Q(wD,8))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),ls=(()=>{class n{constructor(t){this._subject=new rt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=yF(fD(pD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+vr(r))}normalize(t){return n.stripTrailingSlash(gF(this._basePath,pD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=vr}static{this.joinWithSlash=Fg}static{this.stripTrailingSlash=fD}static{this.\u0275fac=function(r){return new(r||n)(Q(wr))}}static{this.\u0275prov=K({token:n,factory:()=>mF(),providedIn:"root"})}}return n})();function mF(){return new ls(Q(wr))}function gF(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function pD(n){return n.replace(/\/index.html$/,"")}function yF(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function Dd(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Rg=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ti=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Rg(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),mD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);mD(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(te(Jr),te(Wi),te(Mg))}}static{this.\u0275dir=ze({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function mD(n,e){n.context.$implicit=e.item}var qn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Ng,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){gD("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){gD("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(te(Jr),te(Wi))}}static{this.\u0275dir=ze({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Ng=class{constructor(){this.$implicit=null,this.ngIf=null}};function gD(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Ft(e)}'.`)}var Qt=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=An({type:n})}static{this.\u0275inj=Sn({})}}return n})(),Vg="browser",vF="server";function _F(n){return n===Vg}function Td(n){return n===vF}var ED=(()=>{class n{static{this.\u0275prov=K({token:n,providedIn:"root",factory:()=>_F(F(dn))?new Pg(F(Dt),window):new kg})}}return n})(),Pg=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=wF(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function wF(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var kg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},cs=class{};var Ka=class{},Ad=class{},Ir=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Ug=class{encodeKey(e){return bD(e)}encodeValue(e){return bD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function IF(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var EF=/%(\d[a-f0-9])/gi,bF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function bD(n){return encodeURIComponent(n).replace(EF,(e,t)=>bF[t]??e)}function Sd(n){return`${n}`}var ii=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ug,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=IF(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Sd):[Sd(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Sd(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Sd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Bg=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function CF(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function CD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function DD(n){return typeof Blob<"u"&&n instanceof Blob}function TD(n){return typeof FormData<"u"&&n instanceof FormData}function DF(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Wa=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(CF(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ir,this.context??=new Bg,!this.params)this.params=new ii,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||CD(this.body)||DD(this.body)||TD(this.body)||DF(this.body)?this.body:this.body instanceof ii?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||TD(this.body)?null:DD(this.body)?this.body.type||null:CD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ii?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,u=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((g,y)=>g.set(y,e.setHeaders[y]),u)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,y)=>g.set(y,e.setParams[y]),h)),new n(t,r,s,{params:h,headers:u,context:p,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},oi=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(oi||{}),Qa=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ir,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},xd=class n extends Qa{constructor(e={}){super(e),this.type=oi.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ya=class n extends Qa{constructor(e={}){super(e),this.type=oi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ri=class extends Qa{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},MD=200,TF=204;function jg(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var zg=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Wa)o=t;else{let l;i.headers instanceof Ir?l=i.headers:l=new Ir(i.headers);let u;i.params&&(i.params instanceof ii?u=i.params:u=new ii({fromObject:i.params})),o=new Wa(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=ne(o).pipe(lr(l=>this.handler.handle(l)));if(t instanceof Wa||i.observe==="events")return s;let a=s.pipe(Bt(l=>l instanceof Ya));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(re(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(re(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(re(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(re(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new ii().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,jg(i,r))}post(t,r,i={}){return this.request("POST",t,jg(i,r))}put(t,r,i={}){return this.request("PUT",t,jg(i,r))}static{this.\u0275fac=function(r){return new(r||n)(Q(Ka))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),SF=/^\)\]\}',?\n/,AF="X-Request-URL";function SD(n){if(n.url)return n.url;let e=AF.toLocaleLowerCase();return n.headers.get(e)}var xF=(()=>{class n{constructor(){this.fetchImpl=F($g,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=F(Ne)}handle(t){return new ye(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(Hg,o=>r.error(new ri({error:o}))),()=>i.abort()})}doRequest(t,r,i){return M(this,null,function*(){let o=this.createRequestInit(t),s;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,V({signal:r},o)));MF(y),i.next({type:oi.Sent}),s=yield y}catch(y){i.error(new ri({error:y,status:y.status??0,statusText:y.statusText,url:t.urlWithParams,headers:y.headers}));return}let a=new Ir(s.headers),l=s.statusText,u=SD(s)??t.urlWithParams,h=s.status,p=null;if(t.reportProgress&&i.next(new xd({headers:a,status:h,statusText:l,url:u})),s.body){let y=s.headers.get("content-length"),A=[],k=s.body.getReader(),N=0,U,J,Y=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>M(this,null,function*(){for(;;){let{done:Re,value:ae}=yield k.read();if(Re)break;if(A.push(ae),N+=ae.length,t.reportProgress){J=t.responseType==="text"?(J??"")+(U??=new TextDecoder).decode(ae,{stream:!0}):void 0;let C=()=>i.next({type:oi.DownloadProgress,total:y?+y:void 0,loaded:N,partialText:J});Y?Y.run(C):C()}}}));let fe=this.concatChunks(A,N);try{let Re=s.headers.get("Content-Type")??"";p=this.parseBody(t,fe,Re)}catch(Re){i.error(new ri({error:Re,headers:new Ir(s.headers),status:s.status,statusText:s.statusText,url:SD(s)??t.urlWithParams}));return}}h===0&&(h=p?MD:0),h>=200&&h<300?(i.next(new Ya({body:p,headers:a,status:h,statusText:l,url:u})),i.complete()):i.error(new ri({error:p,headers:a,status:h,statusText:l,url:u}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(SF,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),$g=class{};function Hg(){}function MF(n){n.then(Hg,Hg)}function RF(n,e){return e(n)}function NF(n,e,t){return(r,i)=>Gt(t,()=>e(r,o=>n(o,i)))}var RD=new W(""),PF=new W(""),kF=new W("",{providedIn:"root",factory:()=>!0});var AD=(()=>{class n extends Ka{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=F(Zr),this.contributeToStability=F(kF)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(RD),...this.injector.get(PF,[])]));this.chain=r.reduceRight((i,o)=>NF(i,o,this.injector),RF)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(ki(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(Q(Ad),Q(Lt))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})();var OF=/^\)\]\}',?\n/;function FF(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var xD=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new ee(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Fe(r.\u0275loadImpl()):ne(null)).pipe(et(()=>new ye(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((k,N)=>s.setRequestHeader(k,N.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let k=t.detectContentTypeHeader();k!==null&&s.setRequestHeader("Content-Type",k)}if(t.responseType){let k=t.responseType.toLowerCase();s.responseType=k!=="json"?k:"text"}let a=t.serializeBody(),l=null,u=()=>{if(l!==null)return l;let k=s.statusText||"OK",N=new Ir(s.getAllResponseHeaders()),U=FF(s)||t.url;return l=new xd({headers:N,status:s.status,statusText:k,url:U}),l},h=()=>{let{headers:k,status:N,statusText:U,url:J}=u(),Y=null;N!==TF&&(Y=typeof s.response>"u"?s.responseText:s.response),N===0&&(N=Y?MD:0);let fe=N>=200&&N<300;if(t.responseType==="json"&&typeof Y=="string"){let Re=Y;Y=Y.replace(OF,"");try{Y=Y!==""?JSON.parse(Y):null}catch(ae){Y=Re,fe&&(fe=!1,Y={error:ae,text:Y})}}fe?(o.next(new Ya({body:Y,headers:k,status:N,statusText:U,url:J||void 0})),o.complete()):o.error(new ri({error:Y,headers:k,status:N,statusText:U,url:J||void 0}))},p=k=>{let{url:N}=u(),U=new ri({error:k,status:s.status||0,statusText:s.statusText||"Unknown Error",url:N||void 0});o.error(U)},g=!1,y=k=>{g||(o.next(u()),g=!0);let N={type:oi.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(N.total=k.total),t.responseType==="text"&&s.responseText&&(N.partialText=s.responseText),o.next(N)},A=k=>{let N={type:oi.UploadProgress,loaded:k.loaded};k.lengthComputable&&(N.total=k.total),o.next(N)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",A)),s.send(a),o.next({type:oi.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",A)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(Q(cs))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),ND=new W(""),LF="XSRF-TOKEN",VF=new W("",{providedIn:"root",factory:()=>LF}),jF="X-XSRF-TOKEN",UF=new W("",{providedIn:"root",factory:()=>jF}),Md=class{},BF=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Dd(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(Q(Dt),Q(dn),Q(VF))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})();function $F(n,e){let t=n.url.toLowerCase();if(!F(ND)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=F(Md).getToken(),i=F(UF);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function PD(...n){let e=[zg,xD,AD,{provide:Ka,useExisting:AD},{provide:Ad,useFactory:()=>F(xF,{optional:!0})??F(xD)},{provide:RD,useValue:$F,multi:!0},{provide:ND,useValue:!0},{provide:Md,useClass:BF}];for(let t of n)e.push(...t.\u0275providers);return gt(e)}var Wg=class extends Cd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Kg=class n extends Wg{static makeCurrent(){vD(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=HF();return t==null?null:zF(t)}resetBaseElement(){Za=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Dd(document.cookie,e)}},Za=null;function HF(){return Za=Za||document.querySelector("base"),Za?Za.getAttribute("href"):null}function zF(n){return new URL(n,document.baseURI).pathname}var qF=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),Qg=new W(""),LD=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new ee(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(Q(Qg),Q(Ne))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),Rd=class{constructor(e){this._doc=e}},qg="ng-app-id",VD=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Td(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${qg}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(qg),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(qg,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(Q(Dt),Q(ug),Q(hg,8),Q(dn))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),Gg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Zg=/%COMP%/g,jD="%COMP%",GF=`_nghost-${jD}`,WF=`_ngcontent-${jD}`,KF=!0,QF=new W("",{providedIn:"root",factory:()=>KF});function YF(n){return WF.replace(Zg,n)}function ZF(n){return GF.replace(Zg,n)}function UD(n,e){return e.map(t=>t.replace(Zg,n))}var kD=(()=>{class n{constructor(t,r,i,o,s,a,l,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Td(a),this.defaultRenderer=new Ja(t,s,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Un.ShadowDom&&(r=pe(V({},r),{encapsulation:Un.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Nd?i.applyToHost(t):i instanceof Xa&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Un.Emulated:o=new Nd(l,u,r,this.appId,h,s,a,p);break;case Un.ShadowDom:return new Yg(l,u,t,r,s,a,this.nonce,p);default:o=new Xa(l,u,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(Q(LD),Q(VD),Q(ug),Q(QF),Q(Dt),Q(dn),Q(Ne),Q(hg))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),Ja=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Gg[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(OD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(OD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ee(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Gg[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Gg[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(dr.DashCase|dr.Important)?e.style.setProperty(t,r,i&dr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&dr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=_r().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function OD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Yg=class extends Ja{constructor(e,t,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=UD(i.id,i.styles);for(let h of u){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Xa=class extends Ja{constructor(e,t,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?UD(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Nd=class extends Xa{constructor(e,t,r,i,o,s,a,l){let u=i+"-"+r.id;super(e,t,r,o,s,a,l,u),this.contentAttr=YF(u),this.hostAttr=ZF(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},JF=(()=>{class n extends Rd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(Q(Dt))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),FD=["alt","control","meta","shift"],XF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},tL=(()=>{class n extends Rd{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_r().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),FD.forEach(u=>{let h=r.indexOf(u);h>-1&&(r.splice(h,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=XF[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),FD.forEach(s=>{if(s!==i){let a=eL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(Q(Dt))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})();function BD(n,e,t){return dD(V({rootComponent:n,platformRef:t?.platformRef},nL(e)))}function nL(n){return{appProviders:[...aL,...n?.providers??[]],platformProviders:sL}}function rL(){Kg.makeCurrent()}function iL(){return new ur}function oL(){return Jb(document),document}var sL=[{provide:dn,useValue:Vg},{provide:dg,useValue:rL,multi:!0},{provide:Dt,useFactory:oL,deps:[]}];var aL=[{provide:Xu,useValue:"root"},{provide:ur,useFactory:iL,deps:[]},{provide:Qg,useClass:JF,multi:!0,deps:[Dt,Ne,dn]},{provide:Qg,useClass:tL,multi:!0,deps:[Dt]},kD,VD,LD,{provide:ts,useExisting:kD},{provide:cs,useClass:qF,deps:[]},[]];var $D=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(Q(Dt))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var _e="primary",pc=Symbol("RouteTitle"),ny=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ms(n){return new ny(n)}function lL(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function uL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Gn(n[t],e[t]))return!1;return!0}function Gn(n,e){let t=n?ry(n):void 0,r=e?ry(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!XD(n[i],e[i]))return!1;return!0}function ry(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function XD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function eT(n){return n.length>0?n[n.length-1]:null}function ci(n){return Mp(n)?n:Yi(n)?Fe(Promise.resolve(n)):ne(n)}var dL={exact:nT,subset:rT},tT={exact:hL,subset:fL,ignored:()=>!0};function HD(n,e,t){return dL[t.paths](n.root,e.root,t.matrixParams)&&tT[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function hL(n,e){return Gn(n,e)}function nT(n,e,t){if(!Xi(n.segments,e.segments)||!Od(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!nT(n.children[r],e.children[r],t))return!1;return!0}function fL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>XD(n[t],e[t]))}function rT(n,e,t){return iT(n,e,e.segments,t)}function iT(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Xi(i,t)||e.hasChildren()||!Od(i,t,r))}else if(n.segments.length===t.length){if(!Xi(n.segments,t)||!Od(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!rT(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Xi(n.segments,i)||!Od(n.segments,i,r)||!n.children[_e]?!1:iT(n.children[_e],e,o,r)}}function Od(n,e,t){return e.every((r,i)=>tT[t](n[i].parameters,r.parameters))}var br=class{constructor(e=new ke([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ms(this.queryParams),this._queryParamMap}toString(){return gL.serialize(this)}},ke=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fd(this)}},Ji=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ms(this.parameters),this._parameterMap}toString(){return sT(this)}};function pL(n,e){return Xi(n,e)&&n.every((t,r)=>Gn(t.parameters,e[r].parameters))}function Xi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function mL(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===_e&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==_e&&(t=t.concat(e(i,r)))}),t}var mc=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>new gs,providedIn:"root"})}}return n})(),gs=class{parse(e){let t=new oy(e);return new br(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ec(e.root,!0)}`,r=_L(e.queryParams),i=typeof e.fragment=="string"?`#${yL(e.fragment)}`:"";return`${t}${r}${i}`}},gL=new gs;function Fd(n){return n.segments.map(e=>sT(e)).join("/")}function ec(n,e){if(!n.hasChildren())return Fd(n);if(e){let t=n.children[_e]?ec(n.children[_e],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==_e&&r.push(`${i}:${ec(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=mL(n,(r,i)=>i===_e?[ec(n.children[_e],!1)]:[`${i}:${ec(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[_e]!=null?`${Fd(n)}/${t[0]}`:`${Fd(n)}/(${t.join("//")})`}}function oT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pd(n){return oT(n).replace(/%3B/gi,";")}function yL(n){return encodeURI(n)}function iy(n){return oT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ld(n){return decodeURIComponent(n)}function zD(n){return Ld(n.replace(/\+/g,"%20"))}function sT(n){return`${iy(n.path)}${vL(n.parameters)}`}function vL(n){return Object.entries(n).map(([e,t])=>`;${iy(e)}=${iy(t)}`).join("")}function _L(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Pd(t)}=${Pd(i)}`).join("&"):`${Pd(t)}=${Pd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var wL=/^[^\/()?;#]+/;function Jg(n){let e=n.match(wL);return e?e[0]:""}var IL=/^[^\/()?;=#]+/;function EL(n){let e=n.match(IL);return e?e[0]:""}var bL=/^[^=?&#]+/;function CL(n){let e=n.match(bL);return e?e[0]:""}var DL=/^[^&#]+/;function TL(n){let e=n.match(DL);return e?e[0]:""}var oy=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[_e]=new ke(e,t)),r}parseSegment(){let e=Jg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ee(4009,!1);return this.capture(e),new Ji(Ld(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=EL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Jg(this.remaining);i&&(r=i,this.capture(r))}e[Ld(t)]=Ld(r)}parseQueryParam(e){let t=CL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=TL(this.remaining);s&&(r=s,this.capture(r))}let i=zD(t),o=zD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Jg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ee(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=_e);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[_e]:new ke([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ee(4011,!1)}};function aT(n){return n.segments.length>0?new ke([],{[_e]:n}):n}function cT(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=cT(i);if(r===_e&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ke(n.segments,e);return SL(t)}function SL(n){if(n.numberOfChildren===1&&n.children[_e]){let e=n.children[_e];return new ke(n.segments.concat(e.segments),e.children)}return n}function eo(n){return n instanceof br}function AL(n,e,t=null,r=null){let i=lT(n);return uT(i,e,t,r)}function lT(n){let e;function t(o){let s={};for(let l of o.children){let u=t(l);s[l.outlet]=u}let a=new ke(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=aT(r);return e??i}function uT(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Xg(i,i,i,t,r);let o=xL(e);if(o.toRoot())return Xg(i,i,new ke([],{}),t,r);let s=ML(o,i,n),a=s.processChildren?rc(s.segmentGroup,s.index,o.commands):hT(s.segmentGroup,s.index,o.commands);return Xg(i,s.segmentGroup,a,t,r)}function Vd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function sc(n){return typeof n=="object"&&n!=null&&n.outlets}function Xg(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let s;n===e?s=t:s=dT(n,e,t);let a=aT(cT(s));return new br(a,o,i)}function dT(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=dT(o,e,t)}),new ke(n.segments,r)}var jd=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Vd(r[0]))throw new ee(4003,!1);let i=r.find(sc);if(i&&i!==eT(r))throw new ee(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function xL(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new jd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new jd(t,e,r)}var hs=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function ML(n,e,t){if(n.isAbsolute)return new hs(e,!0,0);if(!t)return new hs(e,!1,NaN);if(t.parent===null)return new hs(t,!0,0);let r=Vd(n.commands[0])?0:1,i=t.segments.length-1+r;return RL(t,i,n.numberOfDoubleDots)}function RL(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ee(4005,!1);i=r.segments.length}return new hs(r,!1,i-o)}function NL(n){return sc(n[0])?n[0].outlets:{[_e]:n}}function hT(n,e,t){if(n??=new ke([],{}),n.segments.length===0&&n.hasChildren())return rc(n,e,t);let r=PL(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ke(n.segments.slice(0,r.pathIndex),{});return o.children[_e]=new ke(n.segments.slice(r.pathIndex),n.children),rc(o,0,i)}else return r.match&&i.length===0?new ke(n.segments,{}):r.match&&!n.hasChildren()?sy(n,e,t):r.match?rc(n,0,i):sy(n,e,t)}function rc(n,e,t){if(t.length===0)return new ke(n.segments,{});{let r=NL(t),i={};if(Object.keys(r).some(o=>o!==_e)&&n.children[_e]&&n.numberOfChildren===1&&n.children[_e].segments.length===0){let o=rc(n.children[_e],e,t);return new ke(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=hT(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ke(n.segments,i)}}function PL(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(sc(a))break;let l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!GD(l,u,s))return o;r+=2}else{if(!GD(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function sy(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(sc(o)){let l=kL(o.outlets);return new ke(r,l)}if(i===0&&Vd(t[0])){let l=n.segments[e];r.push(new Ji(l.path,qD(t[0]))),i++;continue}let s=sc(o)?o.outlets[_e]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Vd(a)?(r.push(new Ji(s,qD(a))),i+=2):(r.push(new Ji(s,{})),i++)}return new ke(r,{})}function kL(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=sy(new ke([],{}),0,r))}),e}function qD(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function GD(n,e,t){return n==t.path&&Gn(e,t.parameters)}var ic="imperative",dt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(dt||{}),hn=class{constructor(e,t){this.id=e,this.url=t}},ys=class extends hn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=dt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Wn=class extends hn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=dt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Zt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Zt||{}),Ud=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ud||{}),Er=class extends hn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=dt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},si=class extends hn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=dt.NavigationSkipped}},ac=class extends hn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=dt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Bd=class extends hn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=dt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ay=class extends hn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=dt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cy=class extends hn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=dt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ly=class extends hn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=dt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uy=class extends hn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=dt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dy=class{constructor(e){this.route=e,this.type=dt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},hy=class{constructor(e){this.route=e,this.type=dt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},fy=class{constructor(e){this.snapshot=e,this.type=dt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},py=class{constructor(e){this.snapshot=e,this.type=dt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},my=class{constructor(e){this.snapshot=e,this.type=dt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gy=class{constructor(e){this.snapshot=e,this.type=dt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$d=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=dt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},cc=class{},vs=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function OL(n,e){return n.providers&&!n._injector&&(n._injector=vd(n.providers,e,`Route: ${n.path}`)),n._injector??e}function kn(n){return n.outlet||_e}function FL(n,e){let t=n.filter(r=>kn(r)===e);return t.push(...n.filter(r=>kn(r)!==e)),t}function gc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var yy=class{get injector(){return gc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new yc(this.rootInjector),this.attachRef=null}},yc=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new yy(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(Q(Lt))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Hd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=vy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=vy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=_y(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return _y(e,this._root).map(t=>t.value)}};function vy(n,e){if(n===e.value)return e;for(let t of e.children){let r=vy(n,t);if(r)return r}return null}function _y(n,e){if(n===e.value)return[e];for(let t of e.children){let r=_y(n,t);if(r.length)return r.unshift(e),r}return[]}var Yt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ds(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var zd=class extends Hd{constructor(e,t){super(e),this.snapshot=t,Ay(this,e)}toString(){return this.snapshot.toString()}};function fT(n){let e=LL(n),t=new Ke([new Ji("",{})]),r=new Ke({}),i=new Ke({}),o=new Ke({}),s=new Ke(""),a=new ai(t,r,o,s,i,_e,n,e.root);return a.snapshot=e.root,new zd(new Yt(a,[]),e)}function LL(n){let e={},t={},r={},i="",o=new fs([],e,r,i,t,_e,n,null,{});return new Gd("",new Yt(o,[]))}var ai=class{constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(re(u=>u[pc]))??ne(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(e=>ms(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(e=>ms(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function qd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),n.params),data:V(V({},e.data),n.data),resolve:V(V(V(V({},n.data),e.data),i?.data),n._resolvedData)}:r={params:V({},n.params),data:V({},n.data),resolve:V(V({},n.data),n._resolvedData??{})},i&&mT(i)&&(r.resolve[pc]=i.title),r}var fs=class{get title(){return this.data?.[pc]}constructor(e,t,r,i,o,s,a,l,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ms(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ms(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Gd=class extends Hd{constructor(e,t){super(t),this.url=e,Ay(this,t)}toString(){return pT(this._root)}};function Ay(n,e){e.value._routerState=n,e.children.forEach(t=>Ay(n,t))}function pT(n){let e=n.children.length>0?` { ${n.children.map(pT).join(", ")} } `:"";return`${n.value}${e}`}function ey(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Gn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Gn(e.params,t.params)||n.paramsSubject.next(t.params),uL(e.url,t.url)||n.urlSubject.next(t.url),Gn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function wy(n,e){let t=Gn(n.params,e.params)&&pL(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||wy(n.parent,e.parent))}function mT(n){return typeof n.title=="string"||n.title===null}var xy=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=_e,this.activateEvents=new rt,this.deactivateEvents=new rt,this.attachEvents=new rt,this.detachEvents=new rt,this.parentContexts=F(yc),this.location=F(Jr),this.changeDetector=F(Pn),this.inputBinder=F(Yd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new ee(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Iy(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ze({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[cn]})}}return n})(),Iy=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ai?this.route:e===yc?this.childContexts:this.parent.get(e,t)}},Yd=new W(""),WD=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Ni([r.queryParams,r.params,r.data]).pipe(et(([o,s,a],l)=>(a=V(V(V({},o),s),a),l===0?ne(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=hD(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})();function VL(n,e,t){let r=lc(n,e._root,t?t._root:void 0);return new zd(r,e)}function lc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=jL(n,e,t);return new Yt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>lc(n,a)),s}}let r=UL(e.value),i=e.children.map(o=>lc(n,o));return new Yt(r,i)}}function jL(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return lc(n,r,i);return lc(n,r)})}function UL(n){return new ai(new Ke(n.url),new Ke(n.params),new Ke(n.queryParams),new Ke(n.fragment),new Ke(n.data),n.outlet,n.component,n)}var uc=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},gT="ngNavigationCancelingError";function Wd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=eo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=yT(!1,Zt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function yT(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[gT]=!0,t.cancellationCode=e,t}function BL(n){return vT(n)&&eo(n.url)}function vT(n){return!!n&&n[gT]}var $L=(n,e,t,r)=>re(i=>(new Ey(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Ey=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ey(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ds(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ds(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ds(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ds(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new gy(o.value.snapshot))}),e.children.length&&this.forwardEvent(new py(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(ey(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ey(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Kd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ps=class{constructor(e,t){this.component=e,this.route=t}};function HL(n,e,t){let r=n._root,i=e?e._root:null;return tc(r,i,t,[r.value])}function zL(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ws(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!FE(n)?n:e.get(n):r}function tc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ds(e);return n.children.forEach(s=>{qL(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>oc(a,t.getContext(s),i)),i}function qL(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=GL(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Kd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?tc(n,e,a?a.children:null,r,i):tc(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ps(a.outlet.component,s))}else s&&oc(e,a,i),i.canActivateChecks.push(new Kd(r)),o.component?tc(n,null,a?a.children:null,r,i):tc(n,null,t,r,i);return i}function GL(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Xi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Xi(n.url,e.url)||!Gn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wy(n,e)||!Gn(n.queryParams,e.queryParams);case"paramsChange":default:return!wy(n,e)}}function oc(n,e,t){let r=ds(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?oc(s,e.children.getContext(o),t):oc(s,null,t):oc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ps(e.outlet.component,i)):t.canDeactivateChecks.push(new ps(null,i)):t.canDeactivateChecks.push(new ps(null,i))}function vc(n){return typeof n=="function"}function WL(n){return typeof n=="boolean"}function KL(n){return n&&vc(n.canLoad)}function QL(n){return n&&vc(n.canActivate)}function YL(n){return n&&vc(n.canActivateChild)}function ZL(n){return n&&vc(n.canDeactivate)}function JL(n){return n&&vc(n.canMatch)}function _T(n){return n instanceof cr||n?.name==="EmptyError"}var kd=Symbol("INITIAL_VALUE");function _s(){return et(n=>Ni(n.map(e=>e.pipe(nn(1),Lp(kd)))).pipe(re(e=>{for(let t of e)if(t!==!0){if(t===kd)return kd;if(t===!1||XL(t))return t}return!0}),Bt(e=>e!==kd),nn(1)))}function XL(n){return eo(n)||n instanceof uc}function eV(n,e){return nt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ne(pe(V({},t),{guardsResult:!0})):tV(s,r,i,n).pipe(nt(a=>a&&WL(a)?nV(r,o,n,e):ne(a)),re(a=>pe(V({},t),{guardsResult:a})))})}function tV(n,e,t,r){return Fe(n).pipe(nt(i=>aV(i.component,i.route,t,e,r)),Ln(i=>i!==!0,!0))}function nV(n,e,t,r){return Fe(e).pipe(lr(i=>Lo(iV(i.route.parent,r),rV(i.route,r),sV(n,i.path,t),oV(n,i.route,t))),Ln(i=>i!==!0,!0))}function rV(n,e){return n!==null&&e&&e(new my(n)),ne(!0)}function iV(n,e){return n!==null&&e&&e(new fy(n)),ne(!0)}function oV(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ne(!0);let i=r.map(o=>du(()=>{let s=gc(e)??t,a=ws(o,s),l=QL(a)?a.canActivate(e,n):Gt(s,()=>a(e,n));return ci(l).pipe(Ln())}));return ne(i).pipe(_s())}function sV(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>zL(s)).filter(s=>s!==null).map(s=>du(()=>{let a=s.guards.map(l=>{let u=gc(s.node)??t,h=ws(l,u),p=YL(h)?h.canActivateChild(r,n):Gt(u,()=>h(r,n));return ci(p).pipe(Ln())});return ne(a).pipe(_s())}));return ne(o).pipe(_s())}function aV(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ne(!0);let s=o.map(a=>{let l=gc(e)??i,u=ws(a,l),h=ZL(u)?u.canDeactivate(n,e,t,r):Gt(l,()=>u(n,e,t,r));return ci(h).pipe(Ln())});return ne(s).pipe(_s())}function cV(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ne(!0);let o=i.map(s=>{let a=ws(s,n),l=KL(a)?a.canLoad(e,t):Gt(n,()=>a(e,t));return ci(l)});return ne(o).pipe(_s(),wT(r))}function wT(n){return bp(Qe(e=>{if(typeof e!="boolean")throw Wd(n,e)}),re(e=>e===!0))}function lV(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ne(!0);let o=i.map(s=>{let a=ws(s,n),l=JL(a)?a.canMatch(e,t):Gt(n,()=>a(e,t));return ci(l)});return ne(o).pipe(_s(),wT(r))}var dc=class{constructor(e){this.segmentGroup=e||null}},hc=class extends Error{constructor(e){super(),this.urlTree=e}};function us(n){return Oo(new dc(n))}function uV(n){return Oo(new ee(4e3,!1))}function dV(n){return Oo(yT(!1,Zt.GuardRejected))}var by=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ne(r);if(i.numberOfChildren>1||!i.children[_e])return uV(`${e.redirectTo}`);i=i.children[_e]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:u,routeConfig:h,url:p,outlet:g,params:y,data:A,title:k}=i,N=Gt(o,()=>a({params:y,data:A,queryParams:l,fragment:u,routeConfig:h,url:p,outlet:g,title:k}));if(N instanceof br)throw new hc(N);t=N}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new hc(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new br(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new ke(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new ee(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Cy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hV(n,e,t,r,i){let o=IT(n,e,t);return o.matched?(r=OL(e,r),lV(r,e,t,i).pipe(re(s=>s===!0?o:V({},Cy)))):ne(o)}function IT(n,e,t){if(e.path==="**")return fV(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?V({},Cy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||lL)(t,n,e);if(!i)return V({},Cy);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function fV(n){return{matched:!0,parameters:n.length>0?eT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function KD(n,e,t,r){return t.length>0&&gV(n,t,r)?{segmentGroup:new ke(e,mV(r,new ke(t,n.children))),slicedSegments:[]}:t.length===0&&yV(n,t,r)?{segmentGroup:new ke(n.segments,pV(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ke(n.segments,n.children),slicedSegments:t}}function pV(n,e,t,r){let i={};for(let o of t)if(Zd(n,e,o)&&!r[kn(o)]){let s=new ke([],{});i[kn(o)]=s}return V(V({},r),i)}function mV(n,e){let t={};t[_e]=e;for(let r of n)if(r.path===""&&kn(r)!==_e){let i=new ke([],{});t[kn(r)]=i}return t}function gV(n,e,t){return t.some(r=>Zd(n,e,r)&&kn(r)!==_e)}function yV(n,e,t){return t.some(r=>Zd(n,e,r))}function Zd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function vV(n,e,t){return e.length===0&&!n.children[t]}var Dy=class{};function _V(n,e,t,r,i,o,s="emptyOnly"){return new Ty(n,e,t,r,i,s,o).recognize()}var wV=31,Ty=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new by(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ee(4002,`'${e.segmentGroup}'`)}recognize(){let e=KD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(re(({children:t,rootSnapshot:r})=>{let i=new Yt(r,t),o=new Gd("",i),s=AL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new fs([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),_e,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,_e,t).pipe(re(r=>({children:r,rootSnapshot:t})),In(r=>{if(r instanceof hc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof dc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(re(s=>s instanceof Yt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Fe(o).pipe(lr(s=>{let a=r.children[s],l=FL(t,s);return this.processSegmentGroup(e,l,a,s,i)}),kp((s,a)=>(s.push(...a),s)),jr(null),Np(),nt(s=>{if(s===null)return us(r);let a=ET(s);return IV(a),ne(a)}))}processSegment(e,t,r,i,o,s,a){return Fe(t).pipe(lr(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(In(u=>{if(u instanceof dc)return ne(null);throw u}))),Ln(l=>!!l),In(l=>{if(_T(l))return vV(r,i,o)?ne(new Dy):us(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return kn(r)!==s&&(s===_e||!Zd(i,o,r))?us(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):us(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:u,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=IT(t,i,o);if(!l)return us(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>wV&&(this.allowRedirects=!1));let y=new fs(o,u,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,QD(i),kn(i),i.component??i._loadedComponent??null,i,YD(i)),A=qd(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(A.params),y.data=Object.freeze(A.data);let k=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,k).pipe(nt(N=>this.processSegment(e,r,t,N.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=hV(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(et(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(et(({routes:u})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=l,A=new fs(g,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,QD(r),kn(r),r.component??r._loadedComponent??null,r,YD(r)),k=qd(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(k.params),A.data=Object.freeze(k.data);let{segmentGroup:N,slicedSegments:U}=KD(t,g,y,u);if(U.length===0&&N.hasChildren())return this.processChildren(h,u,N,A).pipe(re(Y=>new Yt(A,Y)));if(u.length===0&&U.length===0)return ne(new Yt(A,[]));let J=kn(r)===o;return this.processSegment(h,u,N,U,J?_e:o,!0,A).pipe(re(Y=>new Yt(A,Y instanceof Yt?[Y]:[])))}))):us(t)))}getChildConfig(e,t,r){return t.children?ne({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ne({routes:t._loadedRoutes,injector:t._loadedInjector}):cV(e,t,r,this.urlSerializer).pipe(nt(i=>i?this.configLoader.loadChildren(e,t).pipe(Qe(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):dV(t))):ne({routes:[],injector:e})}};function IV(n){n.sort((e,t)=>e.value.outlet===_e?-1:t.value.outlet===_e?1:e.value.outlet.localeCompare(t.value.outlet))}function EV(n){let e=n.value.routeConfig;return e&&e.path===""}function ET(n){let e=[],t=new Set;for(let r of n){if(!EV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=ET(r.children);e.push(new Yt(r.value,i))}return e.filter(r=>!t.has(r))}function QD(n){return n.data||{}}function YD(n){return n.resolve||{}}function bV(n,e,t,r,i,o){return nt(s=>_V(n,e,t,r,s.extractedUrl,i,o).pipe(re(({state:a,tree:l})=>pe(V({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function CV(n,e){return nt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ne(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of bT(l))s.add(u);let a=0;return Fe(s).pipe(lr(l=>o.has(l)?DV(l,r,n,e):(l.data=qd(l,l.parent,n).resolve,ne(void 0))),Qe(()=>a++),Vo(1),nt(l=>a===s.size?ne(t):kt))})}function bT(n){let e=n.children.map(t=>bT(t)).flat();return[n,...e]}function DV(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!mT(i)&&(o[pc]=i.title),TV(o,n,e,r).pipe(re(s=>(n._resolvedData=s,n.data=qd(n,n.parent,t).resolve,null)))}function TV(n,e,t,r){let i=ry(n);if(i.length===0)return ne({});let o={};return Fe(i).pipe(nt(s=>SV(n[s],e,t,r).pipe(Ln(),Qe(a=>{if(a instanceof uc)throw Wd(new gs,a);o[s]=a}))),Vo(1),Rp(o),In(s=>_T(s)?kt:Oo(s)))}function SV(n,e,t,r){let i=gc(e)??r,o=ws(n,i),s=o.resolve?o.resolve(e,t):Gt(i,()=>o(e,t));return ci(s)}function ty(n){return et(e=>{let t=n(e);return t?Fe(t).pipe(re(()=>e)):ne(e)})}var CT=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===_e);return r}getResolvedTitleForRoute(t){return t.data[pc]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>F(AV),providedIn:"root"})}}return n})(),AV=(()=>{class n extends CT{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(Q($D))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_c=new W("",{providedIn:"root",factory:()=>({})}),xV=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Ue({type:n,selectors:[["ng-component"]],standalone:!0,features:[Be],decls:1,vars:0,template:function(r,i){r&1&&G(0,"router-outlet")},dependencies:[xy],encapsulation:2})}}return n})();function My(n){let e=n.children&&n.children.map(My),t=e?pe(V({},n),{children:e}):V({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==_e&&(t.component=xV),t}var fc=new W(""),Ry=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(bd)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ne(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=ci(t.loadComponent()).pipe(re(DT),Qe(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),ki(()=>{this.componentLoaders.delete(t)})),i=new Ro(r,()=>new qe).pipe(Mo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=MV(r,this.compiler,t,this.onLoadEndListener).pipe(ki(()=>{this.childrenLoaders.delete(r)})),s=new Ro(o,()=>new qe).pipe(Mo());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function MV(n,e,t,r){return ci(n.loadChildren()).pipe(re(DT),nt(i=>i instanceof Oa||Array.isArray(i)?ne(i):Fe(e.compileModuleAsync(i))),re(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(fc,[],{optional:!0,self:!0}).flat()),{routes:s.map(My),injector:o}}))}function RV(n){return n&&typeof n=="object"&&"default"in n}function DT(n){return RV(n)?n.default:n}var Ny=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>F(NV),providedIn:"root"})}}return n})(),NV=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),TT=new W(""),ST=new W("");function PV(n,e,t){let r=n.get(ST),i=n.get(Dt);return n.get(Ne).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),kV(n))),{onViewTransitionCreated:l}=r;return l&&Gt(n,()=>l({transition:a,from:e,to:t})),s})}function kV(n){return new Promise(e=>{Ag({read:()=>setTimeout(e)},{injector:n})})}var OV=new W(""),Py=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new qe,this.transitionAbortSubject=new qe,this.configLoader=F(Ry),this.environmentInjector=F(Lt),this.urlSerializer=F(mc),this.rootContexts=F(yc),this.location=F(ls),this.inputBindingEnabled=F(Yd,{optional:!0})!==null,this.titleStrategy=F(CT),this.options=F(_c,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=F(Ny),this.createViewTransition=F(TT,{optional:!0}),this.navigationErrorHandler=F(OV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ne(void 0),this.rootComponentType=null;let t=i=>this.events.next(new dy(i)),r=i=>this.events.next(new hy(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(pe(V(V({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Ke({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ic,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Bt(o=>o.id!==0),re(o=>pe(V({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),et(o=>{let s=!1,a=!1;return ne(o).pipe(et(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Zt.SupersededByNewNavigation),kt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?pe(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&h!=="reload"){let p="";return this.events.next(new si(l.id,this.urlSerializer.serialize(l.rawUrl),p,Ud.IgnoredSameUrlNavigation)),l.resolve(!1),kt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ne(l).pipe(et(p=>{let g=this.transitions?.getValue();return this.events.next(new ys(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?kt:Promise.resolve(p)}),bV(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Qe(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=pe(V({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let g=new Bd(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:p,extractedUrl:g,source:y,restoredState:A,extras:k}=l,N=new ys(p,this.urlSerializer.serialize(g),y,A);this.events.next(N);let U=fT(this.rootComponentType).snapshot;return this.currentTransition=o=pe(V({},l),{targetSnapshot:U,urlAfterRedirects:g,extras:pe(V({},k),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,ne(o)}else{let p="";return this.events.next(new si(l.id,this.urlSerializer.serialize(l.extractedUrl),p,Ud.IgnoredByUrlHandlingStrategy)),l.resolve(!1),kt}}),Qe(l=>{let u=new ay(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),re(l=>(this.currentTransition=o=pe(V({},l),{guards:HL(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),eV(this.environmentInjector,l=>this.events.next(l)),Qe(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Wd(this.urlSerializer,l.guardsResult);let u=new cy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Bt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Zt.GuardRejected),!1)),ty(l=>{if(l.guards.canActivateChecks.length)return ne(l).pipe(Qe(u=>{let h=new ly(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),et(u=>{let h=!1;return ne(u).pipe(CV(this.paramsInheritanceStrategy,this.environmentInjector),Qe({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",Zt.NoDataFromResolver)}}))}),Qe(u=>{let h=new uy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),ty(l=>{let u=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Qe(g=>{h.component=g}),re(()=>{})));for(let g of h.children)p.push(...u(g));return p};return Ni(u(l.targetSnapshot.root)).pipe(jr(null),nn(1))}),ty(()=>this.afterPreactivation()),et(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,h=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return h?Fe(h).pipe(re(()=>o)):ne(o)}),re(l=>{let u=VL(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=pe(V({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Qe(()=>{this.events.next(new cc)}),$L(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),nn(1),Qe({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Wn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Sa(this.transitionAbortSubject.pipe(Qe(l=>{throw l}))),ki(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Zt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),In(l=>{if(a=!0,vT(l))this.events.next(new Er(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),BL(l)?this.events.next(new vs(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let u=new ac(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let h=Gt(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(h instanceof uc){let{message:p,cancellationCode:g}=Wd(this.urlSerializer,h);this.events.next(new Er(o.id,this.urlSerializer.serialize(o.extractedUrl),p,g)),this.events.next(new vs(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(u);let p=t.errorHandler(l);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return kt}))}))}cancelNavigationTransition(t,r,i){let o=new Er(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function FV(n){return n!==ic}var LV=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>F(VV),providedIn:"root"})}}return n})(),Sy=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},VV=(()=>{class n extends Sy{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})()}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),AT=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>F(jV),providedIn:"root"})}}return n})(),jV=(()=>{class n extends AT{constructor(){super(...arguments),this.location=F(ls),this.urlSerializer=F(mc),this.options=F(_c,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=F(Ny),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new br,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=fT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof ys)this.stateMemento=this.createStateMemento();else if(t instanceof si)this.rawUrlTree=r.initialUrl;else if(t instanceof Bd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof cc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Er&&(t.code===Zt.GuardRejected||t.code===Zt.NoDataFromResolver)?this.restoreHistory(r):t instanceof ac?this.restoreHistory(r,!0):t instanceof Wn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof br?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=V(V({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=V(V({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})()}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(nc||{});function xT(n,e){n.events.pipe(Bt(t=>t instanceof Wn||t instanceof Er||t instanceof ac||t instanceof si),re(t=>t instanceof Wn||t instanceof si?nc.COMPLETE:(t instanceof Er?t.code===Zt.Redirect||t.code===Zt.SupersededByNewNavigation:!1)?nc.REDIRECTING:nc.FAILED),Bt(t=>t!==nc.REDIRECTING),nn(1)).subscribe(()=>{e()})}function UV(n){throw n}var BV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$V={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},jt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=F(Ed),this.stateManager=F(AT),this.options=F(_c,{optional:!0})||{},this.pendingTasks=F(Zr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=F(Py),this.urlSerializer=F(mc),this.location=F(ls),this.urlHandlingStrategy=F(Ny),this._events=new qe,this.errorHandler=this.options.errorHandler||UV,this.navigated=!1,this.routeReuseStrategy=F(LV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=F(fc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!F(Yd,{optional:!0}),this.eventsSubscription=new je,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Er&&r.code!==Zt.Redirect&&r.code!==Zt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Wn)this.navigated=!0;else if(r instanceof vs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||FV(i.source)},s);this.scheduleNavigation(a,ic,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}zV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ic,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=V({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(My),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=lT(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return uT(p,t,h,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=eo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ic,null,r)}navigate(t,r={skipLocationChange:!1}){return HV(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=V({},BV):r===!1?i=V({},$V):i=r,eo(t))return HD(this.currentUrlTree,t,i);let o=this.parseUrl(t);return HD(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((p,g)=>{a=p,l=g});let h=this.pendingTasks.add();return xT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function HV(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ee(4008,!1)}function zV(n){return!(n instanceof cc)&&!(n instanceof vs)}var MT=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new qe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof Wn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(eo(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:cC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:eo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(te(jt),te(ai),ag("tabindex"),te(Nn),te(un),te(wr))}}static{this.\u0275dir=ze({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&de("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&as("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ei],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ei],replaceUrl:[2,"replaceUrl","replaceUrl",ei],routerLink:"routerLink"},standalone:!0,features:[Sg,cn]})}}return n})();var Qd=class{};var qV=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Bt(t=>t instanceof Wn),lr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=vd(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Fe(i).pipe(Fo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=ne(null);let o=i.pipe(nt(s=>s===null?ne(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Fe([o,s]).pipe(Fo())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(Q(jt),Q(bd),Q(Lt),Q(Qd),Q(Ry))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),RT=new W(""),GV=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ys?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Wn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof si&&t.code===Ud.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof $d&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $d(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){wC()}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})();function NT(n,...e){return gt([{provide:fc,multi:!0,useValue:n},[],{provide:ai,useFactory:PT,deps:[jt]},{provide:Ga,multi:!0,useFactory:kT},e.map(t=>t.\u0275providers)])}function PT(n){return n.routerState.root}function wc(n,e){return{\u0275kind:n,\u0275providers:e}}function kT(){let n=F(mt);return e=>{let t=n.get(Xr);if(e!==t.components[0])return;let r=n.get(jt),i=n.get(OT);n.get(ky)===1&&r.initialNavigation(),n.get(FT,null,Ie.Optional)?.setUpPreloading(),n.get(RT,null,Ie.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var OT=new W("",{factory:()=>new qe}),ky=new W("",{providedIn:"root",factory:()=>1});function WV(){return wc(2,[{provide:ky,useValue:0},{provide:qa,multi:!0,deps:[mt],useFactory:e=>{let t=e.get(_D,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(jt),o=e.get(OT);xT(i,()=>{r(!0)}),e.get(Py).afterPreactivation=()=>(r(!0),o.closed?ne(void 0):o),i.initialNavigation()}))}}])}function KV(){return wc(3,[{provide:qa,multi:!0,useFactory:()=>{let e=F(jt);return()=>{e.setUpLocationChangeListener()}}},{provide:ky,useValue:2}])}var FT=new W("");function QV(n){return wc(0,[{provide:FT,useExisting:qV},{provide:Qd,useExisting:n}])}function YV(){return wc(8,[WD,{provide:Yd,useExisting:WD}])}function ZV(n){let e=[{provide:TT,useValue:PV},{provide:ST,useValue:V({skipNextTransition:!!n?.skipInitialTransition},n)}];return wc(9,e)}var ZD=new W("ROUTER_FORROOT_GUARD"),JV=[ls,{provide:mc,useClass:gs},jt,yc,{provide:ai,useFactory:PT,deps:[jt]},Ry,[]],LT=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[JV,[],{provide:fc,multi:!0,useValue:t},{provide:ZD,useFactory:n2,deps:[[jt,new an,new Gm]]},{provide:_c,useValue:r||{}},r?.useHash?e2():t2(),XV(),r?.preloadingStrategy?QV(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?r2(r):[],r?.bindToComponentInputs?YV().\u0275providers:[],r?.enableViewTransitions?ZV().\u0275providers:[],i2()]}}static forChild(t){return{ngModule:n,providers:[{provide:fc,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(Q(ZD,8))}}static{this.\u0275mod=An({type:n})}static{this.\u0275inj=Sn({})}}return n})();function XV(){return{provide:RT,useFactory:()=>{let n=F(ED),e=F(Ne),t=F(_c),r=F(Py),i=F(mc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new GV(i,r,n,e,t)}}}function e2(){return{provide:wr,useClass:ID}}function t2(){return{provide:wr,useClass:Lg}}function n2(n){return"guarded"}function r2(n){return[n.initialNavigation==="disabled"?KV().\u0275providers:[],n.initialNavigation==="enabledBlocking"?WV().\u0275providers:[]]}var JD=new W("");function i2(){return[{provide:JD,useFactory:kT},{provide:Ga,multi:!0,useExisting:JD}]}var WT=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(te(Nn),te(un))}}static{this.\u0275dir=ze({type:n})}}return n})(),sh=(()=>{class n extends WT{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})()}static{this.\u0275dir=ze({type:n,features:[Wt]})}}return n})(),Sc=new W("");var o2={provide:Sc,useExisting:Tn(()=>Ds),multi:!0};function s2(){let n=_r()?_r().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var a2=new W(""),Ds=(()=>{class n extends WT{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!s2())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(te(Nn),te(un),te(a2,8))}}static{this.\u0275dir=ze({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&de("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[yr([o2]),Wt]})}}return n})();function Oy(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var ah=new W(""),KT=new W("");function c2(n){return e=>{if(Oy(e.value)||Oy(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function l2(n){return Oy(n.value)?{required:!0}:null}function VT(n){return null}function QT(n){return n!=null}function YT(n){return Yi(n)?Fe(n):n}function ZT(n){let e={};return n.forEach(t=>{e=t!=null?V(V({},e),t):e}),Object.keys(e).length===0?null:e}function JT(n,e){return e.map(t=>t(n))}function u2(n){return!n.validate}function XT(n){return n.map(e=>u2(e)?e:t=>e.validate(t))}function d2(n){if(!n)return null;let e=n.filter(QT);return e.length==0?null:function(t){return ZT(JT(t,e))}}function Ly(n){return n!=null?d2(XT(n)):null}function h2(n){if(!n)return null;let e=n.filter(QT);return e.length==0?null:function(t){let r=JT(t,e).map(YT);return Pi(r).pipe(re(ZT))}}function Vy(n){return n!=null?h2(XT(n)):null}function jT(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function f2(n){return n._rawValidators}function p2(n){return n._rawAsyncValidators}function Fy(n){return n?Array.isArray(n)?n:[n]:[]}function eh(n,e){return Array.isArray(n)?n.includes(e):n===e}function UT(n,e){let t=Fy(e);return Fy(n).forEach(i=>{eh(t,i)||t.push(i)}),t}function BT(n,e){return Fy(e).filter(t=>!eh(n,t))}var th=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ly(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Vy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},bs=class extends th{get formDirective(){return null}get path(){return null}},Tc=class extends th{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},nh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},m2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},B7=pe(V({},m2),{"[class.ng-submitted]":"isSubmitted"}),ch=(()=>{class n extends nh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(te(Tc,2))}}static{this.\u0275dir=ze({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Kt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Wt]})}}return n})(),lh=(()=>{class n extends nh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(te(bs,10))}}static{this.\u0275dir=ze({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Kt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Wt]})}}return n})();var Ic="VALID",Xd="INVALID",Is="PENDING",Ec="DISABLED",Cs=class{},rh=class extends Cs{constructor(e,t){super(),this.value=e,this.source=t}},Cc=class extends Cs{constructor(e,t){super(),this.pristine=e,this.source=t}},Dc=class extends Cs{constructor(e,t){super(),this.touched=e,this.source=t}},Es=class extends Cs{constructor(e,t){super(),this.status=e,this.source=t}};function eS(n){return(uh(n)?n.validators:n)||null}function g2(n){return Array.isArray(n)?Ly(n):n||null}function tS(n,e){return(uh(e)?e.asyncValidators:n)||null}function y2(n){return Array.isArray(n)?Vy(n):n||null}function uh(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function v2(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new ee(1e3,"");if(!r[t])throw new ee(1001,"")}function _2(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new ee(1002,"")})}var ih=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Zi(()=>this.statusReactive()),this.statusReactive=ss(void 0),this._pristine=Zi(()=>this.pristineReactive()),this.pristineReactive=ss(!0),this._touched=Zi(()=>this.touchedReactive()),this.touchedReactive=ss(!1),this._events=new qe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return zn(this.statusReactive)}set status(e){zn(()=>this.statusReactive.set(e))}get valid(){return this.status===Ic}get invalid(){return this.status===Xd}get pending(){return this.status==Is}get disabled(){return this.status===Ec}get enabled(){return this.status!==Ec}get pristine(){return zn(this.pristineReactive)}set pristine(e){zn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return zn(this.touchedReactive)}set touched(e){zn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(UT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(UT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(BT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(BT(e,this._rawAsyncValidators))}hasValidator(e){return eh(this._rawValidators,e)}hasAsyncValidator(e){return eh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(pe(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Dc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Dc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(pe(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Cc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Cc(!0,r))}markAsPending(e={}){this.status=Is;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Es(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(pe(V({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ec,this.errors=null,this._forEachChild(i=>{i.disable(pe(V({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new rh(this.value,r)),this._events.next(new Es(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(pe(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ic,this._forEachChild(r=>{r.enable(pe(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(pe(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ic||this.status===Is)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new rh(this.value,t)),this._events.next(new Es(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(pe(V({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ec:Ic}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Is,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=YT(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Es(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new rt,this.statusChanges=new rt}_calculateStatus(){return this._allControlsDisabled()?Ec:this.errors?Xd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Is)?Is:this._anyControlsHaveStatus(Xd)?Xd:Ic}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Cc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Dc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){uh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=g2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=y2(this._rawAsyncValidators)}},oh=class extends ih{constructor(e,t,r){super(eS(t),tS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){_2(this,!0,e),Object.keys(e).forEach(r=>{v2(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var jy=new W("CallSetDisabledState",{providedIn:"root",factory:()=>Uy}),Uy="always";function w2(n,e){return[...e.path,n]}function nS(n,e,t=Uy){rS(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),E2(n,e),C2(n,e),b2(n,e),I2(n,e)}function $T(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function I2(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function rS(n,e){let t=f2(n);e.validator!==null?n.setValidators(jT(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=p2(n);e.asyncValidator!==null?n.setAsyncValidators(jT(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();$T(e._rawValidators,i),$T(e._rawAsyncValidators,i)}function E2(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&iS(n,e)})}function b2(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&iS(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function iS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function C2(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function D2(n,e){n==null,rS(n,e)}function T2(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function S2(n){return Object.getPrototypeOf(n.constructor)===sh}function A2(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function x2(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Ds?t=o:S2(o)?r=o:i=o}),i||r||t||null}var M2={provide:bs,useExisting:Tn(()=>Ac)},bc=Promise.resolve(),Ac=(()=>{class n extends bs{get submitted(){return zn(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Zi(()=>this.submittedReactive()),this.submittedReactive=ss(!1),this._directives=new Set,this.ngSubmit=new rt,this.form=new oh({},Ly(t),Vy(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){bc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),nS(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){bc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){bc.then(()=>{let r=this._findContainer(t.path),i=new oh({});D2(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){bc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){bc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),A2(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(te(ah,10),te(KT,10),te(jy,8))}}static{this.\u0275dir=ze({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&de("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yr([M2]),Wt]})}}return n})();function HT(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function zT(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var R2=class extends ih{constructor(e=null,t,r){super(eS(t),tS(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),uh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(zT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){HT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){HT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){zT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var N2={provide:Tc,useExisting:Tn(()=>xc)},qT=Promise.resolve(),xc=(()=>{class n extends Tc{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new R2,this._registered=!1,this.name="",this.update=new rt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=x2(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),T2(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){nS(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){qT.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&ei(r);qT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?w2(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(te(bs,9),te(ah,10),te(KT,10),te(Sc,10),te(Pn,8),te(jy,8))}}static{this.\u0275dir=ze({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[yr([N2]),Wt,cn]})}}return n})(),dh=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ze({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),P2={provide:Sc,useExisting:Tn(()=>By),multi:!0},By=(()=>{class n extends sh{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})()}static{this.\u0275dir=ze({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&de("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[yr([P2]),Wt]})}}return n})();var k2={provide:Sc,useExisting:Tn(()=>hh),multi:!0};function oS(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function O2(n){return n.split(":")[0]}var hh=(()=>{class n extends sh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=oS(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=O2(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})()}static{this.\u0275dir=ze({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&de("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[yr([k2]),Wt]})}}return n})(),sS=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(oS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(te(un),te(Nn),te(hh,9))}}static{this.\u0275dir=ze({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),F2={provide:Sc,useExisting:Tn(()=>aS),multi:!0};function GT(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function L2(n){return n.split(":")[0]}var aS=(()=>{class n extends sh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],u=this._getOptionValue(l.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=L2(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})()}static{this.\u0275dir=ze({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&de("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[yr([F2]),Wt]})}}return n})(),cS=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(GT(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(GT(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(te(un),te(Nn),te(aS,9))}}static{this.\u0275dir=ze({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function V2(n){return typeof n=="number"?n:parseFloat(n)}var lS=(()=>{class n{constructor(){this._validator=VT}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):VT,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ze({type:n,features:[cn]})}}return n})();var j2={provide:ah,useExisting:Tn(()=>$y),multi:!0},$y=(()=>{class n extends lS{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>V2(t),this.createValidator=t=>c2(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})()}static{this.\u0275dir=ze({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&as("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[yr([j2]),Wt]})}}return n})(),U2={provide:ah,useExisting:Tn(()=>Mc),multi:!0};var Mc=(()=>{class n extends lS{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ei,this.createValidator=t=>l2}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})()}static{this.\u0275dir=ze({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&as("required",i._enabled?"":null)},inputs:{required:"required"},features:[yr([U2]),Wt]})}}return n})();var B2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=An({type:n})}static{this.\u0275inj=Sn({})}}return n})();var Ts=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:jy,useValue:t.callSetDisabledState??Uy}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=An({type:n})}static{this.\u0275inj=Sn({imports:[B2]})}}return n})();function fh(n){n||(ed(fh),n=F(Yr));let e=new ye(t=>n.onDestroy(t.next.bind(t)));return t=>t.pipe(Sa(e))}function dS(n){return typeof n=="function"}function li(n){return typeof n=="string"}function Rc(n){return!!n&&typeof n=="object"&&!Array.isArray(n)}function ph(n){return n==null}function Hy(n){return!ph(n)}function zy(n){return n?Array.isArray(n)||li(n)?n.length:Rc(n)?Object.keys(n).length:0:0}function hS(n){return zy(n)===0}function qy(n){return n.replace(/(?:^\w|[A-Z]|\b\w)/g,(e,t)=>t==0?e.toLowerCase():e.toUpperCase()).replace(/\s+|_|-|\//g,"")}var Ky=class{translations;constructor(e){this.translations=e}getTranslation(e){return ne(this.translations.get(e)||{})}},pS=new W(""),As=new W("",{providedIn:"root",factory:()=>Ss}),Ss={defaultLang:"en",reRenderOnLangChange:!1,prodMode:!1,failedRetries:2,fallbackLang:[],availableLangs:[],missingHandler:{logMissingKey:!0,useFallbackTranslation:!1,allowEmpty:!1},flatten:{aot:!1},interpolation:["{{","}}"],scopes:{keepCasing:!1}};function $2(n={}){return pe(V(V({},Ss),n),{missingHandler:V(V({},Ss.missingHandler),n.missingHandler),flatten:V(V({},Ss.flatten),n.flatten),scopes:V(V({},Ss.scopes),n.scopes)})}function Gy(n,e){return n&&(Object.prototype.hasOwnProperty.call(n,e)?n[e]:e.split(".").reduce((t,r)=>t?.[r],n))}function H2(n,e,t){n=V({},n);let r=e.split("."),i=r.length-1;return r.reduce((o,s,a)=>(a===i?o[s]=t:o[s]=Array.isArray(o[s])?o[s].slice():V({},o[s]),o&&o[s]),n),n}var mS=new W(""),z2=(()=>{class n{config=F(As,{optional:!0})??Ss;get interpolationMatcher(){return q2(this.config)}transpile({value:t,params:r={},translation:i,key:o}){if(li(t)){let s,a=t;for(;(s=this.interpolationMatcher.exec(a))!==null;){let[l,u]=s;a=a.replace(l,()=>{let h=u.trim(),p=Gy(r,h);return Hy(p)?p:Hy(i[h])?this.transpile({params:r,translation:i,key:o,value:i[h]}):""})}return a}else r&&(Rc(t)?t=this.handleObject({value:t,params:r,translation:i,key:o}):Array.isArray(t)&&(t=this.handleArray({value:t,params:r,translation:i,key:o})));return t}handleObject({value:t,params:r={},translation:i,key:o}){let s=t;return Object.keys(r).forEach(a=>{let l=this.transpile({value:Gy(s,a),params:Gy(r,a),translation:i,key:o});s=H2(s,a,l)}),s}handleArray(i){var o=i,{value:t}=o,r=Do(o,["value"]);return t.map(s=>this.transpile(V({value:s},r)))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();function q2(n){let[e,t]=n.interpolation;return new RegExp(`${e}([^${e}${t}]*?)${t}`,"g")}var gS=new W(""),G2=(()=>{class n{handle(t,r){if(r.missingHandler.logMissingKey&&!r.prodMode){let i=`Missing translation for '${t}'`;console.warn(`%c ${i}`,"font-size: 12px; color: red")}return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),yS=new W(""),W2=(()=>{class n{preSaveTranslation(t){return t}preSaveTranslationKey(t,r){return r}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),vS=new W(""),K2=(()=>{class n{userConfig;constructor(t){this.userConfig=t}getNextLangs(){let t=this.userConfig.fallbackLang;if(!t)throw new Error("When using the default fallback, a fallback language must be provided in the config!");return Array.isArray(t)?t:[t]}static \u0275fac=function(r){return new(r||n)(Q(As))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();function _S(n){let{path:e,inlineLoader:t,mainLoader:r,data:i}=n;if(t){let o=t[e];if(dS(o)===!1)throw`You're using an inline loader but didn't provide a loader for ${e}`;return t[e]().then(s=>s.default?s.default:s)}return r.getTranslation(e,i)}function Q2({mainLoader:n,path:e,data:t,fallbackPath:r,inlineLoader:i}){return(r?[e,r]:[e]).map(s=>{let a=_S({path:s,mainLoader:n,inlineLoader:i,data:t});return Fe(a).pipe(re(l=>({translation:l,lang:s})))})}function fS(n){let e={};function t(r,i){if(r===null)e[i]=null;else if(Rc(r))for(let[o,s]of Object.entries(r))t(s,i?`${i}.${o}`:o);else e[i]=r}return t(n,""),e}function Y2(n){let e={};for(let[t,r]of Object.entries(n)){let i=t.split("."),o=e;i.forEach((s,a)=>{a===i.length-1?o[s]=r:(o[s]??={},o=o[s])})}return e}function Nc(n){if(!n)return"";let e=n.split("/");return e.pop(),e.join("/")}function ui(n){return n?n.split("/").pop():""}function Z2(n,e){return Object.keys(n).reduce((t,r)=>(t[`${e}/${r}`]=n[r],t),{})}function wS(n){return typeof n?.scope=="string"}function J2(n){return n?.loader&&Rc(n.loader)}function Zy(n,e){return J2(n)?Z2(n.loader,e):void 0}function Wy(n){return{scope:Nc(n)||null,langName:ui(n)}}var X2;var fn=(()=>{class n{loader;parser;missingHandler;interceptor;fallbackStrategy;langChanges$;translations=new Map;cache=new Map;firstFallbackLang;defaultLang="";availableLangs=[];isResolvedMissingOnce=!1;lang;failedLangs=new Set;events=new qe;events$=this.events.asObservable();config;destroyRef=F(Yr);constructor(t,r,i,o,s,a){this.loader=t,this.parser=r,this.missingHandler=i,this.interceptor=o,this.fallbackStrategy=a,this.loader||(this.loader=new Ky(this.translations)),X2=this,this.config=JSON.parse(JSON.stringify(s)),this.setAvailableLangs(this.config.availableLangs||[]),this.setFallbackLangForMissingTranslation(this.config),this.setDefaultLang(this.config.defaultLang),this.lang=new Ke(this.getDefaultLang()),this.langChanges$=this.lang.asObservable(),this.events$.subscribe(l=>{l.type==="translationLoadSuccess"&&l.wasFailure&&this.setActiveLang(l.payload.langName)}),this.destroyRef.onDestroy(()=>{this.lang.complete(),this.events.complete(),this.cache.clear()})}getDefaultLang(){return this.defaultLang}setDefaultLang(t){this.defaultLang=t}getActiveLang(){return this.lang.getValue()}setActiveLang(t){return this.parser.onLangChanged?.(t),this.lang.next(t),this.events.next({type:"langChanged",payload:Wy(t)}),this}setAvailableLangs(t){this.availableLangs=t}getAvailableLangs(){return this.availableLangs}load(t,r={}){let i=this.cache.get(t);if(i)return i;let o,s=this._isLangScoped(t),a;s&&(a=Nc(t));let l={path:t,mainLoader:this.loader,inlineLoader:r.inlineLoader,data:s?{scope:a}:void 0};if(this.useFallbackTranslation(t)){let h=s?`${a}/${this.firstFallbackLang}`:this.firstFallbackLang,p=Q2(pe(V({},l),{fallbackPath:h}));o=Pi(p)}else{let h=_S(l);o=Fe(h)}let u=o.pipe(Pp(this.config.failedRetries),Qe(h=>{if(Array.isArray(h)){h.forEach(p=>{this.handleSuccess(p.lang,p.translation),p.lang!==t&&this.cache.set(p.lang,ne({}))});return}this.handleSuccess(t,h)}),In(h=>(this.config.prodMode||console.error(`Error while trying to load "${t}"`,h),this.handleFailure(t,r))),Fp(1),fh(this.destroyRef));return this.cache.set(t,u),u}translate(t,r={},i=this.getActiveLang()){if(!t)return t;let{scope:o,resolveLang:s}=this.resolveLangAndScope(i);if(Array.isArray(t))return t.map(u=>this.translate(o?`${o}.${u}`:u,r,s));t=o?`${o}.${t}`:t;let a=this.getTranslation(s),l=a[t];return l?this.parser.transpile({value:l,params:r,translation:a,key:t}):this._handleMissingKey(t,l,r)}selectTranslate(t,r,i,o=!1){let s,a=(u,h)=>this.load(u,h).pipe(re(()=>o?this.translateObject(t,r,u):this.translate(t,r,u)));if(ph(i))return this.langChanges$.pipe(et(u=>a(u)));if(i=Array.isArray(i)?i[0]:i,wS(i)){let u=i;i=u.scope,s=Zy(u,u.scope)}if(i=i,this.isLang(i)||this.isScopeWithLang(i))return a(i);let l=i;return this.langChanges$.pipe(et(u=>a(`${l}/${u}`,{inlineLoader:s})))}isScopeWithLang(t){return this.isLang(ui(t))}translateObject(t,r={},i=this.getActiveLang()){if(li(t)||Array.isArray(t)){let{resolveLang:s,scope:a}=this.resolveLangAndScope(i);if(Array.isArray(t))return t.map(h=>this.translateObject(a?`${a}.${h}`:h,r,s));let l=this.getTranslation(s);t=a?`${a}.${t}`:t;let u=Y2(this.getObjectByKey(l,t));return hS(u)?this.translate(t,r,i):this.parser.transpile({value:u,params:r,translation:l,key:t})}let o=[];for(let[s,a]of this.getEntries(t))o.push(this.translateObject(s,a,i));return o}selectTranslateObject(t,r,i){if(li(t)||Array.isArray(t))return this.selectTranslate(t,r,i,!0);let[[o,s],...a]=this.getEntries(t);return this.selectTranslateObject(o,s,i).pipe(re(l=>{let u=[l];for(let[h,p]of a)u.push(this.translateObject(h,p,i));return u}))}getTranslation(t){if(t){if(this.isLang(t))return this.translations.get(t)||{};{let{scope:r,resolveLang:i}=this.resolveLangAndScope(t),o=this.translations.get(i)||{};return this.getObjectByKey(o,r)}}return this.translations}selectTranslation(t){let r=this.langChanges$;if(t){let i=ui(t)!==t;this.isLang(t)||i?r=ne(t):r=this.langChanges$.pipe(re(o=>`${t}/${o}`))}return r.pipe(et(i=>this.load(i).pipe(re(()=>this.getTranslation(i)))))}setTranslation(t,r=this.getActiveLang(),i={}){let s=V(V({},{merge:!0,emitChange:!0}),i),a=Nc(r),l=t;if(a){let y=this.getMappedScope(a);l=fS({[y]:t})}let u=a?ui(r):r,h=V(V({},s.merge&&this.getTranslation(u)),l),p=this.config.flatten.aot?h:fS(h),g=this.interceptor.preSaveTranslation(p,u);this.translations.set(u,g),s.emitChange&&this.setActiveLang(this.getActiveLang())}setTranslationKey(t,r,i={}){let o=i.lang||this.getActiveLang(),s=this.interceptor.preSaveTranslationKey(t,r,o),a={[t]:s};this.setTranslation(a,o,pe(V({},i),{merge:!0}))}setFallbackLangForMissingTranslation({fallbackLang:t}){let r=Array.isArray(t)?t[0]:t;t&&this.useFallbackTranslation(r)&&(this.firstFallbackLang=r)}_handleMissingKey(t,r,i){if(this.config.missingHandler.allowEmpty&&r==="")return"";if(!this.isResolvedMissingOnce&&this.useFallbackTranslation()){this.isResolvedMissingOnce=!0;let o=this.translate(t,i,this.firstFallbackLang);return this.isResolvedMissingOnce=!1,o}return this.missingHandler.handle(t,this.getMissingHandlerData(),i)}_isLangScoped(t){return this.getAvailableLangsIds().indexOf(t)===-1}isLang(t){return this.getAvailableLangsIds().indexOf(t)!==-1}_loadDependencies(t,r){let i=ui(t);return this._isLangScoped(t)&&!this.isLoadedTranslation(i)?Ni([this.load(i),this.load(t,{inlineLoader:r})]):this.load(t,{inlineLoader:r})}_completeScopeWithLang(t){return this._isLangScoped(t)&&!this.isLang(ui(t))?`${t}/${this.getActiveLang()}`:t}_setScopeAlias(t,r){this.config.scopeMapping||(this.config.scopeMapping={}),this.config.scopeMapping[t]=r}isLoadedTranslation(t){return zy(this.getTranslation(t))}getAvailableLangsIds(){let t=this.getAvailableLangs()[0];return li(t)?this.getAvailableLangs():this.getAvailableLangs().map(r=>r.id)}getMissingHandlerData(){return pe(V({},this.config),{activeLang:this.getActiveLang(),availableLangs:this.availableLangs,defaultLang:this.defaultLang})}useFallbackTranslation(t){return this.config.missingHandler.useFallbackTranslation&&t!==this.firstFallbackLang}handleSuccess(t,r){this.setTranslation(r,t,{emitChange:!1}),this.events.next({wasFailure:!!this.failedLangs.size,type:"translationLoadSuccess",payload:Wy(t)}),this.failedLangs.forEach(i=>this.cache.delete(i)),this.failedLangs.clear()}handleFailure(t,r){ph(r.failedCounter)&&(r.failedCounter=0,r.fallbackLangs||(r.fallbackLangs=this.fallbackStrategy.getNextLangs(t)));let i=t.split("/"),s=r.fallbackLangs[r.failedCounter];if(this.failedLangs.add(t),this.cache.has(s))return this.handleSuccess(s,this.getTranslation(s)),kt;let a=s===i[i.length-1];if(!s||a){let u="Unable to load translation and all the fallback languages";throw i.length>1&&(u+=", did you misspelled the scope name?"),new Error(u)}let l=s;return i.length>1&&(i[i.length-1]=s,l=i.join("/")),r.failedCounter++,this.events.next({type:"translationLoadFailure",payload:Wy(t)}),this.load(l,r)}getMappedScope(t){let{scopeMapping:r={},scopes:i={keepCasing:!1}}=this.config;return r[t]||(i.keepCasing?t:qy(t))}resolveLangAndScope(t){let r=t,i;if(this._isLangScoped(t)){let o=ui(t),s=this.isLang(o);r=s?o:this.getActiveLang(),i=this.getMappedScope(s?Nc(t):t)}return{scope:i,resolveLang:r}}getObjectByKey(t,r){let i={},o=`${r}.`;for(let s in t)s.startsWith(o)&&(i[s.replace(o,"")]=t[s]);return i}getEntries(t){return t instanceof Map?t.entries():Object.entries(t)}static \u0275fac=function(r){return new(r||n)(Q(pS,8),Q(mS),Q(gS),Q(yS),Q(As),Q(vS))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ej=(()=>{class n{html;static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ue({type:n,selectors:[["ng-component"]],inputs:{html:"html"},standalone:!0,features:[Be],decls:1,vars:1,consts:[[1,"transloco-loader-template",3,"innerHTML"]],template:function(r,i){r&1&&G(0,"div",0),r&2&&O("innerHTML",i.html,Gi)},encapsulation:2})}return n})(),Qy=class{view;vcr;constructor(e,t){this.view=e,this.vcr=t}attachView(){if(this.view instanceof Wi)this.vcr.createEmbeddedView(this.view);else if(li(this.view)){let e=this.vcr.createComponent(ej);e.instance.html=this.view,e.hostView.detectChanges()}else this.vcr.createComponent(this.view)}detachView(){this.vcr.clear()}},IS=new W(""),tj=new W(""),ES=new W("");function Yy(n,e,t="|"){if(li(n)){let r=n.split(t),i=r.pop();return i===e?[!0,r.toString()]:[!1,i]}return[!1,""]}function bS(n,e){let[t]=Yy(e,"static");return t?!1:!!n.config.reRenderOnLangChange}function CS(n){return n?e=>e:nn(1)}var mh=class{initialized=!1;resolve({inline:e,provider:t,active:r}){let i=r;if(this.initialized)return i=r,i;if(t){let[,o]=Yy(t,"static");i=o}if(e){let[,o]=Yy(e,"static");i=o}return this.initialized=!0,i}resolveLangBasedOnScope(e){return Nc(e)?ui(e):e}resolveLangPath(e,t){return t?`${t}/${e}`:e}},gh=class{service;constructor(e){this.service=e}resolve(e){let{inline:t,provider:r}=e;if(t)return t;if(r){if(wS(r)){let{scope:i,alias:o=this.service.config.scopes.keepCasing?i:qy(i)}=r;return this.service._setScopeAlias(i,o),i}return r}}},pn=(()=>{class n{destroyRef=F(Yr);service=F(fn);tpl=F(Wi,{optional:!0});providerLang=F(IS,{optional:!0});providerScope=F(ES,{optional:!0});providedLoadingTpl=F(tj,{optional:!0});cdr=F(Pn);host=F(un);vcr=F(Jr);renderer=F(Nn);view;memo=new Map;key;params={};inlineScope;inlineRead;prefix;inlineLang;inlineTpl;currentLang;loaderTplHandler;initialized=!1;path;langResolver=new mh;scopeResolver=new gh(this.service);strategy=this.tpl===null?"attribute":"structural";static ngTemplateContextGuard(t,r){return!0}ngOnInit(){let t=bS(this.service,this.providerLang||this.inlineLang);if(this.service.langChanges$.pipe(et(r=>{let i=this.langResolver.resolve({inline:this.inlineLang,provider:this.providerLang,active:r});return Array.isArray(this.providerScope)?Pi(this.providerScope.map(o=>this.resolveScope(i,o))):this.resolveScope(i,this.providerScope)}),CS(t),fh(this.destroyRef)).subscribe(()=>{this.currentLang=this.langResolver.resolveLangBasedOnScope(this.path),this.strategy==="attribute"?this.attributeStrategy():this.structuralStrategy(this.currentLang,this.prefix||this.inlineRead),this.cdr.markForCheck(),this.initialized=!0}),!this.initialized){let r=this.resolveLoadingContent();r&&(this.loaderTplHandler=new Qy(r,this.vcr),this.loaderTplHandler.attachView())}}ngOnChanges(t){this.strategy==="attribute"&&Object.keys(t).some(i=>!t[i].firstChange)&&this.attributeStrategy()}attributeStrategy(){this.detachLoader(),this.renderer.setProperty(this.host.nativeElement,"innerText",this.service.translate(this.key,this.params,this.currentLang))}structuralStrategy(t,r){this.memo.clear();let i=this.getTranslateFn(t,r);this.view?(this.view.context.$implicit=i,this.view.context.currentLang=this.currentLang):(this.detachLoader(),this.view=this.vcr.createEmbeddedView(this.tpl,{$implicit:i,currentLang:this.currentLang}))}getTranslateFn(t,r){return(i,o)=>{let s=r?`${r}.${i}`:i,a=o?`${s}${JSON.stringify(o)}`:s;return this.memo.has(a)||this.memo.set(a,this.service.translate(s,o,t)),this.memo.get(a)}}resolveLoadingContent(){return this.inlineTpl||this.providedLoadingTpl}ngOnDestroy(){this.memo.clear()}detachLoader(){this.loaderTplHandler?.detachView()}resolveScope(t,r){let i=this.scopeResolver.resolve({inline:this.inlineScope,provider:r});this.path=this.langResolver.resolveLangPath(t,i);let o=Zy(r,i);return this.service._loadDependencies(this.path,o)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ze({type:n,selectors:[["","transloco",""]],inputs:{key:[0,"transloco","key"],params:[0,"translocoParams","params"],inlineScope:[0,"translocoScope","inlineScope"],inlineRead:[0,"translocoRead","inlineRead"],prefix:[0,"translocoPrefix","prefix"],inlineLang:[0,"translocoLang","inlineLang"],inlineTpl:[0,"translocoLoadingTpl","inlineTpl"]},standalone:!0,features:[cn]})}return n})(),mn=(()=>{class n{service;providerScope;providerLang;cdr;subscription=null;lastValue="";lastKey;path;langResolver=new mh;scopeResolver;constructor(t,r,i,o){this.service=t,this.providerScope=r,this.providerLang=i,this.cdr=o,this.scopeResolver=new gh(this.service)}transform(t,r,i){if(!t)return t;let o=r?`${t}${JSON.stringify(r)}`:t;if(o===this.lastKey)return this.lastValue;this.lastKey=o,this.subscription?.unsubscribe();let s=bS(this.service,this.providerLang||i);return this.subscription=this.service.langChanges$.pipe(et(a=>{let l=this.langResolver.resolve({inline:i,provider:this.providerLang,active:a});return Array.isArray(this.providerScope)?Pi(this.providerScope.map(u=>this.resolveScope(l,u))):this.resolveScope(l,this.providerScope)}),CS(s)).subscribe(()=>this.updateValue(t,r)),this.lastValue}ngOnDestroy(){this.subscription?.unsubscribe(),this.subscription=null}updateValue(t,r){let i=this.langResolver.resolveLangBasedOnScope(this.path);this.lastValue=this.service.translate(t,r,i),this.cdr.markForCheck()}resolveScope(t,r){let i=this.scopeResolver.resolve({inline:void 0,provider:r});this.path=this.langResolver.resolveLangPath(t,i);let o=Zy(r,i);return this.service._loadDependencies(this.path,o)}static \u0275fac=function(r){return new(r||n)(te(fn,16),te(ES,24),te(IS,24),te(Pn,16))};static \u0275pipe=Ym({name:"transloco",type:n,pure:!1,standalone:!0})}return n})();var Tt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=An({type:n});static \u0275inj=Sn({})}return n})();function DS(n){let e=[ij(z2),sj(G2),aj(W2),oj(K2)];return n.config&&e.push(nj(n.config)),n.loader&&e.push(rj(n.loader)),e}function nj(n){return gt([{provide:As,useValue:$2(n)}])}function rj(n){return gt([{provide:pS,useClass:n}])}function ij(n){return gt([{provide:mS,useClass:n,deps:[As]}])}function oj(n){return gt([{provide:vS,useClass:n,deps:[As]}])}function sj(n){return gt([{provide:gS,useClass:n}])}function aj(n){return gt([{provide:yS,useClass:n}])}var hK=new W("TRANSLOCO_TEST_LANGS - Available testing languages"),fK=new W("TRANSLOCO_TEST_OPTIONS - Testing options");var Kn=class n{constructor(e){this.router=e;this.isAuthenticated=!!localStorage.getItem(this.authTokenKey),this.authStatusSubject.next(this.isAuthenticated)}isAuthenticated=!1;authTokenKey="authToken";username="admin";password="terciopelo123";authStatusSubject=new Ke(this.isAuthenticated);authStatus$=this.authStatusSubject.asObservable();login(e,t){if(e===this.username&&t===this.password){let r=btoa(`${e}:${t}`);return localStorage.setItem(this.authTokenKey,r),this.isAuthenticated=!0,this.authStatusSubject.next(!0),!0}return!1}logout(){localStorage.removeItem(this.authTokenKey),this.isAuthenticated=!1,this.authStatusSubject.next(!1),this.router.navigate(["/admin/login"])}isLoggedIn(){return this.isAuthenticated}getAuthToken(){return localStorage.getItem(this.authTokenKey)}static \u0275fac=function(t){return new(t||n)(Q(jt))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};function cj(n,e){n&1&&G(0,"h2",9)}function lj(n,e){n&1&&G(0,"label",10)}function uj(n,e){n&1&&G(0,"label",10)}function dj(n,e){n&1&&G(0,"button",11)}function hj(n,e){if(n&1&&(_(0,"p",12),R(1),b()),n&2){let t=ue();w(),Ge(t.errorMessage)}}var vh=class n{constructor(e,t,r){this.authService=e;this.router=t;this.translocoService=r}username="";password="";errorMessage="";onSubmit(){this.authService.login(this.username,this.password)?this.router.navigate(["/admin/dashboard"]):this.errorMessage=this.translocoService.translate("adminLogin.error")}static \u0275fac=function(t){return new(t||n)(te(Kn),te(jt),te(fn))};static \u0275cmp=Ue({type:n,selectors:[["app-admin-login"]],standalone:!0,features:[Be],decls:12,vars:7,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gray-100"],[1,"bg-white","p-8","rounded-lg","shadow-md","w-full","max-w-md"],["class","text-2xl font-bold mb-6 text-center",4,"transloco"],[1,"space-y-4",3,"ngSubmit"],["class","block text-sm font-medium mb-1",4,"transloco"],["type","text","name","username","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","password","name","password","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","submit","class","w-full btn bg-blue-600 hover:bg-blue-700",4,"transloco"],["class","text-red-500 text-center",4,"ngIf"],[1,"text-2xl","font-bold","mb-6","text-center"],[1,"block","text-sm","font-medium","mb-1"],["type","submit",1,"w-full","btn","bg-blue-600","hover:bg-blue-700"],[1,"text-red-500","text-center"]],template:function(t,r){t&1&&(_(0,"div",0)(1,"div",1),B(2,cj,1,0,"h2",2),_(3,"form",3),de("ngSubmit",function(){return r.onSubmit()}),_(4,"div"),B(5,lj,1,0,"label",4),_(6,"input",5),ut("ngModelChange",function(o){return vt(r.username,o)||(r.username=o),o}),b()(),_(7,"div"),B(8,uj,1,0,"label",4),_(9,"input",6),ut("ngModelChange",function(o){return vt(r.password,o)||(r.password=o),o}),b()(),B(10,dj,1,0,"button",7)(11,hj,2,1,"p",8),b()()()),t&2&&(w(2),O("transloco","adminLogin.title"),w(3),O("transloco","adminLogin.username"),w(),lt("ngModel",r.username),w(2),O("transloco","adminLogin.password"),w(),lt("ngModel",r.password),w(),O("transloco","adminLogin.login"),w(),O("ngIf",r.errorMessage))},dependencies:[Ts,dh,Ds,ch,lh,Mc,xc,Ac,Qt,qn,Tt,pn]})};var _h=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.isLoggedIn()?!0:(this.router.navigate(["/admin/login"]),!1)}static \u0275fac=function(t){return new(t||n)(Q(Kn),Q(jt))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};function fj(n,e){if(n&1){let t=ct();_(0,"button",2),de("click",function(){let i=oe(t).$implicit,o=ue();return se(o.changeLang(i))}),R(1),b()}if(n&2){let t=e.$implicit,r=ue();Kt("active",t===r.activeLang),w(),H(" ",t.toUpperCase()," ")}}var wh=class n{constructor(e){this.translocoService=e;this.activeLang=this.translocoService.getActiveLang()}availableLangs=[];activeLang;ngOnInit(){this.availableLangs=this.translocoService.getAvailableLangs()}changeLang(e){this.translocoService.setActiveLang(e),this.activeLang=e}static \u0275fac=function(t){return new(t||n)(te(fn))};static \u0275cmp=Ue({type:n,selectors:[["app-language-switcher"]],standalone:!0,features:[Be],decls:2,vars:1,consts:[[1,"language-switcher"],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,r){t&1&&(_(0,"div",0),B(1,fj,2,3,"button",1),b()),t&2&&(w(),O("ngForOf",r.availableLangs))},dependencies:[Qt,ti],styles:[".language-switcher[_ngcontent-%COMP%]{display:flex;gap:.5rem}button[_ngcontent-%COMP%]{background:none;border:1px solid #ccc;padding:.5rem;cursor:pointer;border-radius:4px}button.active[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-color:#007bff}"]})};function pj(n,e){n&1&&(wd(0),_(1,"a",25)(2,"span",26),R(3,"\u{1F510}"),b(),R(4),z(5,"transloco"),b(),Id()),n&2&&(w(4),H(" ",q(5,1,"header.login")," "))}function mj(n,e){if(n&1){let t=ct();_(0,"a",27),de("click",function(){oe(t);let i=ue();return se(i.logout())}),_(1,"span",26),R(2,"\u{1F6AA}"),b(),R(3),z(4,"transloco"),b()}n&2&&(w(3),H(" ",q(4,1,"header.logout")," "))}function gj(n,e){if(n&1){let t=ct();wd(0),_(1,"a",28),de("click",function(){oe(t);let i=ue();return se(i.isMenuOpen=!1)}),_(2,"span",26),R(3,"\u{1F510}"),b(),R(4),z(5,"transloco"),b(),Id()}n&2&&(w(4),H(" ",q(5,1,"header.login")," "))}function yj(n,e){if(n&1){let t=ct();_(0,"a",29),de("click",function(){oe(t);let i=ue();return i.logout(),se(i.isMenuOpen=!1)}),_(1,"span",26),R(2,"\u{1F6AA}"),b(),R(3),z(4,"transloco"),b()}n&2&&(w(3),H(" ",q(4,1,"header.logout")," "))}var Ih=class n{constructor(e){this.authService=e}isMenuOpen=!1;isAuthenticated=!1;authSubscription;ngOnInit(){this.authSubscription=this.authService.authStatus$.subscribe(e=>this.isAuthenticated=e)}ngOnDestroy(){this.authSubscription&&this.authSubscription.unsubscribe()}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}logout(){this.authService.logout()}static \u0275fac=function(t){return new(t||n)(te(Kn))};static \u0275cmp=Ue({type:n,selectors:[["app-header"]],standalone:!0,features:[Be],decls:60,vars:34,consts:[["logoutTemplate",""],["logoutMobileTemplate",""],[1,"bg-transparent","sm:bg-white/80","backdrop-blur-sm","sticky","top-0","z-40","border-b","border-accent/30","shadow-sm"],[1,"container","mx-auto","px-4"],[1,"flex","justify-between","items-center","py-4"],["href","#inicio",1,"text-3xl","font-light","text-primary-dark"],[1,"font-serif","italic"],[1,"hidden","md:flex","space-x-8","items-center"],["href","#galeria",1,"text-text","hover:text-primary-dark","transition-colors","duration-300","font-light","relative","group"],[1,"absolute","bottom-0","left-0","w-0","h-0.5","bg-accent","group-hover:w-full","transition-all","duration-300"],["href","#inicio",1,"text-text","hover:text-primary-dark","transition-colors","duration-300","font-light","relative","group"],["href","#tecnica",1,"text-text","hover:text-primary-dark","transition-colors","duration-300","font-light","relative","group"],["href","#contacto",1,"text-text","hover:text-primary-dark","transition-colors","duration-300","font-light","relative","group"],[1,"ml-4"],[4,"ngIf","ngIfElse"],[1,"md:hidden","p-2","rounded-lg","bg-accent/20","hover:bg-accent/30","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-primary-dark"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16m-7 6h7"],[1,"md:hidden","transition-all","duration-300","overflow-hidden"],[1,"space-y-2"],["href","#inicio",1,"block","px-4","py-3","text-text","hover:bg-accent/20","rounded-lg","transition-colors","font-light",3,"click"],["href","#tecnica",1,"block","px-4","py-3","text-text","hover:bg-accent/20","rounded-lg","transition-colors","font-light",3,"click"],["href","#galeria",1,"block","px-4","py-3","text-text","hover:bg-accent/20","rounded-lg","transition-colors","font-light",3,"click"],["href","#contacto",1,"block","px-4","py-3","text-text","hover:bg-accent/20","rounded-lg","transition-colors","font-light",3,"click"],[1,"pt-2"],["routerLink","/admin/login",1,"btn","px-4","py-2","text-sm","font-light"],[1,"mr-2"],[1,"btn","btn-outline","px-4","py-2","text-sm","font-light","cursor-pointer",2,"background-color","#FECACA","border-color","#FCA5A5","color","#DC2626",3,"click"],["routerLink","/admin/login",1,"block","btn","text-center",3,"click"],[1,"block","btn","btn-outline","text-center","cursor-pointer",2,"background-color","#FECACA","border-color","#FCA5A5","color","#DC2626",3,"click"]],template:function(t,r){if(t&1){let i=ct();_(0,"header",2)(1,"div",3)(2,"nav",4)(3,"a",5)(4,"span",6),R(5,"Malaver"),b()(),_(6,"ul",7)(7,"li")(8,"a",8),R(9),z(10,"transloco"),G(11,"span",9),b()(),_(12,"li")(13,"a",10),R(14),z(15,"transloco"),G(16,"span",9),b()(),_(17,"li")(18,"a",11),R(19),z(20,"transloco"),G(21,"span",9),b()(),_(22,"li")(23,"a",12),R(24),z(25,"transloco"),G(26,"span",9),b()(),_(27,"li",13),G(28,"app-language-switcher"),b(),_(29,"li",13),B(30,pj,6,3,"ng-container",14)(31,mj,5,3,"ng-template",null,0,za),b()(),_(33,"button",15),de("click",function(){return oe(i),se(r.toggleMenu())}),Mb(),_(34,"svg",16),G(35,"path",17),b()()(),Rb(),_(36,"div",18)(37,"ul",19)(38,"li")(39,"a",20),de("click",function(){return oe(i),se(r.isMenuOpen=!1)}),R(40),z(41,"transloco"),b()(),_(42,"li")(43,"a",21),de("click",function(){return oe(i),se(r.isMenuOpen=!1)}),R(44),z(45,"transloco"),b()(),_(46,"li")(47,"a",22),de("click",function(){return oe(i),se(r.isMenuOpen=!1)}),R(48),z(49,"transloco"),b()(),_(50,"li")(51,"a",23),de("click",function(){return oe(i),se(r.isMenuOpen=!1)}),R(52),z(53,"transloco"),b()(),_(54,"li",24),G(55,"app-language-switcher"),b(),_(56,"li",24),B(57,gj,6,3,"ng-container",14)(58,yj,5,3,"ng-template",null,1,za),b()()()()()}if(t&2){let i=Qi(32),o=Qi(59);w(9),H(" ",q(10,18,"header.gallery")," "),w(5),H(" ",q(15,20,"header.artist")," "),w(5),H(" ",q(20,22,"header.technique")," "),w(5),H(" ",q(25,24,"header.contact")," "),w(6),O("ngIf",!r.isAuthenticated)("ngIfElse",i),w(6),Kt("max-h-0",!r.isMenuOpen)("max-h-96",r.isMenuOpen)("pb-4",r.isMenuOpen),w(4),H(" ",q(41,26,"header.artist")," "),w(4),H(" ",q(45,28,"header.technique")," "),w(4),H(" ",q(49,30,"header.gallery")," "),w(4),H(" ",q(53,32,"header.contact")," "),w(5),O("ngIf",!r.isAuthenticated)("ngIfElse",o)}},dependencies:[Qt,qn,LT,MT,wh,Tt,mn],styles:["@media (max-width: 768px){header[_ngcontent-%COMP%]{z-index:30!important}}"]})};function vj(n,e){n&1&&(_(0,"span",32),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"hero.title")," "))}function _j(n,e){n&1&&(_(0,"div",33),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"hero.experience")," "))}function wj(n,e){n&1&&(_(0,"div",33),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"hero.worksCreated")," "))}function Ij(n,e){n&1&&(_(0,"div",33),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"hero.exhibitions")," "))}var Eh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ue({type:n,selectors:[["app-hero"]],standalone:!0,features:[Be],decls:55,vars:22,consts:[["id","inicio",1,"min-h-screen","flex","items-center","justify-center","relative","overflow-hidden","bg-artistic-pattern"],[1,"absolute","inset-0","bg-gradient-to-br","from-background","via-white","to-accent/20"],[1,"absolute","top-10","left-10","w-72","h-72","bg-primary/5","rounded-full","blur-3xl","animate-float"],[1,"absolute","bottom-10","right-10","w-96","h-96","bg-accent/10","rounded-full","blur-3xl","animate-float",2,"animation-delay","2s"],[1,"container","relative","z-10"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-12","items-center"],[1,"text-center","lg:text-left","animate-fade-in-up"],[1,"mb-6"],["class","inline-block px-4 py-2 bg-accent/30 text-primary-dark rounded-full text-sm font-medium mb-4",4,"transloco"],[1,"text-5xl","md:text-6xl","lg:text-7xl","font-light","text-primary-dark","mb-6","leading-tight"],[1,"font-serif","italic"],[1,"space-y-4","mb-8"],[1,"text-xl","md:text-2xl","text-text","leading-relaxed",3,"innerHTML"],[1,"text-lg","text-text-light","leading-relaxed",3,"innerHTML"],[1,"flex","flex-col","sm:flex-row","gap-4","justify-center","lg:justify-start"],["href","#galeria",1,"btn","px-8","py-3","text-lg","font-light"],[1,"mr-2"],["href","#sobre-mi",1,"btn","btn-outline","px-8","py-3","text-lg","font-light"],[1,"mt-12","grid","grid-cols-2","md:grid-cols-3","gap-6","text-center","lg:text-left"],[1,"space-y-2"],[1,"text-2xl","font-light","text-primary-dark"],["class","text-sm text-text-light",4,"transloco"],[1,"relative","animate-fade-in-up",2,"animation-delay","0.3s"],[1,"relative","group"],[1,"relative","bg-white/80","backdrop-blur-sm","rounded-2xl","p-4","shadow-2xl","border","border-accent/50"],[1,"aspect-square","bg-gradient-to-br","from-primary/5","to-accent/10","rounded-lg","overflow-hidden"],[1,"w-full","h-full","flex","items-center","justify-center","p-2"],[1,"relative","w-full","h-full","rounded-lg","overflow-hidden"],["src","https://res.cloudinary.com/dvdscvipo/image/upload/v1758581745/Scannen0002_fa4n0x.jpg","alt","Mar\xEDa Malaver - Artista pict\xF3rica",1,"w-full","h-full","object-cover","rounded-lg","transition-transform","duration-500","group-hover:scale-105"],[1,"absolute","inset-0","bg-black/0","transition-all","duration-300","group-hover:bg-black/5"],[1,"absolute","-top-3","-right-3","w-20","h-20","bg-primary/10","rounded-full","blur-xl"],[1,"absolute","-bottom-3","-left-3","w-24","h-24","bg-accent/15","rounded-full","blur-xl"],[1,"inline-block","px-4","py-2","bg-accent/30","text-primary-dark","rounded-full","text-sm","font-medium","mb-4"],[1,"text-sm","text-text-light"]],template:function(t,r){t&1&&(_(0,"section",0),G(1,"div",1)(2,"div",2)(3,"div",3),_(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),B(8,vj,3,3,"span",8),b(),_(9,"h1",9)(10,"span",10),R(11,"Malaver"),b()(),_(12,"div",11)(13,"p",12),z(14,"transloco"),R(15),z(16,"transloco"),b(),_(17,"p",13),z(18,"transloco"),R(19),z(20,"transloco"),b()(),_(21,"div",14)(22,"a",15)(23,"span",16),R(24,"\u{1F3A8}"),b(),R(25),z(26,"transloco"),b(),_(27,"a",17)(28,"span",16),R(29,"\u{1F469}\u200D\u{1F3A8}"),b(),R(30),z(31,"transloco"),b()(),_(32,"div",18)(33,"div",19)(34,"div",20),R(35,"15+"),b(),B(36,_j,3,3,"div",21),b(),_(37,"div",19)(38,"div",20),R(39,"200+"),b(),B(40,wj,3,3,"div",21),b(),_(41,"div",19)(42,"div",20),R(43,"10+"),b(),B(44,Ij,3,3,"div",21),b()()(),_(45,"div",22)(46,"div",23)(47,"div",24)(48,"div",25)(49,"div",26)(50,"div",27),G(51,"img",28)(52,"div",29),b()()()(),G(53,"div",30)(54,"div",31),b()()()()()),t&2&&(w(8),O("transloco","hero.title"),w(5),O("innerHTML",q(14,10,"hero.specialty"),Gi),w(2),H(" ",q(16,12,"hero.specialty")," "),w(2),O("innerHTML",q(18,14,"hero.workDescription"),Gi),w(2),H(" ",q(20,16,"hero.workDescription")," "),w(6),H(" ",q(26,18,"hero.exploreGallery")," "),w(5),H(" ",q(31,20,"hero.knowTheArtist")," "),w(6),O("transloco","hero.experience"),w(4),O("transloco","hero.worksCreated"),w(4),O("transloco","hero.exhibitions"))},dependencies:[Tt,pn,mn]})};function Ej(n,e){n&1&&(_(0,"span",26),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"techniques.title")," "))}function bj(n,e){n&1&&(_(0,"h2",27),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"techniques.subtitle"),""))}function Cj(n,e){n&1&&(_(0,"p",28),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"techniques.description"),""))}function Dj(n,e){n&1&&(_(0,"h3",29),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"techniques.card1.title"),""))}function Tj(n,e){n&1&&(_(0,"p",30),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"techniques.card1.description"),""))}function Sj(n,e){n&1&&(_(0,"h3",29),R(1),z(2,"transloco"),b()),n&2&&(w(),Ge(q(2,1,"techniques.card2.title")))}function Aj(n,e){n&1&&(_(0,"p",30),R(1),z(2,"transloco"),b()),n&2&&(w(),Ge(q(2,1,"techniques.card2.description")))}function xj(n,e){n&1&&(_(0,"h3",29),R(1),z(2,"transloco"),b()),n&2&&(w(),Ge(q(2,1,"techniques.card3.title")))}function Mj(n,e){n&1&&(_(0,"p",30),R(1),z(2,"transloco"),b()),n&2&&(w(),Ge(q(2,1,"techniques.card3.description")))}function Rj(n,e){n&1&&(_(0,"h3",31),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"techniques.quality.title")," "))}function Nj(n,e){n&1&&(_(0,"p",32),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"techniques.quality.description")," "))}function Pj(n,e){n&1&&(_(0,"span"),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"techniques.quality.item1")," "))}function kj(n,e){n&1&&(_(0,"span"),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"techniques.quality.item2")," "))}function Oj(n,e){n&1&&(_(0,"span"),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"techniques.quality.item3")," "))}function Fj(n,e){n&1&&(_(0,"div",33),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"techniques.quality.experience.title")," "))}function Lj(n,e){n&1&&(_(0,"div",34),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"techniques.quality.experience.description")," "))}var bh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ue({type:n,selectors:[["app-techniques"]],standalone:!0,features:[Be],decls:45,vars:16,consts:[["id","tecnica",1,"py-20","bg-background"],[1,"container"],[1,"text-center","mb-16","animate-fade-in-up"],["class","inline-block px-4 py-2 bg-accent/30 text-primary-dark rounded-full text-sm font-medium mb-4",4,"transloco"],["class","text-4xl md:text-5xl font-light text-primary-dark mb-4",4,"transloco"],["class","text-lg text-text-light max-w-2xl mx-auto",4,"transloco"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8"],[1,"card","p-8","text-center","group","hover:transform","hover:scale-105","transition-all","duration-300","animate-fade-in-up"],[1,"w-16","h-16","bg-primary/10","rounded-full","flex","items-center","justify-center","mx-auto","mb-6","group-hover:bg-primary/20","transition-colors","duration-300"],[1,"text-2xl","text-primary-dark"],["class","text-xl font-semibold text-primary-dark mb-4",4,"transloco"],["class","text-text-light leading-relaxed",4,"transloco"],[1,"card","p-8","text-center","group","hover:transform","hover:scale-105","transition-all","duration-300","animate-fade-in-up",2,"animation-delay","0.1s"],[1,"card","p-8","text-center","group","hover:transform","hover:scale-105","transition-all","duration-300","animate-fade-in-up",2,"animation-delay","0.2s"],[1,"mt-16","bg-white/50","backdrop-blur-sm","rounded-2xl","p-8","border","border-accent/30","animate-fade-in-up"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8","items-center"],["class","text-2xl font-light text-primary-dark mb-4",4,"transloco"],["class","text-text-light mb-4",4,"transloco"],[1,"space-y-2","text-text-light"],[1,"flex","items-center"],[1,"w-2","h-2","bg-primary","rounded-full","mr-3"],[4,"transloco"],[1,"bg-gradient-to-br","from-primary/5","to-accent/10","rounded-lg","p-6","text-center"],[1,"text-3xl","text-primary-dark","mb-2"],["class","text-text-light font-medium",4,"transloco"],["class","text-sm text-text-light mt-2",4,"transloco"],[1,"inline-block","px-4","py-2","bg-accent/30","text-primary-dark","rounded-full","text-sm","font-medium","mb-4"],[1,"text-4xl","md:text-5xl","font-light","text-primary-dark","mb-4"],[1,"text-lg","text-text-light","max-w-2xl","mx-auto"],[1,"text-xl","font-semibold","text-primary-dark","mb-4"],[1,"text-text-light","leading-relaxed"],[1,"text-2xl","font-light","text-primary-dark","mb-4"],[1,"text-text-light","mb-4"],[1,"text-text-light","font-medium"],[1,"text-sm","text-text-light","mt-2"]],template:function(t,r){t&1&&(_(0,"section",0)(1,"div",1)(2,"div",2),B(3,Ej,3,3,"span",3)(4,bj,3,3,"h2",4)(5,Cj,3,3,"p",5),b(),_(6,"div",6)(7,"div",7)(8,"div",8)(9,"span",9),R(10,"\u{1F3A8}"),b()(),B(11,Dj,3,3,"h3",10)(12,Tj,3,3,"p",11),b(),_(13,"div",12)(14,"div",8)(15,"span",9),R(16,"\u{1F58C}\uFE0F"),b()(),B(17,Sj,3,3,"h3",10)(18,Aj,3,3,"p",11),b(),_(19,"div",13)(20,"div",8)(21,"span",9),R(22,"\u2728"),b()(),B(23,xj,3,3,"h3",10)(24,Mj,3,3,"p",11),b()(),_(25,"div",14)(26,"div",15)(27,"div"),B(28,Rj,3,3,"h3",16)(29,Nj,3,3,"p",17),_(30,"ul",18)(31,"li",19),G(32,"span",20),B(33,Pj,3,3,"span",21),b(),_(34,"li",19),G(35,"span",20),B(36,kj,3,3,"span",21),b(),_(37,"li",19),G(38,"span",20),B(39,Oj,3,3,"span",21),b()()(),_(40,"div",22)(41,"div",23),R(42,"15+"),b(),B(43,Fj,3,3,"div",24)(44,Lj,3,3,"div",25),b()()()()()),t&2&&(w(3),O("transloco","techniques.title"),w(),O("transloco","techniques.subtitle"),w(),O("transloco","techniques.description"),w(6),O("transloco","techniques.card1.title"),w(),O("transloco","techniques.card1.description"),w(5),O("transloco","techniques.card2.title"),w(),O("transloco","techniques.card2.description"),w(5),O("transloco","techniques.card3.title"),w(),O("transloco","techniques.card3.description"),w(4),O("transloco","techniques.quality.title"),w(),O("transloco","techniques.quality.description"),w(4),O("transloco","techniques.quality.item1"),w(3),O("transloco","techniques.quality.item2"),w(3),O("transloco","techniques.quality.item3"),w(4),O("transloco","techniques.quality.experience.title"),w(),O("transloco","techniques.quality.experience.description"))},dependencies:[Tt,pn,mn]})};function Vj(n,e){if(n&1){let t=ct();_(0,"div",12),de("click",function(){let i=oe(t).index,o=ue();return se(o.goToSlide(i))}),_(1,"img",13),de("click",function(i){oe(t);let o=ue();return i.stopPropagation(),se(o.openModal())}),b()()}if(n&2){let t=e.$implicit,r=e.index,i=ue();Kt("center",r===i.currentIndex)("left-1",r===i.left1Index)("left-2",r===i.left2Index)("right-1",r===i.right1Index)("right-2",r===i.right2Index)("hidden",i.isHidden(r)),w(),O("src",t.imagen,os)("alt",t.titulo)}}function jj(n,e){if(n&1&&(_(0,"p",14),R(1),b()),n&2){let t=ue();w(),Ge(t.currentArtwork==null?null:t.currentArtwork.descripcion)}}function Uj(n,e){if(n&1){let t=ct();_(0,"div",15),de("click",function(){let i=oe(t).index,o=ue();return se(o.goToSlide(i))}),b()}if(n&2){let t=e.index,r=ue();Kt("active",t===r.currentIndex)}}function Bj(n,e){n&1&&(_(0,"span",37),R(1,"(Desliza para navegar)"),b())}function $j(n,e){if(n&1&&(_(0,"div",35),R(1),B(2,Bj,2,0,"span",36),b()),n&2){let t=ue(2);Kt("mobile",t.isMobile),w(),H(" ",t.isZoomed?"Toca para quitar zoom":"Toca para hacer zoom"," "),w(),O("ngIf",t.isMobile)}}function Hj(n,e){if(n&1&&(_(0,"p",38),R(1),b()),n&2){let t=ue(2);w(),Ge(t.currentArtwork==null?null:t.currentArtwork.descripcion)}}function zj(n,e){if(n&1&&(_(0,"div",39)(1,"div",40)(2,"span",41),R(3,"Dimensiones:"),b(),_(4,"span",42),R(5),b()(),_(6,"div",40)(7,"span",41),R(8,"Materiales:"),b(),_(9,"span",42),R(10),b()(),_(11,"div",40)(12,"span",41),R(13,"A\xF1o:"),b(),_(14,"span",42),R(15),b()()()),n&2){let t=ue(2);w(5),Ge(t.currentArtwork.medidas),w(5),Ge(t.currentArtwork.tecnica),w(5),Ge(t.currentArtwork.anio)}}function qj(n,e){if(n&1){let t=ct();_(0,"div",16),de("click",function(){oe(t);let i=ue();return se(i.closeModal())}),_(1,"div",17),de("click",function(i){return oe(t),se(i.stopPropagation())}),_(2,"button",18),de("click",function(){oe(t);let i=ue();return se(i.closeModal())}),R(3,"\xD7"),b(),_(4,"div",19)(5,"div",20)(6,"img",21),de("click",function(i){oe(t);let o=ue();return se(o.toggleZoom(i))})("mousedown",function(i){oe(t);let o=ue();return se(o.onPanStart(i))})("mousemove",function(i){oe(t);let o=ue();return se(o.onPanMove(i))})("mouseup",function(i){oe(t);let o=ue();return se(o.onPanEnd(i))})("mouseleave",function(i){oe(t);let o=ue();return se(o.onPanEnd(i))})("touchstart",function(i){oe(t);let o=ue();return se(o.onPanStart(i))})("touchmove",function(i){oe(t);let o=ue();return se(o.onPanMove(i))})("touchend",function(i){oe(t);let o=ue();return se(o.onPanEnd(i))}),b(),B(7,$j,3,4,"div",22),_(8,"button",23),de("click",function(){oe(t);let i=ue();return se(i.prevInModal())}),R(9,"\u2039"),b(),_(10,"button",24),de("click",function(){oe(t);let i=ue();return se(i.nextInModal())}),R(11,"\u203A"),b()(),_(12,"div",25)(13,"h2",26),R(14),b(),_(15,"p",27),R(16),b(),B(17,Hj,2,1,"p",28)(18,zj,16,3,"div",29),_(19,"div",30)(20,"button",31)(21,"span",32),R(22,"\u{1F6D2}"),b(),_(23,"span",33),R(24,"Comprar Obra"),b()(),_(25,"button",34)(26,"span",32),R(27,"\u{1F4AC}"),b(),_(28,"span",33),R(29,"Consultar Disponibilidad"),b()()()()()()()}if(n&2){let t=ue();w(6),_d("transform",t.getImageTransform())("transition",t.isPanning?"none":"all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)"),Kt("zoomed",t.isZoomed)("panning",t.isPanning),O("src",t.currentArtwork==null?null:t.currentArtwork.imagen,os)("alt",t.currentArtwork==null?null:t.currentArtwork.titulo),w(),O("ngIf",t.showZoomIndicator),w(7),Ge(t.currentArtwork==null?null:t.currentArtwork.titulo),w(2),Ge(t.currentArtwork==null?null:t.currentArtwork.tecnica),w(),O("ngIf",t.currentArtwork==null?null:t.currentArtwork.descripcion),w(),O("ngIf",t.currentArtwork)}}var Ch=class n{artworks=[];currentIndex=0;currentArtwork=null;isModalOpen=!1;isZoomed=!1;showZoomIndicator=!1;left2Index=0;left1Index=0;right1Index=0;right2Index=0;isMobile=!1;isPanning=!1;wasPanning=!1;startX=0;startY=0;translateX=0;translateY=0;ngOnInit(){this.updateCarousel(0),this.checkIfMobile(),window.addEventListener("resize",()=>this.checkIfMobile())}ngOnChanges(){this.artworks.length>0&&this.updateCarousel(this.currentIndex)}updateCarousel(e){let t=this.artworks.length;this.currentIndex=(e+t)%t,this.currentArtwork=this.artworks[this.currentIndex],this.resetZoomAndPan(),this.left2Index=(this.currentIndex-2+t)%t,this.left1Index=(this.currentIndex-1+t)%t,this.right1Index=(this.currentIndex+1)%t,this.right2Index=(this.currentIndex+2)%t}isHidden(e){let t=this.artworks.length;return![this.currentIndex,this.left1Index,this.left2Index,this.right1Index,this.right2Index].includes(e)}next(){this.updateCarousel(this.currentIndex+1)}prev(){this.updateCarousel(this.currentIndex-1)}goToSlide(e){this.updateCarousel(e)}openModal(){this.isModalOpen=!0,this.resetZoomAndPan(),document.body.style.overflow="hidden"}closeModal(){this.isModalOpen=!1,this.resetZoomAndPan(),document.body.style.overflow=""}nextInModal(){this.next()}prevInModal(){this.prev()}resetZoomAndPan(){this.isZoomed=!1,this.isPanning=!1,this.wasPanning=!1,this.translateX=0,this.translateY=0}toggleZoom(e){if(this.wasPanning){this.wasPanning=!1;return}this.isZoomed=!this.isZoomed,this.translateX=0,this.translateY=0,this.isZoomed&&(this.showZoomIndicator=!0,setTimeout(()=>{this.showZoomIndicator=!1},3e3))}onPanStart(e){if(!this.isZoomed)return;this.isPanning=!0;let t="touches"in e?e.touches[0]:e;this.startX=t.clientX-this.translateX,this.startY=t.clientY-this.translateY}onPanMove(e){if(!this.isPanning||!this.isZoomed)return;e.preventDefault(),this.wasPanning=!0;let t="touches"in e?e.touches[0]:e;this.translateX=t.clientX-this.startX,this.translateY=t.clientY-this.startY}onPanEnd(e){this.isPanning&&(this.isPanning=!1)}getImageTransform(){return this.isZoomed?`scale(${this.isMobile?2.5:1.8}) translate(${this.translateX}px, ${this.translateY}px)`:"scale(1)"}handleEscapeKey(e){this.isModalOpen&&(this.isZoomed?this.resetZoomAndPan():this.closeModal())}handleRightArrow(e){this.isModalOpen&&!this.isZoomed&&this.nextInModal()}handleLeftArrow(e){this.isModalOpen&&!this.isZoomed&&this.prevInModal()}handleZKey(e){this.isModalOpen&&this.toggleZoom(new MouseEvent("click"))}checkIfMobile(){this.isMobile=window.innerWidth<=768}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ue({type:n,selectors:[["app-artwork-carousel"]],hostBindings:function(t,r){t&1&&de("keydown.escape",function(o){return r.handleEscapeKey(o)},!1,Ba)("keydown.arrowright",function(o){return r.handleRightArrow(o)},!1,Ba)("keydown.arrowleft",function(o){return r.handleLeftArrow(o)},!1,Ba)("keydown.z",function(o){return r.handleZKey(o)},!1,Ba)},inputs:{artworks:"artworks"},standalone:!0,features:[cn,Be],decls:16,vars:6,consts:[[1,"carousel-container"],[1,"nav-arrow","left",3,"click"],[1,"carousel-track"],["class","card",3,"center","left-1","left-2","right-1","right-2","hidden","click",4,"ngFor","ngForOf"],[1,"nav-arrow","right",3,"click"],[1,"artwork-info"],[1,"artwork-title"],[1,"artwork-technique"],["class","artwork-description",4,"ngIf"],[1,"dots"],["class","dot",3,"active","click",4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"card",3,"click"],[1,"artwork-image",3,"click","src","alt"],[1,"artwork-description"],[1,"dot",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-close",3,"click"],[1,"modal-body"],[1,"modal-image-container"],[1,"modal-image",3,"click","mousedown","mousemove","mouseup","mouseleave","touchstart","touchmove","touchend","src","alt"],["class","zoom-indicator",3,"mobile",4,"ngIf"],[1,"modal-nav","modal-prev",3,"click"],[1,"modal-nav","modal-next",3,"click"],[1,"modal-info"],[1,"modal-title"],[1,"modal-technique"],["class","modal-description",4,"ngIf"],["class","artwork-details",4,"ngIf"],[1,"modal-actions"],[1,"btn-buy"],[1,"btn-icon"],[1,"btn-text"],[1,"btn-contact"],[1,"zoom-indicator"],["class","zoom-hint",4,"ngIf"],[1,"zoom-hint"],[1,"modal-description"],[1,"artwork-details"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"]],template:function(t,r){t&1&&(_(0,"div",0)(1,"button",1),de("click",function(){return r.prev()}),R(2,"\u2039"),b(),_(3,"div",2),B(4,Vj,2,14,"div",3),b(),_(5,"button",4),de("click",function(){return r.next()}),R(6,"\u203A"),b()(),_(7,"div",5)(8,"h2",6),R(9),b(),_(10,"p",7),R(11),b(),B(12,jj,2,1,"p",8),b(),_(13,"div",9),B(14,Uj,1,2,"div",10),b(),B(15,qj,30,15,"div",11)),t&2&&(w(4),O("ngForOf",r.artworks),w(5),Ge(r.currentArtwork==null?null:r.currentArtwork.titulo),w(2),Ge(r.currentArtwork==null?null:r.currentArtwork.tecnica),w(),O("ngIf",r.currentArtwork==null?null:r.currentArtwork.descripcion),w(2),O("ngForOf",r.artworks),w(),O("ngIf",r.isModalOpen))},dependencies:[Qt,ti,qn],styles:['@charset "UTF-8";.carousel-container[_ngcontent-%COMP%]{width:100%;max-width:1200px;height:450px;position:relative;perspective:1000px;margin:80px auto 0}.carousel-track[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;position:relative;transform-style:preserve-3d}.card[_ngcontent-%COMP%]{position:absolute;width:280px;height:380px;background:#fff;border-radius:20px;overflow:hidden;box-shadow:0 20px 40px #00000026;transition:all .8s cubic-bezier(.25,.46,.45,.94);cursor:pointer}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:all .8s cubic-bezier(.25,.46,.45,.94)}.card.center[_ngcontent-%COMP%]{z-index:10;transform:scale(1.1) translateZ(0)}.card.center[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:none}.card.left-2[_ngcontent-%COMP%]{z-index:1;transform:translate(-400px) scale(.8) translateZ(-300px);opacity:.7}.card.left-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(100%)}.card.left-1[_ngcontent-%COMP%]{z-index:5;transform:translate(-200px) scale(.9) translateZ(-100px);opacity:.9}.card.left-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(100%)}.card.right-1[_ngcontent-%COMP%]{z-index:5;transform:translate(200px) scale(.9) translateZ(-100px);opacity:.9}.card.right-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(100%)}.card.right-2[_ngcontent-%COMP%]{z-index:1;transform:translate(400px) scale(.8) translateZ(-300px);opacity:.7}.card.right-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(100%)}.card.hidden[_ngcontent-%COMP%]{opacity:0;pointer-events:none}.artwork-info[_ngcontent-%COMP%]{text-align:center;margin-top:40px;transition:all .5s ease-out}.artwork-title[_ngcontent-%COMP%]{color:#8b5cf6;font-size:2.5rem;font-weight:700;margin-bottom:10px;position:relative;display:inline-block}.artwork-title[_ngcontent-%COMP%]:before, .artwork-title[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;width:100px;height:2px;background:#8b5cf6}.artwork-title[_ngcontent-%COMP%]:before{left:-120px}.artwork-title[_ngcontent-%COMP%]:after{right:-120px}.artwork-technique[_ngcontent-%COMP%]{color:#848696;font-size:1.5rem;font-weight:500;opacity:.8;text-transform:uppercase;letter-spacing:.1em;padding:10px 0;margin-top:-15px;position:relative}.artwork-description[_ngcontent-%COMP%]{color:#6b7280;font-size:1rem;max-width:600px;margin:0 auto;line-height:1.6}.dots[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin-top:60px}.dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;background:#8b5cf633;cursor:pointer;transition:all .3s ease}.dot.active[_ngcontent-%COMP%]{background:#8b5cf6;transform:scale(1.2)}.nav-arrow[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:#87878799;color:#fff;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:20;transition:all .3s ease;font-size:2.5rem;border:none;outline:none;padding-bottom:4px;animation:_ngcontent-%COMP%_pulse 2s infinite}.nav-arrow[_ngcontent-%COMP%]:hover{background:#8b5cf6cc;transform:translateY(-50%) scale(1.1);animation:none}.nav-arrow.left[_ngcontent-%COMP%]{left:50px;padding-right:3px;margin-left:120px!important}.nav-arrow.right[_ngcontent-%COMP%]{right:50px;padding-left:3px;margin-right:120px!important}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #8b5cf6cc}70%{box-shadow:0 0 0 15px #8b5cf600}to{box-shadow:0 0 #8b5cf600}}.gallery-title[_ngcontent-%COMP%]{font-size:7.5rem;font-weight:900;text-transform:uppercase;letter-spacing:-.02em;text-align:center;pointer-events:none;white-space:nowrap;font-family:Arial Black,Arial Bold,Arial,sans-serif;background:linear-gradient(to bottom,#8b5cf659 30%,#fff0 76%);-webkit-background-clip:text;background-clip:text;color:transparent;margin-bottom:2rem}@media (max-width: 768px){.gallery-title[_ngcontent-%COMP%]{font-size:4.5rem}.carousel-container[_ngcontent-%COMP%]{height:350px;margin-top:60px}.card[_ngcontent-%COMP%]{width:200px;height:280px}.card.left-2[_ngcontent-%COMP%]{transform:translate(-250px) scale(.8) translateZ(-300px)}.card.left-1[_ngcontent-%COMP%]{transform:translate(-120px) scale(.9) translateZ(-100px)}.card.right-1[_ngcontent-%COMP%]{transform:translate(120px) scale(.9) translateZ(-100px)}.card.right-2[_ngcontent-%COMP%]{transform:translate(250px) scale(.8) translateZ(-300px)}.artwork-title[_ngcontent-%COMP%]{font-size:2rem}.artwork-title[_ngcontent-%COMP%]:before, .artwork-title[_ngcontent-%COMP%]:after{width:50px}.artwork-title[_ngcontent-%COMP%]:before{left:-70px}.artwork-title[_ngcontent-%COMP%]:after{right:-70px}.artwork-technique[_ngcontent-%COMP%]{font-size:1.2rem}.nav-arrow[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.2rem;margin-top:195px!important;padding-bottom:2px;animation:_ngcontent-%COMP%_pulse 2s infinite}.nav-arrow.left[_ngcontent-%COMP%]{left:20px;padding-right:3px;margin-left:10px!important}.nav-arrow.right[_ngcontent-%COMP%]{right:20px;padding-left:3px;margin-right:10px!important}}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000f2;display:flex;justify-content:center;align-items:center;animation:_ngcontent-%COMP%_fadeIn .3s ease-out;backdrop-filter:blur(15px);padding:10px;box-sizing:border-box}@media (max-width: 768px){.modal-overlay[_ngcontent-%COMP%]{z-index:2147483647!important;position:fixed!important;top:0!important;left:0!important;width:100vw!important;height:100vh!important;margin:0!important;padding:0!important;background:#000000fa!important}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{z-index:2147483647!important;position:fixed!important;top:0!important;left:0!important;margin:0!important;border-radius:0!important;width:100vw!important;height:100vh!important;max-width:100vw!important;max-height:100vh!important;box-shadow:none!important}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{height:100vh!important;max-height:100vh!important;min-height:100vh!important;overflow-y:auto!important;margin-top:80px!important}}.modal-content[_ngcontent-%COMP%]{background:rgb(var(--color-background));border-radius:24px;max-width:95%;max-height:95%;width:1400px;height:800px;overflow:hidden;position:relative;display:flex;box-shadow:0 30px 60px #0009;animation:_ngcontent-%COMP%_slideUp .3s ease-out}@media (max-width: 1200px){.modal-content[_ngcontent-%COMP%]{width:95%;height:700px;max-height:90vh}}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{max-width:100%;max-height:100%;width:100%;height:100%;border-radius:0;margin:0;flex-direction:column;overflow-y:auto;position:fixed;top:0;left:0}}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{z-index:2147483647!important;position:fixed!important;top:0!important;left:0!important;transform:none!important;margin:0!important;border-radius:0!important;width:100vw!important;height:100vh!important;max-width:100vw!important;max-height:100vh!important}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{height:100vh!important;max-height:100vh!important;min-height:100vh!important}}.modal-close[_ngcontent-%COMP%]{position:absolute;top:25px;right:25px;background:rgba(var(--color-primary),.9);color:#fff;border:none;width:45px;height:45px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:10;font-size:1.8rem;transition:all .3s ease;backdrop-filter:blur(10px);font-weight:300}@media (max-width: 768px){.modal-close[_ngcontent-%COMP%]{top:80px!important;right:15px;width:40px;height:40px;font-size:1.5rem;background:#000000b3}}.modal-close[_ngcontent-%COMP%]:hover{background:rgb(var(--color-primary));transform:scale(1.15);box-shadow:0 5px 15px #0000004d}.modal-body[_ngcontent-%COMP%]{display:flex;height:100%;width:100%}@media (max-width: 768px){.modal-body[_ngcontent-%COMP%]{flex-direction:column;height:auto;min-height:100%;overflow-y:auto}}.modal-image-container[_ngcontent-%COMP%]{flex:1;position:relative;overflow:hidden;background:#f8f9fa;display:flex;align-items:center;justify-content:center;min-height:500px;background:linear-gradient(135deg,#f5f7fa,#c3cfe2)}@media (max-width: 768px){.modal-image-container[_ngcontent-%COMP%]{min-height:40vh;max-height:50vh;flex:none;width:100%}}.modal-image-container[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{width:85%;height:85%;object-fit:contain;transition:all .4s cubic-bezier(.25,.46,.45,.94);cursor:zoom-in;border-radius:12px;box-shadow:0 15px 35px #0000001a}.modal-image-container[_ngcontent-%COMP%]   .modal-image.zoomed[_ngcontent-%COMP%]{cursor:grab;transform:scale(1.8);box-shadow:0 25px 50px #0000004d}.modal-image-container[_ngcontent-%COMP%]   .modal-image.zoomed.panning[_ngcontent-%COMP%]{cursor:grabbing}@media (max-width: 768px){.modal-image-container[_ngcontent-%COMP%]   .modal-image.zoomed[_ngcontent-%COMP%]{transform:scale(2.5);width:100%;height:auto;max-height:90vh;object-fit:contain}}@media (hover: hover){.modal-image-container[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]:not(.zoomed):hover{transform:scale(1.05);box-shadow:0 20px 40px #00000026}}@media (max-width: 768px){.modal-image-container[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{width:95%;height:95%;border-radius:8px}}.modal-nav[_ngcontent-%COMP%]{position:absolute;top:80%;transform:translateY(-50%);background:rgba(var(--color-primary));color:#fff;border:none;width:40px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:9999!important;font-size:2rem;transition:all .3s ease;backdrop-filter:blur(10px);font-weight:300;box-shadow:0 5px 15px #0003}@media (max-width: 768px){.modal-nav[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.5rem;background:#0009}.modal-nav.modal-prev[_ngcontent-%COMP%]{left:10px;margin-right:50%}.modal-nav.modal-next[_ngcontent-%COMP%]{right:10px;margin-left:50%}.modal-image.zoomed[_ngcontent-%COMP%] ~ .modal-nav[_ngcontent-%COMP%]{opacity:0;pointer-events:none}}.modal-nav[_ngcontent-%COMP%]:hover{background:rgb(var(--color-primary));transform:translateY(-50%) scale(1.15);box-shadow:0 8px 25px #0000004d}.modal-nav.modal-prev[_ngcontent-%COMP%]{left:30px;padding-right:5px}.modal-nav.modal-next[_ngcontent-%COMP%]{right:30px;padding-left:5px}.modal-info[_ngcontent-%COMP%]{flex:0 0 450px;padding:50px 40px;overflow-y:auto;background:#fff;display:flex;flex-direction:column}@media (max-width: 768px){.modal-info[_ngcontent-%COMP%]{flex:none;max-height:none;padding:25px 20px;overflow-y:visible}}@media (max-width: 1200px){.modal-info[_ngcontent-%COMP%]{flex:0 0 400px;padding:40px 30px}}.modal-title[_ngcontent-%COMP%]{color:rgb(var(--color-primary-dark));font-size:2.2rem;font-weight:400;margin-bottom:15px;font-family:Montserrat,sans-serif;line-height:1.3}@media (max-width: 768px){.modal-title[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:10px}}.modal-technique[_ngcontent-%COMP%]{color:rgb(var(--color-text-light));font-size:1.2rem;text-transform:uppercase;letter-spacing:.1em;margin-bottom:25px;font-weight:300;border-bottom:2px solid rgba(var(--color-accent),.3);padding-bottom:15px}@media (max-width: 768px){.modal-technique[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:20px;padding-bottom:10px}}.modal-description[_ngcontent-%COMP%]{color:rgb(var(--color-text));font-size:1.1rem;line-height:1.7;margin-bottom:30px;font-weight:300}@media (max-width: 768px){.modal-description[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6;margin-bottom:20px}}.artwork-details[_ngcontent-%COMP%]{border-top:2px solid rgba(var(--color-accent),.3);padding-top:25px;margin-bottom:35px}@media (max-width: 768px){.artwork-details[_ngcontent-%COMP%]{padding-top:20px;margin-bottom:25px}}.detail-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:12px;padding:8px 0;border-bottom:1px solid rgba(var(--color-accent),.1)}@media (max-width: 768px){.detail-item[_ngcontent-%COMP%]{flex-direction:column;margin-bottom:10px;padding:5px 0}}.detail-item[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.detail-label[_ngcontent-%COMP%]{color:rgb(var(--color-text-light));font-weight:500;font-size:1rem}@media (max-width: 768px){.detail-label[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:3px}}.detail-value[_ngcontent-%COMP%]{color:rgb(var(--color-text));font-weight:400;text-align:right}@media (max-width: 768px){.detail-value[_ngcontent-%COMP%]{text-align:left;font-size:.95rem}}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:15px;flex-direction:column;margin-top:auto}@media (max-width: 768px){.modal-actions[_ngcontent-%COMP%]{margin-top:20px;gap:12px}}.btn-buy[_ngcontent-%COMP%], .btn-contact[_ngcontent-%COMP%]{padding:18px 30px;border:none;border-radius:12px;font-size:1.1rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:12px;font-weight:500;text-transform:uppercase;letter-spacing:.05em}@media (max-width: 768px){.btn-buy[_ngcontent-%COMP%], .btn-contact[_ngcontent-%COMP%]{padding:16px 20px;font-size:1rem;gap:8px}}.btn-buy[_ngcontent-%COMP%]:hover, .btn-contact[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 25px #00000026}.btn-buy[_ngcontent-%COMP%]:active, .btn-contact[_ngcontent-%COMP%]:active{transform:translateY(-1px)}.btn-buy[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgb(var(--color-primary)),rgb(var(--color-primary-dark)));color:#fff;box-shadow:0 5px 15px rgba(var(--color-primary),.3)}.btn-buy[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,rgb(var(--color-primary-dark)),rgb(var(--color-primary)))}.btn-contact[_ngcontent-%COMP%]{background:transparent;color:rgb(var(--color-primary));border:2px solid rgb(var(--color-primary));box-shadow:0 3px 10px rgba(var(--color-primary),.1)}.btn-contact[_ngcontent-%COMP%]:hover{background:rgb(var(--color-primary));color:#fff}.btn-icon[_ngcontent-%COMP%]{font-size:1.3rem}@media (max-width: 768px){.btn-icon[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.btn-text[_ngcontent-%COMP%]{font-size:.9rem}}.zoom-indicator[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:50%;transform:translate(-50%);background:#000000b3;color:#fff;padding:8px 16px;border-radius:20px;font-size:.9rem;backdrop-filter:blur(10px);animation:_ngcontent-%COMP%_fadeInOut 3s ease-in-out;opacity:0;text-align:center;z-index:10}@media (max-width: 768px){.zoom-indicator[_ngcontent-%COMP%]{bottom:10px;font-size:.8rem;padding:6px 12px;width:90%;max-width:300px}.zoom-indicator.mobile[_ngcontent-%COMP%]{padding:8px 12px}}.zoom-hint[_ngcontent-%COMP%]{display:block;font-size:.7rem;margin-top:2px;opacity:.8}@keyframes _ngcontent-%COMP%_fadeInOut{0%{opacity:0}20%{opacity:1}80%{opacity:1}to{opacity:0}}@media (max-width: 768px){.modal-image-container[_ngcontent-%COMP%], .modal-image.zoomed[_ngcontent-%COMP%]{touch-action:pan-x pan-y}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;backdrop-filter:blur(0px)}to{opacity:1;backdrop-filter:blur(15px)}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(80px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.artwork-image[_ngcontent-%COMP%]{cursor:pointer;transition:transform .3s ease}.artwork-image[_ngcontent-%COMP%]:hover{transform:scale(1.03)}']})};var SS=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Gj=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},AS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,u=l?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|u>>6,y=u&63;l||(y=64,s||(g=64)),r.push(t[h],t[p],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(SS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Gj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||p==null)throw new Xy;let g=o<<2|a>>4;if(r.push(g),u!==64){let y=a<<4&240|u>>2;if(r.push(y),p!==64){let A=u<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Xy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Wj=function(n){let e=SS(n);return AS.encodeByteArray(e,!0)},Pc=function(n){return Wj(n).replace(/\./g,"")},tv=function(n){try{return AS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Kj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Qj=()=>Kj().__FIREBASE_DEFAULTS__,Yj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Zj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&tv(n[1]);return e&&JSON.parse(e)},Th=()=>{try{return Qj()||Yj()||Zj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xS=n=>{var e,t;return(t=(e=Th())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},MS=n=>{let e=xS(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},nv=()=>{var n;return(n=Th())===null||n===void 0?void 0:n.config},RS=n=>{var e;return(e=Th())===null||e===void 0?void 0:e[`_${n}`]};var Dh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function NS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Pc(JSON.stringify(t)),Pc(JSON.stringify(s)),""].join(".")}function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function Jj(){var n;let e=(n=Th())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function FS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LS(){return!Jj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rv(){try{return typeof indexedDB=="object"}catch{return!1}}function VS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var Xj="FirebaseError",gn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Xj,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cr.prototype.create)}},Cr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?eU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new gn(i,a,r)}};function eU(n,e){return n.replace(tU,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var tU=/\{\$([^}]+)}/g;function xs(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(TS(o)&&TS(s)){if(!xs(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function TS(n){return n!==null&&typeof n=="object"}function iv(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jS(n,e){let t=new ev(n,e);return t.subscribe.bind(t)}var ev=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");nU(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Jy),i.error===void 0&&(i.error=Jy),i.complete===void 0&&(i.complete=Jy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function nU(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Jy(){}var OK=4*60*60*1e3;function St(n){return n&&n._delegate?n._delegate:n}var yn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var to="[DEFAULT]";var ov=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Dh;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iU(e))try{this.getOrInitializeService({instanceIdentifier:to})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=to){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return M(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=to){return this.instances.has(e)}getOptions(e=to){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rU(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=to){return this.component?this.component.multipleInstances?e:to:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function rU(n){return n===to?void 0:n}function iU(n){return n.instantiationMode==="EAGER"}var Sh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new ov(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var oU=[],Ce=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ce||{}),sU={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},aU=Ce.INFO,cU={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},lU=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=cU[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},hi=class{constructor(e){this.name=e,this._logLevel=aU,this._logHandler=lU,this._userLogHandler=null,oU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}};var uU=(n,e)=>e.some(t=>n instanceof t),US,BS;function dU(){return US||(US=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hU(){return BS||(BS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var $S=new WeakMap,av=new WeakMap,HS=new WeakMap,sv=new WeakMap,lv=new WeakMap;function fU(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Yn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&$S.set(t,n)}).catch(()=>{}),lv.set(e,n),e}function pU(n){if(av.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});av.set(n,e)}var cv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return av.get(n);if(e==="objectStoreNames")return n.objectStoreNames||HS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function zS(n){cv=n(cv)}function mU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Ah(this),e,...t);return HS.set(r,e.sort?e.sort():[e]),Yn(r)}:hU().includes(n)?function(...e){return n.apply(Ah(this),e),Yn($S.get(this))}:function(...e){return Yn(n.apply(Ah(this),e))}}function gU(n){return typeof n=="function"?mU(n):(n instanceof IDBTransaction&&pU(n),uU(n,dU())?new Proxy(n,cv):n)}function Yn(n){if(n instanceof IDBRequest)return fU(n);if(sv.has(n))return sv.get(n);let e=gU(n);return e!==n&&(sv.set(n,e),lv.set(e,n)),e}var Ah=n=>lv.get(n);function GS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Yn(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Yn(s.result),l.oldVersion,l.newVersion,Yn(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var yU=["get","getKey","getAll","getAllKeys","count"],vU=["put","add","delete","clear"],uv=new Map;function qS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(uv.get(e))return uv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=vU.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yU.includes(t)))return;let o=function(s,...a){return M(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&l.done]))[0]})};return uv.set(e,o),o}zS(n=>pe(V({},n),{get:(e,t,r)=>qS(e,t)||n.get(e,t,r),has:(e,t)=>!!qS(e,t)||n.has(e,t)}));var hv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(_U(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function _U(n){let e=n.getComponent();return e?.type==="VERSION"}var fv="@firebase/app",WS="0.10.13";var Dr=new hi("@firebase/app"),wU="@firebase/app-compat",IU="@firebase/analytics-compat",EU="@firebase/analytics",bU="@firebase/app-check-compat",CU="@firebase/app-check",DU="@firebase/auth",TU="@firebase/auth-compat",SU="@firebase/database",AU="@firebase/data-connect",xU="@firebase/database-compat",MU="@firebase/functions",RU="@firebase/functions-compat",NU="@firebase/installations",PU="@firebase/installations-compat",kU="@firebase/messaging",OU="@firebase/messaging-compat",FU="@firebase/performance",LU="@firebase/performance-compat",VU="@firebase/remote-config",jU="@firebase/remote-config-compat",UU="@firebase/storage",BU="@firebase/storage-compat",$U="@firebase/firestore",HU="@firebase/vertexai-preview",zU="@firebase/firestore-compat",qU="firebase",GU="10.14.1";var pv="[DEFAULT]",WU={[fv]:"fire-core",[wU]:"fire-core-compat",[EU]:"fire-analytics",[IU]:"fire-analytics-compat",[CU]:"fire-app-check",[bU]:"fire-app-check-compat",[DU]:"fire-auth",[TU]:"fire-auth-compat",[SU]:"fire-rtdb",[AU]:"fire-data-connect",[xU]:"fire-rtdb-compat",[MU]:"fire-fn",[RU]:"fire-fn-compat",[NU]:"fire-iid",[PU]:"fire-iid-compat",[kU]:"fire-fcm",[OU]:"fire-fcm-compat",[FU]:"fire-perf",[LU]:"fire-perf-compat",[VU]:"fire-rc",[jU]:"fire-rc-compat",[UU]:"fire-gcs",[BU]:"fire-gcs-compat",[$U]:"fire-fst",[zU]:"fire-fst-compat",[HU]:"fire-vertex","fire-js":"fire-js",[qU]:"fire-js-all"};var kc=new Map,KU=new Map,mv=new Map;function KS(n,e){try{n.container.addComponent(e)}catch(t){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function pi(n){let e=n.name;if(mv.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;mv.set(e,n);for(let t of kc.values())KS(t,n);for(let t of KU.values())KS(t,n);return!0}function _v(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ms(n){return n.settings!==void 0}var QU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fi=new Cr("app","Firebase",QU);var gv=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fi.create("app-deleted",{appName:this._name})}};var Rs=GU;function wv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:pv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw fi.create("bad-app-name",{appName:String(i)});if(t||(t=nv()),!t)throw fi.create("no-options");let o=kc.get(i);if(o){if(xs(t,o.options)&&xs(r,o.config))return o;throw fi.create("duplicate-app",{appName:i})}let s=new Sh(i);for(let l of mv.values())s.addComponent(l);let a=new gv(t,r,s);return kc.set(i,a),a}function Fc(n=pv){let e=kc.get(n);if(!e&&n===pv&&nv())return wv();if(!e)throw fi.create("no-app",{appName:n});return e}function xh(){return Array.from(kc.values())}function ht(n,e,t){var r;let i=(r=WU[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(a.join(" "));return}pi(new yn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var YU="firebase-heartbeat-database",ZU=1,Oc="firebase-heartbeat-store",dv=null;function JS(){return dv||(dv=GS(YU,ZU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Oc)}catch(t){console.warn(t)}}}}).catch(n=>{throw fi.create("idb-open",{originalErrorMessage:n.message})})),dv}function JU(n){return M(this,null,function*(){try{let t=(yield JS()).transaction(Oc),r=yield t.objectStore(Oc).get(XS(n));return yield t.done,r}catch(e){if(e instanceof gn)Dr.warn(e.message);else{let t=fi.create("idb-get",{originalErrorMessage:e?.message});Dr.warn(t.message)}}})}function QS(n,e){return M(this,null,function*(){try{let r=(yield JS()).transaction(Oc,"readwrite");yield r.objectStore(Oc).put(e,XS(n)),yield r.done}catch(t){if(t instanceof gn)Dr.warn(t.message);else{let r=fi.create("idb-set",{originalErrorMessage:t?.message});Dr.warn(r.message)}}})}function XS(n){return`${n.name}!${n.options.appId}`}var XU=1024,eB=30*24*60*60*1e3,yv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new vv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return M(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=YS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=eB}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Dr.warn(r)}})}getHeartbeatsHeader(){return M(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=YS(),{heartbeatsToSend:r,unsentEntries:i}=tB(this._heartbeatsCache.heartbeats),o=Pc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Dr.warn(t),""}})}};function YS(){return new Date().toISOString().substring(0,10)}function tB(n,e=XU){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),ZS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),ZS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var vv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return M(this,null,function*(){return rv()?VS().then(()=>!0).catch(()=>!1):!1})}read(){return M(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield JU(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return M(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return QS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return M(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return QS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function ZS(n){return Pc(JSON.stringify({version:2,heartbeats:n})).length}function nB(n){pi(new yn("platform-logger",e=>new hv(e),"PRIVATE")),pi(new yn("heartbeat",e=>new yv(e),"PRIVATE")),ht(fv,WS,n),ht(fv,WS,"esm2017"),ht("fire-js","")}nB("");var rB="firebase",iB="10.14.1";ht(rB,iB,"app");var Ps=new fr("ANGULARFIRE2_VERSION");function Ev(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Vc=(n,e)=>{let t=e?[e]:xh(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Lc=class{constructor(){return Vc(oB)}},oB="app-check";function Ns(){}var Mh=class{zone;delegate;constructor(e,t=Ap){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},Iv=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ns,{},Ns,Ns)),t.pipe(Qe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},jc=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Mh(Zone.current)),this.insideAngular=t.run(()=>new Mh(Zone.current,Wl)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(Q(Ne))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Rh(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function sB(n){return Rh().ngZone.runOutsideAngular(()=>n())}function no(n){return Rh().ngZone.run(()=>n())}function aB(n){return cB(Rh())(n)}function cB(n){return function(t){return t=t.lift(new Iv(n.ngZone)),t.pipe(Vr(n.outsideAngular),Lr(n.insideAngular))}}var lB=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),no(()=>n.apply(void 0,r))},Xt=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=no(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ns,{},Ns,Ns))),r[o]=lB(r[o],t));let i=sB(()=>n.apply(this,r));if(!e)if(i instanceof ye){let o=Rh();return i.pipe(Vr(o.outsideAngular),Lr(o.insideAngular))}else return no(()=>i);return i instanceof ye?i.pipe(aB):i instanceof Promise?no(()=>new Promise((o,s)=>i.then(a=>no(()=>o(a)),a=>no(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:no(()=>i)};var ro=class{constructor(e){return e}},Uc=class{constructor(){return xh()}};function uB(n){return n&&n.length===1?n[0]:new ro(Fc())}var bv=new W("angularfire2._apps"),dB={provide:ro,useFactory:uB,deps:[[new an,bv]]},hB={provide:Uc,deps:[[new an,bv]]};function fB(n){return(e,t)=>{let r=t.get(dn);ht("angularfire",Ps.full,"core"),ht("angularfire",Ps.full,"app"),ht("angular",nD.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ro(i)}}function eA(n,...e){return gt([dB,hB,{provide:bv,useFactory:fB(n),multi:!0,deps:[Ne,mt,jc,...e]}])}var tA=Xt(wv,!0);function lA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var uA=lA,dA=new Cr("auth","Firebase",lA());var Oh=new hi("@firebase/auth");function mB(n,...e){Oh.logLevel<=Ce.WARN&&Oh.warn(`Auth (${Rs}): ${n}`,...e)}function Ph(n,...e){Oh.logLevel<=Ce.ERROR&&Oh.error(`Auth (${Rs}): ${n}`,...e)}function nA(n,...e){throw Ov(n,...e)}function kv(n,...e){return Ov(n,...e)}function hA(n,e,t){let r=Object.assign(Object.assign({},uA()),{[e]:t});return new Cr("auth","Firebase",r).create(e,{appName:n.name})}function kh(n){return hA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ov(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return dA.create(n,...e)}function Me(n,e,...t){if(!n)throw Ov(e,...t)}function Bc(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Ph(e),new Error(e)}function Fh(n,e){n||Bc(e)}function gB(){return rA()==="http:"||rA()==="https:"}function rA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function yB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gB()||OS()||"connection"in navigator)?navigator.onLine:!0}function vB(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var oo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fh(t>e,"Short delay should be less than long delay!"),this.isMobile=PS()||FS()}get(){return yB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function _B(n,e){Fh(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Lh=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var wB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var IB=new oo(3e4,6e4);function fA(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Bh(o,s,a,l){return M(this,arguments,function*(n,e,t,r,i={}){return pA(n,i,()=>M(this,null,function*(){let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});let p=iv(Object.assign({key:n.config.apiKey},h)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:g},u);return kS()||(y.referrerPolicy="no-referrer"),Lh.fetch()(mA(n,n.config.apiHost,t,p),y)}))})}function pA(n,e,t){return M(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},wB),e);try{let i=new Tv(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Nh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nh(n,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Nh(n,"email-already-in-use",s);if(l==="USER_DISABLED")throw Nh(n,"user-disabled",s);let h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw hA(n,h,u);nA(n,h)}}catch(i){if(i instanceof gn)throw i;nA(n,"network-request-failed",{message:String(i)})}})}function mA(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?_B(n.config,i):`${n.config.apiScheme}://${i}`}var Tv=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(kv(this.auth,"network-request-failed")),IB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Nh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=kv(n,e,r);return i.customData._tokenResponse=t,i}function EB(n,e){return M(this,null,function*(){return Bh(n,"POST","/v1/accounts:delete",e)})}function gA(n,e){return M(this,null,function*(){return Bh(n,"POST","/v1/accounts:lookup",e)})}function $c(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Fv(n,e=!1){return M(this,null,function*(){let t=St(n),r=yield t.getIdToken(e),i=yA(r);Me(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:$c(Cv(i.auth_time)),issuedAtTime:$c(Cv(i.iat)),expirationTime:$c(Cv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Cv(n){return Number(n)*1e3}function yA(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ph("JWT malformed, contained fewer than 3 sections"),null;try{let i=tv(t);return i?JSON.parse(i):(Ph("Failed to decode base64 JWT payload"),null)}catch(i){return Ph("Caught error parsing JWT payload as JSON",i?.toString()),null}}function iA(n){let e=yA(n);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Sv(n,e,t=!1){return M(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof gn&&bB(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function bB({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Av=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>M(this,null,function*(){yield this.iteration()}),t)}iteration(){return M(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var zc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$c(this.lastLoginAt),this.creationTime=$c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Vh(n){return M(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Sv(n,gA(t,{idToken:r}));Me(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?vA(o.providerUserInfo):[],a=CB(n.providerData,s),l=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,h=l?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new zc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function Lv(n){return M(this,null,function*(){let e=St(n);yield Vh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function CB(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function vA(n){return n.map(e=>{var{providerId:t}=e,r=xp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function DB(n,e){return M(this,null,function*(){let t=yield pA(n,{},()=>M(this,null,function*(){let r=iv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=mA(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Lh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function TB(n,e){return M(this,null,function*(){return Bh(n,"POST","/v2/accounts:revokeToken",fA(n,e))})}var Hc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Me(e.length!==0,"internal-error");let t=iA(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return M(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return M(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield DB(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Me(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Me(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Me(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Bc("not implemented")}};function mi(n,e){Me(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var qc=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=xp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Av(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return M(this,null,function*(){let t=yield Sv(this,this.stsTokenManager.getToken(this.auth,e));return Me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Fv(this,e)}reload(){return Lv(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return M(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Vh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return M(this,null,function*(){if(Ms(this.auth.app))return Promise.reject(kh(this.auth));let e=yield this.getIdToken();return yield Sv(this,EB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,u,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=t.photoURL)!==null&&s!==void 0?s:void 0,k=(a=t.tenantId)!==null&&a!==void 0?a:void 0,N=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,U=(u=t.createdAt)!==null&&u!==void 0?u:void 0,J=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Y,emailVerified:fe,isAnonymous:Re,providerData:ae,stsTokenManager:C}=t;Me(Y&&C,e,"internal-error");let v=Hc.fromJSON(this.name,C);Me(typeof Y=="string",e,"internal-error"),mi(p,e.name),mi(g,e.name),Me(typeof fe=="boolean",e,"internal-error"),Me(typeof Re=="boolean",e,"internal-error"),mi(y,e.name),mi(A,e.name),mi(k,e.name),mi(N,e.name),mi(U,e.name),mi(J,e.name);let I=new n({uid:Y,auth:e,email:g,emailVerified:fe,displayName:p,isAnonymous:Re,photoURL:A,phoneNumber:y,tenantId:k,stsTokenManager:v,createdAt:U,lastLoginAt:J});return ae&&Array.isArray(ae)&&(I.providerData=ae.map(D=>Object.assign({},D))),N&&(I._redirectEventId=N),I}static _fromIdTokenResponse(e,t,r=!1){return M(this,null,function*(){let i=new Hc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Vh(o),o})}static _fromGetAccountInfoResponse(e,t,r){return M(this,null,function*(){let i=t.users[0];Me(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?vA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Hc;a.updateFromIdToken(r);let l=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new zc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,u),l})}};var oA=new Map;function io(n){Fh(n instanceof Function,"Expected a class definition");let e=oA.get(n);return e?(Fh(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,oA.set(n,e),e)}var SB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return M(this,null,function*(){return!0})}_set(t,r){return M(this,null,function*(){this.storage[t]=r})}_get(t){return M(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return M(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),xv=SB;function Dv(n,e,t){return`firebase:${n}:${e}:${t}`}var jh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Dv(this.userKey,i.apiKey,o),this.fullPersistenceKey=Dv("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return M(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?qc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return M(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return M(this,null,function*(){if(!t.length)return new n(io(xv),e,r);let i=(yield Promise.all(t.map(u=>M(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||io(xv),s=Dv(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let h=yield u._get(s);if(h){let p=qc._fromJSON(e,h);u!==o&&(a=p),o=u;break}}catch{}let l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new n(o,e,r):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>M(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function sA(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PB(e))return"Blackberry";if(kB(e))return"Webos";if(xB(e))return"Safari";if((e.includes("chrome/")||MB(e))&&!e.includes("edge/"))return"Chrome";if(NB(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function AB(n=Jt()){return/firefox\//i.test(n)}function xB(n=Jt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MB(n=Jt()){return/crios\//i.test(n)}function RB(n=Jt()){return/iemobile/i.test(n)}function NB(n=Jt()){return/android/i.test(n)}function PB(n=Jt()){return/blackberry/i.test(n)}function kB(n=Jt()){return/webos/i.test(n)}function _A(n,e=[]){let t;switch(n){case"Browser":t=sA(Jt());break;case"Worker":t=`${sA(Jt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Rs}/${r}`}var Mv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return M(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function OB(t){return M(this,arguments,function*(n,e={}){return Bh(n,"GET","/v2/passwordPolicy",fA(n,e))})}var FB=6,Rv=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:FB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Nv=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uh(this),this.idTokenSubscription=new Uh(this),this.beforeStateQueue=new Mv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=io(t)),this._initializationPromise=this.queue(()=>M(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield jh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return M(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return M(this,null,function*(){try{let t=yield gA(this,{idToken:e}),r=yield qc._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return M(this,null,function*(){var t;if(Ms(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return M(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return M(this,null,function*(){try{yield Vh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=vB()}_delete(){return M(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return M(this,null,function*(){if(Ms(this.app))return Promise.reject(kh(this));let t=e?St(e):null;return t&&Me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return M(this,null,function*(){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>M(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return M(this,null,function*(){return Ms(this.app)?Promise.reject(kh(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ms(this.app)?Promise.reject(kh(this)):this.queue(()=>M(this,null,function*(){yield this.assertedPersistence.setPersistence(io(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return M(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return M(this,null,function*(){let e=yield OB(this),t=new Rv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return M(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield TB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return M(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return M(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&io(e)||this._popupRedirectResolver;Me(t,this,"argument-error"),this.redirectPersistenceManager=yield jh.create(this,[io(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return M(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>M(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return M(this,null,function*(){if(e===this.currentUser)return this.queue(()=>M(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,r,i);return()=>{s=!0,l()}}else{let l=e.addObserver(t);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return M(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_A(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return M(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return M(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&mB(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function LB(n){return St(n)}var Uh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=jS(t=>this.observer=t)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var VB={loadJS(){return M(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jB(n){VB=n}function UB(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function BB(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(io);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var NQ=UB("rcb"),PQ=new oo(3e4,6e4);var kQ=new oo(2e3,1e4);var OQ=10*60*1e3;var FQ=new oo(3e4,6e4);var LQ=new oo(5e3,15e3);var VQ=encodeURIComponent("fac");var aA="@firebase/auth",cA="1.7.9";var Pv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return M(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function $B(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HB(n){pi(new yn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Me(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_A(n)},u=new Nv(r,i,o,l);return BB(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),pi(new yn("auth-internal",e=>{let t=LB(e.getProvider("auth").getImmediate());return(r=>new Pv(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ht(aA,cA,$B(n)),ht(aA,cA,"esm2017")}var zB=5*60,jQ=RS("authIdTokenMaxAge")||zB;function qB(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}jB({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=kv("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",qB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HB("Browser");var z$="auth";var $h=class{constructor(){return Vc(z$)}};var wA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},IA={};var gi,Vv;(function(){var n;function e(C,v){function I(){}I.prototype=v.prototype,C.D=v.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(D,T,x){for(var E=Array(arguments.length-2),rr=2;rr<arguments.length;rr++)E[rr-2]=arguments[rr];return v.prototype[T].apply(D,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,v,I){I||(I=0);var D=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)D[T]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(T=0;16>T;++T)D[T]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=C.g[0],I=C.g[1],T=C.g[2];var x=C.g[3],E=v+(x^I&(T^x))+D[0]+3614090360&4294967295;v=I+(E<<7&4294967295|E>>>25),E=x+(T^v&(I^T))+D[1]+3905402710&4294967295,x=v+(E<<12&4294967295|E>>>20),E=T+(I^x&(v^I))+D[2]+606105819&4294967295,T=x+(E<<17&4294967295|E>>>15),E=I+(v^T&(x^v))+D[3]+3250441966&4294967295,I=T+(E<<22&4294967295|E>>>10),E=v+(x^I&(T^x))+D[4]+4118548399&4294967295,v=I+(E<<7&4294967295|E>>>25),E=x+(T^v&(I^T))+D[5]+1200080426&4294967295,x=v+(E<<12&4294967295|E>>>20),E=T+(I^x&(v^I))+D[6]+2821735955&4294967295,T=x+(E<<17&4294967295|E>>>15),E=I+(v^T&(x^v))+D[7]+4249261313&4294967295,I=T+(E<<22&4294967295|E>>>10),E=v+(x^I&(T^x))+D[8]+1770035416&4294967295,v=I+(E<<7&4294967295|E>>>25),E=x+(T^v&(I^T))+D[9]+2336552879&4294967295,x=v+(E<<12&4294967295|E>>>20),E=T+(I^x&(v^I))+D[10]+4294925233&4294967295,T=x+(E<<17&4294967295|E>>>15),E=I+(v^T&(x^v))+D[11]+2304563134&4294967295,I=T+(E<<22&4294967295|E>>>10),E=v+(x^I&(T^x))+D[12]+1804603682&4294967295,v=I+(E<<7&4294967295|E>>>25),E=x+(T^v&(I^T))+D[13]+4254626195&4294967295,x=v+(E<<12&4294967295|E>>>20),E=T+(I^x&(v^I))+D[14]+2792965006&4294967295,T=x+(E<<17&4294967295|E>>>15),E=I+(v^T&(x^v))+D[15]+1236535329&4294967295,I=T+(E<<22&4294967295|E>>>10),E=v+(T^x&(I^T))+D[1]+4129170786&4294967295,v=I+(E<<5&4294967295|E>>>27),E=x+(I^T&(v^I))+D[6]+3225465664&4294967295,x=v+(E<<9&4294967295|E>>>23),E=T+(v^I&(x^v))+D[11]+643717713&4294967295,T=x+(E<<14&4294967295|E>>>18),E=I+(x^v&(T^x))+D[0]+3921069994&4294967295,I=T+(E<<20&4294967295|E>>>12),E=v+(T^x&(I^T))+D[5]+3593408605&4294967295,v=I+(E<<5&4294967295|E>>>27),E=x+(I^T&(v^I))+D[10]+38016083&4294967295,x=v+(E<<9&4294967295|E>>>23),E=T+(v^I&(x^v))+D[15]+3634488961&4294967295,T=x+(E<<14&4294967295|E>>>18),E=I+(x^v&(T^x))+D[4]+3889429448&4294967295,I=T+(E<<20&4294967295|E>>>12),E=v+(T^x&(I^T))+D[9]+568446438&4294967295,v=I+(E<<5&4294967295|E>>>27),E=x+(I^T&(v^I))+D[14]+3275163606&4294967295,x=v+(E<<9&4294967295|E>>>23),E=T+(v^I&(x^v))+D[3]+4107603335&4294967295,T=x+(E<<14&4294967295|E>>>18),E=I+(x^v&(T^x))+D[8]+1163531501&4294967295,I=T+(E<<20&4294967295|E>>>12),E=v+(T^x&(I^T))+D[13]+2850285829&4294967295,v=I+(E<<5&4294967295|E>>>27),E=x+(I^T&(v^I))+D[2]+4243563512&4294967295,x=v+(E<<9&4294967295|E>>>23),E=T+(v^I&(x^v))+D[7]+1735328473&4294967295,T=x+(E<<14&4294967295|E>>>18),E=I+(x^v&(T^x))+D[12]+2368359562&4294967295,I=T+(E<<20&4294967295|E>>>12),E=v+(I^T^x)+D[5]+4294588738&4294967295,v=I+(E<<4&4294967295|E>>>28),E=x+(v^I^T)+D[8]+2272392833&4294967295,x=v+(E<<11&4294967295|E>>>21),E=T+(x^v^I)+D[11]+1839030562&4294967295,T=x+(E<<16&4294967295|E>>>16),E=I+(T^x^v)+D[14]+4259657740&4294967295,I=T+(E<<23&4294967295|E>>>9),E=v+(I^T^x)+D[1]+2763975236&4294967295,v=I+(E<<4&4294967295|E>>>28),E=x+(v^I^T)+D[4]+1272893353&4294967295,x=v+(E<<11&4294967295|E>>>21),E=T+(x^v^I)+D[7]+4139469664&4294967295,T=x+(E<<16&4294967295|E>>>16),E=I+(T^x^v)+D[10]+3200236656&4294967295,I=T+(E<<23&4294967295|E>>>9),E=v+(I^T^x)+D[13]+681279174&4294967295,v=I+(E<<4&4294967295|E>>>28),E=x+(v^I^T)+D[0]+3936430074&4294967295,x=v+(E<<11&4294967295|E>>>21),E=T+(x^v^I)+D[3]+3572445317&4294967295,T=x+(E<<16&4294967295|E>>>16),E=I+(T^x^v)+D[6]+76029189&4294967295,I=T+(E<<23&4294967295|E>>>9),E=v+(I^T^x)+D[9]+3654602809&4294967295,v=I+(E<<4&4294967295|E>>>28),E=x+(v^I^T)+D[12]+3873151461&4294967295,x=v+(E<<11&4294967295|E>>>21),E=T+(x^v^I)+D[15]+530742520&4294967295,T=x+(E<<16&4294967295|E>>>16),E=I+(T^x^v)+D[2]+3299628645&4294967295,I=T+(E<<23&4294967295|E>>>9),E=v+(T^(I|~x))+D[0]+4096336452&4294967295,v=I+(E<<6&4294967295|E>>>26),E=x+(I^(v|~T))+D[7]+1126891415&4294967295,x=v+(E<<10&4294967295|E>>>22),E=T+(v^(x|~I))+D[14]+2878612391&4294967295,T=x+(E<<15&4294967295|E>>>17),E=I+(x^(T|~v))+D[5]+4237533241&4294967295,I=T+(E<<21&4294967295|E>>>11),E=v+(T^(I|~x))+D[12]+1700485571&4294967295,v=I+(E<<6&4294967295|E>>>26),E=x+(I^(v|~T))+D[3]+2399980690&4294967295,x=v+(E<<10&4294967295|E>>>22),E=T+(v^(x|~I))+D[10]+4293915773&4294967295,T=x+(E<<15&4294967295|E>>>17),E=I+(x^(T|~v))+D[1]+2240044497&4294967295,I=T+(E<<21&4294967295|E>>>11),E=v+(T^(I|~x))+D[8]+1873313359&4294967295,v=I+(E<<6&4294967295|E>>>26),E=x+(I^(v|~T))+D[15]+4264355552&4294967295,x=v+(E<<10&4294967295|E>>>22),E=T+(v^(x|~I))+D[6]+2734768916&4294967295,T=x+(E<<15&4294967295|E>>>17),E=I+(x^(T|~v))+D[13]+1309151649&4294967295,I=T+(E<<21&4294967295|E>>>11),E=v+(T^(I|~x))+D[4]+4149444226&4294967295,v=I+(E<<6&4294967295|E>>>26),E=x+(I^(v|~T))+D[11]+3174756917&4294967295,x=v+(E<<10&4294967295|E>>>22),E=T+(v^(x|~I))+D[2]+718787259&4294967295,T=x+(E<<15&4294967295|E>>>17),E=I+(x^(T|~v))+D[9]+3951481745&4294967295,C.g[0]=C.g[0]+v&4294967295,C.g[1]=C.g[1]+(T+(E<<21&4294967295|E>>>11))&4294967295,C.g[2]=C.g[2]+T&4294967295,C.g[3]=C.g[3]+x&4294967295}r.prototype.u=function(C,v){v===void 0&&(v=C.length);for(var I=v-this.blockSize,D=this.B,T=this.h,x=0;x<v;){if(T==0)for(;x<=I;)i(this,C,x),x+=this.blockSize;if(typeof C=="string"){for(;x<v;)if(D[T++]=C.charCodeAt(x++),T==this.blockSize){i(this,D),T=0;break}}else for(;x<v;)if(D[T++]=C[x++],T==this.blockSize){i(this,D),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var v=1;v<C.length-8;++v)C[v]=0;var I=8*this.o;for(v=C.length-8;v<C.length;++v)C[v]=I&255,I/=256;for(this.u(C),C=Array(16),v=I=0;4>v;++v)for(var D=0;32>D;D+=8)C[I++]=this.g[v]>>>D&255;return C};function o(C,v){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=v(C)}function s(C,v){this.h=v;for(var I=[],D=!0,T=C.length-1;0<=T;T--){var x=C[T]|0;D&&x==v||(I[T]=x,D=!1)}this.g=I}var a={};function l(C){return-128<=C&&128>C?o(C,function(v){return new s([v|0],0>v?-1:0)}):new s([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return N(u(-C));for(var v=[],I=1,D=0;C>=I;D++)v[D]=C/I|0,I*=4294967296;return new s(v,0)}function h(C,v){if(C.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(C.charAt(0)=="-")return N(h(C.substring(1),v));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(v,8)),D=p,T=0;T<C.length;T+=8){var x=Math.min(8,C.length-T),E=parseInt(C.substring(T,T+x),v);8>x?(x=u(Math.pow(v,x)),D=D.j(x).add(u(E))):(D=D.j(I),D=D.add(u(E)))}return D}var p=l(0),g=l(1),y=l(16777216);n=s.prototype,n.m=function(){if(k(this))return-N(this).m();for(var C=0,v=1,I=0;I<this.g.length;I++){var D=this.i(I);C+=(0<=D?D:4294967296+D)*v,v*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(A(this))return"0";if(k(this))return"-"+N(this).toString(C);for(var v=u(Math.pow(C,6)),I=this,D="";;){var T=fe(I,v).g;I=U(I,T.j(v));var x=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=T,A(I))return x+D;for(;6>x.length;)x="0"+x;D=x+D}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function A(C){if(C.h!=0)return!1;for(var v=0;v<C.g.length;v++)if(C.g[v]!=0)return!1;return!0}function k(C){return C.h==-1}n.l=function(C){return C=U(this,C),k(C)?-1:A(C)?0:1};function N(C){for(var v=C.g.length,I=[],D=0;D<v;D++)I[D]=~C.g[D];return new s(I,~C.h).add(g)}n.abs=function(){return k(this)?N(this):this},n.add=function(C){for(var v=Math.max(this.g.length,C.g.length),I=[],D=0,T=0;T<=v;T++){var x=D+(this.i(T)&65535)+(C.i(T)&65535),E=(x>>>16)+(this.i(T)>>>16)+(C.i(T)>>>16);D=E>>>16,x&=65535,E&=65535,I[T]=E<<16|x}return new s(I,I[I.length-1]&-2147483648?-1:0)};function U(C,v){return C.add(N(v))}n.j=function(C){if(A(this)||A(C))return p;if(k(this))return k(C)?N(this).j(N(C)):N(N(this).j(C));if(k(C))return N(this.j(N(C)));if(0>this.l(y)&&0>C.l(y))return u(this.m()*C.m());for(var v=this.g.length+C.g.length,I=[],D=0;D<2*v;D++)I[D]=0;for(D=0;D<this.g.length;D++)for(var T=0;T<C.g.length;T++){var x=this.i(D)>>>16,E=this.i(D)&65535,rr=C.i(T)>>>16,na=C.i(T)&65535;I[2*D+2*T]+=E*na,J(I,2*D+2*T),I[2*D+2*T+1]+=x*na,J(I,2*D+2*T+1),I[2*D+2*T+1]+=E*rr,J(I,2*D+2*T+1),I[2*D+2*T+2]+=x*rr,J(I,2*D+2*T+2)}for(D=0;D<v;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=v;D<2*v;D++)I[D]=0;return new s(I,0)};function J(C,v){for(;(C[v]&65535)!=C[v];)C[v+1]+=C[v]>>>16,C[v]&=65535,v++}function Y(C,v){this.g=C,this.h=v}function fe(C,v){if(A(v))throw Error("division by zero");if(A(C))return new Y(p,p);if(k(C))return v=fe(N(C),v),new Y(N(v.g),N(v.h));if(k(v))return v=fe(C,N(v)),new Y(N(v.g),v.h);if(30<C.g.length){if(k(C)||k(v))throw Error("slowDivide_ only works with positive integers.");for(var I=g,D=v;0>=D.l(C);)I=Re(I),D=Re(D);var T=ae(I,1),x=ae(D,1);for(D=ae(D,2),I=ae(I,2);!A(D);){var E=x.add(D);0>=E.l(C)&&(T=T.add(I),x=E),D=ae(D,1),I=ae(I,1)}return v=U(C,T.j(v)),new Y(T,v)}for(T=p;0<=C.l(v);){for(I=Math.max(1,Math.floor(C.m()/v.m())),D=Math.ceil(Math.log(I)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),x=u(I),E=x.j(v);k(E)||0<E.l(C);)I-=D,x=u(I),E=x.j(v);A(x)&&(x=g),T=T.add(x),C=U(C,E)}return new Y(T,C)}n.A=function(C){return fe(this,C).h},n.and=function(C){for(var v=Math.max(this.g.length,C.g.length),I=[],D=0;D<v;D++)I[D]=this.i(D)&C.i(D);return new s(I,this.h&C.h)},n.or=function(C){for(var v=Math.max(this.g.length,C.g.length),I=[],D=0;D<v;D++)I[D]=this.i(D)|C.i(D);return new s(I,this.h|C.h)},n.xor=function(C){for(var v=Math.max(this.g.length,C.g.length),I=[],D=0;D<v;D++)I[D]=this.i(D)^C.i(D);return new s(I,this.h^C.h)};function Re(C){for(var v=C.g.length+1,I=[],D=0;D<v;D++)I[D]=C.i(D)<<1|C.i(D-1)>>>31;return new s(I,C.h)}function ae(C,v){var I=v>>5;v%=32;for(var D=C.g.length-I,T=[],x=0;x<D;x++)T[x]=0<v?C.i(x+I)>>>v|C.i(x+I+1)<<32-v:C.i(x+I);return new s(T,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Vv=IA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,gi=IA.Integer=s}).apply(typeof wA<"u"?wA:typeof self<"u"?self:typeof window<"u"?window:{});var Hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tr={};var jv,q$,ks,Uv,Gc,zh,Bv,$v,Hv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hh=="object"&&Hh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var S=c[m];if(!(S in f))break e;f=f[S]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,S={next:function(){if(!m&&f<c.length){var P=f++;return{value:d(P,c[P]),done:!1}}return m=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function l(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function u(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,m),c.apply(d,S)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function A(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,S,P){for(var $=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)$[Le-2]=arguments[Le];return d.prototype[S].apply(m,$)}}function k(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function N(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(l(m)){let S=c.length||0,P=m.length||0;c.length=S+P;for(let $=0;$<P;$++)c[S+$]=m[$]}else c.push(m)}}class U{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function J(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function fe(c){return fe[" "](c),c}fe[" "]=function(){};var Re=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function ae(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function C(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,d){let f,m;for(let S=1;S<arguments.length;S++){m=arguments[S];for(f in m)c[f]=m[f];for(let P=0;P<I.length;P++)f=I[P],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function x(c){a.setTimeout(()=>{throw c},0)}function E(){var c=Uf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class rr{constructor(){this.h=this.g=null}add(d,f){let m=na.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var na=new U(()=>new SM,c=>c.reset());class SM{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ra,ia=!1,Uf=new rr,tw=()=>{let c=a.Promise.resolve(void 0);ra=()=>{c.then(AM)}};var AM=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){x(f)}var d=na;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}ia=!1};function Nr(){this.s=this.s,this.C=this.C}Nr.prototype.s=!1,Nr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Nr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function wt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}wt.prototype.h=function(){this.defaultPrevented=!0};var xM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function oa(c,d){if(wt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Re){e:{try{fe(d.nodeName);var S=!0;break e}catch{}S=!1}S||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:MM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&oa.aa.h.call(this)}}A(oa,wt);var MM={2:"touch",3:"pen",4:"mouse"};oa.prototype.h=function(){oa.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var sa="closure_listenable_"+(1e6*Math.random()|0),RM=0;function NM(c,d,f,m,S){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=S,this.key=++RM,this.da=this.fa=!1}function yl(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function vl(c){this.src=c,this.g={},this.h=0}vl.prototype.add=function(c,d,f,m,S){var P=c.toString();c=this.g[P],c||(c=this.g[P]=[],this.h++);var $=$f(c,d,m,S);return-1<$?(d=c[$],f||(d.fa=!1)):(d=new NM(d,this.src,P,!!m,S),d.fa=f,c.push(d)),d};function Bf(c,d){var f=d.type;if(f in c.g){var m=c.g[f],S=Array.prototype.indexOf.call(m,d,void 0),P;(P=0<=S)&&Array.prototype.splice.call(m,S,1),P&&(yl(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function $f(c,d,f,m){for(var S=0;S<c.length;++S){var P=c[S];if(!P.da&&P.listener==d&&P.capture==!!f&&P.ha==m)return S}return-1}var Hf="closure_lm_"+(1e6*Math.random()|0),zf={};function nw(c,d,f,m,S){if(m&&m.once)return iw(c,d,f,m,S);if(Array.isArray(d)){for(var P=0;P<d.length;P++)nw(c,d[P],f,m,S);return null}return f=Kf(f),c&&c[sa]?c.K(d,f,u(m)?!!m.capture:!!m,S):rw(c,d,f,!1,m,S)}function rw(c,d,f,m,S,P){if(!d)throw Error("Invalid event type");var $=u(S)?!!S.capture:!!S,Le=Gf(c);if(Le||(c[Hf]=Le=new vl(c)),f=Le.add(d,f,m,$,P),f.proxy)return f;if(m=PM(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)xM||(S=$),S===void 0&&(S=!1),c.addEventListener(d.toString(),m,S);else if(c.attachEvent)c.attachEvent(sw(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function PM(){function c(f){return d.call(c.src,c.listener,f)}let d=kM;return c}function iw(c,d,f,m,S){if(Array.isArray(d)){for(var P=0;P<d.length;P++)iw(c,d[P],f,m,S);return null}return f=Kf(f),c&&c[sa]?c.L(d,f,u(m)?!!m.capture:!!m,S):rw(c,d,f,!0,m,S)}function ow(c,d,f,m,S){if(Array.isArray(d))for(var P=0;P<d.length;P++)ow(c,d[P],f,m,S);else m=u(m)?!!m.capture:!!m,f=Kf(f),c&&c[sa]?(c=c.i,d=String(d).toString(),d in c.g&&(P=c.g[d],f=$f(P,f,m,S),-1<f&&(yl(P[f]),Array.prototype.splice.call(P,f,1),P.length==0&&(delete c.g[d],c.h--)))):c&&(c=Gf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=$f(d,f,m,S)),(f=-1<c?d[c]:null)&&qf(f))}function qf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[sa])Bf(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(sw(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Gf(d))?(Bf(f,c),f.h==0&&(f.src=null,d[Hf]=null)):yl(c)}}}function sw(c){return c in zf?zf[c]:zf[c]="on"+c}function kM(c,d){if(c.da)c=!0;else{d=new oa(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&qf(c),c=f.call(m,d)}return c}function Gf(c){return c=c[Hf],c instanceof vl?c:null}var Wf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kf(c){return typeof c=="function"?c:(c[Wf]||(c[Wf]=function(d){return c.handleEvent(d)}),c[Wf])}function It(){Nr.call(this),this.i=new vl(this),this.M=this,this.F=null}A(It,Nr),It.prototype[sa]=!0,It.prototype.removeEventListener=function(c,d,f,m){ow(this,c,d,f,m)};function Rt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new wt(d,c);else if(d instanceof wt)d.target=d.target||c;else{var S=d;d=new wt(m,c),D(d,S)}if(S=!0,f)for(var P=f.length-1;0<=P;P--){var $=d.g=f[P];S=_l($,m,!0,d)&&S}if($=d.g=c,S=_l($,m,!0,d)&&S,S=_l($,m,!1,d)&&S,f)for(P=0;P<f.length;P++)$=d.g=f[P],S=_l($,m,!1,d)&&S}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)yl(f[m]);delete c.g[d],c.h--}}this.F=null},It.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},It.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function _l(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var S=!0,P=0;P<d.length;++P){var $=d[P];if($&&!$.da&&$.capture==f){var Le=$.listener,pt=$.ha||$.src;$.fa&&Bf(c.i,$),S=Le.call(pt,m)!==!1&&S}}return S&&!m.defaultPrevented}function aw(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function cw(c){c.g=aw(()=>{c.g=null,c.i&&(c.i=!1,cw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class OM extends Nr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:cw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aa(c){Nr.call(this),this.h=c,this.g={}}A(aa,Nr);var lw=[];function uw(c){ae(c.g,function(d,f){this.g.hasOwnProperty(f)&&qf(d)},c),c.g={}}aa.prototype.N=function(){aa.aa.N.call(this),uw(this)},aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qf=a.JSON.stringify,FM=a.JSON.parse,LM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Yf(){}Yf.prototype.h=null;function dw(c){return c.h||(c.h=c.i())}function hw(){}var ca={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zf(){wt.call(this,"d")}A(Zf,wt);function Jf(){wt.call(this,"c")}A(Jf,wt);var Ci={},fw=null;function wl(){return fw=fw||new It}Ci.La="serverreachability";function pw(c){wt.call(this,Ci.La,c)}A(pw,wt);function la(c){let d=wl();Rt(d,new pw(d))}Ci.STAT_EVENT="statevent";function mw(c,d){wt.call(this,Ci.STAT_EVENT,c),this.stat=d}A(mw,wt);function Nt(c){let d=wl();Rt(d,new mw(d,c))}Ci.Ma="timingevent";function gw(c,d){wt.call(this,Ci.Ma,c),this.size=d}A(gw,wt);function ua(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function da(){this.g=!0}da.prototype.xa=function(){this.g=!1};function VM(c,d,f,m,S,P){c.info(function(){if(c.g)if(P)for(var $="",Le=P.split("&"),pt=0;pt<Le.length;pt++){var Ae=Le[pt].split("=");if(1<Ae.length){var Et=Ae[0];Ae=Ae[1];var bt=Et.split("_");$=2<=bt.length&&bt[1]=="type"?$+(Et+"="+Ae+"&"):$+(Et+"=redacted&")}}else $=null;else $=P;return"XMLHTTP REQ ("+m+") [attempt "+S+"]: "+d+`
`+f+`
`+$})}function jM(c,d,f,m,S,P,$){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+S+"]: "+d+`
`+f+`
`+P+" "+$})}function Io(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+BM(c,f)+(m?" "+m:"")})}function UM(c,d){c.info(function(){return"TIMEOUT: "+d})}da.prototype.info=function(){};function BM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var S=m[1];if(Array.isArray(S)&&!(1>S.length)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(var $=1;$<S.length;$++)S[$]=""}}}}return Qf(f)}catch{return d}}var Il={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xf;function El(){}A(El,Yf),El.prototype.g=function(){return new XMLHttpRequest},El.prototype.i=function(){return{}},Xf=new El;function Pr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vw}function vw(){this.i=null,this.g="",this.h=!1}var _w={},ep={};function tp(c,d,f){c.L=1,c.v=Tl(ir(d)),c.m=f,c.P=!0,ww(c,null)}function ww(c,d){c.F=Date.now(),bl(c),c.A=ir(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),kw(f.i,"t",m),c.C=0,f=c.j.J,c.h=new vw,c.g=Jw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new OM(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var S="readystatechange";Array.isArray(S)||(S&&(lw[0]=S.toString()),S=lw);for(var P=0;P<S.length;P++){var $=nw(f,S[P],m||d.handleEvent,!1,d.h||d);if(!$)break;d.g[$.key]=$}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),la(),VM(c.i,c.u,c.A,c.l,c.R,c.m)}Pr.prototype.ca=function(c){c=c.target;let d=this.M;d&&or(c)==3?d.j():this.Y(c)},Pr.prototype.Y=function(c){try{if(c==this.g)e:{let bt=or(this.g);var d=this.g.Ba();let Co=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||Bw(this.g)))){this.J||bt!=4||d==7||(d==8||0>=Co?la(3):la(2)),np(this);var f=this.g.Z();this.X=f;t:if(Iw(this)){var m=Bw(this.g);c="";var S=m.length,P=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Di(this),ha(this);var $="";break t}this.h.i=new a.TextDecoder}for(d=0;d<S;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(P&&d==S-1)});m.length=0,this.h.g+=c,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=f==200,jM(this.i,this.u,this.A,this.l,this.R,bt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,pt=this.g;if((Le=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Le)){var Ae=Le;break t}}Ae=null}if(f=Ae)Io(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rp(this,f);else{this.o=!1,this.s=3,Nt(12),Di(this),ha(this);break e}}if(this.P){f=!0;let _n;for(;!this.J&&this.C<$.length;)if(_n=$M(this,$),_n==ep){bt==4&&(this.s=4,Nt(14),f=!1),Io(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==_w){this.s=4,Nt(15),Io(this.i,this.l,$,"[Invalid Chunk]"),f=!1;break}else Io(this.i,this.l,_n,null),rp(this,_n);if(Iw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||$.length!=0||this.h.h||(this.s=1,Nt(16),f=!1),this.o=this.o&&f,!f)Io(this.i,this.l,$,"[Invalid Chunked Response]"),Di(this),ha(this);else if(0<$.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),lp(Et),Et.M=!0,Nt(11))}}else Io(this.i,this.l,$,null),rp(this,$);bt==4&&Di(this),this.o&&!this.J&&(bt==4?Kw(this.j,this):(this.o=!1,bl(this)))}else o1(this.g),f==400&&0<$.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),Di(this),ha(this)}}}catch{}finally{}};function Iw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function $M(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?ep:(f=Number(d.substring(f,m)),isNaN(f)?_w:(m+=1,m+f>d.length?ep:(d=d.slice(m,m+f),c.C=m+f,d)))}Pr.prototype.cancel=function(){this.J=!0,Di(this)};function bl(c){c.S=Date.now()+c.I,Ew(c,c.I)}function Ew(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ua(g(c.ba,c),d)}function np(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Pr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(UM(this.i,this.A),this.L!=2&&(la(),Nt(17)),Di(this),this.s=2,ha(this)):Ew(this,this.S-c)};function ha(c){c.j.G==0||c.J||Kw(c.j,c)}function Di(c){np(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,uw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function rp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||ip(f.h,c))){if(!c.K&&ip(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var S=m;if(S[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Rl(f),xl(f);else break e;cp(f),Nt(18)}}else f.za=S[1],0<f.za-f.T&&37500>S[2]&&f.F&&f.v==0&&!f.C&&(f.C=ua(g(f.Za,f),6e3));if(1>=Dw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Si(f,11)}else if((c.K||f.g==c)&&Rl(f),!J(d))for(S=f.Da.g.parse(d),d=0;d<S.length;d++){let Ae=S[d];if(f.T=Ae[0],Ae=Ae[1],f.G==2)if(Ae[0]=="c"){f.K=Ae[1],f.ia=Ae[2];let Et=Ae[3];Et!=null&&(f.la=Et,f.j.info("VER="+f.la));let bt=Ae[4];bt!=null&&(f.Aa=bt,f.j.info("SVER="+f.Aa));let Co=Ae[5];Co!=null&&typeof Co=="number"&&0<Co&&(m=1.5*Co,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let _n=c.g;if(_n){let Pl=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pl){var P=m.h;P.g||Pl.indexOf("spdy")==-1&&Pl.indexOf("quic")==-1&&Pl.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(op(P,P.h),P.h=null))}if(m.D){let up=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;up&&(m.ya=up,$e(m.I,m.D,up))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var $=c;if(m.qa=Zw(m,m.J?m.ia:null,m.W),$.K){Tw(m.h,$);var Le=$,pt=m.L;pt&&(Le.I=pt),Le.B&&(np(Le),bl(Le)),m.g=$}else Gw(m);0<f.i.length&&Ml(f)}else Ae[0]!="stop"&&Ae[0]!="close"||Si(f,7);else f.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?Si(f,7):ap(f):Ae[0]!="noop"&&f.l&&f.l.ta(Ae),f.v=0)}}la(4)}catch{}}var HM=class{constructor(c,d){this.g=c,this.map=d}};function bw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Dw(c){return c.h?1:c.g?c.g.size:0}function ip(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function op(c,d){c.g?c.g.add(d):c.h=d}function Tw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}bw.prototype.cancel=function(){if(this.i=Sw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Sw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return k(c.i)}function zM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function qM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function Aw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=qM(c),m=zM(c),S=m.length,P=0;P<S;P++)d.call(void 0,m[P],f&&f[P],c)}var xw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),S=null;if(0<=m){var P=c[f].substring(0,m);S=c[f].substring(m+1)}else P=c[f];d(P,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function Ti(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ti){this.h=c.h,Cl(this,c.j),this.o=c.o,this.g=c.g,Dl(this,c.s),this.l=c.l;var d=c.i,f=new ma;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Mw(this,f),this.m=c.m}else c&&(d=String(c).match(xw))?(this.h=!1,Cl(this,d[1]||"",!0),this.o=fa(d[2]||""),this.g=fa(d[3]||"",!0),Dl(this,d[4]),this.l=fa(d[5]||"",!0),Mw(this,d[6]||"",!0),this.m=fa(d[7]||"")):(this.h=!1,this.i=new ma(null,this.h))}Ti.prototype.toString=function(){var c=[],d=this.j;d&&c.push(pa(d,Rw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(pa(d,Rw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(pa(f,f.charAt(0)=="/"?QM:KM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",pa(f,ZM)),c.join("")};function ir(c){return new Ti(c)}function Cl(c,d,f){c.j=f?fa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Dl(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Mw(c,d,f){d instanceof ma?(c.i=d,JM(c.i,c.h)):(f||(d=pa(d,YM)),c.i=new ma(d,c.h))}function $e(c,d,f){c.i.set(d,f)}function Tl(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function fa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function pa(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,WM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function WM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Rw=/[#\/\?@]/g,KM=/[#\?:]/g,QM=/[#\?]/g,YM=/[#\?@]/g,ZM=/#/g;function ma(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function kr(c){c.g||(c.g=new Map,c.h=0,c.i&&GM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=ma.prototype,n.add=function(c,d){kr(this),this.i=null,c=Eo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function Nw(c,d){kr(c),d=Eo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Pw(c,d){return kr(c),d=Eo(c,d),c.g.has(d)}n.forEach=function(c,d){kr(this),this.g.forEach(function(f,m){f.forEach(function(S){c.call(d,S,m,this)},this)},this)},n.na=function(){kr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let S=c[m];for(let P=0;P<S.length;P++)f.push(d[m])}return f},n.V=function(c){kr(this);let d=[];if(typeof c=="string")Pw(this,c)&&(d=d.concat(this.g.get(Eo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return kr(this),this.i=null,c=Eo(this,c),Pw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function kw(c,d,f){Nw(c,d),0<f.length&&(c.i=null,c.g.set(Eo(c,d),k(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let P=encodeURIComponent(String(m)),$=this.V(m);for(m=0;m<$.length;m++){var S=P;$[m]!==""&&(S+="="+encodeURIComponent(String($[m]))),c.push(S)}}return this.i=c.join("&")};function Eo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function JM(c,d){d&&!c.j&&(kr(c),c.i=null,c.g.forEach(function(f,m){var S=m.toLowerCase();m!=S&&(Nw(this,m),kw(this,S,f))},c)),c.j=d}function XM(c,d){let f=new da;if(a.Image){let m=new Image;m.onload=y(Or,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(Or,f,"TestLoadImage: error",!1,d,m),m.onabort=y(Or,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(Or,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function e1(c,d){let f=new da,m=new AbortController,S=setTimeout(()=>{m.abort(),Or(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(P=>{clearTimeout(S),P.ok?Or(f,"TestPingServer: ok",!0,d):Or(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(S),Or(f,"TestPingServer: error",!1,d)})}function Or(c,d,f,m,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),m(f)}catch{}}function t1(){this.g=new LM}function n1(c,d,f){let m=f||"";try{Aw(c,function(S,P){let $=S;u(S)&&($=Qf(S)),d.push(m+P+"="+encodeURIComponent($))})}catch(S){throw d.push(m+"type="+encodeURIComponent("_badmap")),S}}function ga(c){this.l=c.Ub||null,this.j=c.eb||!1}A(ga,Yf),ga.prototype.g=function(){return new Sl(this.l,this.j)},ga.prototype.i=function(c){return function(){return c}}({});function Sl(c,d){It.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Sl,It),n=Sl.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,va(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ya(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,va(this)),this.g&&(this.readyState=3,va(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ow(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ow(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ya(this):va(this),this.readyState==3&&Ow(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,ya(this))},n.Qa=function(c){this.g&&(this.response=c,ya(this))},n.ga=function(){this.g&&ya(this)};function ya(c){c.readyState=4,c.l=null,c.j=null,c.v=null,va(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function va(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Sl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Fw(c){let d="";return ae(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function sp(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=Fw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):$e(c,d,f))}function Ze(c){It.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Ze,It);var r1=/^https?$/i,i1=["POST","PUT"];n=Ze.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xf.g(),this.v=this.o?dw(this.o):dw(Xf),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(P){Lw(this,P);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var S in m)f.set(S,m[S]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let P of m.keys())f.set(P,m.get(P));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(P=>P.toLowerCase()=="content-type"),S=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(i1,d,void 0))||m||S||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,$]of f)this.g.setRequestHeader(P,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Uw(this),this.u=!0,this.g.send(c),this.u=!1}catch(P){Lw(this,P)}};function Lw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Vw(c),Al(c)}function Vw(c){c.A||(c.A=!0,Rt(c,"complete"),Rt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Rt(this,"complete"),Rt(this,"abort"),Al(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Al(this,!0)),Ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?jw(this):this.bb())},n.bb=function(){jw(this)};function jw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||or(c)!=4||c.Z()!=2)){if(c.u&&or(c)==4)aw(c.Ea,0,c);else if(Rt(c,"readystatechange"),or(c)==4){c.h=!1;try{let $=c.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=$===0){var S=String(c.D).match(xw)[1]||null;!S&&a.self&&a.self.location&&(S=a.self.location.protocol.slice(0,-1)),m=!r1.test(S?S.toLowerCase():"")}f=m}if(f)Rt(c,"complete"),Rt(c,"success");else{c.m=6;try{var P=2<or(c)?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.Z()+"]",Vw(c)}}finally{Al(c)}}}}function Al(c,d){if(c.g){Uw(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Rt(c,"ready");try{f.onreadystatechange=m}catch{}}}function Uw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function or(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),FM(d)}};function Bw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function o1(c){let d={};c=(c.g&&2<=or(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(J(c[m]))continue;var f=T(c[m]);let S=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let P=d[S]||[];d[S]=P,P.push(f)}C(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _a(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function $w(c){this.Aa=0,this.i=[],this.j=new da,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_a("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_a("baseRetryDelayMs",5e3,c),this.cb=_a("retryDelaySeedMs",1e4,c),this.Wa=_a("forwardChannelMaxRetries",2,c),this.wa=_a("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new bw(c&&c.concurrentRequestLimit),this.Da=new t1,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=$w.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){Nt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=Zw(this,null,this.W),Ml(this)};function ap(c){if(Hw(c),c.G==3){var d=c.U++,f=ir(c.I);if($e(f,"SID",c.K),$e(f,"RID",d),$e(f,"TYPE","terminate"),wa(c,f),d=new Pr(c,c.j,d),d.L=2,d.v=Tl(ir(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Jw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),bl(d)}Yw(c)}function xl(c){c.g&&(lp(c),c.g.cancel(),c.g=null)}function Hw(c){xl(c),c.u&&(a.clearTimeout(c.u),c.u=null),Rl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ml(c){if(!Cw(c.h)&&!c.s){c.s=!0;var d=c.Ga;ra||tw(),ia||(ra(),ia=!0),Uf.add(d,c),c.B=0}}function s1(c,d){return Dw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ua(g(c.Ga,c,d),Qw(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let S=new Pr(this,this.j,c),P=this.o;if(this.S&&(P?(P=v(P),D(P,this.S)):P=this.S),this.m!==null||this.O||(S.H=P,P=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=qw(this,S,d),f=ir(this.I),$e(f,"RID",c),$e(f,"CVER",22),this.D&&$e(f,"X-HTTP-Session-Id",this.D),wa(this,f),P&&(this.O?d="headers="+encodeURIComponent(String(Fw(P)))+"&"+d:this.m&&sp(f,this.m,P)),op(this.h,S),this.Ua&&$e(f,"TYPE","init"),this.P?($e(f,"$req",d),$e(f,"SID","null"),S.T=!0,tp(S,f,null)):tp(S,f,d),this.G=2}}else this.G==3&&(c?zw(this,c):this.i.length==0||Cw(this.h)||zw(this))};function zw(c,d){var f;d?f=d.l:f=c.U++;let m=ir(c.I);$e(m,"SID",c.K),$e(m,"RID",f),$e(m,"AID",c.T),wa(c,m),c.m&&c.o&&sp(m,c.m,c.o),f=new Pr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=qw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),op(c.h,f),tp(f,m,d)}function wa(c,d){c.H&&ae(c.H,function(f,m){$e(d,m,f)}),c.l&&Aw({},function(f,m){$e(d,m,f)})}function qw(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var S=c.i;let P=-1;for(;;){let $=["count="+f];P==-1?0<f?(P=S[0].g,$.push("ofs="+P)):P=0:$.push("ofs="+P);let Le=!0;for(let pt=0;pt<f;pt++){let Ae=S[pt].g,Et=S[pt].map;if(Ae-=P,0>Ae)P=Math.max(0,S[pt].g-100),Le=!1;else try{n1(Et,$,"req"+Ae+"_")}catch{m&&m(Et)}}if(Le){m=$.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function Gw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ra||tw(),ia||(ra(),ia=!0),Uf.add(d,c),c.v=0}}function cp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ua(g(c.Fa,c),Qw(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Ww(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ua(g(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nt(10),xl(this),Ww(this))};function lp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Ww(c){c.g=new Pr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=ir(c.qa);$e(d,"RID","rpc"),$e(d,"SID",c.K),$e(d,"AID",c.T),$e(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(d,"TO",c.ja),$e(d,"TYPE","xmlhttp"),wa(c,d),c.m&&c.o&&sp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Tl(ir(d)),f.m=null,f.P=!0,ww(f,c)}n.Za=function(){this.C!=null&&(this.C=null,xl(this),cp(this),Nt(19))};function Rl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Kw(c,d){var f=null;if(c.g==d){Rl(c),lp(c),c.g=null;var m=2}else if(ip(c.h,d))f=d.D,Tw(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var S=c.B;m=wl(),Rt(m,new gw(m,f)),Ml(c)}else Gw(c);else if(S=d.s,S==3||S==0&&0<d.X||!(m==1&&s1(c,d)||m==2&&cp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),S){case 1:Si(c,5);break;case 4:Si(c,10);break;case 3:Si(c,6);break;default:Si(c,2)}}}function Qw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Si(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let S=!m;m=new Ti(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Cl(m,"https"),Tl(m),S?XM(m.toString(),f):e1(m.toString(),f)}else Nt(2);c.G=0,c.l&&c.l.sa(d),Yw(c),Hw(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Yw(c){if(c.G=0,c.ka=[],c.l){let d=Sw(c.h);(d.length!=0||c.i.length!=0)&&(N(c.ka,d),N(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function Zw(c,d,f){var m=f instanceof Ti?ir(f):new Ti(f);if(m.g!="")d&&(m.g=d+"."+m.g),Dl(m,m.s);else{var S=a.location;m=S.protocol,d=d?d+"."+S.hostname:S.hostname,S=+S.port;var P=new Ti(null);m&&Cl(P,m),d&&(P.g=d),S&&Dl(P,S),f&&(P.l=f),m=P}return f=c.D,d=c.ya,f&&d&&$e(m,f,d),$e(m,"VER",c.la),wa(c,m),m}function Jw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ze(new ga({eb:f})):new Ze(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xw(){}n=Xw.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Nl(){}Nl.prototype.g=function(c,d){return new qt(c,d)};function qt(c,d){It.call(this),this.g=new $w(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!J(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!J(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new bo(this)}A(qt,It),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){ap(this.g)},qt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Qf(c),c=f);d.i.push(new HM(d.Ya++,c)),d.G==3&&Ml(d)},qt.prototype.N=function(){this.g.l=null,delete this.j,ap(this.g),delete this.g,qt.aa.N.call(this)};function eI(c){Zf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}A(eI,Zf);function tI(){Jf.call(this),this.status=1}A(tI,Jf);function bo(c){this.g=c}A(bo,Xw),bo.prototype.ua=function(){Rt(this.g,"a")},bo.prototype.ta=function(c){Rt(this.g,new eI(c))},bo.prototype.sa=function(c){Rt(this.g,new tI)},bo.prototype.ra=function(){Rt(this.g,"b")},Nl.prototype.createWebChannel=Nl.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,Hv=Tr.createWebChannelTransport=function(){return new Nl},$v=Tr.getStatEventTarget=function(){return wl()},Bv=Tr.Event=Ci,zh=Tr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Il.NO_ERROR=0,Il.TIMEOUT=8,Il.HTTP_ERROR=6,Gc=Tr.ErrorCode=Il,yw.COMPLETE="complete",Uv=Tr.EventType=yw,hw.EventType=ca,ca.OPEN="a",ca.CLOSE="b",ca.ERROR="c",ca.MESSAGE="d",It.prototype.listen=It.prototype.K,ks=Tr.WebChannel=hw,q$=Tr.FetchXmlHttpFactory=ga,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,jv=Tr.XhrIo=Ze}).apply(typeof Hh<"u"?Hh:typeof self<"u"?self:typeof window<"u"?window:{});var EA="@firebase/firestore";var ft=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ft.UNAUTHENTICATED=new ft(null),ft.GOOGLE_CREDENTIALS=new ft("google-credentials-uid"),ft.FIRST_PARTY=new ft("first-party-uid"),ft.MOCK_USER=new ft("mock-user");var Xs="10.14.0";var lo=new hi("@firebase/firestore");function Wc(){return lo.logLevel}function X(n,...e){if(lo.logLevel<=Ce.DEBUG){let t=e.map(x0);lo.debug(`Firestore (${Xs}): ${n}`,...t)}}function xr(n,...e){if(lo.logLevel<=Ce.ERROR){let t=e.map(x0);lo.error(`Firestore (${Xs}): ${n}`,...t)}}function Bs(n,...e){if(lo.logLevel<=Ce.WARN){let t=e.map(x0);lo.warn(`Firestore (${Xs}): ${n}`,...t)}}function x0(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ce(n="Unexpected state"){let e=`FIRESTORE (${Xs}) INTERNAL ASSERTION FAILED: `+n;throw xr(e),new Error(e)}function Oe(n,e){n||ce()}function he(n,e){return n}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Z=class extends gn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Sr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Qh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Kv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ft.UNAUTHENTICATED))}shutdown(){}},Qv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Yv=class{constructor(e){this.t=e,this.currentUser=ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Oe(this.o===void 0);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),o=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Sr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>M(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Sr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string"),new Qh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new ft(e)}},Zv=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ft.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Jv=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Zv(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Xv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},e_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Oe(this.o===void 0);let r=o=>{o.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,X("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Oe(typeof t.token=="string"),this.R=t.token,new Xv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function G$(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Yh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=G$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function xe(n,e){return n<e?-1:n>e?1:0}function $s(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var _t=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Z(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Z(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Z(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ge=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new _t(0,0))}static max(){return new n(new _t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Zh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ce(),r===void 0?r=e.length-t:r>e.length-t&&ce(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Ye=class n extends Zh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new Z(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},W$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,tn=class n extends Zh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return W$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new Z(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Z(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ie=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ye.fromString(e))}static fromName(e){return new n(Ye.fromString(e).popFirst(5))}static empty(){return new n(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ye.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ye(e.slice()))}};var t_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};t_.UNKNOWN_ID=-1;function K$(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ge.fromTimestamp(r===1e9?new _t(t+1,0):new _t(t,r));return new uo(i,ie.empty(),e)}function Q$(n){return new uo(n.readTime,n.key,-1)}var uo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ge.min(),ie.empty(),-1)}static max(){return new n(ge.max(),ie.empty(),-1)}};function Y$(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ie.comparator(n.documentKey,e.documentKey),t!==0?t:xe(n.largestBatchId,e.largestBatchId))}var Z$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",n_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function hl(n){return M(this,null,function*(){if(n.code!==L.FAILED_PRECONDITION||n.message!==Z$)throw n;X("LocalStore","Unexpectedly lost primary lease")})}var j=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let u=l;t(e[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function J$(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function fl(n){return n.name==="IndexedDbTransactionError"}var ix=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Sf(n){return n==null}function Xc(n){return n===0&&1/n==-1/0}function X$(n){return typeof n=="number"&&Number.isInteger(n)&&!Xc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var e4=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],UY=[...e4,"documentOverlays"],t4=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],n4=t4,r4=[...n4,"indexConfiguration","indexState","indexEntries"];var BY=[...r4,"globals"];function bA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function vo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ox(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Xe=class n{constructor(e,t){this.comparator=e,this.root=t||Jn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vs(this.root,e,this.comparator,!0)}},Vs=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Jn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();let e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}};Jn.EMPTY=null,Jn.RED=!0,Jn.BLACK=!1;Jn.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Jn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var xt=class n{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Jh(this.data.getIterator())}getIteratorFrom(e){return new Jh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Jh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var vn=class n{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new n([])}unionWith(e){let t=new xt(tn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $s(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Xh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Mt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Xh("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Mt.EMPTY_BYTE_STRING=new Mt("");var i4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(n){if(Oe(!!n),typeof n=="string"){let e=0,t=i4.exec(n);if(Oe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(n.seconds),nanos:We(n.nanos)}}function We(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _i(n){return typeof n=="string"?Mt.fromBase64String(n):Mt.fromUint8Array(n)}function M0(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function R0(n){let e=n.mapValue.fields.__previous_value__;return M0(e)?R0(e):e}function el(n){let e=Mr(n.mapValue.fields.__local_write_time__.timestampValue);return new _t(e.seconds,e.nanos)}var r_=class{constructor(e,t,r,i,o,s,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}},ef=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var qh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ho(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?M0(n)?4:ax(n)?9007199254740991:sx(n)?10:11:ce()}function tr(n,e){if(n===e)return!0;let t=ho(n);if(t!==ho(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return el(n).isEqual(el(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Mr(i.timestampValue),a=Mr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return _i(i.bytesValue).isEqual(_i(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return We(i.geoPointValue.latitude)===We(o.geoPointValue.latitude)&&We(i.geoPointValue.longitude)===We(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return We(i.integerValue)===We(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=We(i.doubleValue),a=We(o.doubleValue);return s===a?Xc(s)===Xc(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return $s(n.arrayValue.values||[],e.arrayValue.values||[],tr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(bA(s)!==bA(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!tr(s[l],a[l])))return!1;return!0}(n,e);default:return ce()}}function tl(n,e){return(n.values||[]).find(t=>tr(t,e))!==void 0}function Hs(n,e){if(n===e)return 0;let t=ho(n),r=ho(e);if(t!==r)return xe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=We(o.integerValue||o.doubleValue),l=We(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return CA(n.timestampValue,e.timestampValue);case 4:return CA(el(n),el(e));case 5:return xe(n.stringValue,e.stringValue);case 6:return function(o,s){let a=_i(o),l=_i(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){let h=xe(a[u],l[u]);if(h!==0)return h}return xe(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=xe(We(o.latitude),We(s.latitude));return a!==0?a:xe(We(o.longitude),We(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return DA(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,h;let p=o.fields||{},g=s.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,A=(l=g.value)===null||l===void 0?void 0:l.arrayValue,k=xe(((u=y?.values)===null||u===void 0?void 0:u.length)||0,((h=A?.values)===null||h===void 0?void 0:h.length)||0);return k!==0?k:DA(y,A)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===qh.mapValue&&s===qh.mapValue)return 0;if(o===qh.mapValue)return 1;if(s===qh.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){let g=xe(l[p],h[p]);if(g!==0)return g;let y=Hs(a[l[p]],u[h[p]]);if(y!==0)return y}return xe(l.length,h.length)}(n.mapValue,e.mapValue);default:throw ce()}}function CA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return xe(n,e);let t=Mr(n),r=Mr(e),i=xe(t.seconds,r.seconds);return i!==0?i:xe(t.nanos,r.nanos)}function DA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Hs(t[i],r[i]);if(o)return o}return xe(t.length,r.length)}function zs(n){return i_(n)}function i_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Mr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return _i(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ie.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=i_(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${i_(t.fields[s])}`;return i+"}"}(n.mapValue):ce()}function TA(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function o_(n){return!!n&&"integerValue"in n}function N0(n){return!!n&&"arrayValue"in n}function SA(n){return!!n&&"nullValue"in n}function AA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wh(n){return!!n&&"mapValue"in n}function sx(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Qc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return vo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Qc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ax(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var en=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Wh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qc(t)}setAll(e){let t=tn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Qc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Wh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return tr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Wh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){vo(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Qc(this.value))}};function cx(n){let e=[];return vo(n.fields,(t,r)=>{let i=new tn([t]);if(Wh(r)){let o=cx(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new vn(e)}var On=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ge.min(),ge.min(),ge.min(),en.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ge.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ge.min(),ge.min(),en.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ge.min(),ge.min(),en.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var qs=class{constructor(e,t){this.position=e,this.inclusive=t}};function xA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ie.comparator(ie.fromName(s.referenceValue),t.key):r=Hs(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function MA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!tr(n.position[t],e.position[t]))return!1;return!0}var fo=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function o4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var tf=class{},st=class n extends tf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new a_(e,t,r):t==="array-contains"?new u_(e,r):t==="in"?new d_(e,r):t==="not-in"?new h_(e,r):t==="array-contains-any"?new f_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new c_(e,r):new l_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Hs(t,this.value)):t!==null&&ho(this.value)===ho(t)&&this.matchesComparison(Hs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Fn=class n extends tf{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return lx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function lx(n){return n.op==="and"}function ux(n){return s4(n)&&lx(n)}function s4(n){for(let e of n.filters)if(e instanceof Fn)return!1;return!0}function s_(n){if(n instanceof st)return n.field.canonicalString()+n.op.toString()+zs(n.value);if(ux(n))return n.filters.map(e=>s_(e)).join(",");{let e=n.filters.map(t=>s_(t)).join(",");return`${n.op}(${e})`}}function dx(n,e){return n instanceof st?function(r,i){return i instanceof st&&r.op===i.op&&r.field.isEqual(i.field)&&tr(r.value,i.value)}(n,e):n instanceof Fn?function(r,i){return i instanceof Fn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&dx(s,i.filters[a]),!0):!1}(n,e):void ce()}function hx(n){return n instanceof st?function(t){return`${t.field.canonicalString()} ${t.op} ${zs(t.value)}`}(n):n instanceof Fn?function(t){return t.op.toString()+" {"+t.getFilters().map(hx).join(" ,")+"}"}(n):"Filter"}var a_=class extends st{constructor(e,t,r){super(e,t,r),this.key=ie.fromName(r.referenceValue)}matches(e){let t=ie.comparator(e.key,this.key);return this.matchesComparison(t)}},c_=class extends st{constructor(e,t){super(e,"in",t),this.keys=fx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},l_=class extends st{constructor(e,t){super(e,"not-in",t),this.keys=fx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function fx(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ie.fromName(r.referenceValue))}var u_=class extends st{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return N0(t)&&tl(t.arrayValue,this.value)}},d_=class extends st{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&tl(this.value.arrayValue,t)}},h_=class extends st{constructor(e,t){super(e,"not-in",t)}matches(e){if(tl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!tl(this.value.arrayValue,t)}},f_=class extends st{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!N0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>tl(this.value.arrayValue,r))}};var p_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function RA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new p_(n,e,t,r,i,o,s)}function P0(n){let e=he(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>s_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Sf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>zs(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>zs(r)).join(",")),e.ue=t}return e.ue}function k0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!o4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!dx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!MA(n.startAt,e.startAt)&&MA(n.endAt,e.endAt)}function m_(n){return ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var wi=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function a4(n,e,t,r,i,o,s,a){return new wi(n,e,t,r,i,o,s,a)}function O0(n){return new wi(n)}function NA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function px(n){return n.collectionGroup!==null}function Yc(n){let e=he(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new xt(tn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new fo(o,r))}),t.has(tn.keyField().canonicalString())||e.ce.push(new fo(tn.keyField(),r))}return e.ce}function Xn(n){let e=he(n);return e.le||(e.le=c4(e,Yc(n))),e.le}function c4(n,e){if(n.limitType==="F")return RA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new fo(i.field,o)});let t=n.endAt?new qs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new qs(n.startAt.position,n.startAt.inclusive):null;return RA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function g_(n,e){let t=n.filters.concat([e]);return new wi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function y_(n,e,t){return new wi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Af(n,e){return k0(Xn(n),Xn(e))&&n.limitType===e.limitType}function mx(n){return`${P0(Xn(n))}|lt:${n.limitType}`}function Os(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>hx(i)).join(", ")}]`),Sf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>zs(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>zs(i)).join(",")),`Target(${r})`}(Xn(n))}; limitType=${n.limitType})`}function xf(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ie.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Yc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){let u=xA(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Yc(r),i)||r.endAt&&!function(s,a,l){let u=xA(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Yc(r),i))}(n,e)}function l4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gx(n){return(e,t)=>{let r=!1;for(let i of Yc(n)){let o=u4(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function u4(n,e,t){let r=n.field.isKeyField()?ie.comparator(e.key,t.key):function(o,s,a){let l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Hs(l,u):ce()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}var Ii=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vo(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return ox(this.inner)}size(){return this.innerSize}};var d4=new Xe(ie.comparator);function Rr(){return d4}var yx=new Xe(ie.comparator);function Kc(...n){let e=yx;for(let t of n)e=e.insert(t.key,t);return e}function vx(n){let e=yx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function so(){return Zc()}function _x(){return Zc()}function Zc(){return new Ii(n=>n.toString(),(n,e)=>n.isEqual(e))}var h4=new Xe(ie.comparator),f4=new xt(ie.comparator);function De(...n){let e=f4;for(let t of n)e=e.add(t);return e}var p4=new xt(xe);function m4(){return p4}function F0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(e)?"-0":e}}function wx(n){return{integerValue:""+n}}function g4(n,e){return X$(e)?wx(e):F0(n,e)}var Gs=class{constructor(){this._=void 0}};function y4(n,e,t){return n instanceof Ws?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&M0(o)&&(o=R0(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof po?Ex(n,e):n instanceof mo?bx(n,e):function(i,o){let s=Ix(i,o),a=PA(s)+PA(i.Pe);return o_(s)&&o_(i.Pe)?wx(a):F0(i.serializer,a)}(n,e)}function v4(n,e,t){return n instanceof po?Ex(n,e):n instanceof mo?bx(n,e):t}function Ix(n,e){return n instanceof Ks?function(r){return o_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ws=class extends Gs{},po=class extends Gs{constructor(e){super(),this.elements=e}};function Ex(n,e){let t=Cx(e);for(let r of n.elements)t.some(i=>tr(i,r))||t.push(r);return{arrayValue:{values:t}}}var mo=class extends Gs{constructor(e){super(),this.elements=e}};function bx(n,e){let t=Cx(e);for(let r of n.elements)t=t.filter(i=>!tr(i,r));return{arrayValue:{values:t}}}var Ks=class extends Gs{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function PA(n){return We(n.integerValue||n.doubleValue)}function Cx(n){return N0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function _4(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof po&&i instanceof po||r instanceof mo&&i instanceof mo?$s(r.elements,i.elements,tr):r instanceof Ks&&i instanceof Ks?tr(r.Pe,i.Pe):r instanceof Ws&&i instanceof Ws}(n.transform,e.transform)}var v_=class{constructor(e,t){this.version=e,this.transformResults=t}},Ar=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Kh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Qs=class{};function Dx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new nl(n.key,Ar.none()):new go(n.key,n.data,Ar.none());{let t=n.data,r=en.empty(),i=new xt(tn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new nr(n.key,r,new vn(i.toArray()),Ar.none())}}function w4(n,e,t){n instanceof go?function(i,o,s){let a=i.value.clone(),l=OA(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof nr?function(i,o,s){if(!Kh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=OA(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(Tx(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Jc(n,e,t,r){return n instanceof go?function(o,s,a,l){if(!Kh(o.precondition,s))return a;let u=o.value.clone(),h=FA(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof nr?function(o,s,a,l){if(!Kh(o.precondition,s))return a;let u=FA(o.fieldTransforms,l,s),h=s.data;return h.setAll(Tx(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Kh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function I4(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=Ix(r.transform,i||null);o!=null&&(t===null&&(t=en.empty()),t.set(r.field,o))}return t||null}function kA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$s(r,i,(o,s)=>_4(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var go=class extends Qs{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},nr=class extends Qs{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Tx(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function OA(n,e,t){let r=new Map;Oe(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,v4(s,a,t[i]))}return r}function FA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,y4(o,s,e))}return r}var nl=class extends Qs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},__=class extends Qs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var w_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&w4(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Jc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Jc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=_x();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let l=Dx(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),De())}isEqual(e){return this.batchId===e.batchId&&$s(this.mutations,e.mutations,(t,r)=>kA(t,r))&&$s(this.baseMutations,e.baseMutations,(t,r)=>kA(t,r))}},I_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Oe(e.mutations.length===r.length);let i=function(){return h4}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var E_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var b_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var it,Te;function E4(n){switch(n){default:return ce();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function Sx(n){if(n===void 0)return xr("GRPC error has no .code"),L.UNKNOWN;switch(n){case it.OK:return L.OK;case it.CANCELLED:return L.CANCELLED;case it.UNKNOWN:return L.UNKNOWN;case it.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case it.INTERNAL:return L.INTERNAL;case it.UNAVAILABLE:return L.UNAVAILABLE;case it.UNAUTHENTICATED:return L.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case it.NOT_FOUND:return L.NOT_FOUND;case it.ALREADY_EXISTS:return L.ALREADY_EXISTS;case it.PERMISSION_DENIED:return L.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case it.ABORTED:return L.ABORTED;case it.OUT_OF_RANGE:return L.OUT_OF_RANGE;case it.UNIMPLEMENTED:return L.UNIMPLEMENTED;case it.DATA_LOSS:return L.DATA_LOSS;default:return ce()}}(Te=it||(it={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";var LA=null;function b4(){return new TextEncoder}var C4=new gi([4294967295,4294967295],0);function VA(n){let e=b4().encode(n),t=new Vv;return t.update(e),new Uint8Array(t.digest())}function jA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new gi([t,r],0),new gi([i,o],0)]}var C_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ao(`Invalid padding: ${t}`);if(r<0)throw new ao(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ao(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ao(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=gi.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(gi.fromNumber(r)));return i.compare(C4)===1&&(i=new gi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=VA(e),[r,i]=jA(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=VA(e),[r,i]=jA(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ao=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var nf=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,rl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ge.min(),i,new Xe(xe),Rr(),De())}},rl=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,De(),De(),De())}};var js=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},rf=class{constructor(e,t){this.targetId=e,this.me=t}},of=class{constructor(e,t,r=Mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},sf=class{constructor(){this.fe=0,this.ge=BA(),this.pe=Mt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=De(),t=De(),r=De();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new rl(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=BA()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Oe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},D_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Rr(),this.qe=UA(),this.Qe=new Xe(xe)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(m_(o))if(r===0){let s=new ie(o.path);this.Ue(t,s,On.newNoDocument(s,ge.min()))}else Oe(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(t);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}LA?.et(function(h,p,g,y,A){var k,N,U,J,Y,fe;let Re={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},ae=p.unchangedNames;return ae&&(Re.bloomFilter={applied:A===0,hashCount:(k=ae?.hashCount)!==null&&k!==void 0?k:0,bitmapLength:(J=(U=(N=ae?.bits)===null||N===void 0?void 0:N.bitmap)===null||U===void 0?void 0:U.length)!==null&&J!==void 0?J:0,padding:(fe=(Y=ae?.bits)===null||Y===void 0?void 0:Y.padding)!==null&&fe!==void 0?fe:0,mightContain:C=>{var v;return(v=y?.mightContain(C))!==null&&v!==void 0&&v}}),Re}(s,e.me,this.Le.tt(),a,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=_i(r).toUint8Array()}catch(l){if(l instanceof Xh)return Bs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new C_(s,i,o)}catch(l){return Bs(l instanceof ao?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&m_(a.target)){let l=new ie(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,On.newNoDocument(l,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=De();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new nf(e,t,this.Qe,this.ke,r);return this.ke=Rr(),this.qe=UA(),this.Qe=new Xe(xe),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new sf,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new xt(xe),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||X("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new sf),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function UA(){return new Xe(ie.comparator)}function BA(){return new Xe(ie.comparator)}var D4={asc:"ASCENDING",desc:"DESCENDING"},T4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},S4={and:"AND",or:"OR"},T_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function S_(n,e){return n.useProto3Json||Sf(e)?e:{value:e}}function af(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ax(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function A4(n,e){return af(n,e.toTimestamp())}function er(n){return Oe(!!n),ge.fromTimestamp(function(t){let r=Mr(t);return new _t(r.seconds,r.nanos)}(n))}function L0(n,e){return A_(n,e).canonicalString()}function A_(n,e){let t=function(i){return new Ye(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function xx(n){let e=Ye.fromString(n);return Oe(kx(e)),e}function x_(n,e){return L0(n.databaseId,e.path)}function zv(n,e){let t=xx(e);if(t.get(1)!==n.databaseId.projectId)throw new Z(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Z(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ie(Rx(t))}function Mx(n,e){return L0(n.databaseId,e)}function x4(n){let e=xx(n);return e.length===4?Ye.emptyPath():Rx(e)}function M_(n){return new Ye(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Rx(n){return Oe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function $A(n,e,t){return{name:x_(n,e),fields:t.value.mapValue.fields}}function M4(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(Oe(h===void 0||typeof h=="string"),Mt.fromBase64String(h||"")):(Oe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Mt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let h=u.code===void 0?L.UNKNOWN:Sx(u.code);return new Z(h,u.message||"")}(s);t=new of(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=zv(n,r.document.name),o=er(r.document.updateTime),s=r.document.createTime?er(r.document.createTime):ge.min(),a=new en({mapValue:{fields:r.document.fields}}),l=On.newFoundDocument(i,o,s,a),u=r.targetIds||[],h=r.removedTargetIds||[];t=new js(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=zv(n,r.document),o=r.readTime?er(r.readTime):ge.min(),s=On.newNoDocument(i,o),a=r.removedTargetIds||[];t=new js([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=zv(n,r.document),o=r.removedTargetIds||[];t=new js([],o,i,null)}else{if(!("filter"in e))return ce();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new b_(i,o),a=r.targetId;t=new rf(a,s)}}return t}function R4(n,e){let t;if(e instanceof go)t={update:$A(n,e.key,e.value)};else if(e instanceof nl)t={delete:x_(n,e.key)};else if(e instanceof nr)t={update:$A(n,e.key,e.data),updateMask:U4(e.fieldMask)};else{if(!(e instanceof __))return ce();t={verify:x_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Ws)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof po)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof mo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ks)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ce()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:A4(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ce()}(n,e.precondition)),t}function N4(n,e){return n&&n.length>0?(Oe(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?er(i.updateTime):er(o);return s.isEqual(ge.min())&&(s=er(o)),new v_(s,i.transformResults||[])}(t,e))):[]}function P4(n,e){return{documents:[Mx(n,e.path)]}}function k4(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Mx(n,i);let o=function(u){if(u.length!==0)return Px(Fn.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(h=>function(g){return{field:Fs(g.field),direction:L4(g.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=S_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:i}}function O4(n){let e=x4(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Oe(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let g=Nx(p);return g instanceof Fn&&ux(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(g=>function(A){return new fo(Ls(A.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,Sf(g)?null:g}(t.limit));let l=null;t.startAt&&(l=function(p){let g=!!p.before,y=p.values||[];return new qs(y,g)}(t.startAt));let u=null;return t.endAt&&(u=function(p){let g=!p.before,y=p.values||[];return new qs(y,g)}(t.endAt)),a4(e,i,s,o,a,"F",l,u)}function F4(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Nx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Ls(t.unaryFilter.field);return st.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ls(t.unaryFilter.field);return st.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ls(t.unaryFilter.field);return st.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ls(t.unaryFilter.field);return st.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(n):n.fieldFilter!==void 0?function(t){return st.create(Ls(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Fn.create(t.compositeFilter.filters.map(r=>Nx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce()}}(t.compositeFilter.op))}(n):ce()}function L4(n){return D4[n]}function V4(n){return T4[n]}function j4(n){return S4[n]}function Fs(n){return{fieldPath:n.canonicalString()}}function Ls(n){return tn.fromServerFormat(n.fieldPath)}function Px(n){return n instanceof st?function(t){if(t.op==="=="){if(AA(t.value))return{unaryFilter:{field:Fs(t.field),op:"IS_NAN"}};if(SA(t.value))return{unaryFilter:{field:Fs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(AA(t.value))return{unaryFilter:{field:Fs(t.field),op:"IS_NOT_NAN"}};if(SA(t.value))return{unaryFilter:{field:Fs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(t.field),op:V4(t.op),value:t.value}}}(n):n instanceof Fn?function(t){let r=t.getFilters().map(i=>Px(i));return r.length===1?r[0]:{compositeFilter:{op:j4(t.op),filters:r}}}(n):ce()}function U4(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var il=class n{constructor(e,t,r,i,o=ge.min(),s=ge.min(),a=Mt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var R_=class{constructor(e){this.ct=e}};function B4(n){let e=O4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?y_(e,e.limit,"L"):e}var cf=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(We(e.integerValue));else if("doubleValue"in e){let r=We(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Xc(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Mr(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(_i(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?ax(e)?this.dt(t,Number.MAX_SAFE_INTEGER):sx(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ce()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(We(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),ie.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};cf.vt=new cf;var N_=class{constructor(){this.un=new P_}addToCollectionParentIndex(e,t){return this.un.add(t),j.resolve()}getCollectionParents(e,t){return j.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return j.resolve()}deleteFieldIndex(e,t){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,t){return j.resolve()}getDocumentsMatchingTarget(e,t){return j.resolve(null)}getIndexType(e,t){return j.resolve(0)}getFieldIndexes(e,t){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,t){return j.resolve(uo.min())}getMinOffsetFromCollectionGroup(e,t){return j.resolve(uo.min())}updateCollectionGroup(e,t,r){return j.resolve()}updateIndexEntries(e,t){return j.resolve()}},P_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new xt(Ye.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xt(Ye.comparator)).toArray()}};var HY=new Uint8Array(0);var Zn=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Zn.DEFAULT_COLLECTION_PERCENTILE=10,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zn.DEFAULT=new Zn(41943040,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zn.DISABLED=new Zn(-1,0,0);var ol=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var k_=class{constructor(){this.changes=new Ii(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?j.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var O_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var F_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Jc(r.mutation,i,vn.empty(),_t.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,De()).next(()=>r))}getLocalViewOfDocuments(e,t,r=De()){let i=so();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Kc();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=so();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,De()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Rr(),s=Zc(),a=function(){return Zc()}();return t.forEach((l,u)=>{let h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof nr)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),Jc(h.mutation,u,h.mutation.getFieldMask(),_t.now())):s.set(u.key,vn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),t.forEach((u,h)=>{var p;return a.set(u,new O_(h,(p=s.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Zc(),i=new Xe((s,a)=>s-a),o=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(l=>{let u=t.get(l);if(u===null)return;let h=r.get(l)||vn.empty();h=a.applyToLocalView(u,h),r.set(l,h);let p=(i.get(a.batchId)||De()).add(l);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,h=l.value,p=_x();h.forEach(g=>{if(!o.has(g)){let y=Dx(t.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return j.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ie.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):px(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):j.resolve(so()),a=-1,l=o;return s.next(u=>j.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,De())).next(h=>({batchId:a,changes:vx(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ie(t)).next(r=>{let i=Kc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Kc();return this.indexManager.getCollectionParents(e,o).next(a=>j.forEach(a,l=>{let u=function(p,g){return new wi(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,u)=>{let h=u.getKey();s.get(h)===null&&(s=s.insert(h,On.newInvalidDocument(h)))});let a=Kc();return s.forEach((l,u)=>{let h=o.get(l);h!==void 0&&Jc(h.mutation,u,vn.empty(),_t.now()),xf(t,u)&&(a=a.insert(l,u))}),a})}};var L_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return j.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:er(i.createTime)}}(t)),j.resolve()}getNamedQuery(e,t){return j.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:B4(i.bundledQuery),readTime:er(i.readTime)}}(t)),j.resolve()}};var V_=class{constructor(){this.overlays=new Xe(ie.comparator),this.Ir=new Map}getOverlay(e,t){return j.resolve(this.overlays.get(t))}getOverlays(e,t){let r=so();return j.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),j.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),j.resolve()}getOverlaysForCollection(e,t,r){let i=so(),o=t.length+1,s=new ie(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Xe((u,h)=>u-h),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=so(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}let a=so(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return j.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new E_(t,r));let o=this.Ir.get(t);o===void 0&&(o=De(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var j_=class{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,j.resolve()}};var sl=class{constructor(){this.Tr=new xt(ot.Er),this.dr=new xt(ot.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new ot(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new ot(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new ie(new Ye([])),r=new ot(t,e),i=new ot(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new ie(new Ye([])),r=new ot(t,e),i=new ot(t,e+1),o=De();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new ot(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},ot=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ie.comparator(e.key,t.key)||xe(e.wr,t.wr)}static Ar(e,t){return xe(e.wr,t.wr)||ie.comparator(e.key,t.key)}};var U_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new xt(ot.Er)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new w_(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new ot(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(s)}lookupMutationBatch(e,t){return j.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return j.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new ot(t,0),i=new ot(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),j.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new xt(xe);return t.forEach(i=>{let o=new ot(i,0),s=new ot(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),j.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ie.isDocumentKey(o)||(o=o.child(""));let s=new ot(new ie(o),0),a=new xt(xe);return this.br.forEachWhile(l=>{let u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),j.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Oe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return j.forEach(t.mutations,i=>{let o=new ot(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new ot(t,0),i=this.br.firstAfterOrEqual(r);return j.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var B_=class{constructor(e){this.Mr=e,this.docs=function(){return new Xe(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return j.resolve(r?r.document.mutableCopy():On.newInvalidDocument(t))}getEntries(e,t){let r=Rr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():On.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Rr(),s=t.path,a=new ie(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Y$(Q$(h),r)<=0||(i.has(h.key)||xf(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return j.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ce()}Or(e,t){return j.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new $_(this)}getSize(e){return j.resolve(this.size)}},$_=class extends k_{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),j.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var H_=class{constructor(e){this.persistence=e,this.Nr=new Ii(t=>P0(t),k0),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Lr=0,this.Br=new sl,this.targetCount=0,this.kr=ol.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),j.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new ol(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,j.resolve()}updateTargetData(e,t){return this.Kn(t),j.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(o).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return j.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),j.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),j.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),j.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return j.resolve(r)}containsKey(e,t){return j.resolve(this.Br.containsKey(t))}};var z_=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new ix(0),this.Kr=!1,this.Kr=!0,this.$r=new j_,this.referenceDelegate=e(this),this.Ur=new H_(this),this.indexManager=new N_,this.remoteDocumentCache=function(i){return new B_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new R_(t),this.Gr=new L_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new V_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new U_(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){X("MemoryPersistence","Starting transaction:",e);let i=new q_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return j.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},q_=class extends n_{constructor(e){super(),this.currentSequenceNumber=e}},G_=class n{constructor(e){this.persistence=e,this.Jr=new sl,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ce()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),j.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),j.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Xr,r=>{let i=ie.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,ge.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return j.or([()=>j.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var W_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=De(),i=De();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var K_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Q_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return LS()?8:J$(Jt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new K_;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Wc()<=Ce.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Os(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),j.resolve()):(Wc()<=Ce.DEBUG&&X("QueryEngine","Query:",Os(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Wc()<=Ce.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Os(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xn(t))):j.resolve())}Yi(e,t){if(NA(t))return j.resolve(null);let r=Xn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=y_(t,null,"F"),r=Xn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=De(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let u=this.ts(t,a);return this.ns(t,u,s,l.readTime)?this.Yi(e,y_(t,null,"F")):this.rs(e,u,t,l)}))})))}Zi(e,t,r,i){return NA(t)||i.isEqual(ge.min())?j.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?j.resolve(null):(Wc()<=Ce.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Os(t)),this.rs(e,s,t,K$(i,-1)).next(a=>a))})}ts(e,t){let r=new xt(gx(e));return t.forEach((i,o)=>{xf(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return Wc()<=Ce.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Os(t)),this.Ji.getDocumentsMatchingQuery(e,t,uo.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Y_=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Xe(xe),this._s=new Ii(o=>P0(o),k0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function $4(n,e,t,r){return new Y_(n,e,t,r)}function Ox(n,e){return M(this,null,function*(){let t=he(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],l=De();for(let u of i){s.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}for(let u of o){a.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function H4(n,e){let t=he(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){let p=u.batch,g=p.keys(),y=j.resolve();return g.forEach(A=>{y=y.next(()=>h.getEntry(l,A)).next(k=>{let N=u.docVersions.get(A);Oe(N!==null),k.version.compareTo(N)<0&&(p.applyToRemoteDocument(k,u),k.isValidDocument()&&(k.setReadTime(u.commitVersion),h.addEntry(k)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=De();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Fx(n){let e=he(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function z4(n,e){let t=he(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Mt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(k,N,U){return k.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(g,y,h)&&a.push(t.Ur.updateTargetData(o,y))});let l=Rr(),u=De();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(q4(o,s,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!r.isEqual(ge.min())){let h=t.Ur.getLastRemoteSnapshotVersion(o).next(p=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return j.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(t.os=i,o))}function q4(n,e,t){let r=De(),i=De();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Rr();return t.forEach((a,l)=>{let u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function G4(n,e){let t=he(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function W4(n,e){let t=he(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,j.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new il(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function Z_(n,e,t){return M(this,null,function*(){let r=he(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!fl(s))throw s;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function HA(n,e,t){let r=he(n),i=ge.min(),o=De();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,h){let p=he(l),g=p._s.get(h);return g!==void 0?j.resolve(p.os.get(g)):p.Ur.getTargetData(u,h)}(r,s,Xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:ge.min(),t?o:De())).next(a=>(K4(r,l4(e),a),{documents:a,Ts:o})))}function K4(n,e,t){let r=n.us.get(e)||ge.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var lf=class{constructor(){this.activeTargetIds=m4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var J_=class{constructor(){this.so=new lf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new lf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var X_=class{_o(e){}shutdown(){}};var uf=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Gh=null;function qv(){return Gh===null?Gh=function(){return 268435456+Math.round(2147483648*Math.random())}():Gh++,"0x"+Gh.toString(16)}var Q4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var e0=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var At="WebChannelConnection",t0=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=qv(),l=this.xo(t,r.toUriEncodedString());X("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(t,l,u,i).then(h=>(X("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Bs("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=Q4[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=qv();return new Promise((s,a)=>{let l=new jv;l.setWithCredentials(!0),l.listenOnce(Uv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Gc.NO_ERROR:let h=l.getResponseJson();X(At,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Gc.TIMEOUT:X(At,`RPC '${e}' ${o} timed out`),a(new Z(L.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:let p=l.getStatus();if(X(At,`RPC '${e}' ${o} failed with status:`,p,"response text:",l.getResponseText()),p>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);let y=g?.error;if(y&&y.status&&y.message){let A=function(N){let U=N.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(U)>=0?U:L.UNKNOWN}(y.status);a(new Z(A,y.message))}else a(new Z(L.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Z(L.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{X(At,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(i);X(At,`RPC '${e}' ${o} sending request:`,i),l.send(t,"POST",u,r,15)})}Bo(e,t,r){let i=qv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Hv(),a=$v(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let h=o.join("");X(At,`Creating RPC '${e}' stream ${i}: ${h}`,l);let p=s.createWebChannel(h,l),g=!1,y=!1,A=new e0({Io:N=>{y?X(At,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(g||(X(At,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),X(At,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},To:()=>p.close()}),k=(N,U,J)=>{N.listen(U,Y=>{try{J(Y)}catch(fe){setTimeout(()=>{throw fe},0)}})};return k(p,ks.EventType.OPEN,()=>{y||(X(At,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),k(p,ks.EventType.CLOSE,()=>{y||(y=!0,X(At,`RPC '${e}' stream ${i} transport closed`),A.So())}),k(p,ks.EventType.ERROR,N=>{y||(y=!0,Bs(At,`RPC '${e}' stream ${i} transport errored:`,N),A.So(new Z(L.UNAVAILABLE,"The operation could not be completed")))}),k(p,ks.EventType.MESSAGE,N=>{var U;if(!y){let J=N.data[0];Oe(!!J);let Y=J,fe=Y.error||((U=Y[0])===null||U===void 0?void 0:U.error);if(fe){X(At,`RPC '${e}' stream ${i} received error:`,fe);let Re=fe.status,ae=function(I){let D=it[I];if(D!==void 0)return Sx(D)}(Re),C=fe.message;ae===void 0&&(ae=L.INTERNAL,C="Unknown error status: "+Re+" with message "+fe.message),y=!0,A.So(new Z(ae,C)),p.close()}else X(At,`RPC '${e}' stream ${i} received:`,J),A.bo(J)}}),k(a,Bv.STAT_EVENT,N=>{N.stat===zh.PROXY?X(At,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===zh.NOPROXY&&X(At,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function Gv(){return typeof document<"u"?document:null}function Mf(n){return new T_(n,!0)}var df=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var hf=class{constructor(e,t,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new df(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return M(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return M(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return M(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(xr(t.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new Z(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>M(this,null,function*(){this.state=0,this.start()}))}I_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},n0=class extends hf{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=M4(this.serializer,e),r=function(o){if(!("targetChange"in o))return ge.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ge.min():s.readTime?er(s.readTime):ge.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=M_(this.serializer),t.addTarget=function(o,s){let a,l=s.target;if(a=m_(l)?{documents:P4(o,l)}:{query:k4(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Ax(o,s.resumeToken);let u=S_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ge.min())>0){a.readTime=af(o,s.snapshotVersion.toTimestamp());let u=S_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=F4(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=M_(this.serializer),t.removeTarget=e,this.a_(t)}},r0=class extends hf{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=N4(e.writeResults,e.commitTime),r=er(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=M_(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>R4(this.serializer,r))};this.a_(t)}};var i0=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Z(L.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,A_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(L.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,A_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(L.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},o0=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(xr(t),this.D_=!1):X("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var s0=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>M(this,null,function*(){_o(this)&&(X("RemoteStore","Restarting streams for network reachability change."),yield function(l){return M(this,null,function*(){let u=he(l);u.L_.add(4),yield pl(u),u.q_.set("Unknown"),u.L_.delete(4),yield Rf(u)})}(this))}))}),this.q_=new o0(r,i)}};function Rf(n){return M(this,null,function*(){if(_o(n))for(let e of n.B_)yield e(!0)})}function pl(n){return M(this,null,function*(){for(let e of n.B_)yield e(!1)})}function Lx(n,e){let t=he(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),B0(t)?U0(t):ea(t).r_()&&j0(t,e))}function V0(n,e){let t=he(n),r=ea(t);t.N_.delete(e),r.r_()&&Vx(t,e),t.N_.size===0&&(r.r_()?r.o_():_o(t)&&t.q_.set("Unknown"))}function j0(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ea(n).A_(e)}function Vx(n,e){n.Q_.xe(e),ea(n).R_(e)}function U0(n){n.Q_=new D_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),ea(n).start(),n.q_.v_()}function B0(n){return _o(n)&&!ea(n).n_()&&n.N_.size>0}function _o(n){return he(n).L_.size===0}function jx(n){n.Q_=void 0}function Y4(n){return M(this,null,function*(){n.q_.set("Online")})}function Z4(n){return M(this,null,function*(){n.N_.forEach((e,t)=>{j0(n,e)})})}function J4(n,e){return M(this,null,function*(){jx(n),B0(n)?(n.q_.M_(e),U0(n)):n.q_.set("Unknown")})}function X4(n,e,t){return M(this,null,function*(){if(n.q_.set("Online"),e instanceof of&&e.state===2&&e.cause)try{yield function(i,o){return M(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ff(n,r)}else if(e instanceof js?n.Q_.Ke(e):e instanceof rf?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ge.min()))try{let r=yield Fx(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let h=o.N_.get(u);h&&o.N_.set(u,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{let h=o.N_.get(l);if(!h)return;o.N_.set(l,h.withResumeToken(Mt.EMPTY_BYTE_STRING,h.snapshotVersion)),Vx(o,l);let p=new il(h.target,l,u,h.sequenceNumber);j0(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){X("RemoteStore","Failed to raise snapshot:",r),yield ff(n,r)}})}function ff(n,e,t){return M(this,null,function*(){if(!fl(e))throw e;n.L_.add(1),yield pl(n),n.q_.set("Offline"),t||(t=()=>Fx(n.localStore)),n.asyncQueue.enqueueRetryable(()=>M(this,null,function*(){X("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Rf(n)}))})}function Ux(n,e){return e().catch(t=>ff(n,t,e))}function Nf(n){return M(this,null,function*(){let e=he(n),t=Ei(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;e3(e);)try{let i=yield G4(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,t3(e,i)}catch(i){yield ff(e,i)}Bx(e)&&$x(e)})}function e3(n){return _o(n)&&n.O_.length<10}function t3(n,e){n.O_.push(e);let t=Ei(n);t.r_()&&t.V_&&t.m_(e.mutations)}function Bx(n){return _o(n)&&!Ei(n).n_()&&n.O_.length>0}function $x(n){Ei(n).start()}function n3(n){return M(this,null,function*(){Ei(n).p_()})}function r3(n){return M(this,null,function*(){let e=Ei(n);for(let t of n.O_)e.m_(t.mutations)})}function i3(n,e,t){return M(this,null,function*(){let r=n.O_.shift(),i=I_.from(r,e,t);yield Ux(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Nf(n)})}function o3(n,e){return M(this,null,function*(){e&&Ei(n).V_&&(yield function(r,i){return M(this,null,function*(){if(function(s){return E4(s)&&s!==L.ABORTED}(i.code)){let o=r.O_.shift();Ei(r).s_(),yield Ux(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Nf(r)}})}(n,e)),Bx(n)&&$x(n)})}function zA(n,e){return M(this,null,function*(){let t=he(n);t.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");let r=_o(t);t.L_.add(3),yield pl(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Rf(t)})}function s3(n,e){return M(this,null,function*(){let t=he(n);e?(t.L_.delete(2),yield Rf(t)):e||(t.L_.add(2),yield pl(t),t.q_.set("Unknown"))})}function ea(n){return n.K_||(n.K_=function(t,r,i){let o=he(t);return o.w_(),new n0(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:Y4.bind(null,n),Ro:Z4.bind(null,n),mo:J4.bind(null,n),d_:X4.bind(null,n)}),n.B_.push(e=>M(this,null,function*(){e?(n.K_.s_(),B0(n)?U0(n):n.q_.set("Unknown")):(yield n.K_.stop(),jx(n))}))),n.K_}function Ei(n){return n.U_||(n.U_=function(t,r,i){let o=he(t);return o.w_(),new r0(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:n3.bind(null,n),mo:o3.bind(null,n),f_:r3.bind(null,n),g_:i3.bind(null,n)}),n.B_.push(e=>M(this,null,function*(){e?(n.U_.s_(),yield Nf(n)):(yield n.U_.stop(),n.O_.length>0&&(X("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var a0=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function $0(n,e){if(xr("AsyncQueue",`${e}: ${n}`),fl(n))return new Z(L.UNAVAILABLE,`${e}: ${n}`);throw n}var pf=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ie.comparator(t.key,r.key):(t,r)=>ie.comparator(t.key,r.key),this.keyedMap=Kc(),this.sortedSet=new Xe(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var mf=class{constructor(){this.W_=new Xe(ie.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ce():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Ys=class n{constructor(e,t,r,i,o,s,a,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,pf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var c0=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},l0=class{constructor(){this.queries=qA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=he(t),o=i.queries;i.queries=qA(),o.forEach((s,a)=>{for(let l of a.j_)l.onError(r)})})(this,new Z(L.ABORTED,"Firestore shutting down"))}};function qA(){return new Ii(n=>mx(n),Af)}function a3(n,e){return M(this,null,function*(){let t=he(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new c0,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=$0(s,`Initialization of query '${Os(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&H0(t)})}function c3(n,e){return M(this,null,function*(){let t=he(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function l3(n,e){let t=he(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&H0(t)}function u3(n,e,t){let r=he(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function H0(n){n.Y_.forEach(e=>{e.next()})}var u0,GA;(GA=u0||(u0={})).ea="default",GA.Cache="cache";var d0=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ys(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Ys.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==u0.Cache}};var gf=class{constructor(e){this.key=e}},yf=class{constructor(e){this.key=e}},h0=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=De(),this.mutatedKeys=De(),this.Aa=gx(e),this.Ra=new pf(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new mf,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=xf(this.query,p)?p:null,A=!!g&&this.mutatedKeys.has(g.key),k=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),N=!1;g&&y?g.data.isEqual(y.data)?A!==k&&(r.track({type:3,doc:y}),N=!0):this.ga(g,y)||(r.track({type:2,doc:y}),N=!0,(l&&this.Aa(y,l)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),N=!0):g&&!y&&(r.track({type:1,doc:g}),N=!0,(l||u)&&(a=!0)),N&&(y?(s=s.add(y),o=k?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(y,A){let k=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return k(y)-k(A)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new Ys(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new mf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=De(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new yf(r))}),this.da.forEach(r=>{e.has(r)||t.push(new gf(r))}),t}ba(e){this.Ta=e.Ts,this.da=De();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Ys.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},f0=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},p0=class{constructor(e){this.key=e,this.va=!1}},m0=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ii(a=>mx(a),Af),this.Ma=new Map,this.xa=new Set,this.Oa=new Xe(ie.comparator),this.Na=new Map,this.La=new sl,this.Ba={},this.ka=new Map,this.qa=ol.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function d3(n,e,t=!0){return M(this,null,function*(){let r=Kx(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield Hx(r,e,t,!0),i})}function h3(n,e){return M(this,null,function*(){let t=Kx(n);yield Hx(t,e,!0,!1)})}function Hx(n,e,t,r){return M(this,null,function*(){let i=yield W4(n.localStore,Xn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield f3(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&Lx(n.remoteStore,i),a})}function f3(n,e,t,r,i){return M(this,null,function*(){n.Ka=(p,g,y)=>function(k,N,U,J){return M(this,null,function*(){let Y=N.view.ma(U);Y.ns&&(Y=yield HA(k.localStore,N.query,!1).then(({documents:C})=>N.view.ma(C,Y)));let fe=J&&J.targetChanges.get(N.targetId),Re=J&&J.targetMismatches.get(N.targetId)!=null,ae=N.view.applyChanges(Y,k.isPrimaryClient,fe,Re);return KA(k,N.targetId,ae.wa),ae.snapshot})}(n,p,g,y);let o=yield HA(n.localStore,e,!0),s=new h0(e,o.Ts),a=s.ma(o.documents),l=rl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,l);KA(n,t,u.wa);let h=new f0(e,t,s);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot})}function p3(n,e,t){return M(this,null,function*(){let r=he(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Af(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Z_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&V0(r.remoteStore,i.targetId),g0(r,i.targetId)}).catch(hl))):(g0(r,i.targetId),yield Z_(r.localStore,i.targetId,!0))})}function m3(n,e){return M(this,null,function*(){let t=he(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),V0(t.remoteStore,r.targetId))})}function g3(n,e,t){return M(this,null,function*(){let r=b3(n);try{let i=yield function(s,a){let l=he(s),u=_t.now(),h=a.reduce((y,A)=>y.add(A.key),De()),p,g;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let A=Rr(),k=De();return l.cs.getEntries(y,h).next(N=>{A=N,A.forEach((U,J)=>{J.isValidDocument()||(k=k.add(U))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,A)).next(N=>{p=N;let U=[];for(let J of a){let Y=I4(J,p.get(J.key).overlayedDocument);Y!=null&&U.push(new nr(J.key,Y,cx(Y.value.mapValue),Ar.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,U,a)}).next(N=>{g=N;let U=N.applyToLocalDocumentSet(p,k);return l.documentOverlayCache.saveOverlays(y,N.batchId,U)})}).then(()=>({batchId:g.batchId,changes:vx(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new Xe(xe)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,t),yield ml(r,i.changes),yield Nf(r.remoteStore)}catch(i){let o=$0(i,"Failed to persist write");t.reject(o)}})}function zx(n,e){return M(this,null,function*(){let t=he(n);try{let r=yield z4(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Oe(s.va):i.removedDocuments.size>0&&(Oe(s.va),s.va=!1))}),yield ml(t,r,e)}catch(r){yield hl(r)}})}function WA(n,e,t){let r=he(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let l=he(s);l.onlineState=a;let u=!1;l.queries.forEach((h,p)=>{for(let g of p.j_)g.Z_(a)&&(u=!0)}),u&&H0(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function y3(n,e,t){return M(this,null,function*(){let r=he(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Xe(ie.comparator);s=s.insert(o,On.newNoDocument(o,ge.min()));let a=De().add(o),l=new nf(ge.min(),new Map,new Xe(xe),s,a);yield zx(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),z0(r)}else yield Z_(r.localStore,e,!1).then(()=>g0(r,e,t)).catch(hl)})}function v3(n,e){return M(this,null,function*(){let t=he(n),r=e.batch.batchId;try{let i=yield H4(t.localStore,e);Gx(t,r,null),qx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ml(t,i)}catch(i){yield hl(i)}})}function _3(n,e,t){return M(this,null,function*(){let r=he(n);try{let i=yield function(s,a){let l=he(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>(Oe(p!==null),h=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);Gx(r,e,t),qx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ml(r,i)}catch(i){yield hl(i)}})}function qx(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function Gx(n,e,t){let r=he(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function g0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||Wx(n,r)})}function Wx(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(V0(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),z0(n))}function KA(n,e,t){for(let r of t)r instanceof gf?(n.La.addReference(r.key,e),w3(n,r)):r instanceof yf?(X("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||Wx(n,r.key)):ce()}function w3(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(X("SyncEngine","New document in limbo: "+t),n.xa.add(r),z0(n))}function z0(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new ie(Ye.fromString(e)),r=n.qa.next();n.Na.set(r,new p0(t)),n.Oa=n.Oa.insert(t,r),Lx(n.remoteStore,new il(Xn(O0(t.path)),r,"TargetPurposeLimboResolution",ix.oe))}}function ml(n,e,t){return M(this,null,function*(){let r=he(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,t).then(u=>{var h;if((u||t)&&r.isPrimaryClient){let p=u?!u.fromCache:(h=t?.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){i.push(u);let p=W_.Wi(l.targetId,u);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(l,u){return M(this,null,function*(){let h=he(l);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>j.forEach(u,g=>j.forEach(g.$i,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>j.forEach(g.Ui,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!fl(p))throw p;X("LocalStore","Failed to update sequence numbers: "+p)}for(let p of u){let g=p.targetId;if(!p.fromCache){let y=h.os.get(g),A=y.snapshotVersion,k=y.withLastLimboFreeSnapshotVersion(A);h.os=h.os.insert(g,k)}}})}(r.localStore,o))})}function I3(n,e){return M(this,null,function*(){let t=he(n);if(!t.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());let r=yield Ox(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new Z(L.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ml(t,r.hs)}})}function E3(n,e){let t=he(n),r=t.Na.get(e);if(r&&r.va)return De().add(r.key);{let i=De(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function Kx(n){let e=he(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=E3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y3.bind(null,e),e.Ca.d_=l3.bind(null,e.eventManager),e.Ca.$a=u3.bind(null,e.eventManager),e}function b3(n){let e=he(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=v3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_3.bind(null,e),e}var QA=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return M(this,null,function*(){this.serializer=Mf(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return $4(this.persistence,new Q_,t.initialUser,this.serializer)}Ga(t){return new z_(G_.Zr,this.serializer)}Wa(t){return new J_}terminate(){return M(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var C3=(()=>{class n{initialize(t,r){return M(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>WA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=I3.bind(null,this.syncEngine),yield s3(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new l0}()}createDatastore(t){let r=Mf(t.databaseInfo.databaseId),i=function(s){return new t0(s)}(t.databaseInfo);return function(s,a,l,u){return new i0(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,l){return new s0(i,o,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,r=>WA(this.syncEngine,r,0),function(){return uf.D()?new uf:new X_}())}createSyncEngine(t,r){return function(o,s,a,l,u,h,p){let g=new m0(o,s,a,l,u,h);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return M(this,null,function*(){var t,r;yield function(o){return M(this,null,function*(){let s=he(o);X("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield pl(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var y0=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var v0=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ft.UNAUTHENTICATED,this.clientId=Yh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>M(this,null,function*(){X("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(X("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>M(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=$0(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Wv(n,e){return M(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>M(this,null,function*(){r.isEqual(i)||(yield Ox(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function YA(n,e){return M(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield D3(n);X("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>zA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>zA(e.remoteStore,i)),n._onlineComponents=e})}function D3(n){return M(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Wv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Bs("Error using user provided cache. Falling back to memory cache: "+t),yield Wv(n,new QA)}}else X("FirestoreClient","Using default OfflineComponentProvider"),yield Wv(n,new QA);return n._offlineComponents})}function Qx(n){return M(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),yield YA(n,n._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),yield YA(n,new C3))),n._onlineComponents})}function T3(n){return Qx(n).then(e=>e.syncEngine)}function ZA(n){return M(this,null,function*(){let e=yield Qx(n),t=e.eventManager;return t.onListen=d3.bind(null,e.syncEngine),t.onUnlisten=p3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=h3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=m3.bind(null,e.syncEngine),t})}function Yx(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var JA=new Map;function Zx(n,e,t){if(!t)throw new Z(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function S3(n,e,t,r){if(e===!0&&r===!0)throw new Z(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function XA(n){if(!ie.isDocumentKey(n))throw new Z(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ex(n){if(ie.isDocumentKey(n))throw new Z(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Pf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ce()}function yi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Z(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Pf(n);throw new Z(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var vf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Z(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Z(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Z(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Zs=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Kv;switch(r.type){case"firstParty":return new Jv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return M(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=JA.get(t);r&&(X("ComponentProvider","Removing Datastore"),JA.delete(t),r.terminate())}(this),Promise.resolve()}};function Jx(n,e,t,r={}){var i;let o=(n=yi(n,Zs))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ft.MOCK_USER;else{a=NS(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Z(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ft(u)}n._authCredentials=new Qv(new Qh(a,l))}}var yo=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},zt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},vi=class n extends yo{constructor(e,t,r){super(e,t,O0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new ie(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Xx(n,e,...t){if(n=St(n),Zx("collection","path",e),n instanceof Zs){let r=Ye.fromString(e,...t);return ex(r),new vi(n,null,r)}{if(!(n instanceof zt||n instanceof vi))throw new Z(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ye.fromString(e,...t));return ex(r),new vi(n.firestore,null,r)}}function q0(n,e,...t){if(n=St(n),arguments.length===1&&(e=Yh.newId()),Zx("doc","path",e),n instanceof Zs){let r=Ye.fromString(e,...t);return XA(r),new zt(n,null,new ie(r))}{if(!(n instanceof zt||n instanceof vi))throw new Z(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ye.fromString(e,...t));return XA(r),new zt(n.firestore,n instanceof vi?n.converter:null,new ie(r))}}var _f=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new df(this,"async_queue_retry"),this.Vu=()=>{let r=Gv();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=Gv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=Gv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Sr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return M(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!fl(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw xr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=a0.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ce()}verifyOperationInProgress(){}wu(){return M(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function tx(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var bi=class extends Zs{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new _f,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return M(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new _f(e),this._firestoreClient=void 0,yield e}})}};function eM(n,e){let t=typeof n=="object"?n:Fc(),r=typeof n=="string"?n:e||"(default)",i=_v(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=MS("firestore");o&&Jx(i,...o)}return i}function tM(n){if(n._terminated)throw new Z(L.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||A3(n),n._firestoreClient}function A3(n){var e,t,r;let i=n._freezeSettings(),o=function(a,l,u,h){return new r_(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Yx(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new v0(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}var al=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Mt.fromBase64String(e))}catch(t){throw new Z(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Js=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Z(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var cl=class{constructor(e){this._methodName=e}};var ll=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Z(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Z(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}};var ul=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var x3=/^__.*__$/,_0=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new nr(e,this.data,this.fieldMask,t,this.fieldTransforms):new go(e,this.data,t,this.fieldTransforms)}},wf=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new nr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function nM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}var w0=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ef(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(nM(this.Cu)&&x3.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},I0=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Mf(e)}Qu(e,t,r,i=!1){return new w0({Cu:e,methodName:t,qu:r,path:tn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function G0(n){let e=n._freezeSettings(),t=Mf(n._databaseId);return new I0(n._databaseId,!!e.ignoreUndefinedProperties,t)}function M3(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);W0("Data must be an object, but it was:",s,r);let a=rM(r,s),l,u;if(o.merge)l=new vn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=E0(e,p,t);if(!s.contains(g))throw new Z(L.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);oM(h,g)||h.push(g)}l=new vn(h),u=s.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=s.fieldTransforms;return new _0(new en(a),l,u)}var If=class n extends cl{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function R3(n,e,t,r){let i=n.Qu(1,e,t);W0("Data must be an object, but it was:",i,r);let o=[],s=en.empty();vo(r,(l,u)=>{let h=K0(e,l,t);u=St(u);let p=i.Nu(h);if(u instanceof If)o.push(h);else{let g=gl(u,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new vn(o);return new wf(s,a,i.fieldTransforms)}function N3(n,e,t,r,i,o){let s=n.Qu(1,e,t),a=[E0(e,r,t)],l=[i];if(o.length%2!=0)throw new Z(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(E0(e,o[g])),l.push(o[g+1]);let u=[],h=en.empty();for(let g=a.length-1;g>=0;--g)if(!oM(u,a[g])){let y=a[g],A=l[g];A=St(A);let k=s.Nu(y);if(A instanceof If)u.push(y);else{let N=gl(A,k);N!=null&&(u.push(y),h.set(y,N))}}let p=new vn(u);return new wf(h,p,s.fieldTransforms)}function P3(n,e,t,r=!1){return gl(t,n.Qu(r?4:3,e))}function gl(n,e){if(iM(n=St(n)))return W0("Unsupported field value:",e,n),rM(n,e);if(n instanceof cl)return function(r,i){if(!nM(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let l=gl(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=St(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return g4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=_t.fromDate(r);return{timestampValue:af(i.serializer,o)}}if(r instanceof _t){let o=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:af(i.serializer,o)}}if(r instanceof ll)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof al)return{bytesValue:Ax(i.serializer,r._byteString)};if(r instanceof zt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:L0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ul)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return F0(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Pf(r)}`)}(n,e)}function rM(n,e){let t={};return ox(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vo(n,(r,i)=>{let o=gl(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function iM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _t||n instanceof ll||n instanceof al||n instanceof zt||n instanceof cl||n instanceof ul)}function W0(n,e,t){if(!iM(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Pf(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function E0(n,e,t){if((e=St(e))instanceof Js)return e._internalPath;if(typeof e=="string")return K0(n,e);throw Ef("Field path arguments must be of type string or ",n,!1,void 0,t)}var k3=new RegExp("[~\\*/\\[\\]]");function K0(n,e,t){if(e.search(k3)>=0)throw Ef(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Js(...e.split("."))._internalPath}catch{throw Ef(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ef(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Z(L.INVALID_ARGUMENT,a+n+l)}function oM(n,e){return n.some(t=>t.isEqual(e))}var bf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new b0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Q0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},b0=class extends bf{data(){return super.data()}};function Q0(n,e){return typeof e=="string"?K0(n,e):e instanceof Js?e._internalPath:e._delegate._internalPath}function O3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Z(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dl=class{},Cf=class extends dl{};function sM(n,e,...t){let r=[];e instanceof dl&&r.push(e),r=r.concat(t),function(o){let s=o.filter(l=>l instanceof D0).length,a=o.filter(l=>l instanceof C0).length;if(s>1||s>0&&a>0)throw new Z(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var C0=class n extends Cf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return cM(e._query,t),new yo(e.firestore,e.converter,g_(e._query,t))}_parse(e){let t=G0(e.firestore);return function(o,s,a,l,u,h,p){let g;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Z(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){rx(p,h);let y=[];for(let A of p)y.push(nx(l,o,A));g={arrayValue:{values:y}}}else g=nx(l,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||rx(p,h),g=P3(a,s,p,h==="in"||h==="not-in");return st.create(u,h,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var D0=class n extends dl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Fn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let l of a)cM(s,l),s=g_(s,l)}(e._query,t),new yo(e.firestore,e.converter,g_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var T0=class n extends Cf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new Z(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Z(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fo(o,s)}(e._query,this._field,this._direction);return new yo(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new wi(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function aM(n,e="asc"){let t=e,r=Q0("orderBy",n);return T0._create(r,t)}function nx(n,e,t){if(typeof(t=St(t))=="string"){if(t==="")throw new Z(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!px(e)&&t.indexOf("/")!==-1)throw new Z(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Ye.fromString(t));if(!ie.isDocumentKey(r))throw new Z(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return TA(n,new ie(r))}if(t instanceof zt)return TA(n,t._key);throw new Z(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pf(t)}.`)}function rx(n,e){if(!Array.isArray(n)||n.length===0)throw new Z(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cM(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Z(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var S0=class{convertValue(e,t="none"){switch(ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ce()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return vo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>We(s.doubleValue));return new ul(o)}convertGeoPoint(e){return new ll(We(e.latitude),We(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=R0(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(el(e));default:return null}}convertTimestamp(e){let t=Mr(e);return new _t(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ye.fromString(e);Oe(kx(r));let i=new ef(r.get(1),r.get(3)),o=new ie(r.popFirst(5));return i.isEqual(t)||xr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function F3(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var co=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Df=class extends bf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Us(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Q0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Us=class extends Df{data(e={}){return super.data(e)}},A0=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new co(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Us(this._firestore,this._userDataWriter,r.key,r,new co(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Z(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let l=new Us(i._firestore,i._userDataWriter,a.doc.key,a.doc,new co(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new Us(i._firestore,i._userDataWriter,a.doc.key,a.doc,new co(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,h=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:L3(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function L3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}var Tf=class extends S0{constructor(e){super(),this.firestore=e}convertBytes(e){return new al(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,t)}};function lM(n,e,t,...r){n=yi(n,zt);let i=yi(n.firestore,bi),o=G0(i),s;return s=typeof(e=St(e))=="string"||e instanceof Js?N3(o,"updateDoc",n._key,e,t,r):R3(o,"updateDoc",n._key,e),Y0(i,[s.toMutation(n._key,Ar.exists(!0))])}function uM(n){return Y0(yi(n.firestore,bi),[new nl(n._key,Ar.none())])}function dM(n,e){let t=yi(n.firestore,bi),r=q0(n),i=F3(n.converter,e);return Y0(t,[M3(G0(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Ar.exists(!1))]).then(()=>r)}function hM(n,...e){var t,r,i;n=St(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||tx(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(tx(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let l,u,h;if(n instanceof zt)u=yi(n.firestore,bi),h=O0(n._key.path),l={next:p=>{e[s]&&e[s](V3(u,n,p))},error:e[s+1],complete:e[s+2]};else{let p=yi(n,yo);u=yi(p.firestore,bi),h=p._query;let g=new Tf(u);l={next:y=>{e[s]&&e[s](new A0(u,g,p,y))},error:e[s+1],complete:e[s+2]},O3(n._query)}return function(g,y,A,k){let N=new y0(k),U=new d0(y,N,A);return g.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return a3(yield ZA(g),U)})),()=>{N.Za(),g.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return c3(yield ZA(g),U)}))}}(tM(u),h,a,l)}function Y0(n,e){return function(r,i){let o=new Sr;return r.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return g3(yield T3(r),i,o)})),o.promise}(tM(n),e)}function V3(n,e,t){let r=t.docs.get(e._key),i=new Tf(n);return new Df(n,i,e._key,r,new co(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Xs=i})(Rs),pi(new yn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new bi(new Yv(r.getProvider("auth-internal")),new e_(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Z(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ef(u.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ht(EA,"4.7.3",e),ht(EA,"4.7.3","esm2017")})();var wo=class{constructor(e){return e}},fM="firestore",Z0=class{constructor(){return Vc(fM)}};var J0=new W("angularfire2.firestore-instances");function j3(n,e){let t=Ev(fM,n,e);return t&&new wo(t)}function U3(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new wo(r)}}var B3={provide:Z0,deps:[[new an,J0]]},$3={provide:wo,useFactory:j3,deps:[[new an,J0],ro]};function pM(n,...e){return ht("angularfire",Ps.full,"fst"),gt([$3,B3,{provide:J0,useFactory:U3(n),multi:!0,deps:[Ne,mt,jc,Uc,[new an,$h],[new an,Lc],...e]}])}var mM=Xt(dM,!0);var X0=Xt(Xx,!0);var gM=Xt(uM,!0);var ew=Xt(q0,!0);var yM=Xt(eM,!0);var vM=Xt(hM,!0);var _M=Xt(aM,!0);var wM=Xt(sM,!0);var IM=Xt(lM,!0);var ta=class n{constructor(e){this.firestore=e;this.loadArtworks()}artworks=[];artworksSubject=new Ke([]);artworks$=this.artworksSubject.asObservable();loadArtworks(){try{let e=wM(X0(this.firestore,"Obras"),_M("titulo"));vM(e,t=>{let r=[];t.forEach(i=>{let o=i.data();r.push(pe(V({},o),{id:i.id}))}),this.artworks=r,this.artworksSubject.next(r)},t=>{console.error("Error loading artworks:",t),this.artworksSubject.next([])})}catch(e){console.error("Error setting up Firestore listener:",e),this.artworksSubject.next([])}}getAllArtworks(){return this.artworks$}getArtworksByCategory(e){return this.artworks$.pipe(re(t=>e==="all"?t:t.filter(r=>r.genero.toLowerCase()===e.toLowerCase())))}getArtworkById(e){return this.artworks$.pipe(re(t=>t.find(r=>r.id===e)))}addArtwork(e){return M(this,null,function*(){try{let t=e,{id:r}=t,i=Do(t,["id"]);return(yield mM(X0(this.firestore,"Obras"),i)).id}catch(r){throw console.error("Error adding artwork:",r),r}})}updateArtwork(e){return M(this,null,function*(){try{let t=e,{id:r}=t,i=Do(t,["id"]),o=ew(this.firestore,"Obras",r);yield IM(o,i)}catch(r){throw console.error("Error updating artwork:",r),r}})}deleteArtwork(e){return M(this,null,function*(){try{yield gM(ew(this.firestore,"Obras",e))}catch(t){throw console.error("Error deleting artwork:",t),t}})}static \u0275fac=function(t){return new(t||n)(Q(wo))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};function z3(n,e){n&1&&(_(0,"span",21),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"gallery.title")," "))}function q3(n,e){n&1&&(_(0,"span",22),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"gallery.subtitle")," "))}function G3(n,e){n&1&&(_(0,"p",23),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"gallery.title")," "))}function W3(n,e){if(n&1){let t=ct();_(0,"button",24),de("click",function(){let i=oe(t).$implicit,o=ue();return se(o.filterByCategory(i))}),R(1),b()}if(n&2){let t=e.$implicit,r=ue();KC(r.getCategoryButtonClass(t)),w(),H(" ",r.getCategoryDisplayName(t)," ")}}function K3(n,e){if(n&1&&(_(0,"div",25)(1,"span",26),R(2),z(3,"transloco"),b()()),n&2){let t=ue();w(2),Ha(" ",t.filteredArtworks.length," ",q(3,2,"gallery.results")," ")}}function Q3(n,e){if(n&1&&(_(0,"div",27),G(1,"app-artwork-carousel",28),b()),n&2){let t=ue();w(),O("artworks",t.filteredArtworks)}}function Y3(n,e){n&1&&G(0,"p",34)}function Z3(n,e){if(n&1){let t=ct();_(0,"div",29)(1,"div",30)(2,"div",31),R(3,"\u{1F3A8}"),b(),B(4,Y3,1,0,"p",32),_(5,"button",33),de("click",function(){oe(t);let i=ue();return se(i.clearFilters())}),R(6),z(7,"transloco"),b()()()}n&2&&(w(4),O("transloco","gallery.noResults.title"),w(2),H(" ",q(7,2,"gallery.noResults.button")," "))}function J3(n,e){n&1&&G(0,"span",39)}function X3(n,e){n&1&&(_(0,"div",35)(1,"div",36),G(2,"div",37),B(3,J3,1,0,"span",38),b()()),n&2&&(w(3),O("transloco","gallery.loading"))}var kf=class n{constructor(e,t){this.artworkService=e;this.translocoService=t}artworks=[];filteredArtworks=[];isLoading=!0;availableCategories=["all","paisajismo","bodegones","retratos","animalismo","otros"];selectedCategory="all";searchTerm="";subscription=new je;ngOnInit(){this.loadArtworks()}ngOnDestroy(){this.subscription.unsubscribe()}loadArtworks(){this.isLoading=!0,this.subscription.add(this.artworkService.getAllArtworks().subscribe({next:e=>{this.artworks=e,this.applyFilters(),this.isLoading=!1},error:e=>{console.error("Error loading artworks:",e),this.isLoading=!1}}))}filterByCategory(e){this.selectedCategory=e,this.applyFilters()}getCategoryButtonClass(e){let t="px-3 lg:px-6 py-2 lg:py-3 rounded-full text-xs sm:text-sm font-medium transition-all duration-300 whitespace-nowrap";return this.selectedCategory===e?`${t} bg-primary text-white shadow-lg transform hover:scale-105 border border-primary`:`${t} bg-white/80 backdrop-blur-sm text-primary-dark border border-accent hover:bg-primary/10 hover:border-primary/30 hover:shadow-md`}getCategoryDisplayName(e){return this.translocoService.translate(`gallery.categories.${e}`)}applyFilters(){let e=this.artworks;if(this.selectedCategory!=="all"&&(e=e.filter(t=>t.categoria.toLowerCase()===this.selectedCategory)),this.searchTerm.trim()!==""){let t=this.searchTerm.toLowerCase().trim();e=e.filter(r=>r.titulo.toLowerCase().includes(t)||r.descripcion&&r.descripcion.toLowerCase().includes(t)||r.tecnica.toLowerCase().includes(t))}this.filteredArtworks=e}clearFilters(){this.selectedCategory="all",this.searchTerm="",this.applyFilters()}clearSearch(){this.searchTerm="",this.applyFilters()}static \u0275fac=function(t){return new(t||n)(te(ta),te(fn))};static \u0275cmp=Ue({type:n,selectors:[["app-gallery"]],standalone:!0,features:[Be],decls:22,vars:8,consts:[["noResults",""],["id","galeria",1,"py-16","lg:py-20","bg-background","relative","overflow-hidden"],[1,"absolute","inset-0","bg-gradient-to-br","from-background","via-white","to-accent/20"],[1,"absolute","top-10","right-10","w-48","lg:w-72","h-48","lg:h-72","bg-primary/5","rounded-full","blur-3xl","animate-float"],[1,"absolute","bottom-10","left-10","w-64","lg:w-96","h-64","lg:h-96","bg-accent/10","rounded-full","blur-3xl","animate-float",2,"animation-delay","2s"],[1,"container","relative","z-10","px-4","sm:px-6"],[1,"text-center","mb-12","lg:mb-16","animate-fade-in-up"],[1,"mb-4","lg:mb-6"],["class","inline-block px-3 lg:px-4 py-1 lg:py-2 bg-accent/30 text-primary-dark rounded-full text-xs lg:text-sm font-medium",4,"transloco"],[1,"text-3xl","sm:text-4xl","md:text-5xl","lg:text-6xl","font-light","text-primary-dark","mb-4","lg:mb-6","leading-tight"],["class","font-serif italic",4,"transloco"],["class","text-base sm:text-lg md:text-xl text-text-light max-w-2xl mx-auto leading-relaxed px-4",4,"transloco"],[1,"mb-8","lg:mb-12","animate-fade-in-up",2,"animation-delay","0.2s"],[1,"flex","justify-center","mb-6","lg:mb-8"],[1,"flex","flex-wrap","gap-2","sm:gap-3","lg:gap-4","justify-center","max-w-4xl","mx-auto","px-2"],["class","px-3 lg:px-6 py-2 lg:py-3 rounded-full text-xs sm:text-sm font-medium transition-all duration-300 whitespace-nowrap",3,"class","click",4,"ngFor","ngForOf"],[1,"flex","justify-center","px-2"],[1,"relative","w-full","max-w-md","lg:max-w-lg"],["class","mt-3 text-center",4,"ngIf"],["class","animate-fade-in-up","style","animation-delay: 0.4s;",4,"ngIf","ngIfElse"],["class","text-center py-12",4,"ngIf"],[1,"inline-block","px-3","lg:px-4","py-1","lg:py-2","bg-accent/30","text-primary-dark","rounded-full","text-xs","lg:text-sm","font-medium"],[1,"font-serif","italic"],[1,"text-base","sm:text-lg","md:text-xl","text-text-light","max-w-2xl","mx-auto","leading-relaxed","px-4"],[1,"px-3","lg:px-6","py-2","lg:py-3","rounded-full","text-xs","sm:text-sm","font-medium","transition-all","duration-300","whitespace-nowrap",3,"click"],[1,"mt-3","text-center"],[1,"inline-block","px-3","py-1","bg-accent/20","text-primary-dark","rounded-full","text-xs","font-medium"],[1,"animate-fade-in-up",2,"animation-delay","0.4s"],[3,"artworks"],[1,"text-center","py-8","lg:py-12","animate-fade-in-up"],[1,"max-w-md","mx-auto"],[1,"text-6xl","mb-4"],["class","text-lg text-text-light mb-4",4,"transloco"],[1,"btn","btn-outline","text-sm",3,"click"],[1,"text-lg","text-text-light","mb-4"],[1,"text-center","py-12"],[1,"inline-flex","items-center","gap-3","text-text-light"],[1,"w-6","h-6","border-2","border-primary/30","border-t-primary","rounded-full","animate-spin"],["class","text-sm font-medium",4,"transloco"],[1,"text-sm","font-medium"]],template:function(t,r){if(t&1&&(_(0,"section",1),G(1,"div",2)(2,"div",3)(3,"div",4),_(4,"div",5)(5,"div",6)(6,"div",7),B(7,z3,3,3,"span",8),b(),_(8,"h1",9),B(9,q3,3,3,"span",10),b(),B(10,G3,3,3,"p",11),b(),_(11,"div",12)(12,"div",13)(13,"div",14),B(14,W3,2,3,"button",15),b()(),_(15,"div",16)(16,"div",17),B(17,K3,4,4,"div",18),b()()(),B(18,Q3,2,1,"div",19)(19,Z3,8,4,"ng-template",null,0,za)(21,X3,4,1,"div",20),b()()),t&2){let i=Qi(20);w(7),O("transloco","gallery.title"),w(2),O("transloco","gallery.subtitle"),w(),O("transloco","gallery.description"),w(4),O("ngForOf",r.availableCategories),w(3),O("ngIf",r.filteredArtworks.length>0),w(),O("ngIf",r.filteredArtworks.length>0)("ngIfElse",i),w(3),O("ngIf",r.isLoading)}},dependencies:[Qt,ti,qn,Ch,Ts,Tt,pn,mn],styles:[".category-button[_ngcontent-%COMP%]{white-space:nowrap;border-radius:9999px;padding:.5rem .75rem;font-size:.75rem;line-height:1rem;font-weight:500;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}@media (min-width: 640px){.category-button[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}}@media (min-width: 1024px){.category-button[_ngcontent-%COMP%]{padding:.75rem 1.5rem}}.category-button.active[_ngcontent-%COMP%]{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));border-width:1px;--tw-border-opacity: 1;border-color:rgb(107 114 128 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(107 114 128 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.category-button.active[_ngcontent-%COMP%]:hover{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.category-button.inactive[_ngcontent-%COMP%]{border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));background-color:#fffc;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1));--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);color:rgb(var(--color-primary-dark))}.category-button.inactive[_ngcontent-%COMP%]:hover{border-color:#6b72804d;background-color:#6b72801a;--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.search-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:28rem}@media (min-width: 1024px){.search-container[_ngcontent-%COMP%]{max-width:32rem}}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]{display:flex;border-radius:.75rem;border-width:1px;border-color:#d1d5db80;background-color:#fffc;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]:hover{border-color:#6b72804d}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:#6b728080;--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{flex:1 1 0%;border-style:none;background-color:transparent;padding:.75rem 1rem;font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{--tw-placeholder-opacity: 1;color:rgb(107 114 128 / var(--tw-placeholder-opacity, 1))}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}@media (min-width: 1024px){.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-size:1rem;line-height:1.5rem}}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1));color:rgb(var(--color-text-light));opacity:.9}.search-container[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]:hover{transform:none}.results-counter[_ngcontent-%COMP%]{margin-top:.75rem;text-align:center}.results-counter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;border-radius:9999px;background-color:#d1d5db33;padding:.25rem .75rem;font-size:.75rem;line-height:1rem;font-weight:500;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1));color:rgb(var(--color-primary-dark))}.loading-indicator[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1));color:rgb(var(--color-text-light));opacity:.9}.loading-indicator[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:1.5rem;width:1.5rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.loading-indicator[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 60s infinite linear;border-radius:9999px;border-width:2px;border-color:#6b72804d;--tw-border-opacity: 1;border-top-color:rgb(107 114 128 / var(--tw-border-opacity, 1))}.no-results[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out;padding-top:2rem;padding-bottom:2rem;text-align:center;animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}@media (min-width: 1024px){.no-results[_ngcontent-%COMP%]{padding-top:3rem;padding-bottom:3rem}}.no-results[_ngcontent-%COMP%]   .no-results-content[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;max-width:28rem}.no-results[_ngcontent-%COMP%]   .no-results-icon[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:3.75rem;line-height:1}.no-results[_ngcontent-%COMP%]   .no-results-text[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.125rem;line-height:1.75rem;--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1));color:rgb(var(--color-text-light));opacity:.9}@media (max-width: 640px){.category-button[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.75rem;line-height:1rem;min-width:80px}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.875rem;line-height:1.25rem}.search-container[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]{padding:.5rem .75rem}.search-container[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}@media (max-width: 480px){.category-button[_ngcontent-%COMP%]{padding:.25rem;line-height:1rem;min-width:70px;font-size:.7rem}.categories-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.categories-container[_ngcontent-%COMP%]   .category-button[_ngcontent-%COMP%]{width:100%;max-width:140px;justify-content:center}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}button[_ngcontent-%COMP%]:focus-visible{outline-width:2px;outline-offset:2px;outline-color:#6b7280}input[_ngcontent-%COMP%]:focus-visible{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-color: rgb(107 114 128 / .5);--tw-ring-offset-width: 2px;--tw-ring-offset-color: #FAFAF9}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], .category-button[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.text-primary-dark[_ngcontent-%COMP%]{color:rgb(var(--color-primary-dark))}.text-text-light[_ngcontent-%COMP%]{color:rgb(var(--color-text-light));opacity:.9}"]})};function eH(n,e){n&1&&(_(0,"span",37),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"footer.contact.title")," "))}function tH(n,e){n&1&&(_(0,"span",38),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"footer.contact.subtitle")," "))}function nH(n,e){n&1&&(_(0,"p",39),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"footer.contact.email.title"),""))}function rH(n,e){n&1&&(_(0,"p",39),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"footer.contact.phone.title"),""))}function iH(n,e){n&1&&(_(0,"p",39),R(1),z(2,"transloco"),b()),n&2&&(w(),Ge(q(2,1,"footer.contact.studio.title")))}function oH(n,e){n&1&&(_(0,"p",15),R(1),z(2,"transloco"),b()),n&2&&(w(),Ge(q(2,1,"footer.contact.studio.address")))}function sH(n,e){n&1&&(_(0,"span",37),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"footer.social.title")," "))}function aH(n,e){n&1&&(_(0,"span",38),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"footer.social.subtitle")," "))}function cH(n,e){n&1&&(_(0,"p",40),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"footer.social.instagram.title"),""))}function lH(n,e){n&1&&(_(0,"p",40),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"footer.social.facebook.title"),""))}function uH(n,e){n&1&&(_(0,"p",40),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"footer.social.twitter.title"),""))}function dH(n,e){n&1&&(_(0,"span",37),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"footer.events.title")," "))}function hH(n,e){n&1&&(_(0,"span",38),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"footer.events.subtitle")," "))}function fH(n,e){n&1&&(_(0,"p",41),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"footer.events.event1.title")," "))}function pH(n,e){n&1&&(_(0,"p",42),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"footer.events.event1.date")," "))}function mH(n,e){n&1&&(_(0,"p",43),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"footer.events.event1.description")," "))}function gH(n,e){n&1&&(_(0,"p",41),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"footer.events.event2.description")," "))}function yH(n,e){n&1&&(_(0,"p",42),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"footer.events.event2.description")," "))}function vH(n,e){n&1&&(_(0,"p",43),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"footer.events.event2.description")," "))}function _H(n,e){n&1&&(_(0,"a",44),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"footer.privacy")," "))}function wH(n,e){n&1&&(_(0,"a",44),R(1),z(2,"transloco"),b()),n&2&&(w(),H(" ",q(2,1,"footer.terms")," "))}var Of=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ue({type:n,selectors:[["app-footer"]],standalone:!0,features:[Be],decls:86,vars:27,consts:[["id","contacto",1,"relative","bg-background","py-20","overflow-hidden"],[1,"absolute","inset-0","bg-gradient-to-br","from-background","via-white","to-accent/20"],[1,"absolute","top-0","left-0","w-64","h-64","bg-primary/5","rounded-full","blur-3xl","animate-float"],[1,"absolute","bottom-0","right-0","w-80","h-80","bg-accent/10","rounded-full","blur-3xl","animate-float",2,"animation-delay","2s"],[1,"container","relative","z-10"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-12"],[1,"text-center","lg:text-left","animate-fade-in-up"],[1,"mb-6"],["class","inline-block px-4 py-2 bg-accent/30 text-primary-dark rounded-full text-sm font-medium mb-4",4,"transloco"],[1,"text-3xl","font-light","text-primary-dark","mb-6"],["class","font-serif italic",4,"transloco"],[1,"space-y-4","text-text"],[1,"flex","items-center","gap-3"],[1,"text-2xl"],["class","font-medium",4,"transloco"],[1,"text-text-light"],["class","text-text-light",4,"transloco"],[1,"text-center","lg:text-left","animate-fade-in-up",2,"animation-delay","0.2s"],[1,"space-y-4"],["href","#",1,"flex","items-center","gap-3","group","text-text","hover:text-primary-dark","transition-all","duration-300"],[1,"text-2xl","group-hover:scale-110","transition-transform"],["class","font-medium group-hover:underline",4,"transloco"],[1,"text-text-light","text-sm"],[1,"text-center","lg:text-left","animate-fade-in-up",2,"animation-delay","0.4s"],[1,"bg-white/50","backdrop-blur-sm","rounded-lg","p-4","border","border-accent/30"],["class","font-semibold text-primary-dark",4,"transloco"],["class","text-sm text-text-light",4,"transloco"],["class","text-sm mt-1",4,"transloco"],[1,"border-t","border-accent/30","mt-12","pt-8","text-center","animate-fade-in-up",2,"animation-delay","0.6s"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","gap-4"],[1,"text-text-light","font-light",3,"innerHTML"],[1,"flex","gap-6","text-text-light"],["href","#","class","hover:text-primary-dark transition-colors duration-300 font-light",4,"transloco"],[1,"mt-6","flex","justify-center"],[1,"w-24","h-1","bg-gradient-to-r","from-transparent","via-primary/50","to-transparent","rounded-full"],[1,"absolute","-bottom-10","-left-10","w-32","h-32","bg-primary/10","rounded-full","blur-2xl"],[1,"absolute","-top-10","-right-10","w-40","h-40","bg-accent/15","rounded-full","blur-2xl"],[1,"inline-block","px-4","py-2","bg-accent/30","text-primary-dark","rounded-full","text-sm","font-medium","mb-4"],[1,"font-serif","italic"],[1,"font-medium"],[1,"font-medium","group-hover:underline"],[1,"font-semibold","text-primary-dark"],[1,"text-sm","text-text-light"],[1,"text-sm","mt-1"],["href","#",1,"hover:text-primary-dark","transition-colors","duration-300","font-light"]],template:function(t,r){t&1&&(_(0,"footer",0),G(1,"div",1)(2,"div",2)(3,"div",3),_(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),B(8,eH,3,3,"span",8),b(),_(9,"h3",9),B(10,tH,3,3,"span",10),b(),_(11,"div",11)(12,"div",12)(13,"span",13),R(14,"\u{1F4E7}"),b(),_(15,"div"),B(16,nH,3,3,"p",14),_(17,"p",15),R(18,"artista@email.com"),b()()(),_(19,"div",12)(20,"span",13),R(21,"\u{1F4F1}"),b(),_(22,"div"),B(23,rH,3,3,"p",14),_(24,"p",15),R(25,"+34 123 456 789"),b()()(),_(26,"div",12)(27,"span",13),R(28,"\u{1F4CD}"),b(),_(29,"div"),B(30,iH,3,3,"p",14)(31,oH,3,3,"p",16),b()()()(),_(32,"div",17)(33,"div",7),B(34,sH,3,3,"span",8),b(),_(35,"h3",9),B(36,aH,3,3,"span",10),b(),_(37,"div",18)(38,"a",19)(39,"span",20),R(40,"\u{1F4F7}"),b(),_(41,"div"),B(42,cH,3,3,"p",21),_(43,"p",22),R(44,"@malaver.arte"),b()()(),_(45,"a",19)(46,"span",20),R(47,"\u{1F465}"),b(),_(48,"div"),B(49,lH,3,3,"p",21),_(50,"p",22),R(51,"Mar\xEDa Malaver Arte"),b()()(),_(52,"a",19)(53,"span",20),R(54,"\u{1F426}"),b(),_(55,"div"),B(56,uH,3,3,"p",21),_(57,"p",22),R(58,"@malaver_art"),b()()()()(),_(59,"div",23)(60,"div",7),B(61,dH,3,3,"span",8),b(),_(62,"h3",9),B(63,hH,3,3,"span",10),b(),_(64,"div",11)(65,"div",24),B(66,fH,3,3,"p",25)(67,pH,3,3,"p",26)(68,mH,3,3,"p",27),b(),_(69,"div",24),B(70,gH,3,3,"p",25)(71,yH,3,3,"p",26)(72,vH,3,3,"p",27),b()()()(),_(73,"div",28)(74,"div",29)(75,"p",30),z(76,"transloco"),R(77),z(78,"transloco"),b(),_(79,"div",31),B(80,_H,3,3,"a",32)(81,wH,3,3,"a",32),b()(),_(82,"div",33),G(83,"div",34),b()()(),G(84,"div",35)(85,"div",36),b()),t&2&&(w(8),O("transloco","footer.contact.title"),w(2),O("transloco","footer.contact.subtitle"),w(6),O("transloco","footer.contact.email.title"),w(7),O("transloco","footer.contact.phone.title"),w(7),O("transloco","footer.contact.studio.title"),w(),O("transloco","footer.contact.studio.address"),w(3),O("transloco","footer.social.title"),w(2),O("transloco","footer.social.subtitle"),w(6),O("transloco","footer.social.instagram.title"),w(7),O("transloco","footer.social.facebook.title"),w(7),O("transloco","footer.social.twitter.title"),w(5),O("transloco","footer.events.title"),w(2),O("transloco","footer.events.subtitle"),w(3),O("transloco","footer.events.event1.title"),w(),O("transloco","footer.events.event1.date"),w(),O("transloco","footer.events.event1.description"),w(2),O("transloco","footer.events.event2.title"),w(),O("transloco","footer.events.event2.date"),w(),O("transloco","footer.events.event2.description"),w(3),O("innerHTML",q(76,23,"footer.copyright"),Gi),w(2),H(" ",q(78,25,"footer.copyright")," "),w(3),O("transloco","footer.privacy"),w(),O("transloco","footer.terms"))},dependencies:[Tt,pn,mn]})};var Ff=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ue({type:n,selectors:[["app-home"]],standalone:!0,features:[Be],decls:6,vars:0,template:function(t,r){t&1&&(G(0,"app-header"),_(1,"main"),G(2,"app-gallery")(3,"app-hero")(4,"app-techniques"),b(),G(5,"app-footer"))},dependencies:[Ih,Eh,bh,kf,Of]})};function IH(n,e){n&1&&G(0,"h1",46)}function EH(n,e){if(n&1&&(_(0,"div",47),R(1),b()),n&2){let t=ue();w(),H(" ",t.successMessage," ")}}function bH(n,e){if(n&1&&(_(0,"div",48),R(1),b()),n&2){let t=ue();w(),H(" ",t.errorMessage," ")}}function CH(n,e){n&1&&G(0,"label",49)}function DH(n,e){n&1&&G(0,"label",49)}function TH(n,e){n&1&&G(0,"label",49)}function SH(n,e){n&1&&G(0,"label",49)}function AH(n,e){n&1&&G(0,"label",49)}function xH(n,e){n&1&&G(0,"label",49)}function MH(n,e){n&1&&G(0,"option",50)}function RH(n,e){n&1&&G(0,"option",51)}function NH(n,e){n&1&&G(0,"option",52)}function PH(n,e){n&1&&G(0,"option",53)}function kH(n,e){n&1&&G(0,"option",54)}function OH(n,e){n&1&&G(0,"label",49)}function FH(n,e){n&1&&G(0,"option",55)}function LH(n,e){n&1&&G(0,"option",56)}function VH(n,e){n&1&&G(0,"option",57)}function jH(n,e){n&1&&G(0,"label",49)}function UH(n,e){n&1&&G(0,"label",49)}function BH(n,e){n&1&&G(0,"label",49)}function $H(n,e){n&1&&G(0,"label",49)}function HH(n,e){n&1&&G(0,"option",58),n&2&&O("ngValue",!1)}function zH(n,e){n&1&&G(0,"option",58),n&2&&O("ngValue",!0)}function qH(n,e){n&1&&G(0,"label",49)}function GH(n,e){n&1&&G(0,"label",49)}function WH(n,e){if(n&1){let t=ct();_(0,"button",59),de("click",function(){oe(t);let i=ue();return se(i.cancelEdit())}),R(1),z(2,"transloco"),b()}n&2&&(w(),H(" ",q(2,1,"adminDashboard.form.cancel")," "))}function KH(n,e){n&1&&G(0,"h2",9)}function QH(n,e){n&1&&G(0,"span")}function YH(n,e){n&1&&(_(0,"div",60),B(1,QH,1,0,"span",61),b()),n&2&&(w(),O("transloco","adminDashboard.noArtworks"))}function ZH(n,e){n&1&&G(0,"th",68)}function JH(n,e){n&1&&G(0,"th",68)}function XH(n,e){n&1&&G(0,"th",68)}function ez(n,e){n&1&&G(0,"th",68)}function tz(n,e){n&1&&G(0,"th",68)}function nz(n,e){if(n&1){let t=ct();_(0,"tr")(1,"td",69),G(2,"img",70),b(),_(3,"td",69)(4,"div",71),R(5),b(),_(6,"div",72),R(7),b()(),_(8,"td",73),R(9),b(),_(10,"td",73),R(11),b(),_(12,"td",74)(13,"button",75),de("click",function(){let i=oe(t).$implicit,o=ue(2);return se(o.editArtwork(i))}),R(14),z(15,"transloco"),b(),_(16,"button",76),de("click",function(){let i=oe(t).$implicit,o=ue(2);return se(o.deleteArtwork(i.id))}),R(17),z(18,"transloco"),b()()()}if(n&2){let t=e.$implicit;w(2),O("src",t.imagen,os)("alt",t.titulo),w(3),Ge(t.titulo),w(2),Ge(t.medidas),w(2),H(" ",t.tecnica," "),w(2),Ha(" ",t.precio," ",t.moneda," "),w(3),H(" ",q(15,9,"adminDashboard.table.edit")," "),w(3),H(" ",q(18,11,"adminDashboard.table.delete")," ")}}function rz(n,e){if(n&1&&(_(0,"div",62)(1,"table",63)(2,"thead",64)(3,"tr"),B(4,ZH,1,0,"th",65)(5,JH,1,0,"th",65)(6,XH,1,0,"th",65)(7,ez,1,0,"th",65)(8,tz,1,0,"th",65),b()(),_(9,"tbody",66),B(10,nz,19,13,"tr",67),b()()()),n&2){let t=ue();w(4),O("transloco","adminDashboard.table.image"),w(),O("transloco","adminDashboard.table.title"),w(),O("transloco","adminDashboard.table.technique"),w(),O("transloco","adminDashboard.table.price"),w(),O("transloco","adminDashboard.table.actions"),w(2),O("ngForOf",t.artworks)}}var Lf=class n{constructor(e,t,r){this.artworkService=e;this.authService=t;this.translocoService=r}artworks=[];newArtwork={id:"",titulo:"",medidas:"",tecnica:"",estilo:"",genero:"",descripcion:"",estado:"",precio:0,moneda:"EUR",imagen:"",anio:new Date().getFullYear(),categoria:"",vendido:!1};editingArtwork=null;successMessage="";errorMessage="";subscription=new je;ngOnInit(){this.loadArtworks()}ngOnDestroy(){this.subscription.unsubscribe()}loadArtworks(){this.subscription.add(this.artworkService.artworks$.subscribe({next:e=>{this.artworks=e},error:e=>{console.error("Error loading artworks:",e),this.errorMessage=this.translocoService.translate("adminDashboard.errors.load"),setTimeout(()=>{this.errorMessage=""},3e3)}}))}onSubmit(){return M(this,null,function*(){try{this.editingArtwork?(yield this.artworkService.updateArtwork(V({},this.newArtwork)),this.successMessage=this.translocoService.translate("adminDashboard.success.update")):(yield this.artworkService.addArtwork(V({},this.newArtwork)),this.successMessage=this.translocoService.translate("adminDashboard.success.add")),this.resetForm(),setTimeout(()=>{this.successMessage=""},3e3)}catch(e){console.error("Error saving artwork:",e),this.errorMessage=this.translocoService.translate("adminDashboard.errors.save"),setTimeout(()=>{this.errorMessage=""},3e3)}})}editArtwork(e){this.editingArtwork=e,this.newArtwork=V({},e)}deleteArtwork(e){return M(this,null,function*(){if(confirm(this.translocoService.translate("adminDashboard.confirmDelete")))try{yield this.artworkService.deleteArtwork(e),this.successMessage=this.translocoService.translate("adminDashboard.success.delete"),setTimeout(()=>{this.successMessage=""},3e3)}catch(t){console.error("Error deleting artwork:",t),this.errorMessage=this.translocoService.translate("adminDashboard.errors.delete"),setTimeout(()=>{this.errorMessage=""},3e3)}})}resetForm(){this.newArtwork={id:"",titulo:"",medidas:"",tecnica:"",estilo:"",genero:"",descripcion:"",estado:"",precio:0,moneda:"EUR",imagen:"",anio:new Date().getFullYear(),categoria:"",vendido:!1},this.editingArtwork=null}cancelEdit(){this.resetForm()}static \u0275fac=function(t){return new(t||n)(te(ta),te(Kn),te(fn))};static \u0275cmp=Ue({type:n,selectors:[["app-admin-dashboard"]],standalone:!0,features:[Be],decls:81,vars:53,consts:[["artworkForm","ngForm"],[1,"min-h-screen","bg-gray-100","p-6"],[1,"max-w-7xl","mx-auto"],[1,"flex","justify-between","items-center","mb-8"],["class","text-3xl font-bold text-gray-800",4,"transloco"],[1,"bg-red-600","text-white","px-4","py-2","rounded-md","hover:bg-red-700","transition-colors",3,"click"],["class","bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",4,"ngIf"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",4,"ngIf"],[1,"bg-white","shadow-md","rounded-lg","p-6","mb-8"],[1,"text-xl","font-semibold","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4",3,"ngSubmit"],[1,"space-y-4"],["class","block text-sm font-medium mb-1",4,"transloco"],["type","text","name","titulo","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","text","name","medidas","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","text","name","tecnica","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","text","name","estilo",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","text","name","genero","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["name","categoria","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["value","paisajismo",4,"transloco"],["value","bodegones",4,"transloco"],["value","retratos",4,"transloco"],["value","animalismo",4,"transloco"],["value","otros",4,"transloco"],["name","estado","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["value","Nuevo",4,"transloco"],["value","Usado",4,"transloco"],["value","Restaurado",4,"transloco"],["type","number","name","precio","required","","min","0",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["name","moneda","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["value","EUR"],["value","USD"],["value","COP"],["type","number","name","anio",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["name","vendido","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],[3,"ngValue",4,"transloco"],["type","text","name","imagen","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],[1,"md:col-span-2"],["name","descripcion","rows","3",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],[1,"md:col-span-2","flex","justify-end","space-x-4","mt-4"],["type","button","class","bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600 transition-colors",3,"click",4,"ngIf"],["type","submit",1,"bg-blue-600","text-white","px-4","py-2","rounded-md","hover:bg-blue-700","transition-colors","disabled:bg-blue-300",3,"disabled"],[1,"bg-white","shadow-md","rounded-lg","p-6"],["class","text-xl font-semibold mb-4",4,"transloco"],["class","text-center py-8 text-gray-500",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],[1,"text-3xl","font-bold","text-gray-800"],[1,"bg-green-100","border","border-green-400","text-green-700","px-4","py-3","rounded","mb-6"],[1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","mb-6"],[1,"block","text-sm","font-medium","mb-1"],["value","paisajismo"],["value","bodegones"],["value","retratos"],["value","animalismo"],["value","otros"],["value","Nuevo"],["value","Usado"],["value","Restaurado"],[3,"ngValue"],["type","button",1,"bg-gray-500","text-white","px-4","py-2","rounded-md","hover:bg-gray-600","transition-colors",3,"click"],[1,"text-center","py-8","text-gray-500"],[4,"transloco"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",4,"transloco"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-4","whitespace-nowrap"],[1,"h-12","w-12","object-cover","rounded",3,"src","alt"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"text-indigo-600","hover:text-indigo-900","mr-3",3,"click"],[1,"text-red-600","hover:text-red-900",3,"click"]],template:function(t,r){if(t&1){let i=ct();_(0,"div",1)(1,"div",2)(2,"div",3),B(3,IH,1,0,"h1",4),_(4,"button",5),de("click",function(){return oe(i),se(r.authService.logout())}),R(5),z(6,"transloco"),b()(),B(7,EH,2,1,"div",6)(8,bH,2,1,"div",7),_(9,"div",8)(10,"h2",9),R(11),z(12,"transloco"),b(),_(13,"form",10,0),de("ngSubmit",function(){return oe(i),se(r.onSubmit())}),_(15,"div",11)(16,"div"),B(17,CH,1,0,"label",12),_(18,"input",13),ut("ngModelChange",function(s){return oe(i),vt(r.newArtwork.titulo,s)||(r.newArtwork.titulo=s),se(s)}),b()(),_(19,"div"),B(20,DH,1,0,"label",12),_(21,"input",14),ut("ngModelChange",function(s){return oe(i),vt(r.newArtwork.medidas,s)||(r.newArtwork.medidas=s),se(s)}),b()(),_(22,"div"),B(23,TH,1,0,"label",12),_(24,"input",15),ut("ngModelChange",function(s){return oe(i),vt(r.newArtwork.tecnica,s)||(r.newArtwork.tecnica=s),se(s)}),b()(),_(25,"div"),B(26,SH,1,0,"label",12),_(27,"input",16),ut("ngModelChange",function(s){return oe(i),vt(r.newArtwork.estilo,s)||(r.newArtwork.estilo=s),se(s)}),b()(),_(28,"div"),B(29,AH,1,0,"label",12),_(30,"input",17),ut("ngModelChange",function(s){return oe(i),vt(r.newArtwork.genero,s)||(r.newArtwork.genero=s),se(s)}),b()(),_(31,"div"),B(32,xH,1,0,"label",12),_(33,"select",18),ut("ngModelChange",function(s){return oe(i),vt(r.newArtwork.categoria,s)||(r.newArtwork.categoria=s),se(s)}),B(34,MH,1,0,"option",19)(35,RH,1,0,"option",20)(36,NH,1,0,"option",21)(37,PH,1,0,"option",22)(38,kH,1,0,"option",23),b()()(),_(39,"div",11)(40,"div"),B(41,OH,1,0,"label",12),_(42,"select",24),ut("ngModelChange",function(s){return oe(i),vt(r.newArtwork.estado,s)||(r.newArtwork.estado=s),se(s)}),B(43,FH,1,0,"option",25)(44,LH,1,0,"option",26)(45,VH,1,0,"option",27),b()(),_(46,"div"),B(47,jH,1,0,"label",12),_(48,"input",28),ut("ngModelChange",function(s){return oe(i),vt(r.newArtwork.precio,s)||(r.newArtwork.precio=s),se(s)}),b()(),_(49,"div"),B(50,UH,1,0,"label",12),_(51,"select",29),ut("ngModelChange",function(s){return oe(i),vt(r.newArtwork.moneda,s)||(r.newArtwork.moneda=s),se(s)}),_(52,"option",30),R(53,"EUR"),b(),_(54,"option",31),R(55,"USD"),b(),_(56,"option",32),R(57,"COP"),b()()(),_(58,"div"),B(59,BH,1,0,"label",12),_(60,"input",33),ut("ngModelChange",function(s){return oe(i),vt(r.newArtwork.anio,s)||(r.newArtwork.anio=s),se(s)}),b()(),_(61,"div"),B(62,$H,1,0,"label",12),_(63,"select",34),ut("ngModelChange",function(s){return oe(i),vt(r.newArtwork.vendido,s)||(r.newArtwork.vendido=s),se(s)}),B(64,HH,1,1,"option",35)(65,zH,1,1,"option",35),b()(),_(66,"div"),B(67,qH,1,0,"label",12),_(68,"input",36),ut("ngModelChange",function(s){return oe(i),vt(r.newArtwork.imagen,s)||(r.newArtwork.imagen=s),se(s)}),b()()(),_(69,"div",37),B(70,GH,1,0,"label",12),_(71,"textarea",38),ut("ngModelChange",function(s){return oe(i),vt(r.newArtwork.descripcion,s)||(r.newArtwork.descripcion=s),se(s)}),b()(),_(72,"div",39),B(73,WH,3,3,"button",40),_(74,"button",41),R(75),z(76,"transloco"),b()()()(),_(77,"div",42),B(78,KH,1,0,"h2",43)(79,YH,2,1,"div",44)(80,rz,11,6,"div",45),b()()()}if(t&2){let i=Qi(14);w(3),O("transloco","adminDashboard.title"),w(2),H(" ",q(6,47,"adminDashboard.logout")," "),w(2),O("ngIf",r.successMessage),w(),O("ngIf",r.errorMessage),w(3),H(" ",q(12,49,r.editingArtwork?"adminDashboard.editArtwork":"adminDashboard.addArtwork")," "),w(6),O("transloco","adminDashboard.form.title"),w(),lt("ngModel",r.newArtwork.titulo),w(2),O("transloco","adminDashboard.form.measures"),w(),lt("ngModel",r.newArtwork.medidas),w(2),O("transloco","adminDashboard.form.technique"),w(),lt("ngModel",r.newArtwork.tecnica),w(2),O("transloco","adminDashboard.form.style"),w(),lt("ngModel",r.newArtwork.estilo),w(2),O("transloco","adminDashboard.form.genre"),w(),lt("ngModel",r.newArtwork.genero),w(2),O("transloco","adminDashboard.form.category"),w(),lt("ngModel",r.newArtwork.categoria),w(),O("transloco","gallery.categories.paisajismo"),w(),O("transloco","gallery.categories.bodegones"),w(),O("transloco","gallery.categories.retratos"),w(),O("transloco","gallery.categories.animalismo"),w(),O("transloco","gallery.categories.otros"),w(3),O("transloco","adminDashboard.form.status"),w(),lt("ngModel",r.newArtwork.estado),w(),O("transloco","adminDashboard.form.statusOptions.new"),w(),O("transloco","adminDashboard.form.statusOptions.used"),w(),O("transloco","adminDashboard.form.statusOptions.restored"),w(2),O("transloco","adminDashboard.form.price"),w(),lt("ngModel",r.newArtwork.precio),w(2),O("transloco","adminDashboard.form.currency"),w(),lt("ngModel",r.newArtwork.moneda),w(8),O("transloco","adminDashboard.form.year"),w(),lt("ngModel",r.newArtwork.anio),w(2),O("transloco","adminDashboard.form.sold"),w(),lt("ngModel",r.newArtwork.vendido),w(),O("transloco","adminDashboard.form.soldOptions.no"),w(),O("transloco","adminDashboard.form.soldOptions.yes"),w(2),O("transloco","adminDashboard.form.image"),w(),lt("ngModel",r.newArtwork.imagen),w(2),O("transloco","adminDashboard.form.description"),w(),lt("ngModel",r.newArtwork.descripcion),w(2),O("ngIf",r.editingArtwork),w(),O("disabled",!i.valid),w(),H(" ",q(76,51,r.editingArtwork?"adminDashboard.form.update":"adminDashboard.form.add")," "),w(3),O("transloco","adminDashboard.existingArtworks"),w(),O("ngIf",r.artworks.length===0),w(),O("ngIf",r.artworks.length>0)}},dependencies:[Ts,dh,sS,cS,Ds,By,hh,ch,lh,Mc,$y,xc,Ac,Qt,ti,qn,Tt,pn,mn]})};var bM=[{path:"",component:Ff},{path:"admin/login",component:vh},{path:"admin/dashboard",component:Lf,canActivate:[_h]},{path:"**",redirectTo:""}];var CM={production:!1,firebaseConfig:{apiKey:"AIzaSyBY5l0nyxjgrb2MC8b2_3lGOf4h2KHTH24",authDomain:"galeria-70ec6.firebaseapp.com",projectId:"galeria-70ec6",storageBucket:"galeria-70ec6.firebasestorage.app",messagingSenderId:"17744554129",appId:"1:17744554129:web:4dcbadd5dad6e58238f730",measurementId:"G-2SCNFR1HB6"}};var DM=["es","en","de"];var Vf=class n{http=F(zg);getTranslation(e){return this.http.get(`/assets/i18n/${e}.json`)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var TM={providers:[aD({eventCoalescing:!0}),NT(bM),PD(),eA(()=>tA(CM.firebaseConfig)),pM(()=>yM()),DS({config:{availableLangs:DM,defaultLang:"es",reRenderOnLangChange:!0,prodMode:!uD()},loader:Vf})]};var jf=class n{transloco=F(fn);languages=[{code:"es",name:"languages.es"},{code:"en",name:"languages.en"},{code:"de",name:"languages.de"}];changeLang(e){this.transloco.setActiveLang(e)}getLanguage(){return"languages."+this.transloco.getActiveLang()}title="Malaver";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ue({type:n,selectors:[["app-root"]],standalone:!0,features:[Be],decls:1,vars:0,template:function(t,r){t&1&&G(0,"router-outlet")},dependencies:[xy,Tt]})};BD(jf,TM).catch(n=>console.error(n));

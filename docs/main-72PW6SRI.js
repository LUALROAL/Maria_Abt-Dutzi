var PR=Object.defineProperty,OR=Object.defineProperties;var kR=Object.getOwnPropertyDescriptors;var ou=Object.getOwnPropertySymbols;var aI=Object.prototype.hasOwnProperty,cI=Object.prototype.propertyIsEnumerable;var sI=(n,e,t)=>e in n?PR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||={})aI.call(e,t)&&sI(n,t,e[t]);if(ou)for(var t of ou(e))cI.call(e,t)&&sI(n,t,e[t]);return n},ue=(n,e)=>OR(n,kR(e));var su=(n,e)=>{var t={};for(var r in n)aI.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&ou)for(var r of ou(n))e.indexOf(r)<0&&cI.call(n,r)&&(t[r]=n[r]);return t};var S=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});function uI(n,e){return Object.is(n,e)}var Ye=null,au=!1,cu=1,Bn=Symbol("SIGNAL");function ye(n){let e=Ye;return Ye=n,e}function lI(){return Ye}var na={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Sf(n){if(au)throw new Error("");if(Ye===null)return;Ye.consumerOnSignalRead(n);let e=Ye.nextProducerIndex++;if(hu(Ye),e<Ye.producerNode.length&&Ye.producerNode[e]!==n&&ta(Ye)){let t=Ye.producerNode[e];du(t,Ye.producerIndexOfThis[e])}Ye.producerNode[e]!==n&&(Ye.producerNode[e]=n,Ye.producerIndexOfThis[e]=ta(Ye)?pI(n,Ye,e):0),Ye.producerLastReadVersion[e]=n.version}function FR(){cu++}function dI(n){if(!(ta(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===cu)){if(!n.producerMustRecompute(n)&&!Rf(n)){n.dirty=!1,n.lastCleanEpoch=cu;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=cu}}function hI(n){if(n.liveConsumerNode===void 0)return;let e=au;au=!0;try{for(let t of n.liveConsumerNode)t.dirty||LR(t)}finally{au=e}}function fI(){return Ye?.consumerAllowSignalWrites!==!1}function LR(n){n.dirty=!0,hI(n),n.consumerMarkedDirty?.(n)}function lu(n){return n&&(n.nextProducerIndex=0),ye(n)}function Af(n,e){if(ye(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(ta(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)du(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Rf(n){hu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(dI(t),r!==t.version))return!0}return!1}function Mf(n){if(hu(n),ta(n))for(let e=0;e<n.producerNode.length;e++)du(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function pI(n,e,t){if(gI(n),n.liveConsumerNode.length===0&&mI(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=pI(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function du(n,e){if(gI(n),n.liveConsumerNode.length===1&&mI(n))for(let r=0;r<n.producerNode.length;r++)du(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];hu(i),i.producerIndexOfThis[r]=e}}function ta(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function hu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function gI(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function mI(n){return n.producerNode!==void 0}function yI(n){let e=Object.create(VR);e.computation=n;let t=()=>{if(dI(e),Sf(e),e.value===uu)throw e.error;return e.value};return t[Bn]=e,t}var Cf=Symbol("UNSET"),Tf=Symbol("COMPUTING"),uu=Symbol("ERRORED"),VR=ue(L({},na),{value:Cf,dirty:!0,error:null,equal:uI,producerMustRecompute(n){return n.value===Cf||n.value===Tf},producerRecomputeValue(n){if(n.value===Tf)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Tf;let t=lu(n),r;try{r=n.computation()}catch(i){r=uu,n.error=i}finally{Af(n,t)}if(e!==Cf&&e!==uu&&r!==uu&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function jR(){throw new Error}var vI=jR;function _I(){vI()}function wI(n){vI=n}var UR=null;function II(n){let e=Object.create(DI);e.value=n;let t=()=>(Sf(e),e.value);return t[Bn]=e,t}function Nf(n,e){fI()||_I(),n.equal(n.value,e)||(n.value=e,BR(n))}function EI(n,e){fI()||_I(),Nf(n,e(n.value))}var DI=ue(L({},na),{equal:uI,value:void 0});function BR(n){n.version++,FR(),hI(n),UR?.()}function ie(n){return typeof n=="function"}function no(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var fu=no(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function hi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Re=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ie(r))try{r()}catch(o){e=o instanceof fu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{bI(o)}catch(s){e=e??[],s instanceof fu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new fu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)bI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&hi(t,e)}remove(e){let{_finalizers:t}=this;t&&hi(t,e),e instanceof n&&e._removeParent(this)}};Re.EMPTY=(()=>{let n=new Re;return n.closed=!0,n})();var xf=Re.EMPTY;function pu(n){return n instanceof Re||n&&"closed"in n&&ie(n.remove)&&ie(n.add)&&ie(n.unsubscribe)}function bI(n){ie(n)?n():n.unsubscribe()}var on={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ro={setTimeout(n,e,...t){let{delegate:r}=ro;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ro;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function gu(n){ro.setTimeout(()=>{let{onUnhandledError:e}=on;if(e)e(n);else throw n})}function ra(){}var CI=Pf("C",void 0,void 0);function TI(n){return Pf("E",void 0,n)}function SI(n){return Pf("N",n,void 0)}function Pf(n,e,t){return{kind:n,value:e,error:t}}var fi=null;function io(n){if(on.useDeprecatedSynchronousErrorHandling){let e=!fi;if(e&&(fi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=fi;if(fi=null,t)throw r}}else n()}function AI(n){on.useDeprecatedSynchronousErrorHandling&&fi&&(fi.errorThrown=!0,fi.error=n)}var pi=class extends Re{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,pu(e)&&e.add(this)):this.destination=zR}static create(e,t,r){return new oo(e,t,r)}next(e){this.isStopped?kf(SI(e),this):this._next(e)}error(e){this.isStopped?kf(TI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?kf(CI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},$R=Function.prototype.bind;function Of(n,e){return $R.call(n,e)}var Ff=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){mu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){mu(r)}else mu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){mu(t)}}},oo=class extends pi{constructor(e,t,r){super();let i;if(ie(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&on.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Of(e.next,o),error:e.error&&Of(e.error,o),complete:e.complete&&Of(e.complete,o)}):i=e}this.destination=new Ff(i)}};function mu(n){on.useDeprecatedSynchronousErrorHandling?AI(n):gu(n)}function HR(n){throw n}function kf(n,e){let{onStoppedNotification:t}=on;t&&ro.setTimeout(()=>t(n,e))}var zR={closed:!0,next:ra,error:HR,complete:ra};var so=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ft(n){return n}function Lf(...n){return Vf(n)}function Vf(n){return n.length===0?Ft:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var le=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=GR(t)?t:new oo(t,r,i);return io(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=RI(r),new r((i,o)=>{let s=new oo({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[so](){return this}pipe(...t){return Vf(t)(this)}toPromise(t){return t=RI(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function RI(n){var e;return(e=n??on.Promise)!==null&&e!==void 0?e:Promise}function qR(n){return n&&ie(n.next)&&ie(n.error)&&ie(n.complete)}function GR(n){return n&&n instanceof pi||qR(n)&&pu(n)}function jf(n){return ie(n?.lift)}function ge(n){return e=>{if(jf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(n,e,t,r,i){return new Uf(n,e,t,r,i)}var Uf=class extends pi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ao(){return ge((n,e)=>{let t=null;n._refCount++;let r=de(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var co=class extends le{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,jf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Re;let t=this.getSubject();e.add(this.source.subscribe(de(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Re.EMPTY)}return e}refCount(){return ao()(this)}};var MI=no(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Xe=(()=>{class n extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new yu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new MI}next(t){io(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){io(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){io(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?xf:(this.currentObservers=null,o.push(t),new Re(()=>{this.currentObservers=null,hi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new le;return t.source=this,t}}return n.create=(e,t)=>new yu(e,t),n})(),yu=class extends Xe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:xf}};var Be=class extends Xe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Bf={now(){return(Bf.delegate||Date).now()},delegate:void 0};var vu=class extends Re{constructor(e,t){super()}schedule(e,t=0){return this}};var ia={setInterval(n,e,...t){let{delegate:r}=ia;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ia;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var uo=class extends vu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ia.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ia.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,hi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var lo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};lo.now=Bf.now;var ho=class extends lo{constructor(e,t=lo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var $f=new ho(uo);var _u=class extends uo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var wu=class extends ho{};var Hf=new wu(_u);var Lt=new le(n=>n.complete());function NI(n){return n&&ie(n.schedule)}function xI(n){return n[n.length-1]}function Iu(n){return ie(xI(n))?n.pop():void 0}function Ir(n){return NI(xI(n))?n.pop():void 0}function zf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function OI(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function PI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gi(n){return this instanceof gi?(this.v=n,this):new gi(n)}function kI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(C){return Promise.resolve(C).then(y,p)}}function a(y,C){r[y]&&(i[y]=function(M){return new Promise(function(R,j){o.push([y,M,R,j])>1||u(y,M)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof gi?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,C){y(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function FI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof PI=="function"?PI(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Eu=n=>n&&typeof n.length=="number"&&typeof n!="function";function Du(n){return ie(n?.then)}function bu(n){return ie(n[so])}function Cu(n){return Symbol.asyncIterator&&ie(n?.[Symbol.asyncIterator])}function Tu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function WR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Su=WR();function Au(n){return ie(n?.[Su])}function Ru(n){return kI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield gi(t.read());if(i)return yield gi(void 0);yield yield gi(r)}}finally{t.releaseLock()}})}function Mu(n){return ie(n?.getReader)}function He(n){if(n instanceof le)return n;if(n!=null){if(bu(n))return KR(n);if(Eu(n))return QR(n);if(Du(n))return YR(n);if(Cu(n))return LI(n);if(Au(n))return JR(n);if(Mu(n))return ZR(n)}throw Tu(n)}function KR(n){return new le(e=>{let t=n[so]();if(ie(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function QR(n){return new le(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function YR(n){return new le(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,gu)})}function JR(n){return new le(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function LI(n){return new le(e=>{XR(n,e).catch(t=>e.error(t))})}function ZR(n){return LI(Ru(n))}function XR(n,e){var t,r,i,o;return OI(this,void 0,void 0,function*(){try{for(t=FI(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Rt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Er(n,e=0){return ge((t,r)=>{t.subscribe(de(r,i=>Rt(r,n,()=>r.next(i),e),()=>Rt(r,n,()=>r.complete(),e),i=>Rt(r,n,()=>r.error(i),e)))})}function Dr(n,e=0){return ge((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function VI(n,e){return He(n).pipe(Dr(e),Er(e))}function jI(n,e){return He(n).pipe(Dr(e),Er(e))}function UI(n,e){return new le(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function BI(n,e){return new le(t=>{let r;return Rt(t,e,()=>{r=n[Su](),Rt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ie(r?.return)&&r.return()})}function Nu(n,e){if(!n)throw new Error("Iterable cannot be null");return new le(t=>{Rt(t,e,()=>{let r=n[Symbol.asyncIterator]();Rt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function $I(n,e){return Nu(Ru(n),e)}function HI(n,e){if(n!=null){if(bu(n))return VI(n,e);if(Eu(n))return UI(n,e);if(Du(n))return jI(n,e);if(Cu(n))return Nu(n,e);if(Au(n))return BI(n,e);if(Mu(n))return $I(n,e)}throw Tu(n)}function Pe(n,e){return e?HI(n,e):He(n)}function J(...n){let e=Ir(n);return Pe(n,e)}function fo(n,e){let t=ie(n)?n:()=>n,r=i=>i.error(t());return new le(e?i=>e.schedule(r,0,i):r)}function qf(n){return!!n&&(n instanceof le||ie(n.lift)&&ie(n.subscribe))}var $n=no(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function X(n,e){return ge((t,r)=>{let i=0;t.subscribe(de(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:eM}=Array;function tM(n,e){return eM(e)?n(...e):n(e)}function xu(n){return X(e=>tM(n,e))}var{isArray:nM}=Array,{getPrototypeOf:rM,prototype:iM,keys:oM}=Object;function Pu(n){if(n.length===1){let e=n[0];if(nM(e))return{args:e,keys:null};if(sM(e)){let t=oM(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function sM(n){return n&&typeof n=="object"&&rM(n)===iM}function Ou(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function oa(...n){let e=Ir(n),t=Iu(n),{args:r,keys:i}=Pu(n);if(r.length===0)return Pe([],e);let o=new le(aM(r,e,i?s=>Ou(i,s):Ft));return t?o.pipe(xu(t)):o}function aM(n,e,t=Ft){return r=>{zI(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)zI(e,()=>{let l=Pe(n[u],e),h=!1;l.subscribe(de(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function zI(n,e,t){n?Rt(t,n,e):e()}function qI(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?C(M):u.push(M),C=M=>{o&&e.next(M),l++;let R=!1;He(t(M,h++)).subscribe(de(e,j=>{i?.(j),o?y(j):e.next(j)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let j=u.shift();s?Rt(e,s,()=>C(j)):C(j)}m()}catch(j){e.error(j)}}))};return n.subscribe(de(e,y,()=>{p=!0,m()})),()=>{a?.()}}function ze(n,e,t=1/0){return ie(e)?ze((r,i)=>X((o,s)=>e(r,o,i,s))(He(n(r,i))),t):(typeof e=="number"&&(t=e),ge((r,i)=>qI(r,i,n,t)))}function po(n=1/0){return ze(Ft,n)}function GI(){return po(1)}function go(...n){return GI()(Pe(n,Ir(n)))}function ku(n){return new le(e=>{He(n()).subscribe(e)})}function Gf(...n){let e=Iu(n),{args:t,keys:r}=Pu(n),i=new le(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;He(t[h]).subscribe(de(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Ou(r,a):a),o.complete())}))}});return e?i.pipe(xu(e)):i}function Mt(n,e){return ge((t,r)=>{let i=0;t.subscribe(de(r,o=>n.call(e,o,i++)&&r.next(o)))})}function br(n){return ge((e,t)=>{let r=null,i=!1,o;r=e.subscribe(de(t,void 0,void 0,s=>{o=He(n(s,br(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function WI(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(de(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Hn(n,e){return ie(e)?ze(n,e,1):ze(n,1)}function Cr(n){return ge((e,t)=>{let r=!1;e.subscribe(de(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function zn(n){return n<=0?()=>Lt:ge((e,t)=>{let r=0;e.subscribe(de(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Wf(n){return X(()=>n)}function Fu(n=cM){return ge((e,t)=>{let r=!1;e.subscribe(de(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function cM(){return new $n}function mi(n){return ge((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function mn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Mt((i,o)=>n(i,o,r)):Ft,zn(1),t?Cr(e):Fu(()=>new $n))}function mo(n){return n<=0?()=>Lt:ge((e,t)=>{let r=[];e.subscribe(de(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Kf(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Mt((i,o)=>n(i,o,r)):Ft,mo(1),t?Cr(e):Fu(()=>new $n))}function Qf(n,e){return ge(WI(n,e,arguments.length>=2,!0))}function Yf(...n){let e=Ir(n);return ge((t,r)=>{(e?go(n,t,e):go(n,t)).subscribe(r)})}function Nt(n,e){return ge((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(de(r,u=>{i?.unsubscribe();let l=0,h=o++;He(n(u,h)).subscribe(i=de(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Jf(n){return ge((e,t)=>{He(n).subscribe(de(t,()=>t.complete(),ra)),!t.closed&&e.subscribe(t)})}function qe(n,e,t){let r=ie(n)||e||t?{next:n,error:e,complete:t}:n;return r?ge((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(de(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ft}var NE="https://g.co/ng/security#xss",G=class extends Error{constructor(e,t){super(yl(e,t)),this.code=e}};function yl(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function pa(n){return{toString:n}.toString()}var Lu="__parameters__";function uM(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function xE(n,e,t){return pa(()=>{let r=uM(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Lu)?u[Lu]:Object.defineProperty(u,Lu,{value:[]})[Lu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var dp=globalThis;function Se(n){for(let e in n)if(n[e]===Se)return e;throw Error("Could not find renamed property on target object.")}function lM(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function bt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(bt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function hp(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var dM=Se({__forward_ref__:Se});function ln(n){return n.__forward_ref__=ln,n.toString=function(){return bt(this())},n}function Dt(n){return PE(n)?n():n}function PE(n){return typeof n=="function"&&n.hasOwnProperty(dM)&&n.__forward_ref__===ln}function $(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Kn(n){return{providers:n.providers||[],imports:n.imports||[]}}function vl(n){return KI(n,kE)||KI(n,FE)}function OE(n){return vl(n)!==null}function KI(n,e){return n.hasOwnProperty(e)?n[e]:null}function hM(n){let e=n&&(n[kE]||n[FE]);return e||null}function QI(n){return n&&(n.hasOwnProperty(YI)||n.hasOwnProperty(fM))?n[YI]:null}var kE=Se({\u0275prov:Se}),YI=Se({\u0275inj:Se}),FE=Se({ngInjectableDef:Se}),fM=Se({ngInjectorDef:Se}),H=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=$({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function LE(n){return n&&!!n.\u0275providers}var pM=Se({\u0275cmp:Se}),gM=Se({\u0275dir:Se}),mM=Se({\u0275pipe:Se}),yM=Se({\u0275mod:Se}),Wu=Se({\u0275fac:Se}),aa=Se({__NG_ELEMENT_ID__:Se}),JI=Se({__NG_ENV_ID__:Se});function Do(n){return typeof n=="string"?n:n==null?"":String(n)}function vM(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Do(n)}function _M(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new G(-200,n)}function rg(n,e){throw new G(-201,!1)}var ce=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ce||{}),fp;function VE(){return fp}function qt(n){let e=fp;return fp=n,e}function jE(n,e,t){let r=vl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ce.Optional)return null;if(e!==void 0)return e;rg(n,"Injector")}var wM={},ca=wM,pp="__NG_DI_FLAG__",Ku="ngTempTokenPath",IM="ngTokenPath",EM=/\n/gm,DM="\u0275",ZI="__source",Io;function bM(){return Io}function Tr(n){let e=Io;return Io=n,e}function CM(n,e=ce.Default){if(Io===void 0)throw new G(-203,!1);return Io===null?jE(n,void 0,e):Io.get(n,e&ce.Optional?null:void 0,e)}function q(n,e=ce.Default){return(VE()||CM)(Dt(n),e)}function O(n,e=ce.Default){return q(n,_l(e))}function _l(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function gp(n){let e=[];for(let t=0;t<n.length;t++){let r=Dt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new G(900,!1);let i,o=ce.Default;for(let s=0;s<r.length;s++){let a=r[s],u=TM(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(q(i,o))}else e.push(q(r))}return e}function UE(n,e){return n[pp]=e,n.prototype[pp]=e,n}function TM(n){return n[pp]}function SM(n,e,t,r){let i=n[Ku];throw e[ZI]&&i.unshift(e[ZI]),n.message=AM(`
`+n.message,i,t,r),n[IM]=i,n[Ku]=null,n}function AM(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==DM?n.slice(2):n;let i=bt(e);if(Array.isArray(e))i=e.map(bt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):bt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(EM,`
  `)}`}var Kt=UE(xE("Optional"),8);var ig=UE(xE("SkipSelf"),4);function bo(n,e){let t=n.hasOwnProperty(Wu);return t?n[Wu]:null}function og(n,e){n.forEach(t=>Array.isArray(t)?og(t,e):e(t))}function BE(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Qu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function RM(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function sg(n,e,t){let r=ga(n,e);return r>=0?n[r|1]=t:(r=~r,RM(n,r,e,t)),r}function Zf(n,e){let t=ga(n,e);if(t>=0)return n[t|1]}function ga(n,e){return MM(n,e,1)}function MM(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Co={},xt=[],To=new H(""),$E=new H("",-1),HE=new H(""),Yu=class{get(e,t=ca){if(t===ca){let r=new Error(`NullInjectorError: No provider for ${bt(e)}!`);throw r.name="NullInjectorError",r}return t}},zE=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(zE||{}),_n=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(_n||{}),Rr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Rr||{});function NM(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function mp(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];xM(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function qE(n){return n===3||n===4||n===6}function xM(n){return n.charCodeAt(0)===64}function ua(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?XI(n,t,i,null,e[++r]):XI(n,t,i,null,null))}}return n}function XI(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var GE="ng-template";function PM(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&NM(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(ag(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function ag(n){return n.type===4&&n.value!==GE}function OM(n,e,t){let r=n.type===4&&!t?GE:n.value;return e===r}function kM(n,e,t){let r=4,i=n.attrs,o=i!==null?VM(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!sn(r)&&!sn(u))return!1;if(s&&sn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!OM(n,u,t)||u===""&&e.length===1){if(sn(r))return!1;s=!0}}else if(r&8){if(i===null||!PM(n,i,u,t)){if(sn(r))return!1;s=!0}}else{let l=e[++a],h=FM(u,i,ag(n),t);if(h===-1){if(sn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(sn(r))return!1;s=!0}}}}return sn(r)||s}function sn(n){return(n&1)===0}function FM(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return jM(e,n)}function LM(n,e,t=!1){for(let r=0;r<e.length;r++)if(kM(n,e[r],t))return!0;return!1}function VM(n){for(let e=0;e<n.length;e++){let t=n[e];if(qE(t))return e}return n.length}function jM(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function eE(n,e){return n?":not("+e.trim()+")":e}function UM(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!sn(s)&&(e+=eE(o,i),i=""),r=s,o=o||!sn(r);t++}return i!==""&&(e+=eE(o,i)),e}function BM(n){return n.map(UM).join(",")}function $M(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!sn(i))break;i=o}r++}return{attrs:e,classes:t}}function Ve(n){return pa(()=>{let e=JE(n),t=ue(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===zE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||_n.Emulated,styles:n.styles||xt,_:null,schemas:n.schemas||null,tView:null,id:""});ZE(t);let r=n.dependencies;return t.directiveDefs=nE(r,!1),t.pipeDefs=nE(r,!0),t.id=qM(t),t})}function HM(n){return Mr(n)||WE(n)}function zM(n){return n!==null}function Qn(n){return pa(()=>({type:n.type,bootstrap:n.bootstrap||xt,declarations:n.declarations||xt,imports:n.imports||xt,exports:n.exports||xt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function tE(n,e){if(n==null)return Co;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Rr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Rr.None?[r,a]:r,e[o]=s):t[o]=r}return t}function ke(n){return pa(()=>{let e=JE(n);return ZE(e),e})}function Mr(n){return n[pM]||null}function WE(n){return n[gM]||null}function KE(n){return n[mM]||null}function QE(n){let e=Mr(n)||WE(n)||KE(n);return e!==null?e.standalone:!1}function YE(n,e){let t=n[yM]||null;if(!t&&e===!0)throw new Error(`Type ${bt(n)} does not have '\u0275mod' property.`);return t}function JE(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Co,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||xt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:tE(n.inputs,e),outputs:tE(n.outputs),debugInfo:null}}function ZE(n){n.features?.forEach(e=>e(n))}function nE(n,e){if(!n)return null;let t=e?KE:HM;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(zM)}function qM(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function bn(n){return{\u0275providers:n}}function GM(...n){return{\u0275providers:XE(!0,n),\u0275fromNgModule:!0}}function XE(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return og(e,s=>{let a=s;yp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&e0(i,o),t}function e0(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];cg(i,o=>{e(o,r)})}}function yp(n,e,t,r){if(n=Dt(n),!n)return!1;let i=null,o=QI(n),s=!o&&Mr(n);if(!o&&!s){let u=n.ngModule;if(o=QI(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)yp(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{og(o.imports,h=>{yp(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&e0(l,e)}if(!a){let l=bo(i)||(()=>new i);e({provide:i,useFactory:l,deps:xt},i),e({provide:HE,useValue:i,multi:!0},i),e({provide:To,useValue:()=>q(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;cg(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function cg(n,e){for(let t of n)LE(t)&&(t=t.\u0275providers),Array.isArray(t)?cg(t,e):e(t)}var WM=Se({provide:String,useValue:Se});function t0(n){return n!==null&&typeof n=="object"&&WM in n}function KM(n){return!!(n&&n.useExisting)}function QM(n){return!!(n&&n.useFactory)}function So(n){return typeof n=="function"}function YM(n){return!!n.useClass}var wl=new H(""),$u={},JM={},Xf;function ug(){return Xf===void 0&&(Xf=new Yu),Xf}var Ct=class{},la=class extends Ct{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_p(e,s=>this.processProvider(s)),this.records.set($E,yo(void 0,this)),i.has("environment")&&this.records.set(Ct,yo(void 0,this));let o=this.records.get(wl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(HE,xt,ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Tr(this),r=qt(void 0),i;try{return e()}finally{Tr(t),qt(r)}}get(e,t=ca,r=ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(JI))return e[JI](this);r=_l(r);let i,o=Tr(this),s=qt(void 0);try{if(!(r&ce.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=nN(e)&&vl(e);l&&this.injectableDefInScope(l)?u=yo(vp(e),$u):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ce.Self?ug():this.parent;return t=r&ce.Optional&&t===ca?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Ku]=a[Ku]||[]).unshift(bt(e)),o)throw a;return SM(a,e,"R3InjectorError",this.source)}else throw a}finally{qt(s),Tr(o)}}resolveInjectorInitializers(){let e=ye(null),t=Tr(this),r=qt(void 0),i;try{let o=this.get(To,xt,ce.Self);for(let s of o)s()}finally{Tr(t),qt(r),ye(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(bt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new G(205,!1)}processProvider(e){e=Dt(e);let t=So(e)?e:Dt(e&&e.provide),r=XM(e);if(!So(e)&&e.multi===!0){let i=this.records.get(t);i||(i=yo(void 0,$u,!0),i.factory=()=>gp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=ye(null);try{return t.value===$u&&(t.value=JM,t.value=t.factory()),typeof t.value=="object"&&t.value&&tN(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ye(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Dt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function vp(n){let e=vl(n),t=e!==null?e.factory:bo(n);if(t!==null)return t;if(n instanceof H)throw new G(204,!1);if(n instanceof Function)return ZM(n);throw new G(204,!1)}function ZM(n){if(n.length>0)throw new G(204,!1);let t=hM(n);return t!==null?()=>t.factory(n):()=>new n}function XM(n){if(t0(n))return yo(void 0,n.useValue);{let e=n0(n);return yo(e,$u)}}function n0(n,e,t){let r;if(So(n)){let i=Dt(n);return bo(i)||vp(i)}else if(t0(n))r=()=>Dt(n.useValue);else if(QM(n))r=()=>n.useFactory(...gp(n.deps||[]));else if(KM(n))r=()=>q(Dt(n.useExisting));else{let i=Dt(n&&(n.useClass||n.provide));if(eN(n))r=()=>new i(...gp(n.deps));else return bo(i)||vp(i)}return r}function yo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function eN(n){return!!n.deps}function tN(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function nN(n){return typeof n=="function"||typeof n=="object"&&n instanceof H}function _p(n,e){for(let t of n)Array.isArray(t)?_p(t,e):t&&LE(t)?_p(t.\u0275providers,e):e(t)}function Qt(n,e){n instanceof la&&n.assertNotDestroyed();let t,r=Tr(n),i=qt(void 0);try{return e()}finally{Tr(r),qt(i)}}function r0(){return VE()!==void 0||bM()!=null}function rN(n){if(!r0())throw new G(-203,!1)}function iN(n){return typeof n=="function"}var Yn=0,he=1,ee=2,Tt=3,cn=4,dn=5,Ju=6,Zu=7,un=8,Ao=9,wn=10,$e=11,da=12,rE=13,Vo=14,In=15,Ro=16,vo=17,Mo=18,Il=19,i0=20,Sr=21,ep=22,Gt=23,En=25,o0=1;var vi=7,Xu=8,el=9,Wt=10,tl=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(tl||{});function Ar(n){return Array.isArray(n)&&typeof n[o0]=="object"}function Jn(n){return Array.isArray(n)&&n[o0]===!0}function lg(n){return(n.flags&4)!==0}function El(n){return n.componentOffset>-1}function Dl(n){return(n.flags&1)===1}function Nr(n){return!!n.template}function wp(n){return(n[ee]&512)!==0}var Ip=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function s0(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function kr(){return a0}function a0(n){return n.type.prototype.ngOnChanges&&(n.setInput=sN),oN}kr.ngInherit=!0;function oN(){let n=u0(this),e=n?.current;if(e){let t=n.previous;if(t===Co)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function sN(n,e,t,r,i){let o=this.declaredInputs[r],s=u0(n)||aN(n,{previous:Co,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Ip(l&&l.currentValue,t,u===Co),s0(n,e,i,t)}var c0="__ngSimpleChanges__";function u0(n){return n[c0]||null}function aN(n,e){return n[c0]=e}var iE=null;var yn=function(n,e,t){iE?.(n,e,t)},l0="svg",cN="math";function Dn(n){for(;Array.isArray(n);)n=n[Yn];return n}function d0(n,e){return Dn(e[n])}function Yt(n,e){return Dn(e[n.index])}function h0(n,e){return n.data[e]}function uN(n,e){return n[e]}function Fr(n,e){let t=e[n];return Ar(t)?t:t[Yn]}function dg(n){return(n[ee]&128)===128}function lN(n){return Jn(n[Tt])}function No(n,e){return e==null?null:n[e]}function f0(n){n[vo]=0}function p0(n){n[ee]&1024||(n[ee]|=1024,dg(n)&&Cl(n))}function dN(n,e){for(;n>0;)e=e[Vo],n--;return e}function bl(n){return!!(n[ee]&9216||n[Gt]?.dirty)}function Ep(n){n[wn].changeDetectionScheduler?.notify(8),n[ee]&64&&(n[ee]|=1024),bl(n)&&Cl(n)}function Cl(n){n[wn].changeDetectionScheduler?.notify(0);let e=_i(n);for(;e!==null&&!(e[ee]&8192||(e[ee]|=8192,!dg(e)));)e=_i(e)}function g0(n,e){if((n[ee]&256)===256)throw new G(911,!1);n[Sr]===null&&(n[Sr]=[]),n[Sr].push(e)}function hN(n,e){if(n[Sr]===null)return;let t=n[Sr].indexOf(e);t!==-1&&n[Sr].splice(t,1)}function _i(n){let e=n[Tt];return Jn(e)?e[Tt]:e}var ae={lFrame:b0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var m0=!1;function fN(){return ae.lFrame.elementDepthCount}function pN(){ae.lFrame.elementDepthCount++}function gN(){ae.lFrame.elementDepthCount--}function y0(){return ae.bindingsEnabled}function mN(){return ae.skipHydrationRootTNode!==null}function yN(n){return ae.skipHydrationRootTNode===n}function vN(){ae.skipHydrationRootTNode=null}function Ce(){return ae.lFrame.lView}function ft(){return ae.lFrame.tView}function Me(n){return ae.lFrame.contextLView=n,n[un]}function Ne(n){return ae.lFrame.contextLView=null,n}function pt(){let n=v0();for(;n!==null&&n.type===64;)n=n.parent;return n}function v0(){return ae.lFrame.currentTNode}function _N(){let n=ae.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function bi(n,e){let t=ae.lFrame;t.currentTNode=n,t.isParent=e}function hg(){return ae.lFrame.isParent}function _0(){ae.lFrame.isParent=!1}function wN(){return ae.lFrame.contextLView}function w0(){return m0}function oE(n){m0=n}function IN(){return ae.lFrame.bindingIndex}function EN(n){return ae.lFrame.bindingIndex=n}function Tl(){return ae.lFrame.bindingIndex++}function fg(n){let e=ae.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function DN(){return ae.lFrame.inI18n}function bN(n,e){let t=ae.lFrame;t.bindingIndex=t.bindingRootIndex=n,Dp(e)}function CN(){return ae.lFrame.currentDirectiveIndex}function Dp(n){ae.lFrame.currentDirectiveIndex=n}function TN(n){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function I0(n){ae.lFrame.currentQueryIndex=n}function SN(n){let e=n[he];return e.type===2?e.declTNode:e.type===1?n[dn]:null}function E0(n,e,t){if(t&ce.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ce.Host);)if(i=SN(o),i===null||(o=o[Vo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ae.lFrame=D0();return r.currentTNode=e,r.lView=n,!0}function pg(n){let e=D0(),t=n[he];ae.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function D0(){let n=ae.lFrame,e=n===null?null:n.child;return e===null?b0(n):e}function b0(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function C0(){let n=ae.lFrame;return ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var T0=C0;function gg(){let n=C0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function AN(n){return(ae.lFrame.contextLView=dN(n,ae.lFrame.contextLView))[un]}function Lr(){return ae.lFrame.selectedIndex}function wi(n){ae.lFrame.selectedIndex=n}function mg(){let n=ae.lFrame;return h0(n.tView,n.selectedIndex)}function S0(){ae.lFrame.currentNamespace=l0}function A0(){RN()}function RN(){ae.lFrame.currentNamespace=null}function MN(){return ae.lFrame.currentNamespace}var R0=!0;function Sl(){return R0}function Al(n){R0=n}function NN(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=a0(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Rl(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Hu(n,e,t){M0(n,e,3,t)}function zu(n,e,t,r){(n[ee]&3)===t&&M0(n,e,t,r)}function tp(n,e){let t=n[ee];(t&3)===e&&(t&=16383,t+=1,n[ee]=t)}function M0(n,e,t,r){let i=r!==void 0?n[vo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[vo]+=65536),(a<o||o==-1)&&(xN(n,t,e,u),n[vo]=(n[vo]&4294901760)+u+2),u++}function sE(n,e){yn(4,n,e);let t=ye(null);try{e.call(n)}finally{ye(t),yn(5,n,e)}}function xN(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ee]>>14<n[vo]>>16&&(n[ee]&3)===e&&(n[ee]+=16384,sE(a,o)):sE(a,o)}var Eo=-1,Ii=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function PN(n){return n instanceof Ii}function ON(n){return(n.flags&8)!==0}function kN(n){return(n.flags&16)!==0}var np={},bp=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=_l(r);let i=this.injector.get(e,np,r);return i!==np||t===np?i:this.parentInjector.get(e,t,r)}};function N0(n){return n!==Eo}function nl(n){return n&32767}function FN(n){return n>>16}function rl(n,e){let t=FN(n),r=e;for(;t>0;)r=r[Vo],t--;return r}var Cp=!0;function aE(n){let e=Cp;return Cp=n,e}var LN=256,x0=LN-1,P0=5,VN=0,vn={};function jN(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(aa)&&(r=t[aa]),r==null&&(r=t[aa]=VN++);let i=r&x0,o=1<<i;e.data[n+(i>>P0)]|=o}function il(n,e){let t=O0(n,e);if(t!==-1)return t;let r=e[he];r.firstCreatePass&&(n.injectorIndex=e.length,rp(r.data,n),rp(e,null),rp(r.blueprint,null));let i=yg(n,e),o=n.injectorIndex;if(N0(i)){let s=nl(i),a=rl(i,e),u=a[he].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function rp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function O0(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function yg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=j0(i),r===null)return Eo;if(t++,i=i[Vo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Eo}function Tp(n,e,t){jN(n,e,t)}function UN(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(qE(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function k0(n,e,t){if(t&ce.Optional||n!==void 0)return n;rg(e,"NodeInjector")}function F0(n,e,t,r){if(t&ce.Optional&&r===void 0&&(r=null),!(t&(ce.Self|ce.Host))){let i=n[Ao],o=qt(void 0);try{return i?i.get(e,r,t&ce.Optional):jE(e,r,t&ce.Optional)}finally{qt(o)}}return k0(r,e,t)}function L0(n,e,t,r=ce.Default,i){if(n!==null){if(e[ee]&2048&&!(r&ce.Self)){let s=qN(n,e,t,r,vn);if(s!==vn)return s}let o=V0(n,e,t,r,vn);if(o!==vn)return o}return F0(e,t,r,i)}function V0(n,e,t,r,i){let o=HN(t);if(typeof o=="function"){if(!E0(e,n,r))return r&ce.Host?k0(i,t,r):F0(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ce.Optional))rg(t);else return s}finally{T0()}}else if(typeof o=="number"){let s=null,a=O0(n,e),u=Eo,l=r&ce.Host?e[In][dn]:null;for((a===-1||r&ce.SkipSelf)&&(u=a===-1?yg(n,e):e[a+8],u===Eo||!uE(r,!1)?a=-1:(s=e[he],a=nl(u),e=rl(u,e)));a!==-1;){let h=e[he];if(cE(o,a,h.data)){let p=BN(a,e,t,s,r,l);if(p!==vn)return p}u=e[a+8],u!==Eo&&uE(r,e[he].data[a+8]===l)&&cE(o,a,e)?(s=h,a=nl(u),e=rl(u,e)):a=-1}}return i}function BN(n,e,t,r,i,o){let s=e[he],a=s.data[n+8],u=r==null?El(a)&&Cp:r!=s&&(a.type&3)!==0,l=i&ce.Host&&o===a,h=$N(a,s,t,u,l);return h!==null?xo(e,s,h,a):vn}function $N(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let C=s[y];if(y<u&&t===C||y>=u&&C.type===t)return y}if(i){let y=s[u];if(y&&Nr(y)&&y.type===t)return u}return null}function xo(n,e,t,r){let i=n[t],o=e.data;if(PN(i)){let s=i;s.resolving&&_M(vM(o[t]));let a=aE(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?qt(s.injectImpl):null,h=E0(n,r,ce.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&NN(t,o[t],e)}finally{l!==null&&qt(l),aE(a),s.resolving=!1,T0()}}return i}function HN(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(aa)?n[aa]:void 0;return typeof e=="number"?e>=0?e&x0:zN:e}function cE(n,e,t){let r=1<<n;return!!(t[e+(n>>P0)]&r)}function uE(n,e){return!(n&ce.Self)&&!(n&ce.Host&&e)}var yi=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return L0(this._tNode,this._lView,e,_l(r),t)}};function zN(){return new yi(pt(),Ce())}function Cn(n){return pa(()=>{let e=n.prototype.constructor,t=e[Wu]||Sp(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Wu]||Sp(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Sp(n){return PE(n)?()=>{let e=Sp(Dt(n));return e&&e()}:bo(n)}function qN(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ee]&2048&&!(s[ee]&512);){let a=V0(o,s,t,r|ce.Self,vn);if(a!==vn)return a;let u=o.parent;if(!u){let l=s[i0];if(l){let h=l.get(t,vn,r);if(h!==vn)return h}u=j0(s),s=s[Vo]}o=u}return i}function j0(n){let e=n[he],t=e.type;return t===2?e.declTNode:t===1?n[dn]:null}function vg(n){return UN(pt(),n)}function lE(n,e=null,t=null,r){let i=U0(n,e,t,r);return i.resolveInjectorInitializers(),i}function U0(n,e=null,t=null,r,i=new Set){let o=[t||xt,GM(n)];return r=r||(typeof n=="object"?void 0:bt(n)),new la(o,e||ug(),r||null,i)}var St=class n{static{this.THROW_IF_NOT_FOUND=ca}static{this.NULL=new Yu}static create(e,t){if(Array.isArray(e))return lE({name:""},t,e,"");{let r=e.name??"";return lE({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=$({token:n,providedIn:"any",factory:()=>q($E)})}static{this.__NG_ELEMENT_ID__=-1}};var GN=new H("");GN.__NG_ELEMENT_ID__=n=>{let e=pt();if(e===null)throw new G(204,!1);if(e.type&2)return e.value;if(n&ce.Optional)return null;throw new G(204,!1)};var WN="ngOriginalError";function ip(n){return n[WN]}var B0=!0,_g=(()=>{class n{static{this.__NG_ELEMENT_ID__=KN}static{this.__NG_ENV_ID__=t=>t}}return n})(),Ap=class extends _g{constructor(e){super(),this._lView=e}onDestroy(e){return g0(this._lView,e),()=>hN(this._lView,e)}};function KN(){return new Ap(Ce())}var Vr=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Be(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Rp=class extends Xe{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,r0()&&(this.destroyRef=O(_g,{optional:!0})??void 0,this.pendingTasks=O(Vr,{optional:!0})??void 0)}emit(e){let t=ye(null);try{super.next(e)}finally{ye(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Re&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ge=Rp;function ol(...n){}function $0(n){let e,t;function r(){n=ol;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function dE(n){return queueMicrotask(()=>n()),()=>{n=ol}}var wg="isAngularZone",sl=wg+"_ID",QN=0,Ee=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ge(!1),this.onMicrotaskEmpty=new Ge(!1),this.onStable=new Ge(!1),this.onError=new Ge(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=B0}=e;if(typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,ZN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(wg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new G(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,YN,ol,ol);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},YN={};function Ig(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function JN(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){$0(()=>{n.callbackScheduled=!1,Mp(n),n.isCheckStableRunning=!0,Ig(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Mp(n)}function ZN(n){let e=()=>{JN(n)},t=QN++;n._inner=n._inner.fork({name:"angular",properties:{[wg]:!0,[sl]:t,[sl+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(XN(u))return r.invokeTask(o,s,a,u);try{return hE(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),fE(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return hE(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!ex(u)&&e(),fE(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Mp(n),Ig(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Mp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function hE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function fE(n){n._nesting--,Ig(n)}var Np=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ge,this.onMicrotaskEmpty=new Ge,this.onStable=new Ge,this.onError=new Ge}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function XN(n){return H0(n,"__ignore_ng_zone__")}function ex(n){return H0(n,"__scheduler_tick__")}function H0(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var qn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&ip(e);for(;t&&ip(t);)t=ip(t);return t||null}},tx=new H("",{providedIn:"root",factory:()=>{let n=O(Ee),e=O(qn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function nx(){return Ml(pt(),Ce())}function Ml(n,e){return new Jt(Yt(n,e))}var Jt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=nx}}return n})();function z0(n){return(n.flags&128)===128}var q0=new Map,rx=0;function ix(){return rx++}function ox(n){q0.set(n[Il],n)}function xp(n){q0.delete(n[Il])}var pE="__ngContext__";function xr(n,e){Ar(e)?(n[pE]=e[Il],ox(e)):n[pE]=e}function G0(n){return K0(n[da])}function W0(n){return K0(n[cn])}function K0(n){for(;n!==null&&!Jn(n);)n=n[cn];return n}var Pp;function Q0(n){Pp=n}function sx(){if(Pp!==void 0)return Pp;if(typeof document<"u")return document;throw new G(210,!1)}var Eg=new H("",{providedIn:"root",factory:()=>ax}),ax="ng",Dg=new H(""),Zt=new H("",{providedIn:"platform",factory:()=>"unknown"});var bg=new H("",{providedIn:"root",factory:()=>sx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var cx="h",ux="b";var lx=()=>null;function Cg(n,e,t=!1){return lx(n,e,t)}var Y0=!1,dx=new H("",{providedIn:"root",factory:()=>Y0});var Vu;function hx(){if(Vu===void 0&&(Vu=null,dp.trustedTypes))try{Vu=dp.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Vu}function gE(n){return hx()?.createScriptURL(n)||n}var al=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${NE})`}};function jo(n){return n instanceof al?n.changingThisBreaksApplicationSecurity:n}function Tg(n,e){let t=fx(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${NE})`)}return t===e}function fx(n){return n instanceof al&&n.getTypeName()||null}var px=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function J0(n){return n=String(n),n.match(px)?n:"unsafe:"+n}var Nl=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Nl||{});function Sg(n){let e=X0();return e?e.sanitize(Nl.URL,n)||"":Tg(n,"URL")?jo(n):J0(Do(n))}function gx(n){let e=X0();if(e)return gE(e.sanitize(Nl.RESOURCE_URL,n)||"");if(Tg(n,"ResourceURL"))return gE(jo(n));throw new G(904,!1)}function mx(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?gx:Sg}function Z0(n,e,t){return mx(e,t)(n)}function X0(){let n=Ce();return n&&n[wn].sanitizer}var yx=/^>|^->|<!--|-->|--!>|<!-$/g,vx=/(<|>)/g,_x="\u200B$1\u200B";function wx(n){return n.replace(yx,e=>e.replace(vx,_x))}function eD(n){return n.ownerDocument.defaultView}function tD(n){return n instanceof Function?n():n}function Ix(n){return(n??O(St)).get(Zt)==="browser"}var Gn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Gn||{}),Ex;function Ag(n,e){return Ex(n,e)}function _o(n,e,t,r,i){if(r!=null){let o,s=!1;Jn(r)?o=r:Ar(r)&&(s=!0,r=r[Yn]);let a=Dn(r);n===0&&t!==null?i==null?sD(e,t,a):cl(e,t,a,i||null,!0):n===1&&t!==null?cl(e,t,a,i||null,!0):n===2?Vx(e,a,s):n===3&&e.destroyNode(a),o!=null&&Ux(e,n,o,t,i)}}function Dx(n,e){return n.createText(e)}function bx(n,e,t){n.setValue(e,t)}function Cx(n,e){return n.createComment(wx(e))}function nD(n,e,t){return n.createElement(e,t)}function Tx(n,e){rD(n,e),e[Yn]=null,e[dn]=null}function Sx(n,e,t,r,i,o){r[Yn]=i,r[dn]=e,Pl(n,r,t,1,i,o)}function rD(n,e){e[wn].changeDetectionScheduler?.notify(9),Pl(n,e,e[$e],2,null,null)}function Ax(n){let e=n[da];if(!e)return op(n[he],n);for(;e;){let t=null;if(Ar(e))t=e[da];else{let r=e[Wt];r&&(t=r)}if(!t){for(;e&&!e[cn]&&e!==n;)Ar(e)&&op(e[he],e),e=e[Tt];e===null&&(e=n),Ar(e)&&op(e[he],e),t=e&&e[cn]}e=t}}function Rx(n,e,t,r){let i=Wt+r,o=t.length;r>0&&(t[i-1][cn]=e),r<o-Wt?(e[cn]=t[i],BE(t,Wt+r,e)):(t.push(e),e[cn]=null),e[Tt]=t;let s=e[Ro];s!==null&&t!==s&&iD(s,e);let a=e[Mo];a!==null&&a.insertView(n),Ep(e),e[ee]|=128}function iD(n,e){let t=n[el],r=e[Tt];if(Ar(r))n[ee]|=tl.HasTransplantedViews;else{let i=r[Tt][In];e[In]!==i&&(n[ee]|=tl.HasTransplantedViews)}t===null?n[el]=[e]:t.push(e)}function Rg(n,e){let t=n[el],r=t.indexOf(e);t.splice(r,1)}function Op(n,e){if(n.length<=Wt)return;let t=Wt+e,r=n[t];if(r){let i=r[Ro];i!==null&&i!==n&&Rg(i,r),e>0&&(n[t-1][cn]=r[cn]);let o=Qu(n,Wt+e);Tx(r[he],r);let s=o[Mo];s!==null&&s.detachView(o[he]),r[Tt]=null,r[cn]=null,r[ee]&=-129}return r}function oD(n,e){if(!(e[ee]&256)){let t=e[$e];t.destroyNode&&Pl(n,e,t,3,null,null),Ax(e)}}function op(n,e){if(e[ee]&256)return;let t=ye(null);try{e[ee]&=-129,e[ee]|=256,e[Gt]&&Mf(e[Gt]),Nx(n,e),Mx(n,e),e[he].type===1&&e[$e].destroy();let r=e[Ro];if(r!==null&&Jn(e[Tt])){r!==e[Tt]&&Rg(r,e);let i=e[Mo];i!==null&&i.detachView(n)}xp(e)}finally{ye(t)}}function Mx(n,e){let t=n.cleanup,r=e[Zu];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Zu]=null);let i=e[Sr];if(i!==null){e[Sr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function Nx(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ii)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];yn(4,a,u);try{u.call(a)}finally{yn(5,a,u)}}else{yn(4,i,o);try{o.call(i)}finally{yn(5,i,o)}}}}}function xx(n,e,t){return Px(n,e.parent,t)}function Px(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Yn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===_n.None||o===_n.Emulated)return null}return Yt(r,t)}}function cl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function sD(n,e,t){n.appendChild(e,t)}function mE(n,e,t,r,i){r!==null?cl(n,e,t,r,i):sD(n,e,t)}function aD(n,e){return n.parentNode(e)}function Ox(n,e){return n.nextSibling(e)}function kx(n,e,t){return Lx(n,e,t)}function Fx(n,e,t){return n.type&40?Yt(n,t):null}var Lx=Fx,yE;function xl(n,e,t,r){let i=xx(n,r,e),o=e[$e],s=r.parent||e[dn],a=kx(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)mE(o,i,t[u],a,!1);else mE(o,i,t,a,!1);yE!==void 0&&yE(o,r,e,t,i)}function sa(n,e){if(e!==null){let t=e.type;if(t&3)return Yt(e,n);if(t&4)return kp(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return sa(n,r);{let i=n[e.index];return Jn(i)?kp(-1,i):Dn(i)}}else{if(t&128)return sa(n,e.next);if(t&32)return Ag(e,n)()||Dn(n[e.index]);{let r=cD(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=_i(n[In]);return sa(i,r)}else return sa(n,e.next)}}}return null}function cD(n,e){if(e!==null){let r=n[In][dn],i=e.projection;return r.projection[i]}return null}function kp(n,e){let t=Wt+n+1;if(t<e.length){let r=e[t],i=r[he].firstChild;if(i!==null)return sa(r,i)}return e[vi]}function Vx(n,e,t){n.removeChild(null,e,t)}function Mg(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&xr(Dn(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)Mg(n,e,t.child,r,i,o,!1),_o(e,n,i,a,o);else if(u&32){let l=Ag(t,r),h;for(;h=l();)_o(e,n,i,h,o);_o(e,n,i,a,o)}else u&16?jx(n,e,r,t,i,o):_o(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Pl(n,e,t,r,i,o){Mg(t,r,n.firstChild,e,i,o,!1)}function jx(n,e,t,r,i,o){let s=t[In],u=s[dn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];_o(e,n,i,h,o)}else{let l=u,h=s[Tt];z0(r)&&(l.flags|=128),Mg(n,e,l,h,i,o,!0)}}function Ux(n,e,t,r,i){let o=t[vi],s=Dn(t);o!==s&&_o(e,n,r,o,i);for(let a=Wt;a<t.length;a++){let u=t[a];Pl(u[he],u,n,e,r,o)}}function Bx(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Gn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Gn.Important),n.setStyle(t,r,i,o))}}function $x(n,e,t){n.setAttribute(e,"style",t)}function uD(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function lD(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&mp(n,e,r),i!==null&&uD(n,e,i),o!==null&&$x(n,e,o)}var Tn={};function te(n=1){dD(ft(),Ce(),Lr()+n,!1)}function dD(n,e,t,r){if(!r)if((e[ee]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Hu(e,o,t)}else{let o=n.preOrderHooks;o!==null&&zu(e,o,0,t)}wi(t)}function Q(n,e=ce.Default){let t=Ce();if(t===null)return q(n,e);let r=pt();return L0(r,t,Dt(n),e)}function hD(){let n="invalid";throw new Error(n)}function fD(n,e,t,r,i,o){let s=ye(null);try{let a=null;i&Rr.SignalBased&&(a=e[r][Bn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Rr.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):s0(e,a,r,o)}finally{ye(s)}}function Hx(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)wi(~i);else{let o=i,s=t[++r],a=t[++r];bN(s,o);let u=e[o];a(2,u)}}}finally{wi(-1)}}function Ol(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Yn]=i,p[ee]=r|4|128|8|64,(l!==null||n&&n[ee]&2048)&&(p[ee]|=2048),f0(p),p[Tt]=p[Vo]=n,p[un]=t,p[wn]=s||n&&n[wn],p[$e]=a||n&&n[$e],p[Ao]=u||n&&n[Ao]||null,p[dn]=o,p[Il]=ix(),p[Ju]=h,p[i0]=l,p[In]=e.type==2?n[In]:p,p}function ma(n,e,t,r,i){let o=n.data[e];if(o===null)o=zx(n,e,t,r,i),DN()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=_N();o.injectorIndex=s===null?-1:s.injectorIndex}return bi(o,!0),o}function zx(n,e,t,r,i){let o=v0(),s=hg(),a=s?o:o&&o.parent,u=n.data[e]=Qx(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function pD(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function gD(n,e,t,r,i){let o=Lr(),s=r&2;try{wi(-1),s&&e.length>En&&dD(n,e,En,!1),yn(s?2:0,i),t(r,i)}finally{wi(o),yn(s?3:1,i)}}function Ng(n,e,t){if(lg(e)){let r=ye(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{ye(r)}}}function xg(n,e,t){y0()&&(tP(n,e,t,Yt(t,e)),(t.flags&64)===64&&_D(n,e,t))}function Pg(n,e,t=Yt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function mD(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Og(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Og(n,e,t,r,i,o,s,a,u,l,h){let p=En+r,m=p+i,y=qx(p,m),C=typeof l=="function"?l():l;return y[he]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function qx(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Tn);return t}function Gx(n,e,t,r){let o=r.get(dx,Y0)||t===_n.ShadowDom,s=n.selectRootElement(e,o);return Wx(s),s}function Wx(n){Kx(n)}var Kx=()=>null;function Qx(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return mN()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function vE(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Rr.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?_E(r,t,l,a,u):_E(r,t,l,a)}return r}function _E(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function Yx(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=t?t.get(p):null,y=m?m.inputs:null,C=m?m.outputs:null;u=vE(0,p.inputs,h,u,y),l=vE(1,p.outputs,h,l,C);let M=u!==null&&s!==null&&!ag(e)?hP(u,h,s):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function Jx(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function yD(n,e,t,r,i,o,s,a){let u=Yt(e,t),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Fg(n,t,h,r,i),El(e)&&Zx(t,e.index)):e.type&3?(r=Jx(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function Zx(n,e){let t=Fr(e,n);t[ee]&16||(t[ee]|=64)}function kg(n,e,t,r){if(y0()){let i=r===null?null:{"":-1},o=rP(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&vD(n,e,t,s,i,a),i&&iP(t,r,i)}t.mergedAttrs=ua(t.mergedAttrs,t.attrs)}function vD(n,e,t,r,i,o){for(let l=0;l<r.length;l++)Tp(il(t,e),n,r[l].type);sP(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=pD(n,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];t.mergedAttrs=ua(t.mergedAttrs,h.hostAttrs),aP(n,t,e,u,h),oP(u,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}Yx(n,t,o)}function Xx(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;eP(s)!=a&&s.push(a),s.push(t,r,o)}}function eP(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function tP(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;El(t)&&cP(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||il(t,e),xr(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let u=n.data[a],l=xo(e,n,a,t);if(xr(l,e),s!==null&&dP(e,a-i,l,u,t,s),Nr(u)){let h=Fr(t.index,e);h[un]=xo(e,n,a,t)}}}function _D(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=CN();try{wi(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Dp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&nP(u,l)}}finally{wi(-1),Dp(s)}}function nP(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function rP(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(LM(e,s.selectors,!1))if(r||(r=[]),Nr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Fp(n,e,u)}else r.unshift(s),Fp(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Fp(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function iP(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new G(-301,!1);r.push(e[i],o)}}}function oP(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Nr(e)&&(t[""]=n)}}function sP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function aP(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=bo(i.type,!0)),s=new Ii(o,Nr(i),Q);n.blueprint[r]=s,t[r]=s,Xx(n,e,r,pD(n,t,i.hostVars,Tn),i)}function cP(n,e,t){let r=Yt(e,n),i=mD(t),o=n[wn].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=kl(n,Ol(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function uP(n,e,t,r,i,o){let s=Yt(n,e);lP(e[$e],s,o,n.value,t,r,i)}function lP(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Do(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function dP(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];fD(r,t,u,l,h,p)}}function hP(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function wD(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function ID(n,e){let t=n.contentQueries;if(t!==null){let r=ye(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];I0(o),a.contentQueries(2,e[s],s)}}}finally{ye(r)}}}function kl(n,e){return n[da]?n[rE][cn]=e:n[da]=e,n[rE]=e,e}function Lp(n,e,t){I0(0);let r=ye(null);try{e(n,t)}finally{ye(r)}}function fP(n){return n[Zu]??=[]}function pP(n){return n.cleanup??=[]}function ED(n,e){let t=n[Ao],r=t?t.get(qn,null):null;r&&r.handleError(e)}function Fg(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],u=t[o++],l=e[s],h=n.data[s];fD(h,l,r,a,u,i)}}function DD(n,e,t){let r=d0(e,n);bx(n[$e],r,t)}function gP(n,e){let t=Fr(e,n),r=t[he];mP(r,t);let i=t[Yn];i!==null&&t[Ju]===null&&(t[Ju]=Cg(i,t[Ao])),Lg(r,t,t[un])}function mP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Lg(n,e,t){pg(e);try{let r=n.viewQuery;r!==null&&Lp(1,r,t);let i=n.template;i!==null&&gD(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Mo]?.finishViewCreation(n),n.staticContentQueries&&ID(n,e),n.staticViewQueries&&Lp(2,n.viewQuery,t);let o=n.components;o!==null&&yP(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ee]&=-5,gg()}}function yP(n,e){for(let t=0;t<e.length;t++)gP(n,e[t])}function vP(n,e,t,r){let i=ye(null);try{let o=e.tView,a=n[ee]&4096?4096:16,u=Ol(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Ro]=l;let h=n[Mo];return h!==null&&(u[Mo]=h.createEmbeddedView(o)),Lg(o,u,t),u}finally{ye(i)}}function wE(n,e){return!e||e.firstChild===null||z0(n)}function _P(n,e,t,r=!0){let i=e[he];if(Rx(i,e,n,t),r){let s=kp(t,n),a=e[$e],u=aD(a,n[vi]);u!==null&&Sx(i,n[dn],a,e,u,s)}let o=e[Ju];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ul(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Dn(o)),Jn(o)&&wP(o,r);let s=t.type;if(s&8)ul(n,e,t.child,r);else if(s&32){let a=Ag(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=cD(e,t);if(Array.isArray(a))r.push(...a);else{let u=_i(e[In]);ul(u[he],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function wP(n,e){for(let t=Wt;t<n.length;t++){let r=n[t],i=r[he].firstChild;i!==null&&ul(r[he],r,i,e)}n[vi]!==n[Yn]&&e.push(n[vi])}var bD=[];function IP(n){return n[Gt]??EP(n)}function EP(n){let e=bD.pop()??Object.create(bP);return e.lView=n,e}function DP(n){n.lView[Gt]!==n&&(n.lView=null,bD.push(n))}var bP=ue(L({},na),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Cl(n.lView)},consumerOnSignalRead(){this.lView[Gt]=this}});function CP(n){let e=n[Gt]??Object.create(TP);return e.lView=n,e}var TP=ue(L({},na),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=_i(n.lView);for(;e&&!CD(e[he]);)e=_i(e);e&&p0(e)},consumerOnSignalRead(){this.lView[Gt]=this}});function CD(n){return n.type!==2}var SP=100;function TD(n,e=!0,t=0){let r=n[wn],i=r.rendererFactory,o=!1;o||i.begin?.();try{AP(n,t)}catch(s){throw e&&ED(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function AP(n,e){let t=w0();try{oE(!0),Vp(n,e);let r=0;for(;bl(n);){if(r===SP)throw new G(103,!1);r++,Vp(n,1)}}finally{oE(t)}}function RP(n,e,t,r){let i=e[ee];if((i&256)===256)return;let o=!1,s=!1;!o&&e[wn].inlineEffectRunner?.flush(),pg(e);let a=!0,u=null,l=null;o||(CD(n)?(l=IP(e),u=lu(l)):lI()===null?(a=!1,l=CP(e),u=lu(l)):e[Gt]&&(Mf(e[Gt]),e[Gt]=null));try{f0(e),EN(n.bindingStartIndex),t!==null&&gD(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&Hu(e,y,null)}else{let y=n.preOrderHooks;y!==null&&zu(e,y,0,null),tp(e,0)}if(s||MP(e),SD(e,0),n.contentQueries!==null&&ID(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&Hu(e,y)}else{let y=n.contentHooks;y!==null&&zu(e,y,1),tp(e,1)}Hx(n,e);let p=n.components;p!==null&&RD(e,p,0);let m=n.viewQuery;if(m!==null&&Lp(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&Hu(e,y)}else{let y=n.viewHooks;y!==null&&zu(e,y,2),tp(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[ep]){for(let y of e[ep])y();e[ep]=null}o||(e[ee]&=-73)}catch(h){throw o||Cl(e),h}finally{l!==null&&(Af(l,u),a&&DP(l)),gg()}}function SD(n,e){for(let t=G0(n);t!==null;t=W0(t))for(let r=Wt;r<t.length;r++){let i=t[r];AD(i,e)}}function MP(n){for(let e=G0(n);e!==null;e=W0(e)){if(!(e[ee]&tl.HasTransplantedViews))continue;let t=e[el];for(let r=0;r<t.length;r++){let i=t[r];p0(i)}}}function NP(n,e,t){let r=Fr(e,n);AD(r,t)}function AD(n,e){dg(n)&&Vp(n,e)}function Vp(n,e){let r=n[he],i=n[ee],o=n[Gt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Rf(o)),s||=!1,o&&(o.dirty=!1),n[ee]&=-9217,s)RP(r,n,r.template,n[un]);else if(i&8192){SD(n,1);let a=r.components;a!==null&&RD(n,a,1)}}function RD(n,e,t){for(let r=0;r<e.length;r++)NP(n,e[r],t)}function Vg(n,e){let t=w0()?64:1088;for(n[wn].changeDetectionScheduler?.notify(e);n;){n[ee]|=t;let r=_i(n);if(wp(n)&&!r)return n;n=r}return null}var Ei=class{get rootNodes(){let e=this._lView,t=e[he];return ul(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[un]}set context(e){this._lView[un]=e}get destroyed(){return(this._lView[ee]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Tt];if(Jn(e)){let t=e[Xu],r=t?t.indexOf(this):-1;r>-1&&(Op(e,r),Qu(t,r))}this._attachedToViewContainer=!1}oD(this._lView[he],this._lView)}onDestroy(e){g0(this._lView,e)}markForCheck(){Vg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ee]&=-129}reattach(){Ep(this._lView),this._lView[ee]|=128}detectChanges(){this._lView[ee]|=1024,TD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=wp(this._lView),t=this._lView[Ro];t!==null&&!e&&Rg(t,this._lView),rD(this._lView[he],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=e;let t=wp(this._lView),r=this._lView[Ro];r!==null&&!t&&iD(r,this._lView),Ep(this._lView)}},Fl=(()=>{class n{static{this.__NG_ELEMENT_ID__=OP}}return n})(),xP=Fl,PP=class extends xP{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=vP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Ei(i)}};function OP(){return MD(pt(),Ce())}function MD(n,e){return n.type&4?new PP(e,n,Ml(n,e)):null}var A3=new RegExp(`^(\\d+)*(${ux}|${cx})*(.*)`);var kP=()=>null;function IE(n,e){return kP(n,e)}var Po=class{},Ll=new H("",{providedIn:"root",factory:()=>!1});var ND=new H(""),xD=new H(""),jp=class{},ll=class{};function FP(n){let e=Error(`No component factory found for ${bt(n)}.`);return e[LP]=n,e}var LP="ngComponent";var Up=class{resolveComponentFactory(e){throw FP(e)}},Oo=class{static{this.NULL=new Up}},ko=class{},Zn=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>VP()}}return n})();function VP(){let n=Ce(),e=pt(),t=Fr(e.index,n);return(Ar(t)?t:n)[$e]}var jP=(()=>{class n{static{this.\u0275prov=$({token:n,providedIn:"root",factory:()=>null})}}return n})();function dl(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=hp(i,a);else if(o==2){let u=a,l=e[++s];r=hp(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var hl=class extends Oo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Mr(e);return new Fo(t,this.ngModule)}};function EE(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Rr.None;e?t.push({propName:s,templateName:r,isSignal:(a&Rr.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function UP(n){let e=n.toLowerCase();return e==="svg"?l0:e==="math"?cN:null}var Fo=class extends ll{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=EE(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return EE(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=BM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=ye(null);try{i=i||this.ngModule;let s=i instanceof Ct?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new bp(e,s):e,u=a.get(ko,null);if(u===null)throw new G(407,!1);let l=a.get(jP,null),h=a.get(Po,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",C=r?Gx(m,r,this.componentDef.encapsulation,a):nD(m,y,UP(y)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let R=null;C!==null&&(R=Cg(C,a,!0));let j=Og(0,null,null,1,0,null,null,null,null,null,null),W=Ol(null,j,null,M,null,null,p,m,a,null,R);pg(W);let U,re,Ie=null;try{let Y=this.componentDef,I,v=null;Y.findHostDirectiveDefs?(I=[],v=new Map,Y.findHostDirectiveDefs(Y,I,v),I.push(Y)):I=[Y];let _=BP(W,C);Ie=$P(_,C,Y,I,W,p,m),re=h0(j,En),C&&qP(m,Y,C,r),t!==void 0&&GP(re,this.ngContentSelectors,t),U=zP(Ie,Y,I,v,W,[WP]),Lg(j,W,null)}catch(Y){throw Ie!==null&&xp(Ie),xp(W),Y}finally{gg()}return new Bp(this.componentType,U,Ml(re,W),W,re)}finally{ye(o)}}},Bp=class extends jp{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Ei(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Fg(o[he],o,i,e,t),this.previousInputValues.set(e,t);let s=Fr(this._tNode.index,o);Vg(s,1)}}get injector(){return new yi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function BP(n,e){let t=n[he],r=En;return n[r]=e,ma(t,r,2,"#host",null)}function $P(n,e,t,r,i,o,s){let a=i[he];HP(r,n,e,s);let u=null;e!==null&&(u=Cg(e,i[Ao]));let l=o.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let p=Ol(i,mD(t),null,h,i[n.index],n,o,l,null,null,u);return a.firstCreatePass&&Fp(a,n,r.length-1),kl(i,p),i[n.index]=p}function HP(n,e,t,r){for(let i of n)e.mergedAttrs=ua(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(dl(e,e.mergedAttrs,!0),t!==null&&lD(r,t,e))}function zP(n,e,t,r,i,o){let s=pt(),a=i[he],u=Yt(s,i);vD(a,i,s,t,null,r);for(let h=0;h<t.length;h++){let p=s.directiveStart+h,m=xo(i,a,p,s);xr(m,i)}_D(a,i,s),u&&xr(u,i);let l=xo(i,a,s.directiveStart+s.componentOffset,s);if(n[un]=i[un]=l,o!==null)for(let h of o)h(l,e);return Ng(a,s,i),l}function qP(n,e,t,r){if(r)mp(n,t,["ng-version","18.2.14"]);else{let{attrs:i,classes:o}=$M(e.selectors[0]);i&&mp(n,t,i),o&&o.length>0&&uD(n,t,o.join(" "))}}function GP(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function WP(){let n=pt();Rl(Ce()[he],n)}var Uo=(()=>{class n{static{this.__NG_ELEMENT_ID__=KP}}return n})();function KP(){let n=pt();return YP(n,Ce())}var QP=Uo,PD=class extends QP{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ml(this._hostTNode,this._hostLView)}get injector(){return new yi(this._hostTNode,this._hostLView)}get parentInjector(){let e=yg(this._hostTNode,this._hostLView);if(N0(e)){let t=rl(e,this._hostLView),r=nl(e),i=t[he].data[r+8];return new yi(i,t)}else return new yi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=DE(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Wt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=IE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,wE(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!iN(e),a;if(s)a=t;else{let C=t||{};a=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let u=s?e:new Fo(Mr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let M=(s?l:this.parentInjector).get(Ct,null);M&&(o=M)}let h=Mr(u.componentType??{}),p=IE(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,wE(this._hostTNode,p)),y}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(lN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Tt],l=new PD(u,u[dn],u[Tt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return _P(s,i,o,r),e.attachToViewContainerRef(),BE(sp(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=DE(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Op(this._lContainer,t);r&&(Qu(sp(this._lContainer),t),oD(r[he],r))}detach(e){let t=this._adjustIndex(e,-1),r=Op(this._lContainer,t);return r&&Qu(sp(this._lContainer),t)!=null?new Ei(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function DE(n){return n[Xu]}function sp(n){return n[Xu]||(n[Xu]=[])}function YP(n,e){let t,r=e[n.index];return Jn(r)?t=r:(t=wD(r,e,null,n),e[n.index]=t,kl(e,t)),ZP(t,e,n,r),new PD(t,n,e)}function JP(n,e){let t=n[$e],r=t.createComment(""),i=Yt(e,n),o=aD(t,i);return cl(t,o,r,Ox(t,i),!1),r}var ZP=tO,XP=()=>!1;function eO(n,e,t){return XP(n,e,t)}function tO(n,e,t,r){if(n[vi])return;let i;t.type&8?i=Dn(r):i=JP(e,t),n[vi]=i}var bE=new Set;function Ci(n){bE.has(n)||(bE.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function nO(n){return typeof n=="function"&&n[Bn]!==void 0}function ya(n,e){Ci("NgSignals");let t=II(n),r=t[Bn];return e?.equal&&(r.equal=e.equal),t.set=i=>Nf(r,i),t.update=i=>EI(r,i),t.asReadonly=rO.bind(t),t}function rO(){let n=this[Bn];if(n.readonlyFn===void 0){let e=()=>this();e[Bn]=n,n.readonlyFn=e}return n.readonlyFn}function OD(n){return nO(n)&&typeof n.set=="function"}function iO(n){return Object.getPrototypeOf(n.prototype).constructor}function Vt(n){let e=iO(n.type),t=!0,r=[n];for(;e;){let i;if(Nr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new G(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=ju(n.inputs),s.inputTransforms=ju(n.inputTransforms),s.declaredInputs=ju(n.declaredInputs),s.outputs=ju(n.outputs);let a=i.hostBindings;a&&uO(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&aO(n,u),l&&cO(n,l),oO(n,i),lM(n.outputs,i.outputs),Nr(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Vt&&(t=!1)}}e=Object.getPrototypeOf(e)}sO(r)}function oO(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function sO(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ua(i.hostAttrs,t=ua(t,i.hostAttrs))}}function ju(n){return n===Co?{}:n===xt?[]:n}function aO(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function cO(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function uO(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function jg(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var Pr=class{},ha=class{};var $p=class extends Pr{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hl(this);let o=YE(e);this._bootstrapComponents=tD(o.bootstrap),this._r3Injector=U0(e,t,[{provide:Pr,useValue:this},{provide:Oo,useValue:this.componentFactoryResolver},...r],bt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Hp=class extends ha{constructor(e){super(),this.moduleType=e}create(e){return new $p(this.moduleType,e,[])}};var fl=class extends Pr{constructor(e){super(),this.componentFactoryResolver=new hl(this),this.instance=null;let t=new la([...e.providers,{provide:Pr,useValue:this},{provide:Oo,useValue:this.componentFactoryResolver}],e.parent||ug(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Vl(n,e,t=null){return new fl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function kD(n){return dO(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function lO(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function dO(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Or(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function hO(n,e,t,r){let i=Or(n,e,t);return Or(n,e+1,r)||i}function fO(n){return(n.flags&32)===32}function pO(n,e,t,r,i,o,s,a,u){let l=e.consts,h=ma(e,n,4,s||null,a||null);kg(e,t,h,No(l,u)),Rl(e,h);let p=h.tView=Og(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function gO(n,e,t,r,i,o,s,a,u,l){let h=t+En,p=e.firstCreatePass?pO(h,e,n,r,i,o,s,a,u):e.data[h];bi(p,!1);let m=mO(e,n,p,t);Sl()&&xl(e,n,m,p),xr(m,n);let y=wD(m,n,m,p);return n[h]=y,kl(n,y),eO(y,p,n),Dl(p)&&xg(e,n,p),u!=null&&Pg(n,p,l),p}function Pt(n,e,t,r,i,o,s,a){let u=Ce(),l=ft(),h=No(l.consts,o);return gO(u,l,n,e,t,r,i,h,s,a),Pt}var mO=yO;function yO(n,e,t,r){return Al(!0),e[$e].createComment("")}var wo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(wo||{}),FD=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}}return n})(),zp=class n{constructor(){this.ngZone=O(Ee),this.scheduler=O(Po),this.errorHandler=O(qn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[wo.EarlyRead,wo.Write,wo.MixedReadWrite,wo.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}},qp=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Ug(n,e){!e?.injector&&rN(Ug);let t=e?.injector??O(St);return Ix(t)?(Ci("NgAfterNextRender"),_O(n,t,e,!0)):wO}function vO(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function _O(n,e,t,r){let i=e.get(FD);i.impl??=e.get(zp);let o=t?.phase??wo.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(_g):null,a=new qp(i.impl,vO(n,o),r,s);return i.impl.register(a),a}var wO={destroy(){}};function jr(n,e,t,r){let i=Ce(),o=Tl();if(Or(i,o,e)){let s=ft(),a=mg();uP(a,i,n,e,t,r)}return jr}function IO(n,e,t,r){return Or(n,Tl(),t)?e+Do(t)+r:Tn}function EO(n,e,t,r,i,o){let s=IN(),a=hO(n,s,t,i);return fg(2),a?e+Do(t)+r+Do(i)+o:Tn}function Uu(n,e){return n<<17|e<<2}function Di(n){return n>>17&32767}function DO(n){return(n&2)==2}function bO(n,e){return n&131071|e<<17}function Gp(n){return n|2}function Lo(n){return(n&131068)>>2}function ap(n,e){return n&-131069|e<<2}function CO(n){return(n&1)===1}function Wp(n){return n|1}function TO(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Di(s),u=Lo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||ga(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=Di(n[a+1]);n[r+1]=Uu(m,a),m!==0&&(n[m+1]=ap(n[m+1],r)),n[a+1]=bO(n[a+1],r)}else n[r+1]=Uu(a,0),a!==0&&(n[a+1]=ap(n[a+1],r)),a=r;else n[r+1]=Uu(u,0),a===0?a=r:n[u+1]=ap(n[u+1],r),u=r;l&&(n[r+1]=Gp(n[r+1])),CE(n,h,r,!0),CE(n,h,r,!1),SO(e,h,n,r,o),s=Uu(a,u),o?e.classBindings=s:e.styleBindings=s}function SO(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&ga(o,e)>=0&&(t[r+1]=Wp(t[r+1]))}function CE(n,e,t,r){let i=n[t+1],o=e===null,s=r?Di(i):Lo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];AO(u,e)&&(a=!0,n[s+1]=r?Wp(l):Gp(l)),s=r?Di(l):Lo(l)}a&&(n[t+1]=r?Gp(i):Wp(i))}function AO(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ga(n,e)>=0:!1}var an={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function RO(n){return n.substring(an.key,an.keyEnd)}function MO(n){return NO(n),LD(n,VD(n,0,an.textEnd))}function LD(n,e){let t=an.textEnd;return t===e?-1:(e=an.keyEnd=xO(n,an.key=e,t),VD(n,e,t))}function NO(n){an.key=0,an.keyEnd=0,an.value=0,an.valueEnd=0,an.textEnd=n.length}function VD(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function xO(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Je(n,e,t){let r=Ce(),i=Tl();if(Or(r,i,e)){let o=ft(),s=mg();yD(o,s,r,n,e,r[$e],t,!1)}return Je}function Kp(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Fg(n,t,o[s],s,r)}function Bo(n,e){return OO(n,e,null,!0),Bo}function jD(n){kO(BO,PO,n,!0)}function PO(n,e){for(let t=MO(e);t>=0;t=LD(e,t))sg(n,RO(e),!0)}function OO(n,e,t,r){let i=Ce(),o=ft(),s=fg(2);if(o.firstUpdatePass&&BD(o,n,s,r),e!==Tn&&Or(i,s,e)){let a=o.data[Lr()];$D(o,a,i,i[$e],n,i[s+1]=HO(e,t),r,s)}}function kO(n,e,t,r){let i=ft(),o=fg(2);i.firstUpdatePass&&BD(i,null,o,r);let s=Ce();if(t!==Tn&&Or(s,o,t)){let a=i.data[Lr()];if(HD(a,r)&&!UD(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(t=hp(u,t||"")),Kp(i,a,s,t,r)}else $O(i,a,s,s[$e],s[o+1],s[o+1]=UO(n,e,t),r,o)}}function UD(n,e){return e>=n.expandoStartIndex}function BD(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Lr()],s=UD(n,t);HD(o,r)&&e===null&&!s&&(e=!1),e=FO(i,o,e,r),TO(i,o,e,t,s,r)}}function FO(n,e,t,r){let i=TN(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=cp(null,n,e,t,r),t=fa(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=cp(i,n,e,t,r),o===null){let u=LO(n,e,r);u!==void 0&&Array.isArray(u)&&(u=cp(null,n,e,u[1],r),u=fa(u,e.attrs,r),VO(n,e,r,u))}else o=jO(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function LO(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Lo(r)!==0)return n[Di(r)]}function VO(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Di(i)]=r}function jO(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=fa(r,s,t)}return fa(r,e.attrs,t)}function cp(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=fa(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function fa(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),sg(n,s,t?!0:e[++o]))}return n===void 0?null:n}function UO(n,e,t){if(t==null||t==="")return xt;let r=[],i=jo(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function BO(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&sg(n,r,t)}function $O(n,e,t,r,i,o,s,a){i===Tn&&(i=xt);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let m=u<i.length?i[u+1]:void 0,y=l<o.length?o[l+1]:void 0,C=null,M;h===p?(u+=2,l+=2,m!==y&&(C=p,M=y)):p===null||h!==null&&h<p?(u+=2,C=h):(l+=2,C=p,M=y),C!==null&&$D(n,e,t,r,C,M,s,a),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function $D(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=CO(l)?TE(u,e,t,i,Lo(l),s):void 0;if(!pl(h)){pl(o)||DO(l)&&(o=TE(u,null,t,i,a,s));let p=d0(Lr(),t);Bx(r,s,p,i,o)}}function TE(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===Tn&&(m=p?xt:void 0);let y=p?Zf(m,r):h===r?m:void 0;if(l&&!pl(y)&&(y=Zf(u,r)),pl(y)&&(a=y,s))return a;let C=n[i+1];i=s?Di(C):Lo(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Zf(u,r))}return a}function pl(n){return n!==void 0}function HO(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=bt(jo(n)))),n}function HD(n,e){return(n.flags&(e?8:16))!==0}function zO(n,e,t,r,i,o){let s=e.consts,a=No(s,i),u=ma(e,n,2,r,a);return kg(e,t,u,No(s,o)),u.attrs!==null&&dl(u,u.attrs,!1),u.mergedAttrs!==null&&dl(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function N(n,e,t,r){let i=Ce(),o=ft(),s=En+n,a=i[$e],u=o.firstCreatePass?zO(s,o,i,e,t,r):o.data[s],l=qO(o,i,u,a,e,n);i[s]=l;let h=Dl(u);return bi(u,!0),lD(a,l,u),!fO(u)&&Sl()&&xl(o,i,l,u),fN()===0&&xr(l,i),pN(),h&&(xg(o,i,u),Ng(o,u,i)),r!==null&&Pg(i,u),N}function x(){let n=pt();hg()?_0():(n=n.parent,bi(n,!1));let e=n;yN(e)&&vN(),gN();let t=ft();return t.firstCreatePass&&(Rl(t,n),lg(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&ON(e)&&Kp(t,e,Ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&kN(e)&&Kp(t,e,Ce(),e.stylesWithoutHost,!1),x}function st(n,e,t,r){return N(n,e,t,r),x(),st}var qO=(n,e,t,r,i,o)=>(Al(!0),nD(r,i,MN()));function GO(n,e,t,r,i){let o=e.consts,s=No(o,r),a=ma(e,n,8,"ng-container",s);s!==null&&dl(a,s,!0);let u=No(o,i);return kg(e,t,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function jl(n,e,t){let r=Ce(),i=ft(),o=n+En,s=i.firstCreatePass?GO(o,i,r,e,t):i.data[o];bi(s,!0);let a=WO(i,r,s,n);return r[o]=a,Sl()&&xl(i,r,a,s),xr(a,r),Dl(s)&&(xg(i,r,s),Ng(i,s,r)),t!=null&&Pg(r,s),jl}function Ul(){let n=pt(),e=ft();return hg()?_0():(n=n.parent,bi(n,!1)),e.firstCreatePass&&(Rl(e,n),lg(n)&&e.queries.elementEnd(n)),Ul}var WO=(n,e,t,r)=>(Al(!0),Cx(e[$e],""));function hn(){return Ce()}var gl="en-US";var KO=gl;function QO(n){typeof n=="string"&&(KO=n.toLowerCase().replace(/_/g,"-"))}var YO=(n,e,t)=>{};function Ae(n,e,t,r){let i=Ce(),o=ft(),s=pt();return zD(o,i,i[$e],s,n,e,r),Ae}function JO(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Zu],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function zD(n,e,t,r,i,o,s){let a=Dl(r),l=n.firstCreatePass&&pP(n),h=e[un],p=fP(e),m=!0;if(r.type&3||s){let M=Yt(r,e),R=s?s(M):M,j=p.length,W=s?re=>s(Dn(re[r.index])):r.index,U=null;if(!s&&a&&(U=JO(n,e,i,r.index)),U!==null){let re=U.__ngLastListenerFn__||U;re.__ngNextListenerFn__=o,U.__ngLastListenerFn__=o,m=!1}else{o=AE(r,e,h,o),YO(M,i,o);let re=t.listen(R,i,o);p.push(o,re),l&&l.push(i,W,j,j+1)}}else o=AE(r,e,h,o);let y=r.outputs,C;if(m&&y!==null&&(C=y[i])){let M=C.length;if(M)for(let R=0;R<M;R+=2){let j=C[R],W=C[R+1],Ie=e[j][W].subscribe(o),Y=p.length;p.push(o,Ie),l&&l.push(i,r.index,Y,-(Y+1))}}}function SE(n,e,t,r){let i=ye(null);try{return yn(6,e,t),t(r)!==!1}catch(o){return ED(n,o),!1}finally{yn(7,e,t),ye(i)}}function AE(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?Fr(n.index,e):e;Vg(s,5);let a=SE(e,t,r,o),u=i.__ngNextListenerFn__;for(;u;)a=SE(e,t,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function gt(n=1){return AN(n)}function Ti(n){let e=wN();return uN(e,En+n)}function F(n,e=""){let t=Ce(),r=ft(),i=n+En,o=r.firstCreatePass?ma(r,i,1,e,null):r.data[i],s=ZO(r,t,o,e,n);t[i]=s,Sl()&&xl(r,t,s,o),bi(o,!1)}var ZO=(n,e,t,r,i)=>(Al(!0),Dx(e[$e],r));function $o(n){return Sn("",n,""),$o}function Sn(n,e,t){let r=Ce(),i=IO(r,n,e,t);return i!==Tn&&DD(r,Lr(),i),Sn}function Bg(n,e,t,r,i){let o=Ce(),s=EO(o,n,e,t,r,i);return s!==Tn&&DD(o,Lr(),s),Bg}function et(n,e,t){OD(e)&&(e=e());let r=Ce(),i=Tl();if(Or(r,i,e)){let o=ft(),s=mg();yD(o,s,r,n,e,r[$e],t,!1)}return et}function at(n,e){let t=OD(n);return t&&n.set(e),t}function tt(n,e){let t=Ce(),r=ft(),i=pt();return zD(r,t,t[$e],i,n,e),tt}function XO(n,e,t){let r=ft();if(r.firstCreatePass){let i=Nr(n);Qp(t,r.data,r.blueprint,i,!0),Qp(e,r.data,r.blueprint,i,!1)}}function Qp(n,e,t,r,i){if(n=Dt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Qp(n[o],e,t,r,i);else{let o=ft(),s=Ce(),a=pt(),u=So(n)?n:Dt(n.provide),l=n0(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(So(n)||!n.multi){let y=new Ii(l,i,Q),C=lp(u,e,i?h:h+m,p);C===-1?(Tp(il(a,s),o,u),up(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[C]=y,s[C]=y)}else{let y=lp(u,e,h+m,p),C=lp(u,e,h,h+m),M=y>=0&&t[y],R=C>=0&&t[C];if(i&&!R||!i&&!M){Tp(il(a,s),o,u);let j=nk(i?tk:ek,t.length,i,r,l);!i&&R&&(t[C].providerFactory=j),up(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(j),s.push(j)}else{let j=qD(t[i?C:y],l,!i&&r);up(o,n,y>-1?y:C,j)}!i&&r&&R&&t[C].componentProviders++}}}function up(n,e,t,r){let i=So(e),o=YM(e);if(i||o){let u=(o?Dt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function qD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function lp(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function ek(n,e,t,r){return Yp(this.multi,[])}function tk(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=xo(t,t[he],this.providerFactory.index,r);o=a.slice(0,s),Yp(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Yp(i,o);return o}function Yp(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function nk(n,e,t,r,i){let o=new Ii(n,t,Q);return o.multi=[],o.index=e,o.componentProviders=0,qD(o,i,r&&!t),o}function Xn(n,e=[]){return t=>{t.providersResolver=(r,i)=>XO(r,i?i(n):n,e)}}var rk=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=XE(!1,t.type),i=r.length>0?Vl([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=$({token:n,providedIn:"environment",factory:()=>new n(q(Ct))})}}return n})();function je(n){Ci("NgStandalone"),n.getStandaloneInjector=e=>e.get(rk).getOrCreateStandaloneInjector(n)}function va(n,e){return MD(n,e)}var Wn=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},GD=new Wn("18.2.14");var Bl=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var WD=new H("");function Si(n){return!!n&&typeof n.then=="function"}function KD(n){return!!n&&typeof n.subscribe=="function"}var $l=new H(""),QD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=O($l,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(Si(o))t.push(o);else if(KD(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_a=new H("");function ik(){wI(()=>{throw new G(600,!1)})}function ok(n){return n.isBoundToModule}var sk=10;function ak(n,e,t){try{let r=t();return Si(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Ur=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(tx),this.afterRenderManager=O(FD),this.zonelessEnabled=O(Ll),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Xe,this.afterTick=new Xe,this.componentTypes=[],this.components=[],this.isStable=O(Vr).hasPendingTasks.pipe(X(t=>!t)),this._injector=O(Ct)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof ll;if(!this._injector.get(QD).done){let m=!i&&QE(t),y=!1;throw new G(405,y)}let s;i?s=t:s=this._injector.get(Oo).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=ok(s)?void 0:this._injector.get(Pr),u=r||s.selector,l=s.create(St.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(WD,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),qu(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new G(101,!1);let t=ye(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ye(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(ko,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<sk;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)ck(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>bl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;qu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(_a,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>qu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new G(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function qu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function ck(n,e,t,r){if(!t&&!bl(n))return;TD(n,e,t&&!r?0:1)}var Jp=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Hl=(()=>{class n{compileModuleSync(t){return new Hp(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=YE(t),o=tD(i.declarations).reduce((s,a)=>{let u=Mr(a);return u&&s.push(new Fo(u)),s},[]);return new Jp(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var uk=(()=>{class n{constructor(){this.zone=O(Ee),this.changeDetectionScheduler=O(Po),this.applicationRef=O(Ur)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lk=new H("",{factory:()=>!1});function YD({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ee(ue(L({},ZD()),{scheduleInRootZone:t})),[{provide:Ee,useFactory:n},{provide:To,multi:!0,useFactory:()=>{let r=O(uk,{optional:!0});return()=>r.initialize()}},{provide:To,multi:!0,useFactory:()=>{let r=O(dk);return()=>{r.initialize()}}},e===!0?{provide:ND,useValue:!0}:[],{provide:xD,useValue:t??B0}]}function JD(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=YD({ngZoneFactory:()=>{let i=ZD(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Ci("NgZone_CoalesceEvent"),new Ee(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return bn([{provide:lk,useValue:!0},{provide:Ll,useValue:!1},r])}function ZD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var dk=(()=>{class n{constructor(){this.subscription=new Re,this.initialized=!1,this.zone=O(Ee),this.pendingTasks=O(Vr)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var hk=(()=>{class n{constructor(){this.appRef=O(Ur),this.taskService=O(Vr),this.ngZone=O(Ee),this.zonelessEnabled=O(Ll),this.disableScheduling=O(ND,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Re,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(sl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(xD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Np||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?dE:$0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(sl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,dE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function fk(){return typeof $localize<"u"&&$localize.locale||gl}var $g=new H("",{providedIn:"root",factory:()=>O($g,ce.Optional|ce.SkipSelf)||fk()});var Zp=new H("");function Bu(n){return!n.moduleRef}function pk(n){let e=Bu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ee);return t.run(()=>{Bu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(qn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Bu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Zp);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Zp);s.add(o),n.moduleRef.onDestroy(()=>{qu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return ak(r,t,()=>{let o=e.get(QD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get($g,gl);if(QO(s||gl),Bu(n)){let a=e.get(Ur);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return gk(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function gk(n,e){let t=n.injector.get(Ur);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new G(-403,!1);e.push(n)}var Gu=null,XD=new H("");function mk(n=[],e){return St.create({name:e,providers:[{provide:wl,useValue:"platform"},{provide:Zp,useValue:new Set([()=>Gu=null])},...n]})}function yk(n=[]){if(Gu)return Gu;let e=mk(n);return e.get(XD,!1)||(Gu=e),ik(),vk(e),e}function vk(n){n.get(Dg,null)?.forEach(t=>t())}var Ai=(()=>{class n{static{this.__NG_ELEMENT_ID__=_k}}return n})();function _k(n){return wk(pt(),Ce(),(n&16)===16)}function wk(n,e,t){if(El(n)&&!t){let r=Fr(n.index,e);return new Ei(r,r)}else if(n.type&175){let r=e[In];return new Ei(r,e)}return null}var Xp=class{constructor(){}supports(e){return kD(e)}create(e){return new eg(e)}},Ik=(n,e)=>e,eg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ik}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<RE(r,i,o)?t:r,a=RE(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,C=y+m;h<=C&&C<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!kD(e))throw new G(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,lO(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new tg(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new ml),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ml),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},tg=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ng=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},ml=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new ng,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function RE(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function ME(){return new Hg([new Xp])}var Hg=(()=>{class n{static{this.\u0275prov=$({token:n,providedIn:"root",factory:ME})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||ME()),deps:[[n,new ig,new Kt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new G(901,!1)}}return n})();function eb(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;try{let o=i?.injector??yk(r);if(o.get(XD,!1)===!0&&!n.platformRef)throw new G(401,!1);let s=[YD({}),{provide:Po,useExisting:hk},...t||[]],a=new fl({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return pk({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}}function Br(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function wa(n,e){Ci("NgSignals");let t=yI(n);return e?.equal&&(t[Bn].equal=e.equal),t}function er(n){let e=ye(null);try{return n()}finally{ye(e)}}function tb(n){let e=Mr(n);if(!e)return null;let t=new Fo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var sb=null;function nr(){return sb}function ab(n){sb??=n}var zl=class{};var mt=new H(""),Kg=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>O(Dk),providedIn:"platform"})}}return n})(),cb=new H(""),Dk=(()=>{class n extends Kg{constructor(){super(),this._doc=O(mt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return nr().getBaseHref(this._doc)}onPopState(t){let r=nr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=nr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Qg(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function nb(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function tr(n){return n&&n[0]!=="?"?"?"+n:n}var rr=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>O(Yg),providedIn:"root"})}}return n})(),ub=new H(""),Yg=(()=>{class n extends rr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Qg(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+tr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+tr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+tr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(q(Kg),q(ub,8))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lb=(()=>{class n extends rr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Qg(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+tr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+tr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(q(Kg),q(ub,8))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),zo=(()=>{class n{constructor(t){this._subject=new Ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Tk(nb(rb(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+tr(r))}normalize(t){return n.stripTrailingSlash(Ck(this._basePath,rb(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=tr}static{this.joinWithSlash=Qg}static{this.stripTrailingSlash=nb}static{this.\u0275fac=function(r){return new(r||n)(q(rr))}}static{this.\u0275prov=$({token:n,factory:()=>bk(),providedIn:"root"})}}return n})();function bk(){return new zo(q(rr))}function Ck(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function rb(n){return n.replace(/\/index.html$/,"")}function Tk(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function ql(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var zg=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Gl=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new zg(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),ib(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);ib(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Q(Uo),Q(Fl),Q(Hg))}}static{this.\u0275dir=ke({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function ib(n,e){n.context.$implicit=e.item}var $r=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new qg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ob("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ob("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Q(Uo),Q(Fl))}}static{this.\u0275dir=ke({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),qg=class{constructor(){this.$implicit=null,this.ngIf=null}};function ob(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${bt(e)}'.`)}var ir=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qn({type:n})}static{this.\u0275inj=Kn({})}}return n})(),Jg="browser",Sk="server";function Ak(n){return n===Jg}function Wl(n){return n===Sk}var db=(()=>{class n{static{this.\u0275prov=$({token:n,providedIn:"root",factory:()=>Ak(O(Zt))?new Gg(O(mt),window):new Wg})}}return n})(),Gg=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=Rk(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function Rk(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Wg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ho=class{};var Ea=class{},Ql=class{},or=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Xg=class{encodeKey(e){return hb(e)}encodeValue(e){return hb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Mk(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var Nk=/%(\d[a-f0-9])/gi,xk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function hb(n){return encodeURIComponent(n).replace(Nk,(e,t)=>xk[t]??e)}function Kl(n){return`${n}`}var zr=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Xg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Mk(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Kl):[Kl(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Kl(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Kl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var em=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Pk(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function fb(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function pb(n){return typeof Blob<"u"&&n instanceof Blob}function gb(n){return typeof FormData<"u"&&n instanceof FormData}function Ok(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Ia=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(Pk(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new or,this.context??=new em,!this.params)this.params=new zr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||fb(this.body)||pb(this.body)||gb(this.body)||Ok(this.body)?this.body:this.body instanceof zr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||gb(this.body)?null:pb(this.body)?this.body.type||null:fb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof zr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},qr=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(qr||{}),Da=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new or,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Yl=class n extends Da{constructor(e={}){super(e),this.type=qr.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ba=class n extends Da{constructor(e={}){super(e),this.type=qr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Hr=class extends Da{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},_b=200,kk=204;function Zg(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Fk=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ia)o=t;else{let u;i.headers instanceof or?u=i.headers:u=new or(i.headers);let l;i.params&&(i.params instanceof zr?l=i.params:l=new zr({fromObject:i.params})),o=new Ia(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=J(o).pipe(Hn(u=>this.handler.handle(u)));if(t instanceof Ia||i.observe==="events")return s;let a=s.pipe(Mt(u=>u instanceof ba));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(X(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(X(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(X(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(X(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new zr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Zg(i,r))}post(t,r,i={}){return this.request("POST",t,Zg(i,r))}put(t,r,i={}){return this.request("PUT",t,Zg(i,r))}static{this.\u0275fac=function(r){return new(r||n)(q(Ea))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),Lk=/^\)\]\}',?\n/,Vk="X-Request-URL";function mb(n){if(n.url)return n.url;let e=Vk.toLocaleLowerCase();return n.headers.get(e)}var jk=(()=>{class n{constructor(){this.fetchImpl=O(tm,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=O(Ee)}handle(t){return new le(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(nm,o=>r.error(new Hr({error:o}))),()=>i.abort()})}doRequest(t,r,i){return S(this,null,function*(){let o=this.createRequestInit(t),s;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,L({signal:r},o)));Uk(y),i.next({type:qr.Sent}),s=yield y}catch(y){i.error(new Hr({error:y,status:y.status??0,statusText:y.statusText,url:t.urlWithParams,headers:y.headers}));return}let a=new or(s.headers),u=s.statusText,l=mb(s)??t.urlWithParams,h=s.status,p=null;if(t.reportProgress&&i.next(new Yl({headers:a,status:h,statusText:u,url:l})),s.body){let y=s.headers.get("content-length"),C=[],M=s.body.getReader(),R=0,j,W,U=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>S(this,null,function*(){for(;;){let{done:Ie,value:Y}=yield M.read();if(Ie)break;if(C.push(Y),R+=Y.length,t.reportProgress){W=t.responseType==="text"?(W??"")+(j??=new TextDecoder).decode(Y,{stream:!0}):void 0;let I=()=>i.next({type:qr.DownloadProgress,total:y?+y:void 0,loaded:R,partialText:W});U?U.run(I):I()}}}));let re=this.concatChunks(C,R);try{let Ie=s.headers.get("Content-Type")??"";p=this.parseBody(t,re,Ie)}catch(Ie){i.error(new Hr({error:Ie,headers:new or(s.headers),status:s.status,statusText:s.statusText,url:mb(s)??t.urlWithParams}));return}}h===0&&(h=p?_b:0),h>=200&&h<300?(i.next(new ba({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new Hr({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(Lk,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),tm=class{};function nm(){}function Uk(n){n.then(nm,nm)}function Bk(n,e){return e(n)}function $k(n,e,t){return(r,i)=>Qt(t,()=>e(r,o=>n(o,i)))}var wb=new H(""),Hk=new H(""),zk=new H("",{providedIn:"root",factory:()=>!0});var yb=(()=>{class n extends Ea{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=O(Vr),this.contributeToStability=O(zk)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(wb),...this.injector.get(Hk,[])]));this.chain=r.reduceRight((i,o)=>$k(i,o,this.injector),Bk)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(mi(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(q(Ql),q(Ct))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();var qk=/^\)\]\}',?\n/;function Gk(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var vb=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new G(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Pe(r.\u0275loadImpl()):J(null)).pipe(Nt(()=>new le(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((M,R)=>s.setRequestHeader(M,R.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let M=t.detectContentTypeHeader();M!==null&&s.setRequestHeader("Content-Type",M)}if(t.responseType){let M=t.responseType.toLowerCase();s.responseType=M!=="json"?M:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let M=s.statusText||"OK",R=new or(s.getAllResponseHeaders()),j=Gk(s)||t.url;return u=new Yl({headers:R,status:s.status,statusText:M,url:j}),u},h=()=>{let{headers:M,status:R,statusText:j,url:W}=l(),U=null;R!==kk&&(U=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=U?_b:0);let re=R>=200&&R<300;if(t.responseType==="json"&&typeof U=="string"){let Ie=U;U=U.replace(qk,"");try{U=U!==""?JSON.parse(U):null}catch(Y){U=Ie,re&&(re=!1,U={error:Y,text:U})}}re?(o.next(new ba({body:U,headers:M,status:R,statusText:j,url:W||void 0})),o.complete()):o.error(new Hr({error:U,headers:M,status:R,statusText:j,url:W||void 0}))},p=M=>{let{url:R}=l(),j=new Hr({error:M,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(j)},m=!1,y=M=>{m||(o.next(l()),m=!0);let R={type:qr.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(R.total=M.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},C=M=>{let R={type:qr.UploadProgress,loaded:M.loaded};M.lengthComputable&&(R.total=M.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",C)),s.send(a),o.next({type:qr.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",C)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(q(Ho))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),Ib=new H(""),Wk="XSRF-TOKEN",Kk=new H("",{providedIn:"root",factory:()=>Wk}),Qk="X-XSRF-TOKEN",Yk=new H("",{providedIn:"root",factory:()=>Qk}),Jl=class{},Jk=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ql(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(q(mt),q(Zt),q(Kk))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();function Zk(n,e){let t=n.url.toLowerCase();if(!O(Ib)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=O(Jl).getToken(),i=O(Yk);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function Eb(...n){let e=[Fk,vb,yb,{provide:Ea,useExisting:yb},{provide:Ql,useFactory:()=>O(jk,{optional:!0})??O(vb)},{provide:wb,useValue:Zk,multi:!0},{provide:Ib,useValue:!0},{provide:Jl,useClass:Jk}];for(let t of n)e.push(...t.\u0275providers);return bn(e)}var om=class extends zl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},sm=class n extends om{static makeCurrent(){ab(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Xk();return t==null?null:e1(t)}resetBaseElement(){Ca=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ql(document.cookie,e)}},Ca=null;function Xk(){return Ca=Ca||document.querySelector("base"),Ca?Ca.getAttribute("href"):null}function e1(n){return new URL(n,document.baseURI).pathname}var t1=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),am=new H(""),Tb=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new G(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(q(am),q(Ee))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),Zl=class{constructor(e){this._doc=e}},rm="ng-app-id",Sb=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Wl(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${rm}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(rm),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(rm,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(q(mt),q(Eg),q(bg,8),q(Zt))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),im={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},um=/%COMP%/g,Ab="%COMP%",n1=`_nghost-${Ab}`,r1=`_ngcontent-${Ab}`,i1=!0,o1=new H("",{providedIn:"root",factory:()=>i1});function s1(n){return r1.replace(um,n)}function a1(n){return n1.replace(um,n)}function Rb(n,e){return e.map(t=>t.replace(um,n))}var Db=(()=>{class n{constructor(t,r,i,o,s,a,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Wl(a),this.defaultRenderer=new Ta(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===_n.ShadowDom&&(r=ue(L({},r),{encapsulation:_n.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Xl?i.applyToHost(t):i instanceof Sa&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case _n.Emulated:o=new Xl(u,l,r,this.appId,h,s,a,p);break;case _n.ShadowDom:return new cm(u,l,t,r,s,a,this.nonce,p);default:o=new Sa(u,l,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(q(Tb),q(Sb),q(Eg),q(o1),q(mt),q(Zt),q(Ee),q(bg))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),Ta=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(im[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(bb(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(bb(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new G(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=im[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=im[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Gn.DashCase|Gn.Important)?e.style.setProperty(t,r,i&Gn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Gn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=nr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function bb(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var cm=class extends Ta{constructor(e,t,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Rb(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Sa=class extends Ta{constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?Rb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Xl=class extends Sa{constructor(e,t,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,t,r,o,s,a,u,l),this.contentAttr=s1(l),this.hostAttr=a1(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},c1=(()=>{class n extends Zl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(q(mt))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),Cb=["alt","control","meta","shift"],u1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},l1={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},d1=(()=>{class n extends Zl{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Cb.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=u1[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Cb.forEach(s=>{if(s!==i){let a=l1[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(q(mt))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();function Mb(n,e,t){return eb(L({rootComponent:n,platformRef:t?.platformRef},h1(e)))}function h1(n){return{appProviders:[...y1,...n?.providers??[]],platformProviders:m1}}function f1(){sm.makeCurrent()}function p1(){return new qn}function g1(){return Q0(document),document}var m1=[{provide:Zt,useValue:Jg},{provide:Dg,useValue:f1,multi:!0},{provide:mt,useFactory:g1,deps:[]}];var y1=[{provide:wl,useValue:"root"},{provide:qn,useFactory:p1,deps:[]},{provide:am,useClass:c1,multi:!0,deps:[mt,Ee,Zt]},{provide:am,useClass:d1,multi:!0,deps:[mt]},Db,Sb,Tb,{provide:ko,useExisting:Db},{provide:Ho,useClass:t1,deps:[]},[]];var Nb=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(q(mt))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var se="primary",$a=Symbol("RouteTitle"),pm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Jo(n){return new pm(n)}function _1(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function w1(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!An(n[t],e[t]))return!1;return!0}function An(n,e){let t=n?gm(n):void 0,r=e?gm(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!$b(n[i],e[i]))return!1;return!0}function gm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function $b(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function Hb(n){return n.length>0?n[n.length-1]:null}function Kr(n){return qf(n)?n:Si(n)?Pe(Promise.resolve(n)):J(n)}var I1={exact:qb,subset:Gb},zb={exact:E1,subset:D1,ignored:()=>!0};function xb(n,e,t){return I1[t.paths](n.root,e.root,t.matrixParams)&&zb[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function E1(n,e){return An(n,e)}function qb(n,e,t){if(!Mi(n.segments,e.segments)||!nd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!qb(n.children[r],e.children[r],t))return!1;return!0}function D1(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>$b(n[t],e[t]))}function Gb(n,e,t){return Wb(n,e,e.segments,t)}function Wb(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Mi(i,t)||e.hasChildren()||!nd(i,t,r))}else if(n.segments.length===t.length){if(!Mi(n.segments,t)||!nd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Gb(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Mi(n.segments,i)||!nd(n.segments,i,r)||!n.children[se]?!1:Wb(n.children[se],e,o,r)}}function nd(n,e,t){return e.every((r,i)=>zb[t](n[i].parameters,r.parameters))}var ar=class{constructor(e=new De([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Jo(this.queryParams),this._queryParamMap}toString(){return T1.serialize(this)}},De=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rd(this)}},Ri=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Jo(this.parameters),this._parameterMap}toString(){return Qb(this)}};function b1(n,e){return Mi(n,e)&&n.every((t,r)=>An(t.parameters,e[r].parameters))}function Mi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function C1(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===se&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==se&&(t=t.concat(e(i,r)))}),t}var Ha=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>new Zo,providedIn:"root"})}}return n})(),Zo=class{parse(e){let t=new ym(e);return new ar(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Aa(e.root,!0)}`,r=R1(e.queryParams),i=typeof e.fragment=="string"?`#${S1(e.fragment)}`:"";return`${t}${r}${i}`}},T1=new Zo;function rd(n){return n.segments.map(e=>Qb(e)).join("/")}function Aa(n,e){if(!n.hasChildren())return rd(n);if(e){let t=n.children[se]?Aa(n.children[se],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==se&&r.push(`${i}:${Aa(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=C1(n,(r,i)=>i===se?[Aa(n.children[se],!1)]:[`${i}:${Aa(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[se]!=null?`${rd(n)}/${t[0]}`:`${rd(n)}/(${t.join("//")})`}}function Kb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ed(n){return Kb(n).replace(/%3B/gi,";")}function S1(n){return encodeURI(n)}function mm(n){return Kb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function id(n){return decodeURIComponent(n)}function Pb(n){return id(n.replace(/\+/g,"%20"))}function Qb(n){return`${mm(n.path)}${A1(n.parameters)}`}function A1(n){return Object.entries(n).map(([e,t])=>`;${mm(e)}=${mm(t)}`).join("")}function R1(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${ed(t)}=${ed(i)}`).join("&"):`${ed(t)}=${ed(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var M1=/^[^\/()?;#]+/;function lm(n){let e=n.match(M1);return e?e[0]:""}var N1=/^[^\/()?;=#]+/;function x1(n){let e=n.match(N1);return e?e[0]:""}var P1=/^[^=?&#]+/;function O1(n){let e=n.match(P1);return e?e[0]:""}var k1=/^[^&#]+/;function F1(n){let e=n.match(k1);return e?e[0]:""}var ym=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[se]=new De(e,t)),r}parseSegment(){let e=lm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new G(4009,!1);return this.capture(e),new Ri(id(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=x1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=lm(this.remaining);i&&(r=i,this.capture(r))}e[id(t)]=id(r)}parseQueryParam(e){let t=O1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=F1(this.remaining);s&&(r=s,this.capture(r))}let i=Pb(t),o=Pb(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=lm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new G(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=se);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[se]:new De([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new G(4011,!1)}};function Yb(n){return n.segments.length>0?new De([],{[se]:n}):n}function Jb(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=Jb(i);if(r===se&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new De(n.segments,e);return L1(t)}function L1(n){if(n.numberOfChildren===1&&n.children[se]){let e=n.children[se];return new De(n.segments.concat(e.segments),e.children)}return n}function Ni(n){return n instanceof ar}function V1(n,e,t=null,r=null){let i=Zb(n);return Xb(i,e,t,r)}function Zb(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new De(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=Yb(r);return e??i}function Xb(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return dm(i,i,i,t,r);let o=j1(e);if(o.toRoot())return dm(i,i,new De([],{}),t,r);let s=U1(o,i,n),a=s.processChildren?Na(s.segmentGroup,s.index,o.commands):tC(s.segmentGroup,s.index,o.commands);return dm(i,s.segmentGroup,a,t,r)}function od(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Oa(n){return typeof n=="object"&&n!=null&&n.outlets}function dm(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=eC(n,e,t);let a=Yb(Jb(s));return new ar(a,o,i)}function eC(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=eC(o,e,t)}),new De(n.segments,r)}var sd=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&od(r[0]))throw new G(4003,!1);let i=r.find(Oa);if(i&&i!==Hb(r))throw new G(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function j1(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new sd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new sd(t,e,r)}var Ko=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function U1(n,e,t){if(n.isAbsolute)return new Ko(e,!0,0);if(!t)return new Ko(e,!1,NaN);if(t.parent===null)return new Ko(t,!0,0);let r=od(n.commands[0])?0:1,i=t.segments.length-1+r;return B1(t,i,n.numberOfDoubleDots)}function B1(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new G(4005,!1);i=r.segments.length}return new Ko(r,!1,i-o)}function $1(n){return Oa(n[0])?n[0].outlets:{[se]:n}}function tC(n,e,t){if(n??=new De([],{}),n.segments.length===0&&n.hasChildren())return Na(n,e,t);let r=H1(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new De(n.segments.slice(0,r.pathIndex),{});return o.children[se]=new De(n.segments.slice(r.pathIndex),n.children),Na(o,0,i)}else return r.match&&i.length===0?new De(n.segments,{}):r.match&&!n.hasChildren()?vm(n,e,t):r.match?Na(n,0,i):vm(n,e,t)}function Na(n,e,t){if(t.length===0)return new De(n.segments,{});{let r=$1(t),i={};if(Object.keys(r).some(o=>o!==se)&&n.children[se]&&n.numberOfChildren===1&&n.children[se].segments.length===0){let o=Na(n.children[se],e,t);return new De(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=tC(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new De(n.segments,i)}}function H1(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Oa(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!kb(u,l,s))return o;r+=2}else{if(!kb(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function vm(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Oa(o)){let u=z1(o.outlets);return new De(r,u)}if(i===0&&od(t[0])){let u=n.segments[e];r.push(new Ri(u.path,Ob(t[0]))),i++;continue}let s=Oa(o)?o.outlets[se]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&od(a)?(r.push(new Ri(s,Ob(a))),i+=2):(r.push(new Ri(s,{})),i++)}return new De(r,{})}function z1(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=vm(new De([],{}),0,r))}),e}function Ob(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function kb(n,e,t){return n==t.path&&An(e,t.parameters)}var xa="imperative",nt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(nt||{}),Xt=class{constructor(e,t){this.id=e,this.url=t}},Xo=class extends Xt{constructor(e,t,r="imperative",i=null){super(e,t),this.type=nt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Rn=class extends Xt{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=nt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ut=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ut||{}),ad=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(ad||{}),sr=class extends Xt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=nt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Gr=class extends Xt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=nt.NavigationSkipped}},ka=class extends Xt{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=nt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},cd=class extends Xt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=nt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_m=class extends Xt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=nt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wm=class extends Xt{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=nt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Im=class extends Xt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=nt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Em=class extends Xt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=nt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dm=class{constructor(e){this.route=e,this.type=nt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},bm=class{constructor(e){this.route=e,this.type=nt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Cm=class{constructor(e){this.snapshot=e,this.type=nt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tm=class{constructor(e){this.snapshot=e,this.type=nt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sm=class{constructor(e){this.snapshot=e,this.type=nt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Am=class{constructor(e){this.snapshot=e,this.type=nt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ud=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=nt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Fa=class{},es=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function q1(n,e){return n.providers&&!n._injector&&(n._injector=Vl(n.providers,e,`Route: ${n.path}`)),n._injector??e}function fn(n){return n.outlet||se}function G1(n,e){let t=n.filter(r=>fn(r)===e);return t.push(...n.filter(r=>fn(r)!==e)),t}function za(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Rm=class{get injector(){return za(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new qa(this.rootInjector),this.attachRef=null}},qa=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Rm(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(q(Ct))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ld=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Mm(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Mm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Nm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Nm(e,this._root).map(t=>t.value)}};function Mm(n,e){if(n===e.value)return e;for(let t of e.children){let r=Mm(n,t);if(r)return r}return null}function Nm(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Nm(n,t);if(r.length)return r.unshift(e),r}return[]}var jt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Wo(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var dd=class extends ld{constructor(e,t){super(e),this.snapshot=t,Um(this,e)}toString(){return this.snapshot.toString()}};function nC(n){let e=W1(n),t=new Be([new Ri("",{})]),r=new Be({}),i=new Be({}),o=new Be({}),s=new Be(""),a=new Wr(t,r,o,s,i,se,n,e.root);return a.snapshot=e.root,new dd(new jt(a,[]),e)}function W1(n){let e={},t={},r={},i="",o=new Qo([],e,r,i,t,se,n,null,{});return new fd("",new jt(o,[]))}var Wr=class{constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(X(l=>l[$a]))??J(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>Jo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>Jo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function hd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&iC(i)&&(r.resolve[$a]=i.title),r}var Qo=class{get title(){return this.data?.[$a]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Jo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Jo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},fd=class extends ld{constructor(e,t){super(t),this.url=e,Um(this,t)}toString(){return rC(this._root)}};function Um(n,e){e.value._routerState=n,e.children.forEach(t=>Um(n,t))}function rC(n){let e=n.children.length>0?` { ${n.children.map(rC).join(", ")} } `:"";return`${n.value}${e}`}function hm(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,An(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),An(e.params,t.params)||n.paramsSubject.next(t.params),w1(e.url,t.url)||n.urlSubject.next(t.url),An(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function xm(n,e){let t=An(n.params,e.params)&&b1(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||xm(n.parent,e.parent))}function iC(n){return typeof n.title=="string"||n.title===null}var Bm=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new Ge,this.deactivateEvents=new Ge,this.attachEvents=new Ge,this.detachEvents=new Ge,this.parentContexts=O(qa),this.location=O(Uo),this.changeDetector=O(Ai),this.inputBinder=O(yd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new G(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new G(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new G(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new G(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Pm(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ke({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[kr]})}}return n})(),Pm=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Wr?this.route:e===qa?this.childContexts:this.parent.get(e,t)}},yd=new H(""),Fb=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=oa([r.queryParams,r.params,r.data]).pipe(Nt(([o,s,a],u)=>(a=L(L(L({},o),s),a),u===0?J(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=tb(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();function K1(n,e,t){let r=La(n,e._root,t?t._root:void 0);return new dd(r,e)}function La(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Q1(n,e,t);return new jt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>La(n,a)),s}}let r=Y1(e.value),i=e.children.map(o=>La(n,o));return new jt(r,i)}}function Q1(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return La(n,r,i);return La(n,r)})}function Y1(n){return new Wr(new Be(n.url),new Be(n.params),new Be(n.queryParams),new Be(n.fragment),new Be(n.data),n.outlet,n.component,n)}var Va=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},oC="ngNavigationCancelingError";function pd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ni(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=sC(!1,Ut.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function sC(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[oC]=!0,t.cancellationCode=e,t}function J1(n){return aC(n)&&Ni(n.url)}function aC(n){return!!n&&n[oC]}var Z1=(n,e,t,r)=>X(i=>(new Om(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Om=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),hm(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Wo(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Wo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Wo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Wo(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Am(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Tm(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(hm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),hm(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},gd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Yo=class{constructor(e,t){this.component=e,this.route=t}};function X1(n,e,t){let r=n._root,i=e?e._root:null;return Ra(r,i,t,[r.value])}function eF(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ns(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!OE(n)?n:e.get(n):r}function Ra(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Wo(e);return n.children.forEach(s=>{tF(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Pa(a,t.getContext(s),i)),i}function tF(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=nF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new gd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ra(n,e,a?a.children:null,r,i):Ra(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Yo(a.outlet.component,s))}else s&&Pa(e,a,i),i.canActivateChecks.push(new gd(r)),o.component?Ra(n,null,a?a.children:null,r,i):Ra(n,null,t,r,i);return i}function nF(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Mi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Mi(n.url,e.url)||!An(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xm(n,e)||!An(n.queryParams,e.queryParams);case"paramsChange":default:return!xm(n,e)}}function Pa(n,e,t){let r=Wo(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Pa(s,e.children.getContext(o),t):Pa(s,null,t):Pa(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Yo(e.outlet.component,i)):t.canDeactivateChecks.push(new Yo(null,i)):t.canDeactivateChecks.push(new Yo(null,i))}function Ga(n){return typeof n=="function"}function rF(n){return typeof n=="boolean"}function iF(n){return n&&Ga(n.canLoad)}function oF(n){return n&&Ga(n.canActivate)}function sF(n){return n&&Ga(n.canActivateChild)}function aF(n){return n&&Ga(n.canDeactivate)}function cF(n){return n&&Ga(n.canMatch)}function cC(n){return n instanceof $n||n?.name==="EmptyError"}var td=Symbol("INITIAL_VALUE");function ts(){return Nt(n=>oa(n.map(e=>e.pipe(zn(1),Yf(td)))).pipe(X(e=>{for(let t of e)if(t!==!0){if(t===td)return td;if(t===!1||uF(t))return t}return!0}),Mt(e=>e!==td),zn(1)))}function uF(n){return Ni(n)||n instanceof Va}function lF(n,e){return ze(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?J(ue(L({},t),{guardsResult:!0})):dF(s,r,i,n).pipe(ze(a=>a&&rF(a)?hF(r,o,n,e):J(a)),X(a=>ue(L({},t),{guardsResult:a})))})}function dF(n,e,t,r){return Pe(n).pipe(ze(i=>yF(i.component,i.route,t,e,r)),mn(i=>i!==!0,!0))}function hF(n,e,t,r){return Pe(e).pipe(Hn(i=>go(pF(i.route.parent,r),fF(i.route,r),mF(n,i.path,t),gF(n,i.route,t))),mn(i=>i!==!0,!0))}function fF(n,e){return n!==null&&e&&e(new Sm(n)),J(!0)}function pF(n,e){return n!==null&&e&&e(new Cm(n)),J(!0)}function gF(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return J(!0);let i=r.map(o=>ku(()=>{let s=za(e)??t,a=ns(o,s),u=oF(a)?a.canActivate(e,n):Qt(s,()=>a(e,n));return Kr(u).pipe(mn())}));return J(i).pipe(ts())}function mF(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>eF(s)).filter(s=>s!==null).map(s=>ku(()=>{let a=s.guards.map(u=>{let l=za(s.node)??t,h=ns(u,l),p=sF(h)?h.canActivateChild(r,n):Qt(l,()=>h(r,n));return Kr(p).pipe(mn())});return J(a).pipe(ts())}));return J(o).pipe(ts())}function yF(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return J(!0);let s=o.map(a=>{let u=za(e)??i,l=ns(a,u),h=aF(l)?l.canDeactivate(n,e,t,r):Qt(u,()=>l(n,e,t,r));return Kr(h).pipe(mn())});return J(s).pipe(ts())}function vF(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return J(!0);let o=i.map(s=>{let a=ns(s,n),u=iF(a)?a.canLoad(e,t):Qt(n,()=>a(e,t));return Kr(u)});return J(o).pipe(ts(),uC(r))}function uC(n){return Lf(qe(e=>{if(typeof e!="boolean")throw pd(n,e)}),X(e=>e===!0))}function _F(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return J(!0);let o=i.map(s=>{let a=ns(s,n),u=cF(a)?a.canMatch(e,t):Qt(n,()=>a(e,t));return Kr(u)});return J(o).pipe(ts(),uC(r))}var ja=class{constructor(e){this.segmentGroup=e||null}},Ua=class extends Error{constructor(e){super(),this.urlTree=e}};function Go(n){return fo(new ja(n))}function wF(n){return fo(new G(4e3,!1))}function IF(n){return fo(sC(!1,Ut.GuardRejected))}var km=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return J(r);if(i.numberOfChildren>1||!i.children[se])return wF(`${e.redirectTo}`);i=i.children[se]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:C,title:M}=i,R=Qt(o,()=>a({params:y,data:C,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:M}));if(R instanceof ar)throw new Ua(R);t=R}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Ua(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new ar(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new De(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new G(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Fm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function EF(n,e,t,r,i){let o=lC(n,e,t);return o.matched?(r=q1(e,r),_F(r,e,t,i).pipe(X(s=>s===!0?o:L({},Fm)))):J(o)}function lC(n,e,t){if(e.path==="**")return DF(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},Fm):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||_1)(t,n,e);if(!i)return L({},Fm);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function DF(n){return{matched:!0,parameters:n.length>0?Hb(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Lb(n,e,t,r){return t.length>0&&TF(n,t,r)?{segmentGroup:new De(e,CF(r,new De(t,n.children))),slicedSegments:[]}:t.length===0&&SF(n,t,r)?{segmentGroup:new De(n.segments,bF(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new De(n.segments,n.children),slicedSegments:t}}function bF(n,e,t,r){let i={};for(let o of t)if(vd(n,e,o)&&!r[fn(o)]){let s=new De([],{});i[fn(o)]=s}return L(L({},r),i)}function CF(n,e){let t={};t[se]=e;for(let r of n)if(r.path===""&&fn(r)!==se){let i=new De([],{});t[fn(r)]=i}return t}function TF(n,e,t){return t.some(r=>vd(n,e,r)&&fn(r)!==se)}function SF(n,e,t){return t.some(r=>vd(n,e,r))}function vd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function AF(n,e,t){return e.length===0&&!n.children[t]}var Lm=class{};function RF(n,e,t,r,i,o,s="emptyOnly"){return new Vm(n,e,t,r,i,s,o).recognize()}var MF=31,Vm=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new km(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new G(4002,`'${e.segmentGroup}'`)}recognize(){let e=Lb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(({children:t,rootSnapshot:r})=>{let i=new jt(r,t),o=new fd("",i),s=V1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Qo([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,se,t).pipe(X(r=>({children:r,rootSnapshot:t})),br(r=>{if(r instanceof Ua)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ja?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(X(s=>s instanceof jt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Pe(o).pipe(Hn(s=>{let a=r.children[s],u=G1(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Qf((s,a)=>(s.push(...a),s)),Cr(null),Kf(),ze(s=>{if(s===null)return Go(r);let a=dC(s);return NF(a),J(a)}))}processSegment(e,t,r,i,o,s,a){return Pe(t).pipe(Hn(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(br(l=>{if(l instanceof ja)return J(null);throw l}))),mn(u=>!!u),br(u=>{if(cC(u))return AF(r,i,o)?J(new Lm):Go(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return fn(r)!==s&&(s===se||!vd(i,o,r))?Go(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Go(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=lC(t,i,o);if(!u)return Go(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>MF&&(this.allowRedirects=!1));let y=new Qo(o,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Vb(i),fn(i),i.component??i._loadedComponent??null,i,jb(i)),C=hd(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(C.params),y.data=Object.freeze(C.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(ze(R=>this.processSegment(e,r,t,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=EF(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Nt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Nt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,C=new Qo(m,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Vb(r),fn(r),r.component??r._loadedComponent??null,r,jb(r)),M=hd(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(M.params),C.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:j}=Lb(t,m,y,l);if(j.length===0&&R.hasChildren())return this.processChildren(h,l,R,C).pipe(X(U=>new jt(C,U)));if(l.length===0&&j.length===0)return J(new jt(C,[]));let W=fn(r)===o;return this.processSegment(h,l,R,j,W?se:o,!0,C).pipe(X(U=>new jt(C,U instanceof jt?[U]:[])))}))):Go(t)))}getChildConfig(e,t,r){return t.children?J({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?J({routes:t._loadedRoutes,injector:t._loadedInjector}):vF(e,t,r,this.urlSerializer).pipe(ze(i=>i?this.configLoader.loadChildren(e,t).pipe(qe(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):IF(t))):J({routes:[],injector:e})}};function NF(n){n.sort((e,t)=>e.value.outlet===se?-1:t.value.outlet===se?1:e.value.outlet.localeCompare(t.value.outlet))}function xF(n){let e=n.value.routeConfig;return e&&e.path===""}function dC(n){let e=[],t=new Set;for(let r of n){if(!xF(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=dC(r.children);e.push(new jt(r.value,i))}return e.filter(r=>!t.has(r))}function Vb(n){return n.data||{}}function jb(n){return n.resolve||{}}function PF(n,e,t,r,i,o){return ze(s=>RF(n,e,t,r,s.extractedUrl,i,o).pipe(X(({state:a,tree:u})=>ue(L({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function OF(n,e){return ze(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return J(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of hC(u))s.add(l);let a=0;return Pe(s).pipe(Hn(u=>o.has(u)?kF(u,r,n,e):(u.data=hd(u,u.parent,n).resolve,J(void 0))),qe(()=>a++),mo(1),ze(u=>a===s.size?J(t):Lt))})}function hC(n){let e=n.children.map(t=>hC(t)).flat();return[n,...e]}function kF(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!iC(i)&&(o[$a]=i.title),FF(o,n,e,r).pipe(X(s=>(n._resolvedData=s,n.data=hd(n,n.parent,t).resolve,null)))}function FF(n,e,t,r){let i=gm(n);if(i.length===0)return J({});let o={};return Pe(i).pipe(ze(s=>LF(n[s],e,t,r).pipe(mn(),qe(a=>{if(a instanceof Va)throw pd(new Zo,a);o[s]=a}))),mo(1),Wf(o),br(s=>cC(s)?Lt:fo(s)))}function LF(n,e,t,r){let i=za(e)??r,o=ns(n,i),s=o.resolve?o.resolve(e,t):Qt(i,()=>o(e,t));return Kr(s)}function fm(n){return Nt(e=>{let t=n(e);return t?Pe(t).pipe(X(()=>e)):J(e)})}var fC=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===se);return r}getResolvedTitleForRoute(t){return t.data[$a]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>O(VF),providedIn:"root"})}}return n})(),VF=(()=>{class n extends fC{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(q(Nb))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Wa=new H("",{providedIn:"root",factory:()=>({})}),jF=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Ve({type:n,selectors:[["ng-component"]],standalone:!0,features:[je],decls:1,vars:0,template:function(r,i){r&1&&st(0,"router-outlet")},dependencies:[Bm],encapsulation:2})}}return n})();function $m(n){let e=n.children&&n.children.map($m),t=e?ue(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==se&&(t.component=jF),t}var Ba=new H(""),Hm=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(Hl)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return J(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Kr(t.loadComponent()).pipe(X(pC),qe(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),mi(()=>{this.componentLoaders.delete(t)})),i=new co(r,()=>new Xe).pipe(ao());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return J({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=UF(r,this.compiler,t,this.onLoadEndListener).pipe(mi(()=>{this.childrenLoaders.delete(r)})),s=new co(o,()=>new Xe).pipe(ao());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function UF(n,e,t,r){return Kr(n.loadChildren()).pipe(X(pC),ze(i=>i instanceof ha||Array.isArray(i)?J(i):Pe(e.compileModuleAsync(i))),X(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Ba,[],{optional:!0,self:!0}).flat()),{routes:s.map($m),injector:o}}))}function BF(n){return n&&typeof n=="object"&&"default"in n}function pC(n){return BF(n)?n.default:n}var zm=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>O($F),providedIn:"root"})}}return n})(),$F=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),gC=new H(""),mC=new H("");function HF(n,e,t){let r=n.get(mC),i=n.get(mt);return n.get(Ee).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),zF(n))),{onViewTransitionCreated:u}=r;return u&&Qt(n,()=>u({transition:a,from:e,to:t})),s})}function zF(n){return new Promise(e=>{Ug({read:()=>setTimeout(e)},{injector:n})})}var qF=new H(""),qm=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Xe,this.transitionAbortSubject=new Xe,this.configLoader=O(Hm),this.environmentInjector=O(Ct),this.urlSerializer=O(Ha),this.rootContexts=O(qa),this.location=O(zo),this.inputBindingEnabled=O(yd,{optional:!0})!==null,this.titleStrategy=O(fC),this.options=O(Wa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(zm),this.createViewTransition=O(gC,{optional:!0}),this.navigationErrorHandler=O(qF,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>J(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Dm(i)),r=i=>this.events.next(new bm(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ue(L(L({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Be({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:xa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Mt(o=>o.id!==0),X(o=>ue(L({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Nt(o=>{let s=!1,a=!1;return J(o).pipe(Nt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ut.SupersededByNewNavigation),Lt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ue(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new Gr(u.id,this.urlSerializer.serialize(u.rawUrl),p,ad.IgnoredSameUrlNavigation)),u.resolve(!1),Lt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return J(u).pipe(Nt(p=>{let m=this.transitions?.getValue();return this.events.next(new Xo(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?Lt:Promise.resolve(p)}),PF(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),qe(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ue(L({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new cd(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:y,restoredState:C,extras:M}=u,R=new Xo(p,this.urlSerializer.serialize(m),y,C);this.events.next(R);let j=nC(this.rootComponentType).snapshot;return this.currentTransition=o=ue(L({},u),{targetSnapshot:j,urlAfterRedirects:m,extras:ue(L({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,J(o)}else{let p="";return this.events.next(new Gr(u.id,this.urlSerializer.serialize(u.extractedUrl),p,ad.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Lt}}),qe(u=>{let l=new _m(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),X(u=>(this.currentTransition=o=ue(L({},u),{guards:X1(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),lF(this.environmentInjector,u=>this.events.next(u)),qe(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw pd(this.urlSerializer,u.guardsResult);let l=new wm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Mt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Ut.GuardRejected),!1)),fm(u=>{if(u.guards.canActivateChecks.length)return J(u).pipe(qe(l=>{let h=new Im(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Nt(l=>{let h=!1;return J(l).pipe(OF(this.paramsInheritanceStrategy,this.environmentInjector),qe({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",Ut.NoDataFromResolver)}}))}),qe(l=>{let h=new Em(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),fm(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(qe(m=>{h.component=m}),X(()=>{})));for(let m of h.children)p.push(...l(m));return p};return oa(l(u.targetSnapshot.root)).pipe(Cr(null),zn(1))}),fm(()=>this.afterPreactivation()),Nt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Pe(h).pipe(X(()=>o)):J(o)}),X(u=>{let l=K1(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ue(L({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),qe(()=>{this.events.next(new Fa)}),Z1(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),zn(1),qe({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Rn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),Jf(this.transitionAbortSubject.pipe(qe(u=>{throw u}))),mi(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Ut.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),br(u=>{if(a=!0,aC(u))this.events.next(new sr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),J1(u)?this.events.next(new es(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new ka(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let h=Qt(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof Va){let{message:p,cancellationCode:m}=pd(this.urlSerializer,h);this.events.next(new sr(o.id,this.urlSerializer.serialize(o.extractedUrl),p,m)),this.events.next(new es(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=t.errorHandler(u);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Lt}))}))}cancelNavigationTransition(t,r,i){let o=new sr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function GF(n){return n!==xa}var WF=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>O(KF),providedIn:"root"})}}return n})(),jm=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},KF=(()=>{class n extends jm{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})()}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),yC=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>O(QF),providedIn:"root"})}}return n})(),QF=(()=>{class n extends yC{constructor(){super(...arguments),this.location=O(zo),this.urlSerializer=O(Ha),this.options=O(Wa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(zm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ar,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=nC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Xo)this.stateMemento=this.createStateMemento();else if(t instanceof Gr)this.rawUrlTree=r.initialUrl;else if(t instanceof cd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Fa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof sr&&(t.code===Ut.GuardRejected||t.code===Ut.NoDataFromResolver)?this.restoreHistory(r):t instanceof ka?this.restoreHistory(r,!0):t instanceof Rn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof ar?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=L(L({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=L(L({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})()}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ma=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Ma||{});function vC(n,e){n.events.pipe(Mt(t=>t instanceof Rn||t instanceof sr||t instanceof ka||t instanceof Gr),X(t=>t instanceof Rn||t instanceof Gr?Ma.COMPLETE:(t instanceof sr?t.code===Ut.Redirect||t.code===Ut.SupersededByNewNavigation:!1)?Ma.REDIRECTING:Ma.FAILED),Mt(t=>t!==Ma.REDIRECTING),zn(1)).subscribe(()=>{e()})}function YF(n){throw n}var JF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ZF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},At=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=O(Bl),this.stateManager=O(yC),this.options=O(Wa,{optional:!0})||{},this.pendingTasks=O(Vr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(qm),this.urlSerializer=O(Ha),this.location=O(zo),this.urlHandlingStrategy=O(zm),this._events=new Xe,this.errorHandler=this.options.errorHandler||YF,this.navigated=!1,this.routeReuseStrategy=O(WF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(Ba,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(yd,{optional:!0}),this.eventsSubscription=new Re,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof sr&&r.code!==Ut.Redirect&&r.code!==Ut.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Rn)this.navigated=!0;else if(r instanceof es){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||GF(i.source)},s);this.scheduleNavigation(a,xa,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}eL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),xa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map($m),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=Zb(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return Xb(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ni(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,xa,null,r)}navigate(t,r={skipLocationChange:!1}){return XF(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},JF):r===!1?i=L({},ZF):i=r,Ni(t))return xb(this.currentUrlTree,t,i);let o=this.parseUrl(t);return xb(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return vC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function XF(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new G(4008,!1)}function eL(n){return!(n instanceof Fa)&&!(n instanceof es)}var _C=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Xe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Rn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ni(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Z0(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Ni(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(Q(At),Q(Wr),vg("tabindex"),Q(Zn),Q(Jt),Q(rr))}}static{this.\u0275dir=ke({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Ae("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&jr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Br],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Br],replaceUrl:[2,"replaceUrl","replaceUrl",Br],routerLink:"routerLink"},standalone:!0,features:[jg,kr]})}}return n})();var md=class{};var tL=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Mt(t=>t instanceof Rn),Hn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Vl(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Pe(i).pipe(po())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=J(null);let o=i.pipe(ze(s=>s===null?J(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Pe([o,s]).pipe(po())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(q(At),q(Hl),q(Ct),q(md),q(Hm))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wC=new H(""),nL=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Xo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Rn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Gr&&t.code===ad.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ud&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ud(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){hD()}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();function IC(n,...e){return bn([{provide:Ba,multi:!0,useValue:n},[],{provide:Wr,useFactory:EC,deps:[At]},{provide:_a,multi:!0,useFactory:DC},e.map(t=>t.\u0275providers)])}function EC(n){return n.routerState.root}function Ka(n,e){return{\u0275kind:n,\u0275providers:e}}function DC(){let n=O(St);return e=>{let t=n.get(Ur);if(e!==t.components[0])return;let r=n.get(At),i=n.get(bC);n.get(Gm)===1&&r.initialNavigation(),n.get(CC,null,ce.Optional)?.setUpPreloading(),n.get(wC,null,ce.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var bC=new H("",{factory:()=>new Xe}),Gm=new H("",{providedIn:"root",factory:()=>1});function rL(){return Ka(2,[{provide:Gm,useValue:0},{provide:$l,multi:!0,deps:[St],useFactory:e=>{let t=e.get(cb,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(At),o=e.get(bC);vC(i,()=>{r(!0)}),e.get(qm).afterPreactivation=()=>(r(!0),o.closed?J(void 0):o),i.initialNavigation()}))}}])}function iL(){return Ka(3,[{provide:$l,multi:!0,useFactory:()=>{let e=O(At);return()=>{e.setUpLocationChangeListener()}}},{provide:Gm,useValue:2}])}var CC=new H("");function oL(n){return Ka(0,[{provide:CC,useExisting:tL},{provide:md,useExisting:n}])}function sL(){return Ka(8,[Fb,{provide:yd,useExisting:Fb}])}function aL(n){let e=[{provide:gC,useValue:HF},{provide:mC,useValue:L({skipNextTransition:!!n?.skipInitialTransition},n)}];return Ka(9,e)}var Ub=new H("ROUTER_FORROOT_GUARD"),cL=[zo,{provide:Ha,useClass:Zo},At,qa,{provide:Wr,useFactory:EC,deps:[At]},Hm,[]],TC=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[cL,[],{provide:Ba,multi:!0,useValue:t},{provide:Ub,useFactory:hL,deps:[[At,new Kt,new ig]]},{provide:Wa,useValue:r||{}},r?.useHash?lL():dL(),uL(),r?.preloadingStrategy?oL(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?fL(r):[],r?.bindToComponentInputs?sL().\u0275providers:[],r?.enableViewTransitions?aL().\u0275providers:[],pL()]}}static forChild(t){return{ngModule:n,providers:[{provide:Ba,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(q(Ub,8))}}static{this.\u0275mod=Qn({type:n})}static{this.\u0275inj=Kn({})}}return n})();function uL(){return{provide:wC,useFactory:()=>{let n=O(db),e=O(Ee),t=O(Wa),r=O(qm),i=O(Ha);return t.scrollOffset&&n.setOffset(t.scrollOffset),new nL(i,r,n,e,t)}}}function lL(){return{provide:rr,useClass:lb}}function dL(){return{provide:rr,useClass:Yg}}function hL(n){return"guarded"}function fL(n){return[n.initialNavigation==="disabled"?iL().\u0275providers:[],n.initialNavigation==="enabledBlocking"?rL().\u0275providers:[]]}var Bb=new H("");function pL(){return[{provide:Bb,useFactory:DC},{provide:_a,multi:!0,useExisting:Bb}]}var FC=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(Q(Zn),Q(Jt))}}static{this.\u0275dir=ke({type:n})}}return n})(),Sd=(()=>{class n extends FC{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})()}static{this.\u0275dir=ke({type:n,features:[Vt]})}}return n})(),tc=new H("");var gL={provide:tc,useExisting:ln(()=>Qr),multi:!0};function mL(){let n=nr()?nr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var yL=new H(""),Qr=(()=>{class n extends FC{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!mL())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(Q(Zn),Q(Jt),Q(yL,8))}}static{this.\u0275dir=ke({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ae("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Xn([gL]),Vt]})}}return n})();function Wm(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var Ad=new H(""),LC=new H("");function vL(n){return e=>{if(Wm(e.value)||Wm(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function _L(n){return Wm(n.value)?{required:!0}:null}function SC(n){return null}function VC(n){return n!=null}function jC(n){return Si(n)?Pe(n):n}function UC(n){let e={};return n.forEach(t=>{e=t!=null?L(L({},e),t):e}),Object.keys(e).length===0?null:e}function BC(n,e){return e.map(t=>t(n))}function wL(n){return!n.validate}function $C(n){return n.map(e=>wL(e)?e:t=>e.validate(t))}function IL(n){if(!n)return null;let e=n.filter(VC);return e.length==0?null:function(t){return UC(BC(t,e))}}function Qm(n){return n!=null?IL($C(n)):null}function EL(n){if(!n)return null;let e=n.filter(VC);return e.length==0?null:function(t){let r=BC(t,e).map(jC);return Gf(r).pipe(X(UC))}}function Ym(n){return n!=null?EL($C(n)):null}function AC(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function DL(n){return n._rawValidators}function bL(n){return n._rawAsyncValidators}function Km(n){return n?Array.isArray(n)?n:[n]:[]}function Id(n,e){return Array.isArray(n)?n.includes(e):n===e}function RC(n,e){let t=Km(e);return Km(n).forEach(i=>{Id(t,i)||t.push(i)}),t}function MC(n,e){return Km(e).filter(t=>!Id(n,t))}var Ed=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Qm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ym(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},os=class extends Ed{get formDirective(){return null}get path(){return null}},ec=class extends Ed{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Dd=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},CL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},w9=ue(L({},CL),{"[class.ng-submitted]":"isSubmitted"}),as=(()=>{class n extends Dd{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Q(ec,2))}}static{this.\u0275dir=ke({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Bo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Vt]})}}return n})(),Rd=(()=>{class n extends Dd{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Q(os,10))}}static{this.\u0275dir=ke({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Bo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Vt]})}}return n})();var Qa="VALID",wd="INVALID",rs="PENDING",Ya="DISABLED",ss=class{},bd=class extends ss{constructor(e,t){super(),this.value=e,this.source=t}},Za=class extends ss{constructor(e,t){super(),this.pristine=e,this.source=t}},Xa=class extends ss{constructor(e,t){super(),this.touched=e,this.source=t}},is=class extends ss{constructor(e,t){super(),this.status=e,this.source=t}};function HC(n){return(Md(n)?n.validators:n)||null}function TL(n){return Array.isArray(n)?Qm(n):n||null}function zC(n,e){return(Md(e)?e.asyncValidators:n)||null}function SL(n){return Array.isArray(n)?Ym(n):n||null}function Md(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function AL(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new G(1e3,"");if(!r[t])throw new G(1001,"")}function RL(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new G(1002,"")})}var Cd=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=wa(()=>this.statusReactive()),this.statusReactive=ya(void 0),this._pristine=wa(()=>this.pristineReactive()),this.pristineReactive=ya(!0),this._touched=wa(()=>this.touchedReactive()),this.touchedReactive=ya(!1),this._events=new Xe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return er(this.statusReactive)}set status(e){er(()=>this.statusReactive.set(e))}get valid(){return this.status===Qa}get invalid(){return this.status===wd}get pending(){return this.status==rs}get disabled(){return this.status===Ya}get enabled(){return this.status!==Ya}get pristine(){return er(this.pristineReactive)}set pristine(e){er(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return er(this.touchedReactive)}set touched(e){er(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(RC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(RC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(MC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(MC(e,this._rawAsyncValidators))}hasValidator(e){return Id(this._rawValidators,e)}hasAsyncValidator(e){return Id(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ue(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Xa(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Xa(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ue(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Za(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Za(!0,r))}markAsPending(e={}){this.status=rs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new is(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ue(L({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ya,this.errors=null,this._forEachChild(i=>{i.disable(ue(L({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new bd(this.value,r)),this._events.next(new is(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ue(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Qa,this._forEachChild(r=>{r.enable(ue(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ue(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qa||this.status===rs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new bd(this.value,t)),this._events.next(new is(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ue(L({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ya:Qa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=rs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=jC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new is(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ge,this.statusChanges=new Ge}_calculateStatus(){return this._allControlsDisabled()?Ya:this.errors?wd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rs)?rs:this._anyControlsHaveStatus(wd)?wd:Qa}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Za(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Xa(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Md(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=TL(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=SL(this._rawAsyncValidators)}},Td=class extends Cd{constructor(e,t,r){super(HC(t),zC(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){RL(this,!0,e),Object.keys(e).forEach(r=>{AL(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Jm=new H("CallSetDisabledState",{providedIn:"root",factory:()=>Zm}),Zm="always";function ML(n,e){return[...e.path,n]}function qC(n,e,t=Zm){GC(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),xL(n,e),OL(n,e),PL(n,e),NL(n,e)}function NC(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function NL(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function GC(n,e){let t=DL(n);e.validator!==null?n.setValidators(AC(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=bL(n);e.asyncValidator!==null?n.setAsyncValidators(AC(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();NC(e._rawValidators,i),NC(e._rawAsyncValidators,i)}function xL(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&WC(n,e)})}function PL(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&WC(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function WC(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function OL(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function kL(n,e){n==null,GC(n,e)}function FL(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function LL(n){return Object.getPrototypeOf(n.constructor)===Sd}function VL(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function jL(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Qr?t=o:LL(o)?r=o:i=o}),i||r||t||null}var UL={provide:os,useExisting:ln(()=>nc)},Ja=Promise.resolve(),nc=(()=>{class n extends os{get submitted(){return er(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=wa(()=>this.submittedReactive()),this.submittedReactive=ya(!1),this._directives=new Set,this.ngSubmit=new Ge,this.form=new Td({},Qm(t),Ym(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ja.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),qC(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ja.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ja.then(()=>{let r=this._findContainer(t.path),i=new Td({});kL(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ja.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ja.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),VL(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(Q(Ad,10),Q(LC,10),Q(Jm,8))}}static{this.\u0275dir=ke({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ae("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xn([UL]),Vt]})}}return n})();function xC(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function PC(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var BL=class extends Cd{constructor(e=null,t,r){super(HC(t),zC(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Md(t)&&(t.nonNullable||t.initialValueIsDefault)&&(PC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){PC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var $L={provide:ec,useExisting:ln(()=>xi)},OC=Promise.resolve(),xi=(()=>{class n extends ec{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new BL,this._registered=!1,this.name="",this.update=new Ge,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=jL(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),FL(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){qC(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){OC.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Br(r);OC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?ML(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(Q(os,9),Q(Ad,10),Q(LC,10),Q(tc,10),Q(Ai,8),Q(Jm,8))}}static{this.\u0275dir=ke({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Xn([$L]),Vt,kr]})}}return n})(),Nd=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ke({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),HL={provide:tc,useExisting:ln(()=>Xm),multi:!0},Xm=(()=>{class n extends Sd{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})()}static{this.\u0275dir=ke({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Ae("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Xn([HL]),Vt]})}}return n})();var zL={provide:tc,useExisting:ln(()=>xd),multi:!0};function KC(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function qL(n){return n.split(":")[0]}var xd=(()=>{class n extends Sd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=KC(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=qL(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})()}static{this.\u0275dir=ke({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Ae("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xn([zL]),Vt]})}}return n})(),QC=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(KC(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(Q(Jt),Q(Zn),Q(xd,9))}}static{this.\u0275dir=ke({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),GL={provide:tc,useExisting:ln(()=>YC),multi:!0};function kC(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function WL(n){return n.split(":")[0]}var YC=(()=>{class n extends Sd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=WL(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})()}static{this.\u0275dir=ke({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Ae("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xn([GL]),Vt]})}}return n})(),JC=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(kC(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(kC(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(Q(Jt),Q(Zn),Q(YC,9))}}static{this.\u0275dir=ke({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function KL(n){return typeof n=="number"?n:parseFloat(n)}var ZC=(()=>{class n{constructor(){this._validator=SC}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):SC,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ke({type:n,features:[kr]})}}return n})();var QL={provide:Ad,useExisting:ln(()=>ey),multi:!0},ey=(()=>{class n extends ZC{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>KL(t),this.createValidator=t=>vL(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})()}static{this.\u0275dir=ke({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&jr("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Xn([QL]),Vt]})}}return n})(),YL={provide:Ad,useExisting:ln(()=>rc),multi:!0};var rc=(()=>{class n extends ZC{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Br,this.createValidator=t=>_L}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Cn(n)))(i||n)}})()}static{this.\u0275dir=ke({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&jr("required",i._enabled?"":null)},inputs:{required:"required"},features:[Xn([YL]),Vt]})}}return n})();var JL=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qn({type:n})}static{this.\u0275inj=Kn({})}}return n})();var cs=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Jm,useValue:t.callSetDisabledState??Zm}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Qn({type:n})}static{this.\u0275inj=Kn({imports:[JL]})}}return n})();var Mn=class n{constructor(e){this.router=e;this.isAuthenticated=!!localStorage.getItem(this.authTokenKey),this.authStatusSubject.next(this.isAuthenticated)}isAuthenticated=!1;authTokenKey="authToken";username="admin";password="terciopelo123";authStatusSubject=new Be(this.isAuthenticated);authStatus$=this.authStatusSubject.asObservable();login(e,t){if(e===this.username&&t===this.password){let r=btoa(`${e}:${t}`);return localStorage.setItem(this.authTokenKey,r),this.isAuthenticated=!0,this.authStatusSubject.next(!0),!0}return!1}logout(){localStorage.removeItem(this.authTokenKey),this.isAuthenticated=!1,this.authStatusSubject.next(!1),this.router.navigate(["/admin/login"])}isLoggedIn(){return this.isAuthenticated}getAuthToken(){return localStorage.getItem(this.authTokenKey)}static \u0275fac=function(t){return new(t||n)(q(At))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};function ZL(n,e){if(n&1&&(N(0,"p",9),F(1),x()),n&2){let t=gt();te(),$o(t.errorMessage)}}var Od=class n{constructor(e,t){this.authService=e;this.router=t}username="";password="";errorMessage="";onSubmit(){this.authService.login(this.username,this.password)?this.router.navigate(["/admin/dashboard"]):this.errorMessage="Credenciales incorrectas"}static \u0275fac=function(t){return new(t||n)(Q(Mn),Q(At))};static \u0275cmp=Ve({type:n,selectors:[["app-admin-login"]],standalone:!0,features:[je],decls:16,vars:3,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gray-100"],[1,"bg-white","p-8","rounded-lg","shadow-md","w-full","max-w-md"],[1,"text-2xl","font-bold","mb-6","text-center"],[1,"space-y-4",3,"ngSubmit"],[1,"block","text-sm","font-medium","mb-1"],["type","text","name","username","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","password","name","password","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","btn","bg-blue-600","hover:bg-blue-700"],["class","text-red-500 text-center",4,"ngIf"],[1,"text-red-500","text-center"]],template:function(t,r){t&1&&(N(0,"div",0)(1,"div",1)(2,"h2",2),F(3,"Iniciar Sesi\xF3n"),x(),N(4,"form",3),Ae("ngSubmit",function(){return r.onSubmit()}),N(5,"div")(6,"label",4),F(7,"Usuario"),x(),N(8,"input",5),tt("ngModelChange",function(o){return at(r.username,o)||(r.username=o),o}),x()(),N(9,"div")(10,"label",4),F(11,"Contrase\xF1a"),x(),N(12,"input",6),tt("ngModelChange",function(o){return at(r.password,o)||(r.password=o),o}),x()(),N(13,"button",7),F(14,"Ingresar"),x(),Pt(15,ZL,2,1,"p",8),x()()()),t&2&&(te(8),et("ngModel",r.username),te(4),et("ngModel",r.password),te(3),Je("ngIf",r.errorMessage))},dependencies:[cs,Nd,Qr,as,Rd,rc,xi,nc,ir,$r]})};var kd=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.isLoggedIn()?!0:(this.router.navigate(["/admin/login"]),!1)}static \u0275fac=function(t){return new(t||n)(q(Mn),q(At))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};function XL(n,e){n&1&&(jl(0),N(1,"a",21),F(2," Login "),x(),Ul())}function eV(n,e){if(n&1){let t=hn();N(0,"a",22),Ae("click",function(){Me(t);let i=gt();return Ne(i.logout())}),F(1," Logout "),x()}}function tV(n,e){n&1&&(jl(0),N(1,"a",23),F(2,"Login"),x(),Ul())}function nV(n,e){if(n&1){let t=hn();N(0,"a",24),Ae("click",function(){Me(t);let i=gt();return Ne(i.logout())}),F(1,"Logout"),x()}}var Fd=class n{constructor(e){this.authService=e}isMenuOpen=!1;isAuthenticated=!1;authSubscription;ngOnInit(){this.authSubscription=this.authService.authStatus$.subscribe(e=>this.isAuthenticated=e)}ngOnDestroy(){this.authSubscription&&this.authSubscription.unsubscribe()}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}logout(){this.authService.logout()}static \u0275fac=function(t){return new(t||n)(Q(Mn))};static \u0275cmp=Ve({type:n,selectors:[["app-header"]],standalone:!0,features:[je],decls:43,vars:6,consts:[["logoutTemplate",""],["logoutMobileTemplate",""],[1,"bg-white","shadow-md","sticky","top-0","z-50"],[1,"container","mx-auto","px-4"],[1,"flex","justify-between","items-center","py-4"],["href","#",1,"text-2xl","font-bold","text-purple-700"],[1,"hidden","md:flex","space-x-8","items-center"],["href","#inicio",1,"text-gray-700","hover:text-purple-700"],["href","#tecnica",1,"text-gray-700","hover:text-purple-700"],["href","#galeria",1,"text-gray-700","hover:text-purple-700"],["href","#contacto",1,"text-gray-700","hover:text-purple-700"],[4,"ngIf","ngIfElse"],[1,"md:hidden",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16m-7 6h7"],[1,"md:hidden"],[1,"py-4","space-y-2"],["href","#inicio",1,"block","px-4","py-2","text-gray-700","hover:bg-purple-100"],["href","#tecnica",1,"block","px-4","py-2","text-gray-700","hover:bg-purple-100"],["href","#galeria",1,"block","px-4","py-2","text-gray-700","hover:bg-purple-100"],["href","#contacto",1,"block","px-4","py-2","text-gray-700","hover:bg-purple-100"],["routerLink","/admin/login",1,"bg-purple-600","text-white","px-4","py-2","rounded-md","hover:bg-purple-700","transition-colors"],[1,"bg-red-600","text-white","px-4","py-2","rounded-md","hover:bg-red-700","transition-colors","cursor-pointer",3,"click"],["routerLink","/admin/login",1,"block","px-4","py-2","text-gray-700","hover:bg-purple-100"],[1,"block","px-4","py-2","text-gray-700","hover:bg-purple-100","cursor-pointer",3,"click"]],template:function(t,r){if(t&1){let i=hn();N(0,"header",2)(1,"div",3)(2,"nav",4)(3,"a",5),F(4,"MALAVER"),x(),N(5,"ul",6)(6,"li")(7,"a",7),F(8,"Inicio"),x()(),N(9,"li")(10,"a",8),F(11,"T\xE9cnica"),x()(),N(12,"li")(13,"a",9),F(14,"Galer\xEDa"),x()(),N(15,"li")(16,"a",10),F(17,"Contacto"),x()(),N(18,"li"),Pt(19,XL,3,0,"ng-container",11)(20,eV,2,0,"ng-template",null,0,va),x()(),N(22,"button",12),Ae("click",function(){return Me(i),Ne(r.toggleMenu())}),S0(),N(23,"svg",13),st(24,"path",14),x()()(),A0(),N(25,"div",15)(26,"ul",16)(27,"li")(28,"a",17),F(29,"Inicio"),x()(),N(30,"li")(31,"a",18),F(32,"T\xE9cnica"),x()(),N(33,"li")(34,"a",19),F(35,"Galer\xEDa"),x()(),N(36,"li")(37,"a",20),F(38,"Contacto"),x()(),N(39,"li"),Pt(40,tV,3,0,"ng-container",11)(41,nV,2,0,"ng-template",null,1,va),x()()()()()}if(t&2){let i=Ti(21),o=Ti(42);te(19),Je("ngIf",!r.isAuthenticated)("ngIfElse",i),te(6),Bo("hidden",!r.isMenuOpen),te(15),Je("ngIf",!r.isAuthenticated)("ngIfElse",o)}},dependencies:[ir,$r,TC,_C]})};var Ld=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ve({type:n,selectors:[["app-hero"]],standalone:!0,features:[je],decls:10,vars:0,consts:[["id","inicio",1,"py-20","bg-gradient-to-r","from-purple-50","to-indigo-50"],[1,"container","mx-auto","text-center"],[1,"text-4xl","md:text-5xl","font-bold","text-purple-800","mb-4"],[1,"text-lg","md:text-xl","text-gray-700","mb-6"],[1,"text-md","text-gray-600","mb-8"],["href","#galeria",1,"btn","bg-purple-600","hover:bg-purple-700"]],template:function(t,r){t&1&&(N(0,"section",0)(1,"div",1)(2,"h1",2),F(3,"Mar\xEDa Malaver"),x(),N(4,"p",3),F(5,"Artista pict\xF3rica especializada en \xF3leo sobre lienzo y t\xE9cnicas con pincel de pelo (tercio pelo)"),x(),N(6,"p",4),F(7,"Mi trabajo explora la relaci\xF3n entre la luz, el color y la textura, creando piezas que invitan a la reflexi\xF3n y la contemplaci\xF3n."),x(),N(8,"a",5),F(9,"Ver Galer\xEDa"),x()()())}})};var Vd=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ve({type:n,selectors:[["app-techniques"]],standalone:!0,features:[je],decls:20,vars:0,consts:[["id","tecnica",1,"py-20","bg-white"],[1,"container","mx-auto"],[1,"text-3xl","font-bold","text-center","text-purple-800","mb-12"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8"],[1,"bg-gray-50","p-6","rounded-lg","shadow-md","text-center"],[1,"text-xl","font-semibold","text-purple-700","mb-3"],[1,"text-gray-600"]],template:function(t,r){t&1&&(N(0,"section",0)(1,"div",1)(2,"h2",2),F(3,"T\xE9cnicas y Materiales"),x(),N(4,"div",3)(5,"div",4)(6,"h3",5),F(7,"\xD3leo sobre lienzo"),x(),N(8,"p",6),F(9,"Trabajo con \xF3leos de alta calidad sobre lienzo de lino, permitiendo una mayor durabilidad y intensidad de color."),x()(),N(10,"div",4)(11,"h3",5),F(12,"Pincel de pelo (tercio pelo)"),x(),N(13,"p",6),F(14,"Utilizo pinceles de pelo natural que permiten un mayor control de la pintura y la creaci\xF3n de texturas \xFAnicas."),x()(),N(15,"div",4)(16,"h3",5),F(17,"T\xE9cnicas mixtas"),x(),N(18,"p",6),F(19,"Combino t\xE9cnicas tradicionales con enfoques contempor\xE1neos para crear obras \xFAnicas y expresivas."),x()()()()())}})};var jd=class n{constructor(e){this.elementRef=e}artworks=[];category="all";spinContainer;dragContainer;ground;radius=240;autoRotate=!0;rotateSpeed=-60;imgWidth=120;imgHeight=170;sX=0;sY=0;nX=0;nY=0;desX=0;desY=0;tX=0;tY=10;timer=null;ngAfterViewInit(){this.initGallery()}ngOnDestroy(){this.timer&&clearInterval(this.timer)}initGallery(){this.spinContainer=this.elementRef.nativeElement.querySelector(".spin-container"),this.dragContainer=this.elementRef.nativeElement.querySelector(".drag-container"),this.ground=this.elementRef.nativeElement.querySelector(".ground"),!(!this.spinContainer||this.artworks.length===0)&&(this.spinContainer.style.width=`${this.imgWidth}px`,this.spinContainer.style.height=`${this.imgHeight}px`,this.spinContainer.innerHTML="",this.artworks.forEach((e,t)=>{let r=document.createElement("img");r.src=e.imagen,r.alt=e.titulo,r.dataset.id=e.id.toString(),r.style.transform=`rotateY(${t*(360/this.artworks.length)}deg) translateZ(${this.radius}px)`,r.style.transition="transform 1s",r.style.transitionDelay=`${t/this.artworks.length}s`,this.spinContainer.appendChild(r)}),this.ground.style.width=`${this.radius*3}px`,this.ground.style.height=`${this.radius*3}px`,this.initCarousel())}initCarousel(){if(this.autoRotate){let e=this.rotateSpeed>0?"spin":"spinRevert";this.spinContainer.style.animation=`${e} ${Math.abs(this.rotateSpeed)}s infinite linear`}this.setupDragEvents()}setupDragEvents(){let e=r=>{this.tY>180&&(this.tY=180),this.tY<0&&(this.tY=0),r.style.transform=`rotateX(${-this.tY}deg) rotateY(${this.tX}deg)`},t=r=>{this.spinContainer.style.animationPlayState=r?"running":"paused"};this.dragContainer.onpointerdown=r=>(clearInterval(this.timer),this.sX=r.clientX,this.sY=r.clientY,this.dragContainer.onpointermove=i=>{this.nX=i.clientX,this.nY=i.clientY,this.desX=this.nX-this.sX,this.desY=this.nY-this.sY,this.tX+=this.desX*.1,this.tY+=this.desY*.1,e(this.dragContainer),this.sX=this.nX,this.sY=this.nY},this.dragContainer.onpointerup=()=>{this.timer=setInterval(()=>{this.desX*=.95,this.desY*=.95,this.tX+=this.desX*.1,this.tY+=this.desY*.1,e(this.dragContainer),t(!1),Math.abs(this.desX)<.5&&Math.abs(this.desY)<.5&&(clearInterval(this.timer),t(!0))},17),this.dragContainer.onpointermove=this.dragContainer.onpointerup=null},!1)}onResize(){this.initGallery()}static \u0275fac=function(t){return new(t||n)(Q(Jt))};static \u0275cmp=Ve({type:n,selectors:[["app-gallery3d"]],hostBindings:function(t,r){t&1&&Ae("resize",function(){return r.onResize()},!1,eD)},inputs:{artworks:"artworks",category:"category"},standalone:!0,features:[je],decls:3,vars:1,consts:[[1,"drag-container"],[1,"spin-container"],[1,"ground"]],template:function(t,r){t&1&&(N(0,"div",0),st(1,"div",1)(2,"div",2),x()),t&2&&(te(),jr("data-category",r.category))}})};var eT=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},rV=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},tT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(eT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):rV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new ry;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},ry=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},iV=function(n){let e=eT(n);return tT.encodeByteArray(e,!0)},ic=function(n){return iV(n).replace(/\./g,"")},oy=function(n){try{return tT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function oV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var sV=()=>oV().__FIREBASE_DEFAULTS__,aV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},cV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&oy(n[1]);return e&&JSON.parse(e)},Bd=()=>{try{return sV()||aV()||cV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},nT=n=>{var e,t;return(t=(e=Bd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},rT=n=>{let e=nT(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},sy=()=>{var n;return(n=Bd())===null||n===void 0?void 0:n.config},iT=n=>{var e;return(e=Bd())===null||e===void 0?void 0:e[`_${n}`]};var Ud=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function oT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ic(JSON.stringify(t)),ic(JSON.stringify(s)),""].join(".")}function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function uV(){var n;let e=(n=Bd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cT(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function uT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lT(){return!uV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ay(){try{return typeof indexedDB=="object"}catch{return!1}}function dT(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var lV="FirebaseError",en=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=lV,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ur.prototype.create)}},ur=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?dV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new en(i,a,r)}};function dV(n,e){return n.replace(hV,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var hV=/\{\$([^}]+)}/g;function us(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(XC(o)&&XC(s)){if(!us(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function XC(n){return n!==null&&typeof n=="object"}function cy(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hT(n,e){let t=new iy(n,e);return t.subscribe.bind(t)}var iy=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");fV(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=ny),i.error===void 0&&(i.error=ny),i.complete===void 0&&(i.complete=ny);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function fV(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ny(){}var O9=4*60*60*1e3;function yt(n){return n&&n._delegate?n._delegate:n}var tn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Pi="[DEFAULT]";var uy=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Ud;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gV(e))try{this.getOrInitializeService({instanceIdentifier:Pi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Pi){return this.instances.has(e)}getOptions(e=Pi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pV(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pi){return this.component?this.component.multipleInstances?e:Pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function pV(n){return n===Pi?void 0:n}function gV(n){return n.instantiationMode==="EAGER"}var $d=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new uy(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var mV=[],fe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(fe||{}),yV={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},vV=fe.INFO,_V={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},wV=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=_V[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Yr=class{constructor(e){this.name=e,this._logLevel=vV,this._logHandler=wV,this._userLogHandler=null,mV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var IV=(n,e)=>e.some(t=>n instanceof t),fT,pT;function EV(){return fT||(fT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DV(){return pT||(pT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var gT=new WeakMap,dy=new WeakMap,mT=new WeakMap,ly=new WeakMap,fy=new WeakMap;function bV(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Nn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&gT.set(t,n)}).catch(()=>{}),fy.set(e,n),e}function CV(n){if(dy.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});dy.set(n,e)}var hy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return dy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||mT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Nn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function yT(n){hy=n(hy)}function TV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Hd(this),e,...t);return mT.set(r,e.sort?e.sort():[e]),Nn(r)}:DV().includes(n)?function(...e){return n.apply(Hd(this),e),Nn(gT.get(this))}:function(...e){return Nn(n.apply(Hd(this),e))}}function SV(n){return typeof n=="function"?TV(n):(n instanceof IDBTransaction&&CV(n),IV(n,EV())?new Proxy(n,hy):n)}function Nn(n){if(n instanceof IDBRequest)return bV(n);if(ly.has(n))return ly.get(n);let e=SV(n);return e!==n&&(ly.set(n,e),fy.set(e,n)),e}var Hd=n=>fy.get(n);function _T(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Nn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Nn(s.result),u.oldVersion,u.newVersion,Nn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var AV=["get","getKey","getAll","getAllKeys","count"],RV=["put","add","delete","clear"],py=new Map;function vT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(py.get(e))return py.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=RV.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||AV.includes(t)))return;let o=function(s,...a){return S(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return py.set(e,o),o}yT(n=>ue(L({},n),{get:(e,t,r)=>vT(e,t)||n.get(e,t,r),has:(e,t)=>!!vT(e,t)||n.has(e,t)}));var my=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(MV(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function MV(n){let e=n.getComponent();return e?.type==="VERSION"}var yy="@firebase/app",wT="0.10.13";var lr=new Yr("@firebase/app"),NV="@firebase/app-compat",xV="@firebase/analytics-compat",PV="@firebase/analytics",OV="@firebase/app-check-compat",kV="@firebase/app-check",FV="@firebase/auth",LV="@firebase/auth-compat",VV="@firebase/database",jV="@firebase/data-connect",UV="@firebase/database-compat",BV="@firebase/functions",$V="@firebase/functions-compat",HV="@firebase/installations",zV="@firebase/installations-compat",qV="@firebase/messaging",GV="@firebase/messaging-compat",WV="@firebase/performance",KV="@firebase/performance-compat",QV="@firebase/remote-config",YV="@firebase/remote-config-compat",JV="@firebase/storage",ZV="@firebase/storage-compat",XV="@firebase/firestore",e2="@firebase/vertexai-preview",t2="@firebase/firestore-compat",n2="firebase",r2="10.14.1";var vy="[DEFAULT]",i2={[yy]:"fire-core",[NV]:"fire-core-compat",[PV]:"fire-analytics",[xV]:"fire-analytics-compat",[kV]:"fire-app-check",[OV]:"fire-app-check-compat",[FV]:"fire-auth",[LV]:"fire-auth-compat",[VV]:"fire-rtdb",[jV]:"fire-data-connect",[UV]:"fire-rtdb-compat",[BV]:"fire-fn",[$V]:"fire-fn-compat",[HV]:"fire-iid",[zV]:"fire-iid-compat",[qV]:"fire-fcm",[GV]:"fire-fcm-compat",[WV]:"fire-perf",[KV]:"fire-perf-compat",[QV]:"fire-rc",[YV]:"fire-rc-compat",[JV]:"fire-gcs",[ZV]:"fire-gcs-compat",[XV]:"fire-fst",[t2]:"fire-fst-compat",[e2]:"fire-vertex","fire-js":"fire-js",[n2]:"fire-js-all"};var oc=new Map,o2=new Map,_y=new Map;function IT(n,e){try{n.container.addComponent(e)}catch(t){lr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Zr(n){let e=n.name;if(_y.has(e))return lr.debug(`There were multiple attempts to register component ${e}.`),!1;_y.set(e,n);for(let t of oc.values())IT(t,n);for(let t of o2.values())IT(t,n);return!0}function Dy(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ls(n){return n.settings!==void 0}var s2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new ur("app","Firebase",s2);var wy=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}};var ds=r2;function by(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:vy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Jr.create("bad-app-name",{appName:String(i)});if(t||(t=sy()),!t)throw Jr.create("no-options");let o=oc.get(i);if(o){if(us(t,o.options)&&us(r,o.config))return o;throw Jr.create("duplicate-app",{appName:i})}let s=new $d(i);for(let u of _y.values())s.addComponent(u);let a=new wy(t,r,s);return oc.set(i,a),a}function ac(n=vy){let e=oc.get(n);if(!e&&n===vy&&sy())return by();if(!e)throw Jr.create("no-app",{appName:n});return e}function zd(){return Array.from(oc.values())}function rt(n,e,t){var r;let i=(r=i2[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lr.warn(a.join(" "));return}Zr(new tn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var a2="firebase-heartbeat-database",c2=1,sc="firebase-heartbeat-store",gy=null;function CT(){return gy||(gy=_T(a2,c2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(sc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Jr.create("idb-open",{originalErrorMessage:n.message})})),gy}function u2(n){return S(this,null,function*(){try{let t=(yield CT()).transaction(sc),r=yield t.objectStore(sc).get(TT(n));return yield t.done,r}catch(e){if(e instanceof en)lr.warn(e.message);else{let t=Jr.create("idb-get",{originalErrorMessage:e?.message});lr.warn(t.message)}}})}function ET(n,e){return S(this,null,function*(){try{let r=(yield CT()).transaction(sc,"readwrite");yield r.objectStore(sc).put(e,TT(n)),yield r.done}catch(t){if(t instanceof en)lr.warn(t.message);else{let r=Jr.create("idb-set",{originalErrorMessage:t?.message});lr.warn(r.message)}}})}function TT(n){return`${n.name}!${n.options.appId}`}var l2=1024,d2=30*24*60*60*1e3,Iy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Ey(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=DT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=d2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){lr.warn(r)}})}getHeartbeatsHeader(){return S(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=DT(),{heartbeatsToSend:r,unsentEntries:i}=h2(this._heartbeatsCache.heartbeats),o=ic(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return lr.warn(t),""}})}};function DT(){return new Date().toISOString().substring(0,10)}function h2(n,e=l2){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),bT(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),bT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Ey=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return ay()?dT().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield u2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ET(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ET(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function bT(n){return ic(JSON.stringify({version:2,heartbeats:n})).length}function f2(n){Zr(new tn("platform-logger",e=>new my(e),"PRIVATE")),Zr(new tn("heartbeat",e=>new Iy(e),"PRIVATE")),rt(yy,wT,n),rt(yy,wT,"esm2017"),rt("fire-js","")}f2("");var p2="firebase",g2="10.14.1";rt(p2,g2,"app");var fs=new Wn("ANGULARFIRE2_VERSION");function Ty(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var uc=(n,e)=>{let t=e?[e]:zd(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},cc=class{constructor(){return uc(m2)}},m2="app-check";function hs(){}var qd=class{zone;delegate;constructor(e,t=Hf){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},Cy=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hs,{},hs,hs)),t.pipe(qe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},lc=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new qd(Zone.current)),this.insideAngular=t.run(()=>new qd(Zone.current,$f)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(q(Ee))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Gd(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function y2(n){return Gd().ngZone.runOutsideAngular(()=>n())}function Oi(n){return Gd().ngZone.run(()=>n())}function v2(n){return _2(Gd())(n)}function _2(n){return function(t){return t=t.lift(new Cy(n.ngZone)),t.pipe(Dr(n.outsideAngular),Er(n.insideAngular))}}var w2=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Oi(()=>n.apply(void 0,r))},$t=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=Oi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hs,{},hs,hs))),r[o]=w2(r[o],t));let i=y2(()=>n.apply(this,r));if(!e)if(i instanceof le){let o=Gd();return i.pipe(Dr(o.outsideAngular),Er(o.insideAngular))}else return Oi(()=>i);return i instanceof le?i.pipe(v2):i instanceof Promise?Oi(()=>new Promise((o,s)=>i.then(a=>Oi(()=>o(a)),a=>Oi(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Oi(()=>i)};var ki=class{constructor(e){return e}},dc=class{constructor(){return zd()}};function I2(n){return n&&n.length===1?n[0]:new ki(ac())}var Sy=new H("angularfire2._apps"),E2={provide:ki,useFactory:I2,deps:[[new Kt,Sy]]},D2={provide:dc,deps:[[new Kt,Sy]]};function b2(n){return(e,t)=>{let r=t.get(Zt);rt("angularfire",fs.full,"core"),rt("angularfire",fs.full,"app"),rt("angular",GD.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ki(i)}}function ST(n,...e){return bn([E2,D2,{provide:Sy,useFactory:b2(n),multi:!0,deps:[Ee,St,lc,...e]}])}var AT=$t(by,!0);function FT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var LT=FT,VT=new ur("auth","Firebase",FT());var Yd=new Yr("@firebase/auth");function T2(n,...e){Yd.logLevel<=fe.WARN&&Yd.warn(`Auth (${ds}): ${n}`,...e)}function Kd(n,...e){Yd.logLevel<=fe.ERROR&&Yd.error(`Auth (${ds}): ${n}`,...e)}function RT(n,...e){throw jy(n,...e)}function Vy(n,...e){return jy(n,...e)}function jT(n,e,t){let r=Object.assign(Object.assign({},LT()),{[e]:t});return new ur("auth","Firebase",r).create(e,{appName:n.name})}function Qd(n){return jT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jy(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return VT.create(n,...e)}function we(n,e,...t){if(!n)throw jy(e,...t)}function hc(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Kd(e),new Error(e)}function Jd(n,e){n||hc(e)}function S2(){return MT()==="http:"||MT()==="https:"}function MT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function A2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S2()||cT()||"connection"in navigator)?navigator.onLine:!0}function R2(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Li=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Jd(t>e,"Short delay should be less than long delay!"),this.isMobile=sT()||uT()}get(){return A2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function M2(n,e){Jd(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Zd=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var N2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var x2=new Li(3e4,6e4);function UT(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function nh(o,s,a,u){return S(this,arguments,function*(n,e,t,r,i={}){return BT(n,i,()=>S(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=cy(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return aT()||(y.referrerPolicy="no-referrer"),Zd.fetch()($T(n,n.config.apiHost,t,p),y)}))})}function BT(n,e,t){return S(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},N2),e);try{let i=new My(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Wd(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wd(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Wd(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Wd(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw jT(n,h,l);RT(n,h)}}catch(i){if(i instanceof en)throw i;RT(n,"network-request-failed",{message:String(i)})}})}function $T(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?M2(n.config,i):`${n.config.apiScheme}://${i}`}var My=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Vy(this.auth,"network-request-failed")),x2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Wd(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Vy(n,e,r);return i.customData._tokenResponse=t,i}function P2(n,e){return S(this,null,function*(){return nh(n,"POST","/v1/accounts:delete",e)})}function HT(n,e){return S(this,null,function*(){return nh(n,"POST","/v1/accounts:lookup",e)})}function fc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Uy(n,e=!1){return S(this,null,function*(){let t=yt(n),r=yield t.getIdToken(e),i=zT(r);we(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:fc(Ay(i.auth_time)),issuedAtTime:fc(Ay(i.iat)),expirationTime:fc(Ay(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Ay(n){return Number(n)*1e3}function zT(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Kd("JWT malformed, contained fewer than 3 sections"),null;try{let i=oy(t);return i?JSON.parse(i):(Kd("Failed to decode base64 JWT payload"),null)}catch(i){return Kd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function NT(n){let e=zT(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ny(n,e,t=!1){return S(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof en&&O2(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function O2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var xy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),t)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var gc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fc(this.lastLoginAt),this.creationTime=fc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Xd(n){return S(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Ny(n,HT(t,{idToken:r}));we(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?qT(o.providerUserInfo):[],a=k2(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new gc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function By(n){return S(this,null,function*(){let e=yt(n);yield Xd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function k2(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function qT(n){return n.map(e=>{var{providerId:t}=e,r=zf(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function F2(n,e){return S(this,null,function*(){let t=yield BT(n,{},()=>S(this,null,function*(){let r=cy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=$T(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Zd.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function L2(n,e){return S(this,null,function*(){return nh(n,"POST","/v2/accounts:revokeToken",UT(n,e))})}var pc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");let t=NT(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return S(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield F2(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(we(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(we(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(we(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return hc("not implemented")}};function Xr(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var mc=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=zf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let t=yield Ny(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Uy(this,e)}reload(){return By(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Xd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(ls(this.auth.app))return Promise.reject(Qd(this.auth));let e=yield this.getIdToken();return yield Ny(this,P2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,j=(l=t.createdAt)!==null&&l!==void 0?l:void 0,W=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:U,emailVerified:re,isAnonymous:Ie,providerData:Y,stsTokenManager:I}=t;we(U&&I,e,"internal-error");let v=pc.fromJSON(this.name,I);we(typeof U=="string",e,"internal-error"),Xr(p,e.name),Xr(m,e.name),we(typeof re=="boolean",e,"internal-error"),we(typeof Ie=="boolean",e,"internal-error"),Xr(y,e.name),Xr(C,e.name),Xr(M,e.name),Xr(R,e.name),Xr(j,e.name),Xr(W,e.name);let _=new n({uid:U,auth:e,email:m,emailVerified:re,displayName:p,isAnonymous:Ie,photoURL:C,phoneNumber:y,tenantId:M,stsTokenManager:v,createdAt:j,lastLoginAt:W});return Y&&Array.isArray(Y)&&(_.providerData=Y.map(E=>Object.assign({},E))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,t,r=!1){return S(this,null,function*(){let i=new pc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Xd(o),o})}static _fromGetAccountInfoResponse(e,t,r){return S(this,null,function*(){let i=t.users[0];we(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?qT(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new pc;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new gc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var xT=new Map;function Fi(n){Jd(n instanceof Function,"Expected a class definition");let e=xT.get(n);return e?(Jd(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,xT.set(n,e),e)}var V2=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(t,r){return S(this,null,function*(){this.storage[t]=r})}_get(t){return S(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return S(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Py=V2;function Ry(n,e,t){return`firebase:${n}:${e}:${t}`}var eh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Ry(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ry("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?mc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return S(this,null,function*(){if(!t.length)return new n(Fi(Py),e,r);let i=(yield Promise.all(t.map(l=>S(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Fi(Py),s=Ry(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p=mc._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>S(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function PT(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(j2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(z2(e))return"Blackberry";if(q2(e))return"Webos";if(U2(e))return"Safari";if((e.includes("chrome/")||B2(e))&&!e.includes("edge/"))return"Chrome";if(H2(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function j2(n=Bt()){return/firefox\//i.test(n)}function U2(n=Bt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function B2(n=Bt()){return/crios\//i.test(n)}function $2(n=Bt()){return/iemobile/i.test(n)}function H2(n=Bt()){return/android/i.test(n)}function z2(n=Bt()){return/blackberry/i.test(n)}function q2(n=Bt()){return/webos/i.test(n)}function GT(n,e=[]){let t;switch(n){case"Browser":t=PT(Bt());break;case"Worker":t=`${PT(Bt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ds}/${r}`}var Oy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function G2(t){return S(this,arguments,function*(n,e={}){return nh(n,"GET","/v2/passwordPolicy",UT(n,e))})}var W2=6,ky=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:W2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Fy=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new th(this),this.idTokenSubscription=new th(this),this.beforeStateQueue=new Oy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fi(t)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield eh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let t=yield HT(this,{idToken:e}),r=yield mc._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var t;if(ls(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield Xd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=R2()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(ls(this.app))return Promise.reject(Qd(this));let t=e?yt(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return S(this,null,function*(){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return ls(this.app)?Promise.reject(Qd(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ls(this.app)?Promise.reject(Qd(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(Fi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield G2(this),t=new ky(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ur("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield L2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Fi(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=yield eh.create(this,[Fi(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return S(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&T2(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function K2(n){return yt(n)}var th=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=hT(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Q2={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y2(n){Q2=n}function J2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Z2(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Fi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var N6=J2("rcb"),x6=new Li(3e4,6e4);var P6=new Li(2e3,1e4);var O6=10*60*1e3;var k6=new Li(3e4,6e4);var F6=new Li(5e3,15e3);var L6=encodeURIComponent("fac");var OT="@firebase/auth",kT="1.7.9";var Ly=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function X2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ej(n){Zr(new tn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;we(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GT(n)},l=new Fy(r,i,o,u);return Z2(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Zr(new tn("auth-internal",e=>{let t=K2(e.getProvider("auth").getImmediate());return(r=>new Ly(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),rt(OT,kT,X2(n)),rt(OT,kT,"esm2017")}var tj=5*60,V6=iT("authIdTokenMaxAge")||tj;function nj(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Y2({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Vy("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",nj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ej("Browser");var tU="auth";var rh=class{constructor(){return uc(tU)}};var WT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},KT={};var ei,$y;(function(){var n;function e(I,v){function _(){}_.prototype=v.prototype,I.D=v.prototype,I.prototype=new _,I.prototype.constructor=I,I.C=function(E,D,T){for(var w=Array(arguments.length-2),Vn=2;Vn<arguments.length;Vn++)w[Vn-2]=arguments[Vn];return v.prototype[D].apply(E,w)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,_){_||(_=0);var E=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)E[D]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(D=0;16>D;++D)E[D]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=I.g[0],_=I.g[1],D=I.g[2];var T=I.g[3],w=v+(T^_&(D^T))+E[0]+3614090360&4294967295;v=_+(w<<7&4294967295|w>>>25),w=T+(D^v&(_^D))+E[1]+3905402710&4294967295,T=v+(w<<12&4294967295|w>>>20),w=D+(_^T&(v^_))+E[2]+606105819&4294967295,D=T+(w<<17&4294967295|w>>>15),w=_+(v^D&(T^v))+E[3]+3250441966&4294967295,_=D+(w<<22&4294967295|w>>>10),w=v+(T^_&(D^T))+E[4]+4118548399&4294967295,v=_+(w<<7&4294967295|w>>>25),w=T+(D^v&(_^D))+E[5]+1200080426&4294967295,T=v+(w<<12&4294967295|w>>>20),w=D+(_^T&(v^_))+E[6]+2821735955&4294967295,D=T+(w<<17&4294967295|w>>>15),w=_+(v^D&(T^v))+E[7]+4249261313&4294967295,_=D+(w<<22&4294967295|w>>>10),w=v+(T^_&(D^T))+E[8]+1770035416&4294967295,v=_+(w<<7&4294967295|w>>>25),w=T+(D^v&(_^D))+E[9]+2336552879&4294967295,T=v+(w<<12&4294967295|w>>>20),w=D+(_^T&(v^_))+E[10]+4294925233&4294967295,D=T+(w<<17&4294967295|w>>>15),w=_+(v^D&(T^v))+E[11]+2304563134&4294967295,_=D+(w<<22&4294967295|w>>>10),w=v+(T^_&(D^T))+E[12]+1804603682&4294967295,v=_+(w<<7&4294967295|w>>>25),w=T+(D^v&(_^D))+E[13]+4254626195&4294967295,T=v+(w<<12&4294967295|w>>>20),w=D+(_^T&(v^_))+E[14]+2792965006&4294967295,D=T+(w<<17&4294967295|w>>>15),w=_+(v^D&(T^v))+E[15]+1236535329&4294967295,_=D+(w<<22&4294967295|w>>>10),w=v+(D^T&(_^D))+E[1]+4129170786&4294967295,v=_+(w<<5&4294967295|w>>>27),w=T+(_^D&(v^_))+E[6]+3225465664&4294967295,T=v+(w<<9&4294967295|w>>>23),w=D+(v^_&(T^v))+E[11]+643717713&4294967295,D=T+(w<<14&4294967295|w>>>18),w=_+(T^v&(D^T))+E[0]+3921069994&4294967295,_=D+(w<<20&4294967295|w>>>12),w=v+(D^T&(_^D))+E[5]+3593408605&4294967295,v=_+(w<<5&4294967295|w>>>27),w=T+(_^D&(v^_))+E[10]+38016083&4294967295,T=v+(w<<9&4294967295|w>>>23),w=D+(v^_&(T^v))+E[15]+3634488961&4294967295,D=T+(w<<14&4294967295|w>>>18),w=_+(T^v&(D^T))+E[4]+3889429448&4294967295,_=D+(w<<20&4294967295|w>>>12),w=v+(D^T&(_^D))+E[9]+568446438&4294967295,v=_+(w<<5&4294967295|w>>>27),w=T+(_^D&(v^_))+E[14]+3275163606&4294967295,T=v+(w<<9&4294967295|w>>>23),w=D+(v^_&(T^v))+E[3]+4107603335&4294967295,D=T+(w<<14&4294967295|w>>>18),w=_+(T^v&(D^T))+E[8]+1163531501&4294967295,_=D+(w<<20&4294967295|w>>>12),w=v+(D^T&(_^D))+E[13]+2850285829&4294967295,v=_+(w<<5&4294967295|w>>>27),w=T+(_^D&(v^_))+E[2]+4243563512&4294967295,T=v+(w<<9&4294967295|w>>>23),w=D+(v^_&(T^v))+E[7]+1735328473&4294967295,D=T+(w<<14&4294967295|w>>>18),w=_+(T^v&(D^T))+E[12]+2368359562&4294967295,_=D+(w<<20&4294967295|w>>>12),w=v+(_^D^T)+E[5]+4294588738&4294967295,v=_+(w<<4&4294967295|w>>>28),w=T+(v^_^D)+E[8]+2272392833&4294967295,T=v+(w<<11&4294967295|w>>>21),w=D+(T^v^_)+E[11]+1839030562&4294967295,D=T+(w<<16&4294967295|w>>>16),w=_+(D^T^v)+E[14]+4259657740&4294967295,_=D+(w<<23&4294967295|w>>>9),w=v+(_^D^T)+E[1]+2763975236&4294967295,v=_+(w<<4&4294967295|w>>>28),w=T+(v^_^D)+E[4]+1272893353&4294967295,T=v+(w<<11&4294967295|w>>>21),w=D+(T^v^_)+E[7]+4139469664&4294967295,D=T+(w<<16&4294967295|w>>>16),w=_+(D^T^v)+E[10]+3200236656&4294967295,_=D+(w<<23&4294967295|w>>>9),w=v+(_^D^T)+E[13]+681279174&4294967295,v=_+(w<<4&4294967295|w>>>28),w=T+(v^_^D)+E[0]+3936430074&4294967295,T=v+(w<<11&4294967295|w>>>21),w=D+(T^v^_)+E[3]+3572445317&4294967295,D=T+(w<<16&4294967295|w>>>16),w=_+(D^T^v)+E[6]+76029189&4294967295,_=D+(w<<23&4294967295|w>>>9),w=v+(_^D^T)+E[9]+3654602809&4294967295,v=_+(w<<4&4294967295|w>>>28),w=T+(v^_^D)+E[12]+3873151461&4294967295,T=v+(w<<11&4294967295|w>>>21),w=D+(T^v^_)+E[15]+530742520&4294967295,D=T+(w<<16&4294967295|w>>>16),w=_+(D^T^v)+E[2]+3299628645&4294967295,_=D+(w<<23&4294967295|w>>>9),w=v+(D^(_|~T))+E[0]+4096336452&4294967295,v=_+(w<<6&4294967295|w>>>26),w=T+(_^(v|~D))+E[7]+1126891415&4294967295,T=v+(w<<10&4294967295|w>>>22),w=D+(v^(T|~_))+E[14]+2878612391&4294967295,D=T+(w<<15&4294967295|w>>>17),w=_+(T^(D|~v))+E[5]+4237533241&4294967295,_=D+(w<<21&4294967295|w>>>11),w=v+(D^(_|~T))+E[12]+1700485571&4294967295,v=_+(w<<6&4294967295|w>>>26),w=T+(_^(v|~D))+E[3]+2399980690&4294967295,T=v+(w<<10&4294967295|w>>>22),w=D+(v^(T|~_))+E[10]+4293915773&4294967295,D=T+(w<<15&4294967295|w>>>17),w=_+(T^(D|~v))+E[1]+2240044497&4294967295,_=D+(w<<21&4294967295|w>>>11),w=v+(D^(_|~T))+E[8]+1873313359&4294967295,v=_+(w<<6&4294967295|w>>>26),w=T+(_^(v|~D))+E[15]+4264355552&4294967295,T=v+(w<<10&4294967295|w>>>22),w=D+(v^(T|~_))+E[6]+2734768916&4294967295,D=T+(w<<15&4294967295|w>>>17),w=_+(T^(D|~v))+E[13]+1309151649&4294967295,_=D+(w<<21&4294967295|w>>>11),w=v+(D^(_|~T))+E[4]+4149444226&4294967295,v=_+(w<<6&4294967295|w>>>26),w=T+(_^(v|~D))+E[11]+3174756917&4294967295,T=v+(w<<10&4294967295|w>>>22),w=D+(v^(T|~_))+E[2]+718787259&4294967295,D=T+(w<<15&4294967295|w>>>17),w=_+(T^(D|~v))+E[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+T&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var _=v-this.blockSize,E=this.B,D=this.h,T=0;T<v;){if(D==0)for(;T<=_;)i(this,I,T),T+=this.blockSize;if(typeof I=="string"){for(;T<v;)if(E[D++]=I.charCodeAt(T++),D==this.blockSize){i(this,E),D=0;break}}else for(;T<v;)if(E[D++]=I[T++],D==this.blockSize){i(this,E),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var _=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=_&255,_/=256;for(this.u(I),I=Array(16),v=_=0;4>v;++v)for(var E=0;32>E;E+=8)I[_++]=this.g[v]>>>E&255;return I};function o(I,v){var _=a;return Object.prototype.hasOwnProperty.call(_,I)?_[I]:_[I]=v(I)}function s(I,v){this.h=v;for(var _=[],E=!0,D=I.length-1;0<=D;D--){var T=I[D]|0;E&&T==v||(_[D]=T,E=!1)}this.g=_}var a={};function u(I){return-128<=I&&128>I?o(I,function(v){return new s([v|0],0>v?-1:0)}):new s([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return R(l(-I));for(var v=[],_=1,E=0;I>=_;E++)v[E]=I/_|0,_*=4294967296;return new s(v,0)}function h(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return R(h(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),E=p,D=0;D<I.length;D+=8){var T=Math.min(8,I.length-D),w=parseInt(I.substring(D,D+T),v);8>T?(T=l(Math.pow(v,T)),E=E.j(T).add(l(w))):(E=E.j(_),E=E.add(l(w)))}return E}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-R(this).m();for(var I=0,v=1,_=0;_<this.g.length;_++){var E=this.i(_);I+=(0<=E?E:4294967296+E)*v,v*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C(this))return"0";if(M(this))return"-"+R(this).toString(I);for(var v=l(Math.pow(I,6)),_=this,E="";;){var D=re(_,v).g;_=j(_,D.j(v));var T=((0<_.g.length?_.g[0]:_.h)>>>0).toString(I);if(_=D,C(_))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function C(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function M(I){return I.h==-1}n.l=function(I){return I=j(this,I),M(I)?-1:C(I)?0:1};function R(I){for(var v=I.g.length,_=[],E=0;E<v;E++)_[E]=~I.g[E];return new s(_,~I.h).add(m)}n.abs=function(){return M(this)?R(this):this},n.add=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],E=0,D=0;D<=v;D++){var T=E+(this.i(D)&65535)+(I.i(D)&65535),w=(T>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);E=w>>>16,T&=65535,w&=65535,_[D]=w<<16|T}return new s(_,_[_.length-1]&-2147483648?-1:0)};function j(I,v){return I.add(R(v))}n.j=function(I){if(C(this)||C(I))return p;if(M(this))return M(I)?R(this).j(R(I)):R(R(this).j(I));if(M(I))return R(this.j(R(I)));if(0>this.l(y)&&0>I.l(y))return l(this.m()*I.m());for(var v=this.g.length+I.g.length,_=[],E=0;E<2*v;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var D=0;D<I.g.length;D++){var T=this.i(E)>>>16,w=this.i(E)&65535,Vn=I.i(D)>>>16,Fs=I.i(D)&65535;_[2*E+2*D]+=w*Fs,W(_,2*E+2*D),_[2*E+2*D+1]+=T*Fs,W(_,2*E+2*D+1),_[2*E+2*D+1]+=w*Vn,W(_,2*E+2*D+1),_[2*E+2*D+2]+=T*Vn,W(_,2*E+2*D+2)}for(E=0;E<v;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=v;E<2*v;E++)_[E]=0;return new s(_,0)};function W(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function U(I,v){this.g=I,this.h=v}function re(I,v){if(C(v))throw Error("division by zero");if(C(I))return new U(p,p);if(M(I))return v=re(R(I),v),new U(R(v.g),R(v.h));if(M(v))return v=re(I,R(v)),new U(R(v.g),v.h);if(30<I.g.length){if(M(I)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,E=v;0>=E.l(I);)_=Ie(_),E=Ie(E);var D=Y(_,1),T=Y(E,1);for(E=Y(E,2),_=Y(_,2);!C(E);){var w=T.add(E);0>=w.l(I)&&(D=D.add(_),T=w),E=Y(E,1),_=Y(_,1)}return v=j(I,D.j(v)),new U(D,v)}for(D=p;0<=I.l(v);){for(_=Math.max(1,Math.floor(I.m()/v.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(_),w=T.j(v);M(w)||0<w.l(I);)_-=E,T=l(_),w=T.j(v);C(T)&&(T=m),D=D.add(T),I=j(I,w)}return new U(D,I)}n.A=function(I){return re(this,I).h},n.and=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)&I.i(E);return new s(_,this.h&I.h)},n.or=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)|I.i(E);return new s(_,this.h|I.h)},n.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)^I.i(E);return new s(_,this.h^I.h)};function Ie(I){for(var v=I.g.length+1,_=[],E=0;E<v;E++)_[E]=I.i(E)<<1|I.i(E-1)>>>31;return new s(_,I.h)}function Y(I,v){var _=v>>5;v%=32;for(var E=I.g.length-_,D=[],T=0;T<E;T++)D[T]=0<v?I.i(T+_)>>>v|I.i(T+_+1)<<32-v:I.i(T+_);return new s(D,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$y=KT.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,ei=KT.Integer=s}).apply(typeof WT<"u"?WT:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dr={};var Hy,nU,ps,zy,yc,oh,qy,Gy,Wy;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,A){for(var V=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)V[Te-2]=arguments[Te];return d.prototype[b].apply(g,V)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,A=g.length||0;c.length=b+A;for(let V=0;V<A;V++)c[b+V]=g[V]}else c.push(g)}}class j{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function W(c){return/^[\s\xa0]*$/.test(c)}function U(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var Ie=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function Y(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function I(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let A=0;A<_.length;A++)f=_[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function w(){var c=Xh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Vn{constructor(){this.h=this.g=null}add(d,f){let g=Fs.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Fs=new j(()=>new XA,c=>c.reset());class XA{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ls,Vs=!1,Xh=new Vn,ow=()=>{let c=a.Promise.resolve(void 0);Ls=()=>{c.then(eR)}};var eR=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){T(f)}var d=Fs;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Vs=!1};function yr(){this.s=this.s,this.C=this.C}yr.prototype.s=!1,yr.prototype.ma=function(){this.s||(this.s=!0,this.N())},yr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var tR=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function js(c,d){if(ut.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ie){e:{try{re(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:nR[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&js.aa.h.call(this)}}C(js,ut);var nR={2:"touch",3:"pen",4:"mouse"};js.prototype.h=function(){js.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Us="closure_listenable_"+(1e6*Math.random()|0),rR=0;function iR(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++rR,this.da=this.fa=!1}function $c(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Hc(c){this.src=c,this.g={},this.h=0}Hc.prototype.add=function(c,d,f,g,b){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var V=tf(c,d,g,b);return-1<V?(d=c[V],f||(d.fa=!1)):(d=new iR(d,this.src,A,!!g,b),d.fa=f,c.push(d)),d};function ef(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(g,b,1),A&&($c(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function tf(c,d,f,g){for(var b=0;b<c.length;++b){var A=c[b];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return b}return-1}var nf="closure_lm_"+(1e6*Math.random()|0),rf={};function sw(c,d,f,g,b){if(g&&g.once)return cw(c,d,f,g,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)sw(c,d[A],f,g,b);return null}return f=cf(f),c&&c[Us]?c.K(d,f,l(g)?!!g.capture:!!g,b):aw(c,d,f,!1,g,b)}function aw(c,d,f,g,b,A){if(!d)throw Error("Invalid event type");var V=l(b)?!!b.capture:!!b,Te=sf(c);if(Te||(c[nf]=Te=new Hc(c)),f=Te.add(d,f,g,V,A),f.proxy)return f;if(g=oR(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)tR||(b=V),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(lw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function oR(){function c(f){return d.call(c.src,c.listener,f)}let d=sR;return c}function cw(c,d,f,g,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)cw(c,d[A],f,g,b);return null}return f=cf(f),c&&c[Us]?c.L(d,f,l(g)?!!g.capture:!!g,b):aw(c,d,f,!0,g,b)}function uw(c,d,f,g,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)uw(c,d[A],f,g,b);else g=l(g)?!!g.capture:!!g,f=cf(f),c&&c[Us]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=tf(A,f,g,b),-1<f&&($c(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=sf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=tf(d,f,g,b)),(f=-1<c?d[c]:null)&&of(f))}function of(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Us])ef(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(lw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=sf(d))?(ef(f,c),f.h==0&&(f.src=null,d[nf]=null)):$c(c)}}}function lw(c){return c in rf?rf[c]:rf[c]="on"+c}function sR(c,d){if(c.da)c=!0;else{d=new js(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&of(c),c=f.call(g,d)}return c}function sf(c){return c=c[nf],c instanceof Hc?c:null}var af="__closure_events_fn_"+(1e9*Math.random()>>>0);function cf(c){return typeof c=="function"?c:(c[af]||(c[af]=function(d){return c.handleEvent(d)}),c[af])}function lt(){yr.call(this),this.i=new Hc(this),this.M=this,this.F=null}C(lt,yr),lt.prototype[Us]=!0,lt.prototype.removeEventListener=function(c,d,f,g){uw(this,c,d,f,g)};function It(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new ut(d,c);else if(d instanceof ut)d.target=d.target||c;else{var b=d;d=new ut(g,c),E(d,b)}if(b=!0,f)for(var A=f.length-1;0<=A;A--){var V=d.g=f[A];b=zc(V,g,!0,d)&&b}if(V=d.g=c,b=zc(V,g,!0,d)&&b,b=zc(V,g,!1,d)&&b,f)for(A=0;A<f.length;A++)V=d.g=f[A],b=zc(V,g,!1,d)&&b}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)$c(f[g]);delete c.g[d],c.h--}}this.F=null},lt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},lt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function zc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var V=d[A];if(V&&!V.da&&V.capture==f){var Te=V.listener,ot=V.ha||V.src;V.fa&&ef(c.i,V),b=Te.call(ot,g)!==!1&&b}}return b&&!g.defaultPrevented}function dw(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function hw(c){c.g=dw(()=>{c.g=null,c.i&&(c.i=!1,hw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class aR extends yr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:hw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bs(c){yr.call(this),this.h=c,this.g={}}C(Bs,yr);var fw=[];function pw(c){Y(c.g,function(d,f){this.g.hasOwnProperty(f)&&of(d)},c),c.g={}}Bs.prototype.N=function(){Bs.aa.N.call(this),pw(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var uf=a.JSON.stringify,cR=a.JSON.parse,uR=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function lf(){}lf.prototype.h=null;function gw(c){return c.h||(c.h=c.i())}function mw(){}var $s={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function df(){ut.call(this,"d")}C(df,ut);function hf(){ut.call(this,"c")}C(hf,ut);var ci={},yw=null;function qc(){return yw=yw||new lt}ci.La="serverreachability";function vw(c){ut.call(this,ci.La,c)}C(vw,ut);function Hs(c){let d=qc();It(d,new vw(d))}ci.STAT_EVENT="statevent";function _w(c,d){ut.call(this,ci.STAT_EVENT,c),this.stat=d}C(_w,ut);function Et(c){let d=qc();It(d,new _w(d,c))}ci.Ma="timingevent";function ww(c,d){ut.call(this,ci.Ma,c),this.size=d}C(ww,ut);function zs(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function qs(){this.g=!0}qs.prototype.xa=function(){this.g=!1};function lR(c,d,f,g,b,A){c.info(function(){if(c.g)if(A)for(var V="",Te=A.split("&"),ot=0;ot<Te.length;ot++){var ve=Te[ot].split("=");if(1<ve.length){var dt=ve[0];ve=ve[1];var ht=dt.split("_");V=2<=ht.length&&ht[1]=="type"?V+(dt+"="+ve+"&"):V+(dt+"=redacted&")}}else V=null;else V=A;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+V})}function dR(c,d,f,g,b,A,V){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+A+" "+V})}function Zi(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+fR(c,f)+(g?" "+g:"")})}function hR(c,d){c.info(function(){return"TIMEOUT: "+d})}qs.prototype.info=function(){};function fR(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var V=1;V<b.length;V++)b[V]=""}}}}return uf(f)}catch{return d}}var Gc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Iw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ff;function Wc(){}C(Wc,lf),Wc.prototype.g=function(){return new XMLHttpRequest},Wc.prototype.i=function(){return{}},ff=new Wc;function vr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ew}function Ew(){this.i=null,this.g="",this.h=!1}var Dw={},pf={};function gf(c,d,f){c.L=1,c.v=Jc(jn(d)),c.m=f,c.P=!0,bw(c,null)}function bw(c,d){c.F=Date.now(),Kc(c),c.A=jn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),Vw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new Ew,c.g=nI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new aR(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(fw[0]=b.toString()),b=fw);for(var A=0;A<b.length;A++){var V=sw(f,b[A],g||d.handleEvent,!1,d.h||d);if(!V)break;d.g[V.key]=V}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Hs(),lR(c.i,c.u,c.A,c.l,c.R,c.m)}vr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Un(c)==3?d.j():this.Y(c)},vr.prototype.Y=function(c){try{if(c==this.g)e:{let ht=Un(this.g);var d=this.g.Ba();let to=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||qw(this.g)))){this.J||ht!=4||d==7||(d==8||0>=to?Hs(3):Hs(2)),mf(this);var f=this.g.Z();this.X=f;t:if(Cw(this)){var g=qw(this.g);c="";var b=g.length,A=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ui(this),Gs(this);var V="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=f==200,dR(this.i,this.u,this.A,this.l,this.R,ht,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,ot=this.g;if((Te=ot.g?ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Te)){var ve=Te;break t}}ve=null}if(f=ve)Zi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yf(this,f);else{this.o=!1,this.s=3,Et(12),ui(this),Gs(this);break e}}if(this.P){f=!0;let rn;for(;!this.J&&this.C<V.length;)if(rn=pR(this,V),rn==pf){ht==4&&(this.s=4,Et(14),f=!1),Zi(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Dw){this.s=4,Et(15),Zi(this.i,this.l,V,"[Invalid Chunk]"),f=!1;break}else Zi(this.i,this.l,rn,null),yf(this,rn);if(Cw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||V.length!=0||this.h.h||(this.s=1,Et(16),f=!1),this.o=this.o&&f,!f)Zi(this.i,this.l,V,"[Invalid Chunked Response]"),ui(this),Gs(this);else if(0<V.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),Df(dt),dt.M=!0,Et(11))}}else Zi(this.i,this.l,V,null),yf(this,V);ht==4&&ui(this),this.o&&!this.J&&(ht==4?Zw(this.j,this):(this.o=!1,Kc(this)))}else NR(this.g),f==400&&0<V.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),ui(this),Gs(this)}}}catch{}finally{}};function Cw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function pR(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?pf:(f=Number(d.substring(f,g)),isNaN(f)?Dw:(g+=1,g+f>d.length?pf:(d=d.slice(g,g+f),c.C=g+f,d)))}vr.prototype.cancel=function(){this.J=!0,ui(this)};function Kc(c){c.S=Date.now()+c.I,Tw(c,c.I)}function Tw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=zs(m(c.ba,c),d)}function mf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}vr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(hR(this.i,this.A),this.L!=2&&(Hs(),Et(17)),ui(this),this.s=2,Gs(this)):Tw(this,this.S-c)};function Gs(c){c.j.G==0||c.J||Zw(c.j,c)}function ui(c){mf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,pw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function yf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||vf(f.h,c))){if(!c.K&&vf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)nu(f),eu(f);else break e;Ef(f),Et(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=zs(m(f.Za,f),6e3));if(1>=Rw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else di(f,11)}else if((c.K||f.g==c)&&nu(f),!W(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ve=b[d];if(f.T=ve[0],ve=ve[1],f.G==2)if(ve[0]=="c"){f.K=ve[1],f.ia=ve[2];let dt=ve[3];dt!=null&&(f.la=dt,f.j.info("VER="+f.la));let ht=ve[4];ht!=null&&(f.Aa=ht,f.j.info("SVER="+f.Aa));let to=ve[5];to!=null&&typeof to=="number"&&0<to&&(g=1.5*to,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let rn=c.g;if(rn){let iu=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(iu){var A=g.h;A.g||iu.indexOf("spdy")==-1&&iu.indexOf("quic")==-1&&iu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(_f(A,A.h),A.h=null))}if(g.D){let bf=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;bf&&(g.ya=bf,xe(g.I,g.D,bf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var V=c;if(g.qa=tI(g,g.J?g.ia:null,g.W),V.K){Mw(g.h,V);var Te=V,ot=g.L;ot&&(Te.I=ot),Te.B&&(mf(Te),Kc(Te)),g.g=V}else Yw(g);0<f.i.length&&tu(f)}else ve[0]!="stop"&&ve[0]!="close"||di(f,7);else f.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?di(f,7):If(f):ve[0]!="noop"&&f.l&&f.l.ta(ve),f.v=0)}}Hs(4)}catch{}}var gR=class{constructor(c,d){this.g=c,this.map=d}};function Sw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Aw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Rw(c){return c.h?1:c.g?c.g.size:0}function vf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function _f(c,d){c.g?c.g.add(d):c.h=d}function Mw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Sw.prototype.cancel=function(){if(this.i=Nw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Nw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function mR(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function yR(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function xw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=yR(c),g=mR(c),b=g.length,A=0;A<b;A++)d.call(void 0,g[A],f&&f[A],c)}var Pw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vR(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var A=c[f].substring(0,g);b=c[f].substring(g+1)}else A=c[f];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function li(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof li){this.h=c.h,Qc(this,c.j),this.o=c.o,this.g=c.g,Yc(this,c.s),this.l=c.l;var d=c.i,f=new Qs;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Ow(this,f),this.m=c.m}else c&&(d=String(c).match(Pw))?(this.h=!1,Qc(this,d[1]||"",!0),this.o=Ws(d[2]||""),this.g=Ws(d[3]||"",!0),Yc(this,d[4]),this.l=Ws(d[5]||"",!0),Ow(this,d[6]||"",!0),this.m=Ws(d[7]||"")):(this.h=!1,this.i=new Qs(null,this.h))}li.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ks(d,kw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ks(d,kw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ks(f,f.charAt(0)=="/"?IR:wR,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ks(f,DR)),c.join("")};function jn(c){return new li(c)}function Qc(c,d,f){c.j=f?Ws(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Yc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Ow(c,d,f){d instanceof Qs?(c.i=d,bR(c.i,c.h)):(f||(d=Ks(d,ER)),c.i=new Qs(d,c.h))}function xe(c,d,f){c.i.set(d,f)}function Jc(c){return xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ws(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ks(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,_R),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function _R(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var kw=/[#\/\?@]/g,wR=/[#\?:]/g,IR=/[#\?]/g,ER=/[#\?@]/g,DR=/#/g;function Qs(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function _r(c){c.g||(c.g=new Map,c.h=0,c.i&&vR(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Qs.prototype,n.add=function(c,d){_r(this),this.i=null,c=Xi(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function Fw(c,d){_r(c),d=Xi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Lw(c,d){return _r(c),d=Xi(c,d),c.g.has(d)}n.forEach=function(c,d){_r(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},n.na=function(){_r(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let A=0;A<b.length;A++)f.push(d[g])}return f},n.V=function(c){_r(this);let d=[];if(typeof c=="string")Lw(this,c)&&(d=d.concat(this.g.get(Xi(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return _r(this),this.i=null,c=Xi(this,c),Lw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Vw(c,d,f){Fw(c,d),0<f.length&&(c.i=null,c.g.set(Xi(c,d),M(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),V=this.V(g);for(g=0;g<V.length;g++){var b=A;V[g]!==""&&(b+="="+encodeURIComponent(String(V[g]))),c.push(b)}}return this.i=c.join("&")};function Xi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function bR(c,d){d&&!c.j&&(_r(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(Fw(this,g),Vw(this,b,f))},c)),c.j=d}function CR(c,d){let f=new qs;if(a.Image){let g=new Image;g.onload=y(wr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(wr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(wr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(wr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function TR(c,d){let f=new qs,g=new AbortController,b=setTimeout(()=>{g.abort(),wr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(b),A.ok?wr(f,"TestPingServer: ok",!0,d):wr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),wr(f,"TestPingServer: error",!1,d)})}function wr(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function SR(){this.g=new uR}function AR(c,d,f){let g=f||"";try{xw(c,function(b,A){let V=b;l(b)&&(V=uf(b)),d.push(g+A+"="+encodeURIComponent(V))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function Ys(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Ys,lf),Ys.prototype.g=function(){return new Zc(this.l,this.j)},Ys.prototype.i=function(c){return function(){return c}}({});function Zc(c,d){lt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Zc,lt),n=Zc.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Zs(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Js(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zs(this)),this.g&&(this.readyState=3,Zs(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function jw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Js(this):Zs(this),this.readyState==3&&jw(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Js(this))},n.Qa=function(c){this.g&&(this.response=c,Js(this))},n.ga=function(){this.g&&Js(this)};function Js(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Zs(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Zs(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Zc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Uw(c){let d="";return Y(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function wf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=Uw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):xe(c,d,f))}function Le(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Le,lt);var RR=/^https?$/i,MR=["POST","PUT"];n=Le.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ff.g(),this.v=this.o?gw(this.o):gw(ff),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){Bw(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(MR,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,V]of f)this.g.setRequestHeader(A,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zw(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){Bw(this,A)}};function Bw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,$w(c),Xc(c)}function $w(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,It(this,"complete"),It(this,"abort"),Xc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xc(this,!0)),Le.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Hw(this):this.bb())},n.bb=function(){Hw(this)};function Hw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Un(c)!=4||c.Z()!=2)){if(c.u&&Un(c)==4)dw(c.Ea,0,c);else if(It(c,"readystatechange"),Un(c)==4){c.h=!1;try{let V=c.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=V===0){var b=String(c.D).match(Pw)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!RR.test(b?b.toLowerCase():"")}f=g}if(f)It(c,"complete"),It(c,"success");else{c.m=6;try{var A=2<Un(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",$w(c)}}finally{Xc(c)}}}}function Xc(c,d){if(c.g){zw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||It(c,"ready");try{f.onreadystatechange=g}catch{}}}function zw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Un(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),cR(d)}};function qw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function NR(c){let d={};c=(c.g&&2<=Un(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(W(c[g]))continue;var f=D(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[b]||[];d[b]=A,A.push(f)}I(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Gw(c){this.Aa=0,this.i=[],this.j=new qs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xs("baseRetryDelayMs",5e3,c),this.cb=Xs("retryDelaySeedMs",1e4,c),this.Wa=Xs("forwardChannelMaxRetries",2,c),this.wa=Xs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Sw(c&&c.concurrentRequestLimit),this.Da=new SR,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Gw.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){Et(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=tI(this,null,this.W),tu(this)};function If(c){if(Ww(c),c.G==3){var d=c.U++,f=jn(c.I);if(xe(f,"SID",c.K),xe(f,"RID",d),xe(f,"TYPE","terminate"),ea(c,f),d=new vr(c,c.j,d),d.L=2,d.v=Jc(jn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=nI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Kc(d)}eI(c)}function eu(c){c.g&&(Df(c),c.g.cancel(),c.g=null)}function Ww(c){eu(c),c.u&&(a.clearTimeout(c.u),c.u=null),nu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function tu(c){if(!Aw(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ls||ow(),Vs||(Ls(),Vs=!0),Xh.add(d,c),c.B=0}}function xR(c,d){return Rw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=zs(m(c.Ga,c,d),Xw(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new vr(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Qw(this,b,d),f=jn(this.I),xe(f,"RID",c),xe(f,"CVER",22),this.D&&xe(f,"X-HTTP-Session-Id",this.D),ea(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(Uw(A)))+"&"+d:this.m&&wf(f,this.m,A)),_f(this.h,b),this.Ua&&xe(f,"TYPE","init"),this.P?(xe(f,"$req",d),xe(f,"SID","null"),b.T=!0,gf(b,f,null)):gf(b,f,d),this.G=2}}else this.G==3&&(c?Kw(this,c):this.i.length==0||Aw(this.h)||Kw(this))};function Kw(c,d){var f;d?f=d.l:f=c.U++;let g=jn(c.I);xe(g,"SID",c.K),xe(g,"RID",f),xe(g,"AID",c.T),ea(c,g),c.m&&c.o&&wf(g,c.m,c.o),f=new vr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Qw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),_f(c.h,f),gf(f,g,d)}function ea(c,d){c.H&&Y(c.H,function(f,g){xe(d,g,f)}),c.l&&xw({},function(f,g){xe(d,g,f)})}function Qw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let A=-1;for(;;){let V=["count="+f];A==-1?0<f?(A=b[0].g,V.push("ofs="+A)):A=0:V.push("ofs="+A);let Te=!0;for(let ot=0;ot<f;ot++){let ve=b[ot].g,dt=b[ot].map;if(ve-=A,0>ve)A=Math.max(0,b[ot].g-100),Te=!1;else try{AR(dt,V,"req"+ve+"_")}catch{g&&g(dt)}}if(Te){g=V.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function Yw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ls||ow(),Vs||(Ls(),Vs=!0),Xh.add(d,c),c.v=0}}function Ef(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=zs(m(c.Fa,c),Xw(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Jw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=zs(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),eu(this),Jw(this))};function Df(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Jw(c){c.g=new vr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=jn(c.qa);xe(d,"RID","rpc"),xe(d,"SID",c.K),xe(d,"AID",c.T),xe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&xe(d,"TO",c.ja),xe(d,"TYPE","xmlhttp"),ea(c,d),c.m&&c.o&&wf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Jc(jn(d)),f.m=null,f.P=!0,bw(f,c)}n.Za=function(){this.C!=null&&(this.C=null,eu(this),Ef(this),Et(19))};function nu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Zw(c,d){var f=null;if(c.g==d){nu(c),Df(c),c.g=null;var g=2}else if(vf(c.h,d))f=d.D,Mw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=qc(),It(g,new ww(g,f)),tu(c)}else Yw(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&xR(c,d)||g==2&&Ef(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:di(c,5);break;case 4:di(c,10);break;case 3:di(c,6);break;default:di(c,2)}}}function Xw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function di(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new li(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Qc(g,"https"),Jc(g),b?CR(g.toString(),f):TR(g.toString(),f)}else Et(2);c.G=0,c.l&&c.l.sa(d),eI(c),Ww(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function eI(c){if(c.G=0,c.ka=[],c.l){let d=Nw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function tI(c,d,f){var g=f instanceof li?jn(f):new li(f);if(g.g!="")d&&(g.g=d+"."+g.g),Yc(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new li(null);g&&Qc(A,g),d&&(A.g=d),b&&Yc(A,b),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&xe(g,f,d),xe(g,"VER",c.la),ea(c,g),g}function nI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Le(new Ys({eb:f})):new Le(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function rI(){}n=rI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ru(){}ru.prototype.g=function(c,d){return new kt(c,d)};function kt(c,d){lt.call(this),this.g=new Gw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!W(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!W(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new eo(this)}C(kt,lt),kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){If(this.g)},kt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=uf(c),c=f);d.i.push(new gR(d.Ya++,c)),d.G==3&&tu(d)},kt.prototype.N=function(){this.g.l=null,delete this.j,If(this.g),delete this.g,kt.aa.N.call(this)};function iI(c){df.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(iI,df);function oI(){hf.call(this),this.status=1}C(oI,hf);function eo(c){this.g=c}C(eo,rI),eo.prototype.ua=function(){It(this.g,"a")},eo.prototype.ta=function(c){It(this.g,new iI(c))},eo.prototype.sa=function(c){It(this.g,new oI)},eo.prototype.ra=function(){It(this.g,"b")},ru.prototype.createWebChannel=ru.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,Wy=dr.createWebChannelTransport=function(){return new ru},Gy=dr.getStatEventTarget=function(){return qc()},qy=dr.Event=ci,oh=dr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gc.NO_ERROR=0,Gc.TIMEOUT=8,Gc.HTTP_ERROR=6,yc=dr.ErrorCode=Gc,Iw.COMPLETE="complete",zy=dr.EventType=Iw,mw.EventType=$s,$s.OPEN="a",$s.CLOSE="b",$s.ERROR="c",$s.MESSAGE="d",lt.prototype.listen=lt.prototype.K,ps=dr.WebChannel=mw,nU=dr.FetchXmlHttpFactory=Ys,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,Hy=dr.XhrIo=Le}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});var QT="@firebase/firestore";var it=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");var Ps="10.14.0";var Bi=new Yr("@firebase/firestore");function vc(){return Bi.logLevel}function z(n,...e){if(Bi.logLevel<=fe.DEBUG){let t=e.map(P_);Bi.debug(`Firestore (${Ps}): ${n}`,...t)}}function pr(n,...e){if(Bi.logLevel<=fe.ERROR){let t=e.map(P_);Bi.error(`Firestore (${Ps}): ${n}`,...t)}}function Is(n,...e){if(Bi.logLevel<=fe.WARN){let t=e.map(P_);Bi.warn(`Firestore (${Ps}): ${n}`,...t)}}function P_(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Z(n="Unexpected state"){let e=`FIRESTORE (${Ps}) INTERNAL ASSERTION FAILED: `+n;throw pr(e),new Error(e)}function be(n,e){n||Z()}function ne(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends en{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var hr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var lh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Zy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(it.UNAUTHENTICATED))}shutdown(){}},Xy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},ev=class{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){be(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new hr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>S(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new hr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string"),new lh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new it(e)}},tv=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=it.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},nv=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new tv(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}},rv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},iv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){be(this.o===void 0);let r=o=>{o.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(be(typeof t.token=="string"),this.R=t.token,new rv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function rU(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var dh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=rU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function _e(n,e){return n<e?-1:n>e?1:0}function Es(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var ct=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new B(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new B(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new B(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var oe=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new ct(0,0))}static max(){return new n(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var hh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Z(),r===void 0?r=e.length-t:r>e.length-t&&Z(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Fe=class n extends hh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new B(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},iU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zt=class n extends hh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return iU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new B(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new B(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new B(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new B(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var K=class n{constructor(e){this.path=e}static fromPath(e){return new n(Fe.fromString(e))}static fromName(e){return new n(Fe.fromString(e).popFirst(5))}static empty(){return new n(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Fe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Fe(e.slice()))}};var ov=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};ov.UNKNOWN_ID=-1;function oU(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=oe.fromTimestamp(r===1e9?new ct(t+1,0):new ct(t,r));return new $i(i,K.empty(),e)}function sU(n){return new $i(n.readTime,n.key,-1)}var $i=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(oe.min(),K.empty(),-1)}static max(){return new n(oe.max(),K.empty(),-1)}};function aU(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=K.comparator(n.documentKey,e.documentKey),t!==0?t:_e(n.largestBatchId,e.largestBatchId))}var cU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Lc(n){return S(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==cU)throw n;z("LocalStore","Unexpectedly lost primary lease")})}var k=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function uU(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Vc(n){return n.name==="IndexedDbTransactionError"}var NS=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Bh(n){return n==null}function bc(n){return n===0&&1/n==-1/0}function lU(n){return typeof n=="number"&&Number.isInteger(n)&&!bc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var dU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],j5=[...dU,"documentOverlays"],hU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fU=hU,pU=[...fU,"indexConfiguration","indexState","indexEntries"];var U5=[...pU,"globals"];function YT(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function xS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ue=class n{constructor(e,t){this.comparator=e,this.root=t||Pn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vs(this.root,e,this.comparator,!1)}getReverseIterator(){return new vs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vs(this.root,e,this.comparator,!0)}},vs=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Pn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();let e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}};Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Pn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var _t=class n{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fh(this.data.getIterator())}getIteratorFrom(e){return new fh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},fh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var nn=class n{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new n([])}unionWith(e){let t=new _t(zt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Es(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var ph=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var wt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ph("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};wt.EMPTY_BYTE_STRING=new wt("");var gU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(n){if(be(!!n),typeof n=="string"){let e=0,t=gU.exec(n);if(be(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(n.seconds),nanos:Oe(n.nanos)}}function Oe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ri(n){return typeof n=="string"?wt.fromBase64String(n):wt.fromUint8Array(n)}function O_(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function k_(n){let e=n.mapValue.fields.__previous_value__;return O_(e)?k_(e):e}function Cc(n){let e=gr(n.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}var av=class{constructor(e,t,r,i,o,s,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},gh=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var sh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?O_(n)?4:OS(n)?9007199254740991:PS(n)?10:11:Z()}function Fn(n,e){if(n===e)return!0;let t=Hi(n);if(t!==Hi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cc(n).isEqual(Cc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=gr(i.timestampValue),a=gr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return ri(i.bytesValue).isEqual(ri(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Oe(i.geoPointValue.latitude)===Oe(o.geoPointValue.latitude)&&Oe(i.geoPointValue.longitude)===Oe(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Oe(i.integerValue)===Oe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Oe(i.doubleValue),a=Oe(o.doubleValue);return s===a?bc(s)===bc(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Es(n.arrayValue.values||[],e.arrayValue.values||[],Fn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(YT(s)!==YT(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Fn(s[u],a[u])))return!1;return!0}(n,e);default:return Z()}}function Tc(n,e){return(n.values||[]).find(t=>Fn(t,e))!==void 0}function Ds(n,e){if(n===e)return 0;let t=Hi(n),r=Hi(e);if(t!==r)return _e(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return _e(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Oe(o.integerValue||o.doubleValue),u=Oe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return JT(n.timestampValue,e.timestampValue);case 4:return JT(Cc(n),Cc(e));case 5:return _e(n.stringValue,e.stringValue);case 6:return function(o,s){let a=ri(o),u=ri(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=_e(a[l],u[l]);if(h!==0)return h}return _e(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=_e(Oe(o.latitude),Oe(s.latitude));return a!==0?a:_e(Oe(o.longitude),Oe(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ZT(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,C=(u=m.value)===null||u===void 0?void 0:u.arrayValue,M=_e(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:ZT(y,C)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===sh.mapValue&&s===sh.mapValue)return 0;if(o===sh.mapValue)return 1;if(s===sh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=_e(u[p],h[p]);if(m!==0)return m;let y=Ds(a[u[p]],l[h[p]]);if(y!==0)return y}return _e(u.length,h.length)}(n.mapValue,e.mapValue);default:throw Z()}}function JT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return _e(n,e);let t=gr(n),r=gr(e),i=_e(t.seconds,r.seconds);return i!==0?i:_e(t.nanos,r.nanos)}function ZT(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ds(t[i],r[i]);if(o)return o}return _e(t.length,r.length)}function bs(n){return cv(n)}function cv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=gr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ri(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return K.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=cv(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${cv(t.fields[s])}`;return i+"}"}(n.mapValue):Z()}function XT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function uv(n){return!!n&&"integerValue"in n}function F_(n){return!!n&&"arrayValue"in n}function eS(n){return!!n&&"nullValue"in n}function tS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ch(n){return!!n&&"mapValue"in n}function PS(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function wc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Qi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=wc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function OS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Ht=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ch(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wc(t)}setAll(e){let t=zt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=wc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());ch(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ch(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Qi(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(wc(this.value))}};function kS(n){let e=[];return Qi(n.fields,(t,r)=>{let i=new zt([t]);if(ch(r)){let o=kS(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new nn(e)}var pn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,oe.min(),oe.min(),oe.min(),Ht.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,oe.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,oe.min(),oe.min(),Ht.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,oe.min(),oe.min(),Ht.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Cs=class{constructor(e,t){this.position=e,this.inclusive=t}};function nS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=K.comparator(K.fromName(s.referenceValue),t.key):r=Ds(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function rS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fn(n.position[t],e.position[t]))return!1;return!0}var zi=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function mU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var mh=class{},Qe=class n extends mh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new dv(e,t,r):t==="array-contains"?new pv(e,r):t==="in"?new gv(e,r):t==="not-in"?new mv(e,r):t==="array-contains-any"?new yv(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new hv(e,r):new fv(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ds(t,this.value)):t!==null&&Hi(this.value)===Hi(t)&&this.matchesComparison(Ds(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},gn=class n extends mh{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return FS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function FS(n){return n.op==="and"}function LS(n){return yU(n)&&FS(n)}function yU(n){for(let e of n.filters)if(e instanceof gn)return!1;return!0}function lv(n){if(n instanceof Qe)return n.field.canonicalString()+n.op.toString()+bs(n.value);if(LS(n))return n.filters.map(e=>lv(e)).join(",");{let e=n.filters.map(t=>lv(t)).join(",");return`${n.op}(${e})`}}function VS(n,e){return n instanceof Qe?function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&Fn(r.value,i.value)}(n,e):n instanceof gn?function(r,i){return i instanceof gn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&VS(s,i.filters[a]),!0):!1}(n,e):void Z()}function jS(n){return n instanceof Qe?function(t){return`${t.field.canonicalString()} ${t.op} ${bs(t.value)}`}(n):n instanceof gn?function(t){return t.op.toString()+" {"+t.getFilters().map(jS).join(" ,")+"}"}(n):"Filter"}var dv=class extends Qe{constructor(e,t,r){super(e,t,r),this.key=K.fromName(r.referenceValue)}matches(e){let t=K.comparator(e.key,this.key);return this.matchesComparison(t)}},hv=class extends Qe{constructor(e,t){super(e,"in",t),this.keys=US("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},fv=class extends Qe{constructor(e,t){super(e,"not-in",t),this.keys=US("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function US(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>K.fromName(r.referenceValue))}var pv=class extends Qe{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return F_(t)&&Tc(t.arrayValue,this.value)}},gv=class extends Qe{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Tc(this.value.arrayValue,t)}},mv=class extends Qe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Tc(this.value.arrayValue,t)}},yv=class extends Qe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!F_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Tc(this.value.arrayValue,r))}};var vv=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function iS(n,e=null,t=[],r=[],i=null,o=null,s=null){return new vv(n,e,t,r,i,o,s)}function L_(n){let e=ne(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>lv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Bh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>bs(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>bs(r)).join(",")),e.ue=t}return e.ue}function V_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!mU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!VS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rS(n.startAt,e.startAt)&&rS(n.endAt,e.endAt)}function _v(n){return K.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var ii=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function vU(n,e,t,r,i,o,s,a){return new ii(n,e,t,r,i,o,s,a)}function j_(n){return new ii(n)}function oS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function BS(n){return n.collectionGroup!==null}function Ic(n){let e=ne(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new _t(zt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new zi(o,r))}),t.has(zt.keyField().canonicalString())||e.ce.push(new zi(zt.keyField(),r))}return e.ce}function On(n){let e=ne(n);return e.le||(e.le=_U(e,Ic(n))),e.le}function _U(n,e){if(n.limitType==="F")return iS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new zi(i.field,o)});let t=n.endAt?new Cs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Cs(n.startAt.position,n.startAt.inclusive):null;return iS(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function wv(n,e){let t=n.filters.concat([e]);return new ii(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Iv(n,e,t){return new ii(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $h(n,e){return V_(On(n),On(e))&&n.limitType===e.limitType}function $S(n){return`${L_(On(n))}|lt:${n.limitType}`}function gs(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>jS(i)).join(", ")}]`),Bh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>bs(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>bs(i)).join(",")),`Target(${r})`}(On(n))}; limitType=${n.limitType})`}function Hh(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):K.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Ic(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=nS(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Ic(r),i)||r.endAt&&!function(s,a,u){let l=nS(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Ic(r),i))}(n,e)}function wU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function HS(n){return(e,t)=>{let r=!1;for(let i of Ic(n)){let o=IU(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function IU(n,e,t){let r=n.field.isKeyField()?K.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Ds(u,l):Z()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}var oi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qi(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return xS(this.inner)}size(){return this.innerSize}};var EU=new Ue(K.comparator);function mr(){return EU}var zS=new Ue(K.comparator);function _c(...n){let e=zS;for(let t of n)e=e.insert(t.key,t);return e}function qS(n){let e=zS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Vi(){return Ec()}function GS(){return Ec()}function Ec(){return new oi(n=>n.toString(),(n,e)=>n.isEqual(e))}var DU=new Ue(K.comparator),bU=new _t(K.comparator);function pe(...n){let e=bU;for(let t of n)e=e.add(t);return e}var CU=new _t(_e);function TU(){return CU}function U_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bc(e)?"-0":e}}function WS(n){return{integerValue:""+n}}function SU(n,e){return lU(e)?WS(e):U_(n,e)}var Ts=class{constructor(){this._=void 0}};function AU(n,e,t){return n instanceof Ss?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&O_(o)&&(o=k_(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof qi?QS(n,e):n instanceof Gi?YS(n,e):function(i,o){let s=KS(i,o),a=sS(s)+sS(i.Pe);return uv(s)&&uv(i.Pe)?WS(a):U_(i.serializer,a)}(n,e)}function RU(n,e,t){return n instanceof qi?QS(n,e):n instanceof Gi?YS(n,e):t}function KS(n,e){return n instanceof As?function(r){return uv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ss=class extends Ts{},qi=class extends Ts{constructor(e){super(),this.elements=e}};function QS(n,e){let t=JS(e);for(let r of n.elements)t.some(i=>Fn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Gi=class extends Ts{constructor(e){super(),this.elements=e}};function YS(n,e){let t=JS(e);for(let r of n.elements)t=t.filter(i=>!Fn(i,r));return{arrayValue:{values:t}}}var As=class extends Ts{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function sS(n){return Oe(n.integerValue||n.doubleValue)}function JS(n){return F_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function MU(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof qi&&i instanceof qi||r instanceof Gi&&i instanceof Gi?Es(r.elements,i.elements,Fn):r instanceof As&&i instanceof As?Fn(r.Pe,i.Pe):r instanceof Ss&&i instanceof Ss}(n.transform,e.transform)}var Ev=class{constructor(e,t){this.version=e,this.transformResults=t}},fr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function uh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Rs=class{};function ZS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Sc(n.key,fr.none()):new Wi(n.key,n.data,fr.none());{let t=n.data,r=Ht.empty(),i=new _t(zt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ln(n.key,r,new nn(i.toArray()),fr.none())}}function NU(n,e,t){n instanceof Wi?function(i,o,s){let a=i.value.clone(),u=cS(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ln?function(i,o,s){if(!uh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=cS(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(XS(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Dc(n,e,t,r){return n instanceof Wi?function(o,s,a,u){if(!uh(o.precondition,s))return a;let l=o.value.clone(),h=uS(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ln?function(o,s,a,u){if(!uh(o.precondition,s))return a;let l=uS(o.fieldTransforms,u,s),h=s.data;return h.setAll(XS(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return uh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function xU(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=KS(r.transform,i||null);o!=null&&(t===null&&(t=Ht.empty()),t.set(r.field,o))}return t||null}function aS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Es(r,i,(o,s)=>MU(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Wi=class extends Rs{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ln=class extends Rs{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function XS(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function cS(n,e,t){let r=new Map;be(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,RU(s,a,t[i]))}return r}function uS(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,AU(o,s,e))}return r}var Sc=class extends Rs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Dv=class extends Rs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var bv=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&NU(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Dc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Dc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=GS();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=ZS(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pe())}isEqual(e){return this.batchId===e.batchId&&Es(this.mutations,e.mutations,(t,r)=>aS(t,r))&&Es(this.baseMutations,e.baseMutations,(t,r)=>aS(t,r))}},Cv=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){be(e.mutations.length===r.length);let i=function(){return DU}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Tv=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Sv=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var We,me;function PU(n){switch(n){default:return Z();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function eA(n){if(n===void 0)return pr("GRPC error has no .code"),P.UNKNOWN;switch(n){case We.OK:return P.OK;case We.CANCELLED:return P.CANCELLED;case We.UNKNOWN:return P.UNKNOWN;case We.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case We.INTERNAL:return P.INTERNAL;case We.UNAVAILABLE:return P.UNAVAILABLE;case We.UNAUTHENTICATED:return P.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case We.NOT_FOUND:return P.NOT_FOUND;case We.ALREADY_EXISTS:return P.ALREADY_EXISTS;case We.PERMISSION_DENIED:return P.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case We.ABORTED:return P.ABORTED;case We.OUT_OF_RANGE:return P.OUT_OF_RANGE;case We.UNIMPLEMENTED:return P.UNIMPLEMENTED;case We.DATA_LOSS:return P.DATA_LOSS;default:return Z()}}(me=We||(We={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";var lS=null;function OU(){return new TextEncoder}var kU=new ei([4294967295,4294967295],0);function dS(n){let e=OU().encode(n),t=new $y;return t.update(e),new Uint8Array(t.digest())}function hS(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ei([t,r],0),new ei([i,o],0)]}var Av=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ji(`Invalid padding: ${t}`);if(r<0)throw new ji(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ji(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ji(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ei.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(ei.fromNumber(r)));return i.compare(kU)===1&&(i=new ei([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=dS(e),[r,i]=hS(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=dS(e),[r,i]=hS(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ji=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var yh=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Ac.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(oe.min(),i,new Ue(_e),mr(),pe())}},Ac=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,pe(),pe(),pe())}};var _s=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},vh=class{constructor(e,t){this.targetId=e,this.me=t}},_h=class{constructor(e,t,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},wh=class{constructor(){this.fe=0,this.ge=pS(),this.pe=wt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pe(),t=pe(),r=pe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new Ac(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=pS()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Rv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=mr(),this.qe=fS(),this.Qe=new Ue(_e)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Z()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(_v(o))if(r===0){let s=new K(o.path);this.Ue(t,s,pn.newNoDocument(s,oe.min()))}else be(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}lS?.et(function(h,p,m,y,C){var M,R,j,W,U,re;let Ie={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},Y=p.unchangedNames;return Y&&(Ie.bloomFilter={applied:C===0,hashCount:(M=Y?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(W=(j=(R=Y?.bits)===null||R===void 0?void 0:R.bitmap)===null||j===void 0?void 0:j.length)!==null&&W!==void 0?W:0,padding:(re=(U=Y?.bits)===null||U===void 0?void 0:U.padding)!==null&&re!==void 0?re:0,mightContain:I=>{var v;return(v=y?.mightContain(I))!==null&&v!==void 0&&v}}),Ie}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=ri(r).toUint8Array()}catch(u){if(u instanceof ph)return Is("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Av(s,i,o)}catch(u){return Is(u instanceof ji?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&_v(a.target)){let u=new K(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,pn.newNoDocument(u,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=pe();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new yh(e,t,this.Qe,this.ke,r);return this.ke=mr(),this.qe=fS(),this.Qe=new Ue(_e),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new wh,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new _t(_e),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||z("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new wh),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function fS(){return new Ue(K.comparator)}function pS(){return new Ue(K.comparator)}var FU={asc:"ASCENDING",desc:"DESCENDING"},LU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VU={and:"AND",or:"OR"},Mv=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Nv(n,e){return n.useProto3Json||Bh(e)?e:{value:e}}function Ih(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function jU(n,e){return Ih(n,e.toTimestamp())}function kn(n){return be(!!n),oe.fromTimestamp(function(t){let r=gr(t);return new ct(r.seconds,r.nanos)}(n))}function B_(n,e){return xv(n,e).canonicalString()}function xv(n,e){let t=function(i){return new Fe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function nA(n){let e=Fe.fromString(n);return be(aA(e)),e}function Pv(n,e){return B_(n.databaseId,e.path)}function Ky(n,e){let t=nA(e);if(t.get(1)!==n.databaseId.projectId)throw new B(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new B(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new K(iA(t))}function rA(n,e){return B_(n.databaseId,e)}function UU(n){let e=nA(n);return e.length===4?Fe.emptyPath():iA(e)}function Ov(n){return new Fe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function iA(n){return be(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function gS(n,e,t){return{name:Pv(n,e),fields:t.value.mapValue.fields}}function BU(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(be(h===void 0||typeof h=="string"),wt.fromBase64String(h||"")):(be(h===void 0||h instanceof Buffer||h instanceof Uint8Array),wt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?P.UNKNOWN:eA(l.code);return new B(h,l.message||"")}(s);t=new _h(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Ky(n,r.document.name),o=kn(r.document.updateTime),s=r.document.createTime?kn(r.document.createTime):oe.min(),a=new Ht({mapValue:{fields:r.document.fields}}),u=pn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new _s(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Ky(n,r.document),o=r.readTime?kn(r.readTime):oe.min(),s=pn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new _s([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Ky(n,r.document),o=r.removedTargetIds||[];t=new _s([],o,i,null)}else{if(!("filter"in e))return Z();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Sv(i,o),a=r.targetId;t=new vh(a,s)}}return t}function $U(n,e){let t;if(e instanceof Wi)t={update:gS(n,e.key,e.value)};else if(e instanceof Sc)t={delete:Pv(n,e.key)};else if(e instanceof Ln)t={update:gS(n,e.key,e.data),updateMask:JU(e.fieldMask)};else{if(!(e instanceof Dv))return Z();t={verify:Pv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Ss)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Gi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof As)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Z()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:jU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Z()}(n,e.precondition)),t}function HU(n,e){return n&&n.length>0?(be(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?kn(i.updateTime):kn(o);return s.isEqual(oe.min())&&(s=kn(o)),new Ev(s,i.transformResults||[])}(t,e))):[]}function zU(n,e){return{documents:[rA(n,e.path)]}}function qU(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=rA(n,i);let o=function(l){if(l.length!==0)return sA(gn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:ms(m.field),direction:KU(m.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=Nv(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function GU(n){let e=UU(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){be(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let m=oA(p);return m instanceof gn&&LS(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(m=>function(C){return new zi(ys(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Bh(m)?null:m}(t.limit));let u=null;t.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new Cs(y,m)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new Cs(y,m)}(t.endAt)),vU(e,i,s,o,a,"F",u,l)}function WU(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function oA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ys(t.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ys(t.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ys(t.unaryFilter.field);return Qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ys(t.unaryFilter.field);return Qe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(n):n.fieldFilter!==void 0?function(t){return Qe.create(ys(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return gn.create(t.compositeFilter.filters.map(r=>oA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(t.compositeFilter.op))}(n):Z()}function KU(n){return FU[n]}function QU(n){return LU[n]}function YU(n){return VU[n]}function ms(n){return{fieldPath:n.canonicalString()}}function ys(n){return zt.fromServerFormat(n.fieldPath)}function sA(n){return n instanceof Qe?function(t){if(t.op==="=="){if(tS(t.value))return{unaryFilter:{field:ms(t.field),op:"IS_NAN"}};if(eS(t.value))return{unaryFilter:{field:ms(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tS(t.value))return{unaryFilter:{field:ms(t.field),op:"IS_NOT_NAN"}};if(eS(t.value))return{unaryFilter:{field:ms(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(t.field),op:QU(t.op),value:t.value}}}(n):n instanceof gn?function(t){let r=t.getFilters().map(i=>sA(i));return r.length===1?r[0]:{compositeFilter:{op:YU(t.op),filters:r}}}(n):Z()}function JU(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function aA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Rc=class n{constructor(e,t,r,i,o=oe.min(),s=oe.min(),a=wt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var kv=class{constructor(e){this.ct=e}};function ZU(n){let e=GU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Iv(e,e.limit,"L"):e}var Eh=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Oe(e.integerValue));else if("doubleValue"in e){let r=Oe(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),bc(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=gr(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(ri(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?OS(e)?this.dt(t,Number.MAX_SAFE_INTEGER):PS(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Z()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Oe(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),K.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Eh.vt=new Eh;var Fv=class{constructor(){this.un=new Lv}addToCollectionParentIndex(e,t){return this.un.add(t),k.resolve()}getCollectionParents(e,t){return k.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return k.resolve()}deleteFieldIndex(e,t){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,t){return k.resolve()}getDocumentsMatchingTarget(e,t){return k.resolve(null)}getIndexType(e,t){return k.resolve(0)}getFieldIndexes(e,t){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,t){return k.resolve($i.min())}getMinOffsetFromCollectionGroup(e,t){return k.resolve($i.min())}updateCollectionGroup(e,t,r){return k.resolve()}updateIndexEntries(e,t){return k.resolve()}},Lv=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new _t(Fe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _t(Fe.comparator)).toArray()}};var $5=new Uint8Array(0);var xn=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(41943040,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);var Mc=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var Vv=class{constructor(){this.changes=new oi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?k.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var jv=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Uv=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Dc(r.mutation,i,nn.empty(),ct.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pe()){let i=Vi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=_c();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Vi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pe()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=mr(),s=Ec(),a=function(){return Ec()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Ln)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Dc(h.mutation,l,h.mutation.getFieldMask(),ct.now())):s.set(l.key,nn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new jv(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Ec(),i=new Ue((s,a)=>s-a),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||nn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||pe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=GS();h.forEach(m=>{if(!o.has(m)){let y=ZS(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return K.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):BS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):k.resolve(Vi()),a=-1,u=o;return s.next(l=>k.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?k.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,pe())).next(h=>({batchId:a,changes:qS(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new K(t)).next(r=>{let i=_c();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=_c();return this.indexManager.getCollectionParents(e,o).next(a=>k.forEach(a,u=>{let l=function(p,m){return new ii(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,pn.newInvalidDocument(h)))});let a=_c();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Dc(h.mutation,l,nn.empty(),ct.now()),Hh(t,l)&&(a=a.insert(u,l))}),a})}};var Bv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return k.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:kn(i.createTime)}}(t)),k.resolve()}getNamedQuery(e,t){return k.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:ZU(i.bundledQuery),readTime:kn(i.readTime)}}(t)),k.resolve()}};var $v=class{constructor(){this.overlays=new Ue(K.comparator),this.Ir=new Map}getOverlay(e,t){return k.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Vi();return k.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),k.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),k.resolve()}getOverlaysForCollection(e,t,r){let i=Vi(),o=t.length+1,s=new K(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return k.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ue((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Vi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Vi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return k.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Tv(t,r));let o=this.Ir.get(t);o===void 0&&(o=pe(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var Hv=class{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,k.resolve()}};var Nc=class{constructor(){this.Tr=new _t(Ke.Er),this.dr=new _t(Ke.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Ke(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Ke(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new K(new Fe([])),r=new Ke(t,e),i=new Ke(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new K(new Fe([])),r=new Ke(t,e),i=new Ke(t,e+1),o=pe();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ke(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ke=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return K.comparator(e.key,t.key)||_e(e.wr,t.wr)}static Ar(e,t){return _e(e.wr,t.wr)||K.comparator(e.key,t.key)}};var zv=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new _t(Ke.Er)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new bv(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Ke(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,t){return k.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ke(t,0),i=new Ke(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new _t(_e);return t.forEach(i=>{let o=new Ke(i,0),s=new Ke(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),k.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;K.isDocumentKey(o)||(o=o.child(""));let s=new Ke(new K(o),0),a=new _t(_e);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),k.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){be(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return k.forEach(t.mutations,i=>{let o=new Ke(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Ke(t,0),i=this.br.firstAfterOrEqual(r);return k.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var qv=class{constructor(e){this.Mr=e,this.docs=function(){return new Ue(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return k.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(t))}getEntries(e,t){let r=mr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():pn.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=mr(),s=t.path,a=new K(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||aU(sU(h),r)<=0||(i.has(h.key)||Hh(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Z()}Or(e,t){return k.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Gv(this)}getSize(e){return k.resolve(this.size)}},Gv=class extends Vv{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),k.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var Wv=class{constructor(e){this.persistence=e,this.Nr=new oi(t=>L_(t),V_),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Nc,this.targetCount=0,this.kr=Mc.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),k.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Mc(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,k.resolve()}updateTargetData(e,t){return this.Kn(t),k.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(o).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return k.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),k.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),k.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return k.resolve(r)}containsKey(e,t){return k.resolve(this.Br.containsKey(t))}};var Kv=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new NS(0),this.Kr=!1,this.Kr=!0,this.$r=new Hv,this.referenceDelegate=e(this),this.Ur=new Wv(this),this.indexManager=new Fv,this.remoteDocumentCache=function(i){return new qv(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new kv(t),this.Gr=new Bv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $v,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new zv(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){z("MemoryPersistence","Starting transaction:",e);let i=new Qv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return k.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},Qv=class extends sv{constructor(e){super(),this.currentSequenceNumber=e}},Yv=class n{constructor(e){this.persistence=e,this.Jr=new Nc,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw Z()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),k.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),k.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Xr,r=>{let i=K.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,oe.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return k.or([()=>k.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var Jv=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=pe(),i=pe();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Zv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Xv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return lT()?8:uU(Bt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Zv;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(vc()<=fe.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",gs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),k.resolve()):(vc()<=fe.DEBUG&&z("QueryEngine","Query:",gs(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(vc()<=fe.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",gs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,On(t))):k.resolve())}Yi(e,t){if(oS(t))return k.resolve(null);let r=On(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Iv(t,null,"F"),r=On(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=pe(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(t,a);return this.ns(t,l,s,u.readTime)?this.Yi(e,Iv(t,null,"F")):this.rs(e,l,t,u)}))})))}Zi(e,t,r,i){return oS(t)||i.isEqual(oe.min())?k.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?k.resolve(null):(vc()<=fe.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gs(t)),this.rs(e,s,t,oU(i,-1)).next(a=>a))})}ts(e,t){let r=new _t(HS(e));return t.forEach((i,o)=>{Hh(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return vc()<=fe.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",gs(t)),this.Ji.getDocumentsMatchingQuery(e,t,$i.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var e_=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Ue(_e),this._s=new oi(o=>L_(o),V_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function XU(n,e,t,r){return new e_(n,e,t,r)}function cA(n,e){return S(this,null,function*(){let t=ne(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=pe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function eB(n,e){let t=ne(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=k.resolve();return m.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(M=>{let R=l.docVersions.get(C);be(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=pe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function uA(n){let e=ne(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function tB(n,e){let t=ne(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(wt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(M,R,j){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(m,y,h)&&a.push(t.Ur.updateTargetData(o,y))});let u=mr(),l=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(nB(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(oe.min())){let h=t.Ur.getLastRemoteSnapshotVersion(o).next(p=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.os=i,o))}function nB(n,e,t){let r=pe(),i=pe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=mr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(oe.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function rB(n,e){let t=ne(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iB(n,e){let t=ne(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,k.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Rc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function t_(n,e,t){return S(this,null,function*(){let r=ne(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Vc(s))throw s;z("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function mS(n,e,t){let r=ne(n),i=oe.min(),o=pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ne(u),m=p._s.get(h);return m!==void 0?k.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,On(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:oe.min(),t?o:pe())).next(a=>(oB(r,wU(e),a),{documents:a,Ts:o})))}function oB(n,e,t){let r=n.us.get(e)||oe.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var Dh=class{constructor(){this.activeTargetIds=TU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var n_=class{constructor(){this.so=new Dh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Dh,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var r_=class{_o(e){}shutdown(){}};var bh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ah=null;function Qy(){return ah===null?ah=function(){return 268435456+Math.round(2147483648*Math.random())}():ah++,"0x"+ah.toString(16)}var sB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var i_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var vt="WebChannelConnection",o_=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=Qy(),u=this.xo(t,r.toUriEncodedString());z("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(t,u,l,i).then(h=>(z("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Is("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ps}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=sB[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=Qy();return new Promise((s,a)=>{let u=new Hy;u.setWithCredentials(!0),u.listenOnce(zy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case yc.NO_ERROR:let h=u.getResponseJson();z(vt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case yc.TIMEOUT:z(vt,`RPC '${e}' ${o} timed out`),a(new B(P.DEADLINE_EXCEEDED,"Request time out"));break;case yc.HTTP_ERROR:let p=u.getStatus();if(z(vt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let C=function(R){let j=R.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(j)>=0?j:P.UNKNOWN}(y.status);a(new B(C,y.message))}else a(new B(P.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new B(P.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{z(vt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);z(vt,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=Qy(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Wy(),a=Gy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");z(vt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,y=!1,C=new i_({Io:R=>{y?z(vt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(z(vt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),z(vt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),M=(R,j,W)=>{R.listen(j,U=>{try{W(U)}catch(re){setTimeout(()=>{throw re},0)}})};return M(p,ps.EventType.OPEN,()=>{y||(z(vt,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),M(p,ps.EventType.CLOSE,()=>{y||(y=!0,z(vt,`RPC '${e}' stream ${i} transport closed`),C.So())}),M(p,ps.EventType.ERROR,R=>{y||(y=!0,Is(vt,`RPC '${e}' stream ${i} transport errored:`,R),C.So(new B(P.UNAVAILABLE,"The operation could not be completed")))}),M(p,ps.EventType.MESSAGE,R=>{var j;if(!y){let W=R.data[0];be(!!W);let U=W,re=U.error||((j=U[0])===null||j===void 0?void 0:j.error);if(re){z(vt,`RPC '${e}' stream ${i} received error:`,re);let Ie=re.status,Y=function(_){let E=We[_];if(E!==void 0)return eA(E)}(Ie),I=re.message;Y===void 0&&(Y=P.INTERNAL,I="Unknown error status: "+Ie+" with message "+re.message),y=!0,C.So(new B(Y,I)),p.close()}else z(vt,`RPC '${e}' stream ${i} received:`,W),C.bo(W)}}),M(a,qy.STAT_EVENT,R=>{R.stat===oh.PROXY?z(vt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===oh.NOPROXY&&z(vt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}};function Yy(){return typeof document<"u"?document:null}function zh(n){return new Mv(n,!0)}var Ch=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Th=class{constructor(e,t,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ch(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return S(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return S(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return S(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(pr(t.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new B(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>S(this,null,function*(){this.state=0,this.start()}))}I_(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},s_=class extends Th{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=BU(this.serializer,e),r=function(o){if(!("targetChange"in o))return oe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?oe.min():s.readTime?kn(s.readTime):oe.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=Ov(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=_v(u)?{documents:zU(o,u)}:{query:qU(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=tA(o,s.resumeToken);let l=Nv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(oe.min())>0){a.readTime=Ih(o,s.snapshotVersion.toTimestamp());let l=Nv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=WU(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=Ov(this.serializer),t.removeTarget=e,this.a_(t)}},a_=class extends Th{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return be(!!e.streamToken),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=HU(e.writeResults,e.commitTime),r=kn(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=Ov(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>$U(this.serializer,r))};this.a_(t)}};var c_=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new B(P.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,xv(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(P.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,xv(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(P.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},u_=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(pr(t),this.D_=!1):z("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var l_=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>S(this,null,function*(){Yi(this)&&(z("RemoteStore","Restarting streams for network reachability change."),yield function(u){return S(this,null,function*(){let l=ne(u);l.L_.add(4),yield jc(l),l.q_.set("Unknown"),l.L_.delete(4),yield qh(l)})}(this))}))}),this.q_=new u_(r,i)}};function qh(n){return S(this,null,function*(){if(Yi(n))for(let e of n.B_)yield e(!0)})}function jc(n){return S(this,null,function*(){for(let e of n.B_)yield e(!1)})}function lA(n,e){let t=ne(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),q_(t)?z_(t):Os(t).r_()&&H_(t,e))}function $_(n,e){let t=ne(n),r=Os(t);t.N_.delete(e),r.r_()&&dA(t,e),t.N_.size===0&&(r.r_()?r.o_():Yi(t)&&t.q_.set("Unknown"))}function H_(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Os(n).A_(e)}function dA(n,e){n.Q_.xe(e),Os(n).R_(e)}function z_(n){n.Q_=new Rv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Os(n).start(),n.q_.v_()}function q_(n){return Yi(n)&&!Os(n).n_()&&n.N_.size>0}function Yi(n){return ne(n).L_.size===0}function hA(n){n.Q_=void 0}function aB(n){return S(this,null,function*(){n.q_.set("Online")})}function cB(n){return S(this,null,function*(){n.N_.forEach((e,t)=>{H_(n,e)})})}function uB(n,e){return S(this,null,function*(){hA(n),q_(n)?(n.q_.M_(e),z_(n)):n.q_.set("Unknown")})}function lB(n,e,t){return S(this,null,function*(){if(n.q_.set("Online"),e instanceof _h&&e.state===2&&e.cause)try{yield function(i,o){return S(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Sh(n,r)}else if(e instanceof _s?n.Q_.Ke(e):e instanceof vh?n.Q_.He(e):n.Q_.We(e),!t.isEqual(oe.min()))try{let r=yield uA(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(wt.EMPTY_BYTE_STRING,h.snapshotVersion)),dA(o,u);let p=new Rc(h.target,u,l,h.sequenceNumber);H_(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){z("RemoteStore","Failed to raise snapshot:",r),yield Sh(n,r)}})}function Sh(n,e,t){return S(this,null,function*(){if(!Vc(e))throw e;n.L_.add(1),yield jc(n),n.q_.set("Offline"),t||(t=()=>uA(n.localStore)),n.asyncQueue.enqueueRetryable(()=>S(this,null,function*(){z("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield qh(n)}))})}function fA(n,e){return e().catch(t=>Sh(n,t,e))}function Gh(n){return S(this,null,function*(){let e=ne(n),t=si(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;dB(e);)try{let i=yield rB(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,hB(e,i)}catch(i){yield Sh(e,i)}pA(e)&&gA(e)})}function dB(n){return Yi(n)&&n.O_.length<10}function hB(n,e){n.O_.push(e);let t=si(n);t.r_()&&t.V_&&t.m_(e.mutations)}function pA(n){return Yi(n)&&!si(n).n_()&&n.O_.length>0}function gA(n){si(n).start()}function fB(n){return S(this,null,function*(){si(n).p_()})}function pB(n){return S(this,null,function*(){let e=si(n);for(let t of n.O_)e.m_(t.mutations)})}function gB(n,e,t){return S(this,null,function*(){let r=n.O_.shift(),i=Cv.from(r,e,t);yield fA(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Gh(n)})}function mB(n,e){return S(this,null,function*(){e&&si(n).V_&&(yield function(r,i){return S(this,null,function*(){if(function(s){return PU(s)&&s!==P.ABORTED}(i.code)){let o=r.O_.shift();si(r).s_(),yield fA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Gh(r)}})}(n,e)),pA(n)&&gA(n)})}function yS(n,e){return S(this,null,function*(){let t=ne(n);t.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");let r=Yi(t);t.L_.add(3),yield jc(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield qh(t)})}function yB(n,e){return S(this,null,function*(){let t=ne(n);e?(t.L_.delete(2),yield qh(t)):e||(t.L_.add(2),yield jc(t),t.q_.set("Unknown"))})}function Os(n){return n.K_||(n.K_=function(t,r,i){let o=ne(t);return o.w_(),new s_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:aB.bind(null,n),Ro:cB.bind(null,n),mo:uB.bind(null,n),d_:lB.bind(null,n)}),n.B_.push(e=>S(this,null,function*(){e?(n.K_.s_(),q_(n)?z_(n):n.q_.set("Unknown")):(yield n.K_.stop(),hA(n))}))),n.K_}function si(n){return n.U_||(n.U_=function(t,r,i){let o=ne(t);return o.w_(),new a_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:fB.bind(null,n),mo:mB.bind(null,n),f_:pB.bind(null,n),g_:gB.bind(null,n)}),n.B_.push(e=>S(this,null,function*(){e?(n.U_.s_(),yield Gh(n)):(yield n.U_.stop(),n.O_.length>0&&(z("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var d_=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function G_(n,e){if(pr("AsyncQueue",`${e}: ${n}`),Vc(n))return new B(P.UNAVAILABLE,`${e}: ${n}`);throw n}var Ah=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||K.comparator(t.key,r.key):(t,r)=>K.comparator(t.key,r.key),this.keyedMap=_c(),this.sortedSet=new Ue(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Rh=class{constructor(){this.W_=new Ue(K.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Z():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Ms=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Ah.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var h_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},f_=class{constructor(){this.queries=vS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=ne(t),o=i.queries;i.queries=vS(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new B(P.ABORTED,"Firestore shutting down"))}};function vS(){return new oi(n=>$S(n),$h)}function vB(n,e){return S(this,null,function*(){let t=ne(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new h_,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=G_(s,`Initialization of query '${gs(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&W_(t)})}function _B(n,e){return S(this,null,function*(){let t=ne(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function wB(n,e){let t=ne(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&W_(t)}function IB(n,e,t){let r=ne(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function W_(n){n.Y_.forEach(e=>{e.next()})}var p_,_S;(_S=p_||(p_={})).ea="default",_S.Cache="cache";var g_=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ms(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Ms.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==p_.Cache}};var Mh=class{constructor(e){this.key=e}},Nh=class{constructor(e){this.key=e}},m_=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pe(),this.mutatedKeys=pe(),this.Aa=HS(e),this.Ra=new Ah(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Rh,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Hh(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?C!==M&&(r.track({type:3,doc:y}),R=!0):this.ga(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(y,C){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return M(y)-M(C)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Ms(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Rh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Nh(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Mh(r))}),t}ba(e){this.Ta=e.Ts,this.da=pe();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Ms.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},y_=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},v_=class{constructor(e){this.key=e,this.va=!1}},__=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new oi(a=>$S(a),$h),this.Ma=new Map,this.xa=new Set,this.Oa=new Ue(K.comparator),this.Na=new Map,this.La=new Nc,this.Ba={},this.ka=new Map,this.qa=Mc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function EB(n,e,t=!0){return S(this,null,function*(){let r=IA(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield mA(r,e,t,!0),i})}function DB(n,e){return S(this,null,function*(){let t=IA(n);yield mA(t,e,!0,!1)})}function mA(n,e,t,r){return S(this,null,function*(){let i=yield iB(n.localStore,On(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield bB(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&lA(n.remoteStore,i),a})}function bB(n,e,t,r,i){return S(this,null,function*(){n.Ka=(p,m,y)=>function(M,R,j,W){return S(this,null,function*(){let U=R.view.ma(j);U.ns&&(U=yield mS(M.localStore,R.query,!1).then(({documents:I})=>R.view.ma(I,U)));let re=W&&W.targetChanges.get(R.targetId),Ie=W&&W.targetMismatches.get(R.targetId)!=null,Y=R.view.applyChanges(U,M.isPrimaryClient,re,Ie);return IS(M,R.targetId,Y.wa),Y.snapshot})}(n,p,m,y);let o=yield mS(n.localStore,e,!0),s=new m_(e,o.Ts),a=s.ma(o.documents),u=Ac.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);IS(n,t,l.wa);let h=new y_(e,t,s);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function CB(n,e,t){return S(this,null,function*(){let r=ne(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!$h(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield t_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&$_(r.remoteStore,i.targetId),w_(r,i.targetId)}).catch(Lc))):(w_(r,i.targetId),yield t_(r.localStore,i.targetId,!0))})}function TB(n,e){return S(this,null,function*(){let t=ne(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),$_(t.remoteStore,r.targetId))})}function SB(n,e,t){return S(this,null,function*(){let r=OB(n);try{let i=yield function(s,a){let u=ne(s),l=ct.now(),h=a.reduce((y,C)=>y.add(C.key),pe()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=mr(),M=pe();return u.cs.getEntries(y,h).next(R=>{C=R,C.forEach((j,W)=>{W.isValidDocument()||(M=M.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(R=>{p=R;let j=[];for(let W of a){let U=xU(W,p.get(W.key).overlayedDocument);U!=null&&j.push(new Ln(W.key,U,kS(U.value.mapValue),fr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,j,a)}).next(R=>{m=R;let j=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,R.batchId,j)})}).then(()=>({batchId:m.batchId,changes:qS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Ue(_e)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Uc(r,i.changes),yield Gh(r.remoteStore)}catch(i){let o=G_(i,"Failed to persist write");t.reject(o)}})}function yA(n,e){return S(this,null,function*(){let t=ne(n);try{let r=yield tB(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?be(s.va):i.removedDocuments.size>0&&(be(s.va),s.va=!1))}),yield Uc(t,r,e)}catch(r){yield Lc(r)}})}function wS(n,e,t){let r=ne(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ne(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&W_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function AB(n,e,t){return S(this,null,function*(){let r=ne(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Ue(K.comparator);s=s.insert(o,pn.newNoDocument(o,oe.min()));let a=pe().add(o),u=new yh(oe.min(),new Map,new Ue(_e),s,a);yield yA(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),K_(r)}else yield t_(r.localStore,e,!1).then(()=>w_(r,e,t)).catch(Lc)})}function RB(n,e){return S(this,null,function*(){let t=ne(n),r=e.batch.batchId;try{let i=yield eB(t.localStore,e);_A(t,r,null),vA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Uc(t,i)}catch(i){yield Lc(i)}})}function MB(n,e,t){return S(this,null,function*(){let r=ne(n);try{let i=yield function(s,a){let u=ne(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(be(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);_A(r,e,t),vA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Uc(r,i)}catch(i){yield Lc(i)}})}function vA(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function _A(n,e,t){let r=ne(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function w_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||wA(n,r)})}function wA(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&($_(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),K_(n))}function IS(n,e,t){for(let r of t)r instanceof Mh?(n.La.addReference(r.key,e),NB(n,r)):r instanceof Nh?(z("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||wA(n,r.key)):Z()}function NB(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(z("SyncEngine","New document in limbo: "+t),n.xa.add(r),K_(n))}function K_(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new K(Fe.fromString(e)),r=n.qa.next();n.Na.set(r,new v_(t)),n.Oa=n.Oa.insert(t,r),lA(n.remoteStore,new Rc(On(j_(t.path)),r,"TargetPurposeLimboResolution",NS.oe))}}function Uc(n,e,t){return S(this,null,function*(){let r=ne(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Jv.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return S(this,null,function*(){let h=ne(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(l,m=>k.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>k.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Vc(p))throw p;z("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),C=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(C);h.os=h.os.insert(m,M)}}})}(r.localStore,o))})}function xB(n,e){return S(this,null,function*(){let t=ne(n);if(!t.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());let r=yield cA(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new B(P.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Uc(t,r.hs)}})}function PB(n,e){let t=ne(n),r=t.Na.get(e);if(r&&r.va)return pe().add(r.key);{let i=pe(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function IA(n){let e=ne(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AB.bind(null,e),e.Ca.d_=wB.bind(null,e.eventManager),e.Ca.$a=IB.bind(null,e.eventManager),e}function OB(n){let e=ne(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MB.bind(null,e),e}var ES=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return S(this,null,function*(){this.serializer=zh(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return XU(this.persistence,new Xv,t.initialUser,this.serializer)}Ga(t){return new Kv(Yv.Zr,this.serializer)}Wa(t){return new n_}terminate(){return S(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var kB=(()=>{class n{initialize(t,r){return S(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>wS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=xB.bind(null,this.syncEngine),yield yB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new f_}()}createDatastore(t){let r=zh(t.databaseInfo.databaseId),i=function(s){return new o_(s)}(t.databaseInfo);return function(s,a,u,l){return new c_(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new l_(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>wS(this.syncEngine,r,0),function(){return bh.D()?new bh:new r_}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let m=new __(o,s,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return S(this,null,function*(){var t,r;yield function(o){return S(this,null,function*(){let s=ne(o);z("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield jc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var I_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var E_=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=it.UNAUTHENTICATED,this.clientId=dh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>S(this,null,function*(){z("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=G_(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Jy(n,e){return S(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>S(this,null,function*(){r.isEqual(i)||(yield cA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function DS(n,e){return S(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield FB(n);z("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>yS(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>yS(e.remoteStore,i)),n._onlineComponents=e})}function FB(n){return S(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Jy(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Is("Error using user provided cache. Falling back to memory cache: "+t),yield Jy(n,new ES)}}else z("FirestoreClient","Using default OfflineComponentProvider"),yield Jy(n,new ES);return n._offlineComponents})}function EA(n){return S(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),yield DS(n,n._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),yield DS(n,new kB))),n._onlineComponents})}function LB(n){return EA(n).then(e=>e.syncEngine)}function bS(n){return S(this,null,function*(){let e=yield EA(n),t=e.eventManager;return t.onListen=EB.bind(null,e.syncEngine),t.onUnlisten=CB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=DB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=TB.bind(null,e.syncEngine),t})}function DA(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var CS=new Map;function bA(n,e,t){if(!t)throw new B(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function VB(n,e,t,r){if(e===!0&&r===!0)throw new B(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function TS(n){if(!K.isDocumentKey(n))throw new B(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function SS(n){if(K.isDocumentKey(n))throw new B(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Wh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Z()}function ti(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new B(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Wh(n);throw new B(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var xh=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new B(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ns=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xh({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Zy;switch(r.type){case"firstParty":return new nv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return S(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=CS.get(t);r&&(z("ComponentProvider","Removing Datastore"),CS.delete(t),r.terminate())}(this),Promise.resolve()}};function CA(n,e,t,r={}){var i;let o=(n=ti(n,Ns))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Is("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=it.MOCK_USER;else{a=oT(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new B(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new it(l)}n._authCredentials=new Xy(new lh(a,u))}}var Ki=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ot=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},ni=class n extends Ki{constructor(e,t,r){super(e,t,j_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new K(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function TA(n,e,...t){if(n=yt(n),bA("collection","path",e),n instanceof Ns){let r=Fe.fromString(e,...t);return SS(r),new ni(n,null,r)}{if(!(n instanceof Ot||n instanceof ni))throw new B(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Fe.fromString(e,...t));return SS(r),new ni(n.firestore,null,r)}}function Q_(n,e,...t){if(n=yt(n),arguments.length===1&&(e=dh.newId()),bA("doc","path",e),n instanceof Ns){let r=Fe.fromString(e,...t);return TS(r),new Ot(n,null,new K(r))}{if(!(n instanceof Ot||n instanceof ni))throw new B(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Fe.fromString(e,...t));return TS(r),new Ot(n.firestore,n instanceof ni?n.converter:null,new K(r))}}var Ph=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ch(this,"async_queue_retry"),this.Vu=()=>{let r=Yy();r&&z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=Yy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=Yy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new hr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return S(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Vc(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw pr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=d_.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Z()}verifyOperationInProgress(){}wu(){return S(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function AS(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var ai=class extends Ns{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Ph,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return S(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Ph(e),this._firestoreClient=void 0,yield e}})}};function SA(n,e){let t=typeof n=="object"?n:ac(),r=typeof n=="string"?n:e||"(default)",i=Dy(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=rT("firestore");o&&CA(i,...o)}return i}function AA(n){if(n._terminated)throw new B(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||jB(n),n._firestoreClient}function jB(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new av(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,DA(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new E_(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var xc=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(wt.fromBase64String(e))}catch(t){throw new B(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var xs=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new B(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Pc=class{constructor(e){this._methodName=e}};var Oc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new B(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new B(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}};var kc=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var UB=/^__.*__$/,D_=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ln(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wi(e,this.data,t,this.fieldTransforms)}},Oh=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ln(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function RA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}var b_=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Fh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(RA(this.Cu)&&UB.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},C_=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||zh(e)}Qu(e,t,r,i=!1){return new b_({Cu:e,methodName:t,qu:r,path:zt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Y_(n){let e=n._freezeSettings(),t=zh(n._databaseId);return new C_(n._databaseId,!!e.ignoreUndefinedProperties,t)}function BB(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);J_("Data must be an object, but it was:",s,r);let a=MA(r,s),u,l;if(o.merge)u=new nn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=T_(e,p,t);if(!s.contains(m))throw new B(P.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);xA(h,m)||h.push(m)}u=new nn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new D_(new Ht(a),u,l)}var kh=class n extends Pc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function $B(n,e,t,r){let i=n.Qu(1,e,t);J_("Data must be an object, but it was:",i,r);let o=[],s=Ht.empty();Qi(r,(u,l)=>{let h=Z_(e,u,t);l=yt(l);let p=i.Nu(h);if(l instanceof kh)o.push(h);else{let m=Bc(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new nn(o);return new Oh(s,a,i.fieldTransforms)}function HB(n,e,t,r,i,o){let s=n.Qu(1,e,t),a=[T_(e,r,t)],u=[i];if(o.length%2!=0)throw new B(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(T_(e,o[m])),u.push(o[m+1]);let l=[],h=Ht.empty();for(let m=a.length-1;m>=0;--m)if(!xA(l,a[m])){let y=a[m],C=u[m];C=yt(C);let M=s.Nu(y);if(C instanceof kh)l.push(y);else{let R=Bc(C,M);R!=null&&(l.push(y),h.set(y,R))}}let p=new nn(l);return new Oh(h,p,s.fieldTransforms)}function zB(n,e,t,r=!1){return Bc(t,n.Qu(r?4:3,e))}function Bc(n,e){if(NA(n=yt(n)))return J_("Unsupported field value:",e,n),MA(n,e);if(n instanceof Pc)return function(r,i){if(!RA(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Bc(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ct.fromDate(r);return{timestampValue:Ih(i.serializer,o)}}if(r instanceof ct){let o=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ih(i.serializer,o)}}if(r instanceof Oc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xc)return{bytesValue:tA(i.serializer,r._byteString)};if(r instanceof Ot){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:B_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kc)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return U_(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Wh(r)}`)}(n,e)}function MA(n,e){let t={};return xS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qi(n,(r,i)=>{let o=Bc(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function NA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ct||n instanceof Oc||n instanceof xc||n instanceof Ot||n instanceof Pc||n instanceof kc)}function J_(n,e,t){if(!NA(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Wh(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function T_(n,e,t){if((e=yt(e))instanceof xs)return e._internalPath;if(typeof e=="string")return Z_(n,e);throw Fh("Field path arguments must be of type string or ",n,!1,void 0,t)}var qB=new RegExp("[~\\*/\\[\\]]");function Z_(n,e,t){if(e.search(qB)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xs(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Fh(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new B(P.INVALID_ARGUMENT,a+n+u)}function xA(n,e){return n.some(t=>t.isEqual(e))}var Lh=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new S_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(X_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},S_=class extends Lh{data(){return super.data()}};function X_(n,e){return typeof e=="string"?Z_(n,e):e instanceof xs?e._internalPath:e._delegate._internalPath}function GB(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new B(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Fc=class{},Vh=class extends Fc{};function PA(n,e,...t){let r=[];e instanceof Fc&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof R_).length,a=o.filter(u=>u instanceof A_).length;if(s>1||s>0&&a>0)throw new B(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var A_=class n extends Vh{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return kA(e._query,t),new Ki(e.firestore,e.converter,wv(e._query,t))}_parse(e){let t=Y_(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new B(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){MS(p,h);let y=[];for(let C of p)y.push(RS(u,o,C));m={arrayValue:{values:y}}}else m=RS(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||MS(p,h),m=zB(a,s,p,h==="in"||h==="not-in");return Qe.create(l,h,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var R_=class n extends Fc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:gn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)kA(s,u),s=wv(s,u)}(e._query,t),new Ki(e.firestore,e.converter,wv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var M_=class n extends Vh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new B(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new B(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zi(o,s)}(e._query,this._field,this._direction);return new Ki(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new ii(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function OA(n,e="asc"){let t=e,r=X_("orderBy",n);return M_._create(r,t)}function RS(n,e,t){if(typeof(t=yt(t))=="string"){if(t==="")throw new B(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BS(e)&&t.indexOf("/")!==-1)throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Fe.fromString(t));if(!K.isDocumentKey(r))throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return XT(n,new K(r))}if(t instanceof Ot)return XT(n,t._key);throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(t)}.`)}function MS(n,e){if(!Array.isArray(n)||n.length===0)throw new B(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kA(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new B(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var N_=class{convertValue(e,t="none"){switch(Hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Z()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Qi(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Oe(s.doubleValue));return new kc(o)}convertGeoPoint(e){return new Oc(Oe(e.latitude),Oe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=k_(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Cc(e));default:return null}}convertTimestamp(e){let t=gr(e);return new ct(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Fe.fromString(e);be(aA(r));let i=new gh(r.get(1),r.get(3)),o=new K(r.popFirst(5));return i.isEqual(t)||pr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function WB(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ui=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},jh=class extends Lh{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ws(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(X_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},ws=class extends jh{data(e={}){return super.data(e)}},x_=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ui(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ws(this._firestore,this._userDataWriter,r.key,r,new Ui(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new B(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ws(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ui(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ws(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ui(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:KB(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function KB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}var Uh=class extends N_{constructor(e){super(),this.firestore=e}convertBytes(e){return new xc(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}};function FA(n,e,t,...r){n=ti(n,Ot);let i=ti(n.firestore,ai),o=Y_(i),s;return s=typeof(e=yt(e))=="string"||e instanceof xs?HB(o,"updateDoc",n._key,e,t,r):$B(o,"updateDoc",n._key,e),ew(i,[s.toMutation(n._key,fr.exists(!0))])}function LA(n){return ew(ti(n.firestore,ai),[new Sc(n._key,fr.none())])}function VA(n,e){let t=ti(n.firestore,ai),r=Q_(n),i=WB(n.converter,e);return ew(t,[BB(Y_(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,fr.exists(!1))]).then(()=>r)}function jA(n,...e){var t,r,i;n=yt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||AS(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(AS(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Ot)l=ti(n.firestore,ai),h=j_(n._key.path),u={next:p=>{e[s]&&e[s](QB(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=ti(n,Ki);l=ti(p.firestore,ai),h=p._query;let m=new Uh(l);u={next:y=>{e[s]&&e[s](new x_(l,m,p,y))},error:e[s+1],complete:e[s+2]},GB(n._query)}return function(m,y,C,M){let R=new I_(M),j=new g_(y,R,C);return m.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return vB(yield bS(m),j)})),()=>{R.Za(),m.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return _B(yield bS(m),j)}))}}(AA(l),h,a,u)}function ew(n,e){return function(r,i){let o=new hr;return r.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return SB(yield LB(r),i,o)})),o.promise}(AA(n),e)}function QB(n,e,t){let r=t.docs.get(e._key),i=new Uh(n);return new jh(n,i,e._key,r,new Ui(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ps=i})(ds),Zr(new tn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ai(new ev(r.getProvider("auth-internal")),new iv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new B(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),rt(QT,"4.7.3",e),rt(QT,"4.7.3","esm2017")})();var Ji=class{constructor(e){return e}},UA="firestore",tw=class{constructor(){return uc(UA)}};var nw=new H("angularfire2.firestore-instances");function YB(n,e){let t=Ty(UA,n,e);return t&&new Ji(t)}function JB(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ji(r)}}var ZB={provide:tw,deps:[[new Kt,nw]]},XB={provide:Ji,useFactory:YB,deps:[[new Kt,nw],ki]};function BA(n,...e){return rt("angularfire",fs.full,"fst"),bn([XB,ZB,{provide:nw,useFactory:JB(n),multi:!0,deps:[Ee,St,lc,dc,[new Kt,rh],[new Kt,cc],...e]}])}var $A=$t(VA,!0);var rw=$t(TA,!0);var HA=$t(LA,!0);var iw=$t(Q_,!0);var zA=$t(SA,!0);var qA=$t(jA,!0);var GA=$t(OA,!0);var WA=$t(PA,!0);var KA=$t(FA,!0);var ks=class n{constructor(e){this.firestore=e;this.loadArtworks()}artworks=[];artworksSubject=new Be([]);artworks$=this.artworksSubject.asObservable();loadArtworks(){try{let e=WA(rw(this.firestore,"Obras"),GA("titulo"));qA(e,t=>{let r=[];t.forEach(i=>{let o=i.data();r.push(ue(L({},o),{id:i.id}))}),this.artworks=r,this.artworksSubject.next(r)},t=>{console.error("Error loading artworks:",t),this.artworksSubject.next([])})}catch(e){console.error("Error setting up Firestore listener:",e),this.artworksSubject.next([])}}getAllArtworks(){return this.artworks$}getArtworksByCategory(e){return this.artworks$.pipe(X(t=>e==="all"?t:t.filter(r=>r.genero.toLowerCase()===e.toLowerCase())))}getArtworkById(e){return this.artworks$.pipe(X(t=>t.find(r=>r.id===e)))}addArtwork(e){return S(this,null,function*(){try{let t=e,{id:r}=t,i=su(t,["id"]);return(yield $A(rw(this.firestore,"Obras"),i)).id}catch(r){throw console.error("Error adding artwork:",r),r}})}updateArtwork(e){return S(this,null,function*(){try{let t=e,{id:r}=t,i=su(t,["id"]),o=iw(this.firestore,"Obras",r);yield KA(o,i)}catch(r){throw console.error("Error updating artwork:",r),r}})}deleteArtwork(e){return S(this,null,function*(){try{yield HA(iw(this.firestore,"Obras",e))}catch(t){throw console.error("Error deleting artwork:",t),t}})}static \u0275fac=function(t){return new(t||n)(q(Ji))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})};function t$(n,e){if(n&1){let t=hn();N(0,"button",12),Ae("click",function(){let i=Me(t).$implicit,o=gt();return Ne(o.filterByCategory(i))}),F(1),x()}if(n&2){let t=e.$implicit,r=gt();jD(r.activeCategory===t?"btn bg-purple-600 text-white":"btn-outline"),te(),Sn(" ",t==="all"?"Todas":t," ")}}function n$(n,e){if(n&1&&(N(0,"div"),st(1,"app-gallery3d",13),x()),n&2){let t=gt();te(),Je("artworks",t.filteredArtworks)("category",t.activeCategory)}}function r$(n,e){n&1&&(N(0,"p",14),F(1,"No se encontraron obras que coincidan con su b\xFAsqueda."),x())}var Kh=class n{constructor(e){this.artworkService=e}artworks=[];filteredArtworks=[];categories=["all","paisajismo","bodegones","retratos","animalismo","otros"];activeCategory="all";searchTerm="";subscription=new Re;ngOnInit(){this.loadArtworks()}ngOnDestroy(){this.subscription.unsubscribe()}loadArtworks(){this.subscription.add(this.artworkService.getAllArtworks().subscribe({next:e=>{this.artworks=e,this.filteredArtworks=e},error:e=>{console.error("Error loading artworks:",e)}}))}filterByCategory(e){this.activeCategory=e,e==="all"?this.loadArtworks():this.subscription.add(this.artworkService.getArtworksByCategory(e).subscribe({next:t=>{this.artworks=t,this.filteredArtworks=t},error:t=>{console.error("Error filtering by category:",t)}}))}searchObras(){let e=this.artworks;if(this.searchTerm.trim()!==""){let t=this.searchTerm.toLowerCase();e=e.filter(r=>r.titulo.toLowerCase().includes(t)||r.descripcion&&r.descripcion.toLowerCase().includes(t)||r.tecnica.toLowerCase().includes(t))}this.filteredArtworks=e}static \u0275fac=function(t){return new(t||n)(Q(ks))};static \u0275cmp=Ve({type:n,selectors:[["app-gallery"]],standalone:!0,features:[je],decls:15,vars:4,consts:[["noResults",""],["id","galeria",1,"py-20","bg-gray-50"],[1,"container","mx-auto"],[1,"text-3xl","font-bold","text-center","text-purple-800","mb-12"],[1,"mb-12"],[1,"flex","flex-wrap","justify-center","gap-2","mb-4"],[3,"class","click",4,"ngFor","ngForOf"],[1,"flex","justify-center"],[1,"flex","w-full","max-w-md"],["type","text","placeholder","Buscar obras...",1,"flex-1","p-2","border","rounded-l",3,"ngModelChange","input","ngModel"],[1,"btn","bg-purple-600","rounded-l-none",3,"click"],[4,"ngIf","ngIfElse"],[3,"click"],[3,"artworks","category"],[1,"text-center","text-gray-600"]],template:function(t,r){if(t&1){let i=hn();N(0,"section",1)(1,"div",2)(2,"h2",3),F(3,"Galer\xEDa de Obras"),x(),N(4,"div",4)(5,"div",5),Pt(6,t$,2,3,"button",6),x(),N(7,"div",7)(8,"div",8)(9,"input",9),tt("ngModelChange",function(s){return Me(i),at(r.searchTerm,s)||(r.searchTerm=s),Ne(s)}),Ae("input",function(){return Me(i),Ne(r.searchObras())}),x(),N(10,"button",10),Ae("click",function(){return Me(i),Ne(r.searchObras())}),F(11,"Buscar"),x()()()(),Pt(12,n$,2,2,"div",11)(13,r$,2,0,"ng-template",null,0,va),x()()}if(t&2){let i=Ti(14);te(6),Je("ngForOf",r.categories),te(3),et("ngModel",r.searchTerm),te(3),Je("ngIf",r.filteredArtworks.length>0)("ngIfElse",i)}},dependencies:[ir,Gl,$r,jd,cs,Qr,as,xi]})};var Qh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ve({type:n,selectors:[["app-footer"]],standalone:!0,features:[je],decls:27,vars:0,consts:[["id","contacto",1,"bg-purple-800","text-white","py-12"],[1,"container","mx-auto"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8"],[1,"text-xl","font-semibold","mb-4"],["href","#",1,"hover:underline"],[1,"border-t","border-purple-700","mt-8","pt-8","text-center"]],template:function(t,r){t&1&&(N(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h3",3),F(5,"Contacto"),x(),N(6,"p"),F(7,"Email: artista@email.com"),x(),N(8,"p"),F(9,"Tel\xE9fono: +34 123 456 789"),x(),N(10,"p"),F(11,"Estudio: Calle Arte 123, Madrid"),x()(),N(12,"div")(13,"h3",3),F(14,"Redes Sociales"),x(),N(15,"p")(16,"a",4),F(17,"Instagram"),x()(),N(18,"p")(19,"a",4),F(20,"Facebook"),x()(),N(21,"p")(22,"a",4),F(23,"Twitter"),x()()()(),N(24,"div",5)(25,"p"),F(26,"\xA9 2023 Mar\xEDa Malaver. Todos los derechos reservados."),x()()()())}})};var Yh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ve({type:n,selectors:[["app-home"]],standalone:!0,features:[je],decls:6,vars:0,template:function(t,r){t&1&&(st(0,"app-header"),N(1,"main"),st(2,"app-hero")(3,"app-techniques")(4,"app-gallery"),x(),st(5,"app-footer"))},dependencies:[Fd,Ld,Vd,Kh,Qh]})};function i$(n,e){if(n&1&&(N(0,"div",37),F(1),x()),n&2){let t=gt();te(),Sn(" ",t.successMessage," ")}}function o$(n,e){if(n&1&&(N(0,"div",38),F(1),x()),n&2){let t=gt();te(),Sn(" ",t.errorMessage," ")}}function s$(n,e){if(n&1){let t=hn();N(0,"button",39),Ae("click",function(){Me(t);let i=gt();return Ne(i.cancelEdit())}),F(1," Cancelar "),x()}}function a$(n,e){n&1&&(N(0,"div",40),F(1," No hay obras registradas. Agrega tu primera obra usando el formulario superior. "),x())}function c$(n,e){if(n&1){let t=hn();N(0,"tr")(1,"td",47),st(2,"img",48),x(),N(3,"td",47)(4,"div",49),F(5),x(),N(6,"div",50),F(7),x()(),N(8,"td",51),F(9),x(),N(10,"td",51),F(11),x(),N(12,"td",52)(13,"button",53),Ae("click",function(){let i=Me(t).$implicit,o=gt(2);return Ne(o.editArtwork(i))}),F(14," Editar "),x(),N(15,"button",54),Ae("click",function(){let i=Me(t).$implicit,o=gt(2);return Ne(o.deleteArtwork(i.id))}),F(16," Eliminar "),x()()()}if(n&2){let t=e.$implicit;te(2),Je("src",t.imagen,Sg)("alt",t.titulo),te(3),$o(t.titulo),te(2),$o(t.medidas),te(2),Sn(" ",t.tecnica," "),te(2),Bg(" ",t.precio," ",t.moneda," ")}}function u$(n,e){if(n&1&&(N(0,"div",41)(1,"table",42)(2,"thead",43)(3,"tr")(4,"th",44),F(5,"Imagen"),x(),N(6,"th",44),F(7,"T\xEDtulo"),x(),N(8,"th",44),F(9,"T\xE9cnica"),x(),N(10,"th",44),F(11,"Precio"),x(),N(12,"th",44),F(13,"Acciones"),x()()(),N(14,"tbody",45),Pt(15,c$,17,7,"tr",46),x()()()),n&2){let t=gt();te(15),Je("ngForOf",t.artworks)}}var Jh=class n{constructor(e,t){this.artworkService=e;this.authService=t}artworks=[];newArtwork={id:"",titulo:"",medidas:"",tecnica:"",estilo:"",genero:"",descripcion:"",estado:"",precio:0,moneda:"EUR",imagen:"",anio:new Date().getFullYear()};editingArtwork=null;successMessage="";errorMessage="";subscription=new Re;ngOnInit(){this.loadArtworks()}ngOnDestroy(){this.subscription.unsubscribe()}loadArtworks(){this.subscription.add(this.artworkService.artworks$.subscribe({next:e=>{this.artworks=e},error:e=>{console.error("Error loading artworks:",e),this.errorMessage="Error al cargar las obras",setTimeout(()=>{this.errorMessage=""},3e3)}}))}onSubmit(){return S(this,null,function*(){try{this.editingArtwork?(yield this.artworkService.updateArtwork(L({},this.newArtwork)),this.successMessage="Obra actualizada correctamente"):(yield this.artworkService.addArtwork(L({},this.newArtwork)),this.successMessage="Obra agregada correctamente"),this.resetForm(),setTimeout(()=>{this.successMessage=""},3e3)}catch(e){console.error("Error saving artwork:",e),this.errorMessage="Error al guardar la obra",setTimeout(()=>{this.errorMessage=""},3e3)}})}editArtwork(e){this.editingArtwork=e,this.newArtwork=L({},e)}deleteArtwork(e){return S(this,null,function*(){if(confirm("\xBFEst\xE1s seguro de que deseas eliminar esta obra?"))try{yield this.artworkService.deleteArtwork(e),this.successMessage="Obra eliminada correctamente",setTimeout(()=>{this.successMessage=""},3e3)}catch(t){console.error("Error deleting artwork:",t),this.errorMessage="Error al eliminar la obra",setTimeout(()=>{this.errorMessage=""},3e3)}})}resetForm(){this.newArtwork={id:"",titulo:"",medidas:"",tecnica:"",estilo:"",genero:"",descripcion:"",estado:"",precio:0,moneda:"EUR",imagen:"",anio:new Date().getFullYear()},this.editingArtwork=null}cancelEdit(){this.resetForm()}static \u0275fac=function(t){return new(t||n)(Q(ks),Q(Mn))};static \u0275cmp=Ve({type:n,selectors:[["app-admin-dashboard"]],standalone:!0,features:[je],decls:81,vars:19,consts:[["artworkForm","ngForm"],[1,"min-h-screen","bg-gray-100","p-6"],[1,"max-w-7xl","mx-auto"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-3xl","font-bold","text-gray-800"],[1,"bg-red-600","text-white","px-4","py-2","rounded-md","hover:bg-red-700","transition-colors",3,"click"],["class","bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",4,"ngIf"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",4,"ngIf"],[1,"bg-white","shadow-md","rounded-lg","p-6","mb-8"],[1,"text-xl","font-semibold","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4",3,"ngSubmit"],[1,"space-y-4"],[1,"block","text-sm","font-medium","mb-1"],["type","text","name","titulo","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","text","name","medidas","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","text","name","tecnica","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","text","name","estilo",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","text","name","genero","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["name","estado","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["value","Nuevo"],["value","Usado"],["value","Restaurado"],["type","number","name","precio","required","","min","0",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["name","moneda","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["value","EUR"],["value","USD"],["value","COP"],["type","number","name","anio",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","text","name","imagen","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],[1,"md:col-span-2"],["name","descripcion","rows","3",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],[1,"md:col-span-2","flex","justify-end","space-x-4","mt-4"],["type","button","class","bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600 transition-colors",3,"click",4,"ngIf"],["type","submit",1,"bg-blue-600","text-white","px-4","py-2","rounded-md","hover:bg-blue-700","transition-colors","disabled:bg-blue-300",3,"disabled"],[1,"bg-white","shadow-md","rounded-lg","p-6"],["class","text-center py-8 text-gray-500",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],[1,"bg-green-100","border","border-green-400","text-green-700","px-4","py-3","rounded","mb-6"],[1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","mb-6"],["type","button",1,"bg-gray-500","text-white","px-4","py-2","rounded-md","hover:bg-gray-600","transition-colors",3,"click"],[1,"text-center","py-8","text-gray-500"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],[1,"px-6","py-4","whitespace-nowrap"],[1,"h-12","w-12","object-cover","rounded",3,"src","alt"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"text-indigo-600","hover:text-indigo-900","mr-3",3,"click"],[1,"text-red-600","hover:text-red-900",3,"click"]],template:function(t,r){if(t&1){let i=hn();N(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),F(4,"Panel de Administraci\xF3n"),x(),N(5,"button",5),Ae("click",function(){return Me(i),Ne(r.authService.logout())}),F(6," Cerrar Sesi\xF3n "),x()(),Pt(7,i$,2,1,"div",6)(8,o$,2,1,"div",7),N(9,"div",8)(10,"h2",9),F(11),x(),N(12,"form",10,0),Ae("ngSubmit",function(){return Me(i),Ne(r.onSubmit())}),N(14,"div",11)(15,"div")(16,"label",12),F(17,"T\xEDtulo *"),x(),N(18,"input",13),tt("ngModelChange",function(s){return Me(i),at(r.newArtwork.titulo,s)||(r.newArtwork.titulo=s),Ne(s)}),x()(),N(19,"div")(20,"label",12),F(21,"Medidas *"),x(),N(22,"input",14),tt("ngModelChange",function(s){return Me(i),at(r.newArtwork.medidas,s)||(r.newArtwork.medidas=s),Ne(s)}),x()(),N(23,"div")(24,"label",12),F(25,"T\xE9cnica *"),x(),N(26,"input",15),tt("ngModelChange",function(s){return Me(i),at(r.newArtwork.tecnica,s)||(r.newArtwork.tecnica=s),Ne(s)}),x()(),N(27,"div")(28,"label",12),F(29,"Estilo"),x(),N(30,"input",16),tt("ngModelChange",function(s){return Me(i),at(r.newArtwork.estilo,s)||(r.newArtwork.estilo=s),Ne(s)}),x()(),N(31,"div")(32,"label",12),F(33,"G\xE9nero *"),x(),N(34,"input",17),tt("ngModelChange",function(s){return Me(i),at(r.newArtwork.genero,s)||(r.newArtwork.genero=s),Ne(s)}),x()()(),N(35,"div",11)(36,"div")(37,"label",12),F(38,"Estado *"),x(),N(39,"select",18),tt("ngModelChange",function(s){return Me(i),at(r.newArtwork.estado,s)||(r.newArtwork.estado=s),Ne(s)}),N(40,"option",19),F(41,"Nuevo"),x(),N(42,"option",20),F(43,"Usado"),x(),N(44,"option",21),F(45,"Restaurado"),x()()(),N(46,"div")(47,"label",12),F(48,"Precio *"),x(),N(49,"input",22),tt("ngModelChange",function(s){return Me(i),at(r.newArtwork.precio,s)||(r.newArtwork.precio=s),Ne(s)}),x()(),N(50,"div")(51,"label",12),F(52,"Moneda *"),x(),N(53,"select",23),tt("ngModelChange",function(s){return Me(i),at(r.newArtwork.moneda,s)||(r.newArtwork.moneda=s),Ne(s)}),N(54,"option",24),F(55,"EUR"),x(),N(56,"option",25),F(57,"USD"),x(),N(58,"option",26),F(59,"COP"),x()()(),N(60,"div")(61,"label",12),F(62,"A\xF1o"),x(),N(63,"input",27),tt("ngModelChange",function(s){return Me(i),at(r.newArtwork.anio,s)||(r.newArtwork.anio=s),Ne(s)}),x()(),N(64,"div")(65,"label",12),F(66,"URL de la Imagen *"),x(),N(67,"input",28),tt("ngModelChange",function(s){return Me(i),at(r.newArtwork.imagen,s)||(r.newArtwork.imagen=s),Ne(s)}),x()()(),N(68,"div",29)(69,"label",12),F(70,"Descripci\xF3n"),x(),N(71,"textarea",30),tt("ngModelChange",function(s){return Me(i),at(r.newArtwork.descripcion,s)||(r.newArtwork.descripcion=s),Ne(s)}),x()(),N(72,"div",31),Pt(73,s$,2,0,"button",32),N(74,"button",33),F(75),x()()()(),N(76,"div",34)(77,"h2",9),F(78,"Obras Existentes"),x(),Pt(79,a$,2,0,"div",35)(80,u$,16,1,"div",36),x()()()}if(t&2){let i=Ti(13);te(7),Je("ngIf",r.successMessage),te(),Je("ngIf",r.errorMessage),te(3),Sn(" ",r.editingArtwork?"Editar Obra":"Agregar Nueva Obra"," "),te(7),et("ngModel",r.newArtwork.titulo),te(4),et("ngModel",r.newArtwork.medidas),te(4),et("ngModel",r.newArtwork.tecnica),te(4),et("ngModel",r.newArtwork.estilo),te(4),et("ngModel",r.newArtwork.genero),te(5),et("ngModel",r.newArtwork.estado),te(10),et("ngModel",r.newArtwork.precio),te(4),et("ngModel",r.newArtwork.moneda),te(10),et("ngModel",r.newArtwork.anio),te(4),et("ngModel",r.newArtwork.imagen),te(4),et("ngModel",r.newArtwork.descripcion),te(2),Je("ngIf",r.editingArtwork),te(),Je("disabled",!i.valid),te(),Sn(" ",r.editingArtwork?"Actualizar":"Agregar"," Obra "),te(4),Je("ngIf",r.artworks.length===0),te(),Je("ngIf",r.artworks.length>0)}},dependencies:[cs,Nd,QC,JC,Qr,Xm,xd,as,Rd,rc,ey,xi,nc,ir,Gl,$r]})};var YA=[{path:"",component:Yh},{path:"admin/login",component:Od},{path:"admin/dashboard",component:Jh,canActivate:[kd]},{path:"**",redirectTo:""}];var JA={production:!1,firebaseConfig:{apiKey:"AIzaSyBY5l0nyxjgrb2MC8b2_3lGOf4h2KHTH24",authDomain:"galeria-70ec6.firebaseapp.com",projectId:"galeria-70ec6",storageBucket:"galeria-70ec6.firebasestorage.app",messagingSenderId:"17744554129",appId:"1:17744554129:web:4dcbadd5dad6e58238f730",measurementId:"G-2SCNFR1HB6"}};var ZA={providers:[JD({eventCoalescing:!0}),IC(YA),Eb(),ST(()=>AT(JA.firebaseConfig)),BA(()=>zA())]};var Zh=class n{title="Malaver";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ve({type:n,selectors:[["app-root"]],standalone:!0,features:[je],decls:1,vars:0,template:function(t,r){t&1&&st(0,"router-outlet")},dependencies:[Bm]})};Mb(Zh,ZA).catch(n=>console.error(n));

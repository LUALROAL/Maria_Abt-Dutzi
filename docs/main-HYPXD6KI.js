var jM=Object.defineProperty,UM=Object.defineProperties;var BM=Object.getOwnPropertyDescriptors;var zl=Object.getOwnPropertySymbols;var CI=Object.prototype.hasOwnProperty,DI=Object.prototype.propertyIsEnumerable;var EI=(n,e,t)=>e in n?jM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,U=(n,e)=>{for(var t in e||={})CI.call(e,t)&&EI(n,t,e[t]);if(zl)for(var t of zl(e))DI.call(e,t)&&EI(n,t,e[t]);return n},me=(n,e)=>UM(n,BM(e));var No=(n,e)=>{var t={};for(var r in n)CI.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&zl)for(var r of zl(n))e.indexOf(r)<0&&DI.call(n,r)&&(t[r]=n[r]);return t};var N=(n,e,t)=>new Promise((r,i)=>{var o=l=>{try{a(t.next(l))}catch(u){i(u)}},s=l=>{try{a(t.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(n,e)).next())});function TI(n,e){return Object.is(n,e)}var lt=null,ql=!1,Gl=1,lr=Symbol("SIGNAL");function Ae(n){let e=lt;return lt=n,e}function SI(){return lt}var Pa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ap(n){if(ql)throw new Error("");if(lt===null)return;lt.consumerOnSignalRead(n);let e=lt.nextProducerIndex++;if(Yl(lt),e<lt.producerNode.length&&lt.producerNode[e]!==n&&Ra(lt)){let t=lt.producerNode[e];Ql(t,lt.producerIndexOfThis[e])}lt.producerNode[e]!==n&&(lt.producerNode[e]=n,lt.producerIndexOfThis[e]=Ra(lt)?RI(n,lt,e):0),lt.producerLastReadVersion[e]=n.version}function $M(){Gl++}function xI(n){if(!(Ra(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Gl)){if(!n.producerMustRecompute(n)&&!Rp(n)){n.dirty=!1,n.lastCleanEpoch=Gl;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Gl}}function AI(n){if(n.liveConsumerNode===void 0)return;let e=ql;ql=!0;try{for(let t of n.liveConsumerNode)t.dirty||HM(t)}finally{ql=e}}function MI(){return lt?.consumerAllowSignalWrites!==!1}function HM(n){n.dirty=!0,AI(n),n.consumerMarkedDirty?.(n)}function Kl(n){return n&&(n.nextProducerIndex=0),Ae(n)}function Mp(n,e){if(Ae(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ra(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ql(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Rp(n){Yl(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(xI(t),r!==t.version))return!0}return!1}function Pp(n){if(Yl(n),Ra(n))for(let e=0;e<n.producerNode.length;e++)Ql(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function RI(n,e,t){if(PI(n),n.liveConsumerNode.length===0&&NI(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=RI(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Ql(n,e){if(PI(n),n.liveConsumerNode.length===1&&NI(n))for(let r=0;r<n.producerNode.length;r++)Ql(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Yl(i),i.producerIndexOfThis[r]=e}}function Ra(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Yl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function PI(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function NI(n){return n.producerNode!==void 0}function OI(n){let e=Object.create(zM);e.computation=n;let t=()=>{if(xI(e),Ap(e),e.value===Wl)throw e.error;return e.value};return t[lr]=e,t}var Sp=Symbol("UNSET"),xp=Symbol("COMPUTING"),Wl=Symbol("ERRORED"),zM=me(U({},Pa),{value:Sp,dirty:!0,error:null,equal:TI,producerMustRecompute(n){return n.value===Sp||n.value===xp},producerRecomputeValue(n){if(n.value===xp)throw new Error("Detected cycle in computations.");let e=n.value;n.value=xp;let t=Kl(n),r;try{r=n.computation()}catch(i){r=Wl,n.error=i}finally{Mp(n,t)}if(e!==Sp&&e!==Wl&&r!==Wl&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function qM(){throw new Error}var kI=qM;function FI(){kI()}function LI(n){kI=n}var GM=null;function VI(n){let e=Object.create(UI);e.value=n;let t=()=>(Ap(e),e.value);return t[lr]=e,t}function Np(n,e){MI()||FI(),n.equal(n.value,e)||(n.value=e,WM(n))}function jI(n,e){MI()||FI(),Np(n,e(n.value))}var UI=me(U({},Pa),{equal:TI,value:void 0});function WM(n){n.version++,$M(),AI(n),GM?.()}function ge(n){return typeof n=="function"}function Oo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Zl=Oo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Oi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var $e=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ge(r))try{r()}catch(o){e=o instanceof Zl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{BI(o)}catch(s){e=e??[],s instanceof Zl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Zl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)BI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Oi(t,e)}remove(e){let{_finalizers:t}=this;t&&Oi(t,e),e instanceof n&&e._removeParent(this)}};$e.EMPTY=(()=>{let n=new $e;return n.closed=!0,n})();var Op=$e.EMPTY;function Jl(n){return n instanceof $e||n&&"closed"in n&&ge(n.remove)&&ge(n.add)&&ge(n.unsubscribe)}function BI(n){ge(n)?n():n.unsubscribe()}var wn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ko={setTimeout(n,e,...t){let{delegate:r}=ko;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ko;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Xl(n){ko.setTimeout(()=>{let{onUnhandledError:e}=wn;if(e)e(n);else throw n})}function Na(){}var $I=kp("C",void 0,void 0);function HI(n){return kp("E",void 0,n)}function zI(n){return kp("N",n,void 0)}function kp(n,e,t){return{kind:n,value:e,error:t}}var ki=null;function Fo(n){if(wn.useDeprecatedSynchronousErrorHandling){let e=!ki;if(e&&(ki={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ki;if(ki=null,t)throw r}}else n()}function qI(n){wn.useDeprecatedSynchronousErrorHandling&&ki&&(ki.errorThrown=!0,ki.error=n)}var Fi=class extends $e{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Jl(e)&&e.add(this)):this.destination=YM}static create(e,t,r){return new ur(e,t,r)}next(e){this.isStopped?Lp(zI(e),this):this._next(e)}error(e){this.isStopped?Lp(HI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Lp($I,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},KM=Function.prototype.bind;function Fp(n,e){return KM.call(n,e)}var Vp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){eu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){eu(r)}else eu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){eu(t)}}},ur=class extends Fi{constructor(e,t,r){super();let i;if(ge(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&wn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Fp(e.next,o),error:e.error&&Fp(e.error,o),complete:e.complete&&Fp(e.complete,o)}):i=e}this.destination=new Vp(i)}};function eu(n){wn.useDeprecatedSynchronousErrorHandling?qI(n):Xl(n)}function QM(n){throw n}function Lp(n,e){let{onStoppedNotification:t}=wn;t&&ko.setTimeout(()=>t(n,e))}var YM={closed:!0,next:Na,error:QM,complete:Na};var Lo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function kt(n){return n}function jp(...n){return Up(n)}function Up(n){return n.length===0?kt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ye=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=JM(t)?t:new ur(t,r,i);return Fo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=GI(r),new r((i,o)=>{let s=new ur({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Lo](){return this}pipe(...t){return Up(t)(this)}toPromise(t){return t=GI(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function GI(n){var e;return(e=n??wn.Promise)!==null&&e!==void 0?e:Promise}function ZM(n){return n&&ge(n.next)&&ge(n.error)&&ge(n.complete)}function JM(n){return n&&n instanceof Fi||ZM(n)&&Jl(n)}function Bp(n){return ge(n?.lift)}function Ee(n){return e=>{if(Bp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ie(n,e,t,r,i){return new $p(n,e,t,r,i)}var $p=class extends Fi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Vo(){return Ee((n,e)=>{let t=null;n._refCount++;let r=Ie(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var jo=class extends ye{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Bp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $e;let t=this.getSubject();e.add(this.source.subscribe(Ie(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$e.EMPTY)}return e}refCount(){return Vo()(this)}};var WI=Oo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var We=(()=>{class n extends ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new tu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new WI}next(t){Fo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Fo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Fo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Op:(this.currentObservers=null,o.push(t),new $e(()=>{this.currentObservers=null,Oi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ye;return t.source=this,t}}return n.create=(e,t)=>new tu(e,t),n})(),tu=class extends We{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Op}};var qe=class extends We{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Oa={now(){return(Oa.delegate||Date).now()},delegate:void 0};var ka=class extends We{constructor(e=1/0,t=1/0,r=Oa){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var nu=class extends $e{constructor(e,t){super()}schedule(e,t=0){return this}};var Fa={setInterval(n,e,...t){let{delegate:r}=Fa;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Fa;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Uo=class extends nu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Fa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Fa.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Oi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Bo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Bo.now=Oa.now;var $o=class extends Bo{constructor(e,t=Bo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var ru=new $o(Uo),Hp=ru;var iu=class extends Uo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var ou=class extends $o{};var zp=new ou(iu);var Ft=new ye(n=>n.complete());function su(n){return n&&ge(n.schedule)}function KI(n){return n[n.length-1]}function au(n){return ge(KI(n))?n.pop():void 0}function qr(n){return su(KI(n))?n.pop():void 0}function qp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function YI(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(p){s(p)}}function l(h){try{u(r.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):i(h.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}function QI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Li(n){return this instanceof Li?(this.v=n,this):new Li(n)}function ZI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(_){return function(S){return Promise.resolve(S).then(_,p)}}function a(_,S){r[_]&&(i[_]=function(k){return new Promise(function(O,H){o.push([_,k,O,H])>1||l(_,k)})},S&&(i[_]=S(i[_])))}function l(_,S){try{u(r[_](S))}catch(k){w(o[0][3],k)}}function u(_){_.value instanceof Li?Promise.resolve(_.value.v).then(h,p):w(o[0][2],_)}function h(_){l("next",_)}function p(_){l("throw",_)}function w(_,S){_(S),o.shift(),o.length&&l(o[0][0],o[0][1])}}function JI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof QI=="function"?QI(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var cu=n=>n&&typeof n.length=="number"&&typeof n!="function";function lu(n){return ge(n?.then)}function uu(n){return ge(n[Lo])}function du(n){return Symbol.asyncIterator&&ge(n?.[Symbol.asyncIterator])}function hu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function XM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var fu=XM();function pu(n){return ge(n?.[fu])}function mu(n){return ZI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Li(t.read());if(i)return yield Li(void 0);yield yield Li(r)}}finally{t.releaseLock()}})}function gu(n){return ge(n?.getReader)}function Ge(n){if(n instanceof ye)return n;if(n!=null){if(uu(n))return eR(n);if(cu(n))return tR(n);if(lu(n))return nR(n);if(du(n))return XI(n);if(pu(n))return rR(n);if(gu(n))return iR(n)}throw hu(n)}function eR(n){return new ye(e=>{let t=n[Lo]();if(ge(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function tR(n){return new ye(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function nR(n){return new ye(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Xl)})}function rR(n){return new ye(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function XI(n){return new ye(e=>{oR(n,e).catch(t=>e.error(t))})}function iR(n){return XI(mu(n))}function oR(n,e){var t,r,i,o;return YI(this,void 0,void 0,function*(){try{for(t=JI(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Ht(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Gr(n,e=0){return Ee((t,r)=>{t.subscribe(Ie(r,i=>Ht(r,n,()=>r.next(i),e),()=>Ht(r,n,()=>r.complete(),e),i=>Ht(r,n,()=>r.error(i),e)))})}function Wr(n,e=0){return Ee((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function eb(n,e){return Ge(n).pipe(Wr(e),Gr(e))}function tb(n,e){return Ge(n).pipe(Wr(e),Gr(e))}function nb(n,e){return new ye(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function rb(n,e){return new ye(t=>{let r;return Ht(t,e,()=>{r=n[fu](),Ht(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ge(r?.return)&&r.return()})}function vu(n,e){if(!n)throw new Error("Iterable cannot be null");return new ye(t=>{Ht(t,e,()=>{let r=n[Symbol.asyncIterator]();Ht(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ib(n,e){return vu(mu(n),e)}function ob(n,e){if(n!=null){if(uu(n))return eb(n,e);if(cu(n))return nb(n,e);if(lu(n))return tb(n,e);if(du(n))return vu(n,e);if(pu(n))return rb(n,e);if(gu(n))return ib(n,e)}throw hu(n)}function Le(n,e){return e?ob(n,e):Ge(n)}function re(...n){let e=qr(n);return Le(n,e)}function Ho(n,e){let t=ge(n)?n:()=>n,r=i=>i.error(t());return new ye(e?i=>e.schedule(r,0,i):r)}function Gp(n){return!!n&&(n instanceof ye||ge(n.lift)&&ge(n.subscribe))}var dr=Oo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function sb(n){return n instanceof Date&&!isNaN(n)}function ie(n,e){return Ee((t,r)=>{let i=0;t.subscribe(Ie(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:sR}=Array;function aR(n,e){return sR(e)?n(...e):n(e)}function yu(n){return ie(e=>aR(n,e))}var{isArray:cR}=Array,{getPrototypeOf:lR,prototype:uR,keys:dR}=Object;function _u(n){if(n.length===1){let e=n[0];if(cR(e))return{args:e,keys:null};if(hR(e)){let t=dR(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function hR(n){return n&&typeof n=="object"&&lR(n)===uR}function wu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Vi(...n){let e=qr(n),t=au(n),{args:r,keys:i}=_u(n);if(r.length===0)return Le([],e);let o=new ye(fR(r,e,i?s=>wu(i,s):kt));return t?o.pipe(yu(t)):o}function fR(n,e,t=kt){return r=>{ab(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)ab(e,()=>{let u=Le(n[l],e),h=!1;u.subscribe(Ie(r,p=>{o[l]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function ab(n,e,t){n?Ht(t,n,e):e()}function cb(n,e,t,r,i,o,s,a){let l=[],u=0,h=0,p=!1,w=()=>{p&&!l.length&&!u&&e.complete()},_=k=>u<r?S(k):l.push(k),S=k=>{o&&e.next(k),u++;let O=!1;Ge(t(k,h++)).subscribe(Ie(e,H=>{i?.(H),o?_(H):e.next(H)},()=>{O=!0},void 0,()=>{if(O)try{for(u--;l.length&&u<r;){let H=l.shift();s?Ht(e,s,()=>S(H)):S(H)}w()}catch(H){e.error(H)}}))};return n.subscribe(Ie(e,_,()=>{p=!0,w()})),()=>{a?.()}}function nt(n,e,t=1/0){return ge(e)?nt((r,i)=>ie((o,s)=>e(r,o,i,s))(Ge(n(r,i))),t):(typeof e=="number"&&(t=e),Ee((r,i)=>cb(r,i,n,t)))}function zo(n=1/0){return nt(kt,n)}function lb(){return zo(1)}function qo(...n){return lb()(Le(n,qr(n)))}function Iu(n){return new ye(e=>{Ge(n()).subscribe(e)})}function ji(...n){let e=au(n),{args:t,keys:r}=_u(n),i=new ye(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let h=0;h<s;h++){let p=!1;Ge(t[h]).subscribe(Ie(o,w=>{p||(p=!0,u--),a[h]=w},()=>l--,void 0,()=>{(!l||!p)&&(u||o.next(r?wu(r,a):a),o.complete())}))}});return e?i.pipe(yu(e)):i}function ub(n=0,e,t=Hp){let r=-1;return e!=null&&(su(e)?t=e:r=e),new ye(i=>{let o=sb(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function zt(n,e){return Ee((t,r)=>{let i=0;t.subscribe(Ie(r,o=>n.call(e,o,i++)&&r.next(o)))})}function In(n){return Ee((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Ie(t,void 0,void 0,s=>{o=Ge(n(s,In(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function db(n,e,t,r,i){return(o,s)=>{let a=t,l=e,u=0;o.subscribe(Ie(s,h=>{let p=u++;l=a?n(l,h,p):(a=!0,h),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function hr(n,e){return ge(e)?nt(n,e,1):nt(n,1)}function Kr(n){return Ee((e,t)=>{let r=!1;e.subscribe(Ie(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function an(n){return n<=0?()=>Ft:Ee((e,t)=>{let r=0;e.subscribe(Ie(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Wp(n){return ie(()=>n)}function bu(n=pR){return Ee((e,t)=>{let r=!1;e.subscribe(Ie(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function pR(){return new dr}function Ui(n){return Ee((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ln(n,e){let t=arguments.length>=2;return r=>r.pipe(n?zt((i,o)=>n(i,o,r)):kt,an(1),t?Kr(e):bu(()=>new dr))}function Go(n){return n<=0?()=>Ft:Ee((e,t)=>{let r=[];e.subscribe(Ie(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Kp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?zt((i,o)=>n(i,o,r)):kt,Go(1),t?Kr(e):bu(()=>new dr))}function Qp(n=1/0){let e;n&&typeof n=="object"?e=n:e={count:n};let{count:t=1/0,delay:r,resetOnSuccess:i=!1}=e;return t<=0?kt:Ee((o,s)=>{let a=0,l,u=()=>{let h=!1;l=o.subscribe(Ie(s,p=>{i&&(a=0),s.next(p)},void 0,p=>{if(a++<t){let w=()=>{l?(l.unsubscribe(),l=null,u()):h=!0};if(r!=null){let _=typeof r=="number"?ub(r):Ge(r(p,a)),S=Ie(s,()=>{S.unsubscribe(),w()},()=>{s.complete()});_.subscribe(S)}else w()}else s.error(p)})),h&&(l.unsubscribe(),l=null,u())};u()})}function Yp(n,e){return Ee(db(n,e,arguments.length>=2,!0))}function hb(n={}){let{connector:e=()=>new We,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,u=0,h=!1,p=!1,w=()=>{a?.unsubscribe(),a=void 0},_=()=>{w(),s=l=void 0,h=p=!1},S=()=>{let k=s;_(),k?.unsubscribe()};return Ee((k,O)=>{u++,!p&&!h&&w();let H=l=l??e();O.add(()=>{u--,u===0&&!p&&!h&&(a=Zp(S,i))}),H.subscribe(O),!s&&u>0&&(s=new ur({next:Y=>H.next(Y),error:Y=>{p=!0,w(),a=Zp(_,t,Y),H.error(Y)},complete:()=>{h=!0,w(),a=Zp(_,r),H.complete()}}),Ge(k).subscribe(s))})(o)}}function Zp(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new ur({next:()=>{r.unsubscribe(),n()}});return Ge(e(...t)).subscribe(r)}function Jp(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,hb({connector:()=>new ka(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Xp(...n){let e=qr(n);return Ee((t,r)=>{(e?qo(n,t,e):qo(n,t)).subscribe(r)})}function et(n,e){return Ee((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Ie(r,l=>{i?.unsubscribe();let u=0,h=o++;Ge(n(l,h)).subscribe(i=Ie(r,p=>r.next(e?e(l,p,h,u++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function La(n){return Ee((e,t)=>{Ge(n).subscribe(Ie(t,()=>t.complete(),Na)),!t.closed&&e.subscribe(t)})}function Ye(n,e,t){let r=ge(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ee((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ie(o,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):kt}var tE="https://g.co/ng/security#xss",te=class extends Error{constructor(e,t){super(sd(e,t)),this.code=e}};function sd(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Ga(n){return{toString:n}.toString()}var Eu="__parameters__";function mR(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function nE(n,e,t){return Ga(()=>{let r=mR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,u,h){let p=l.hasOwnProperty(Eu)?l[Eu]:Object.defineProperty(l,Eu,{value:[]})[Eu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var fr=globalThis;function Be(n){for(let e in n)if(n[e]===Be)return e;throw Error("Could not find renamed property on target object.")}function gR(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Vt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Vt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function pm(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var vR=Be({__forward_ref__:Be});function Tn(n){return n.__forward_ref__=Tn,n.toString=function(){return Vt(this())},n}function Lt(n){return rE(n)?n():n}function rE(n){return typeof n=="function"&&n.hasOwnProperty(vR)&&n.__forward_ref__===Tn}function W(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Sn(n){return{providers:n.providers||[],imports:n.imports||[]}}function ad(n){return fb(n,oE)||fb(n,sE)}function iE(n){return ad(n)!==null}function fb(n,e){return n.hasOwnProperty(e)?n[e]:null}function yR(n){let e=n&&(n[oE]||n[sE]);return e||null}function pb(n){return n&&(n.hasOwnProperty(mb)||n.hasOwnProperty(_R))?n[mb]:null}var oE=Be({\u0275prov:Be}),mb=Be({\u0275inj:Be}),sE=Be({ngInjectableDef:Be}),_R=Be({ngInjectorDef:Be}),G=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=W({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function aE(n){return n&&!!n.\u0275providers}var wR=Be({\u0275cmp:Be}),IR=Be({\u0275dir:Be}),bR=Be({\u0275pipe:Be}),ER=Be({\u0275mod:Be}),ku=Be({\u0275fac:Be}),ja=Be({__NG_ELEMENT_ID__:Be}),gb=Be({__NG_ENV_ID__:Be});function Hi(n){return typeof n=="string"?n:n==null?"":String(n)}function CR(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Hi(n)}function DR(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new te(-200,n)}function lg(n,e){throw new te(-201,!1)}var be=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(be||{}),mm;function cE(){return mm}function qt(n){let e=mm;return mm=n,e}function lE(n,e,t){let r=ad(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&be.Optional)return null;if(e!==void 0)return e;lg(n,"Injector")}var TR={},Ua=TR,gm="__NG_DI_FLAG__",Fu="ngTempTokenPath",SR="ngTokenPath",xR=/\n/gm,AR="\u0275",vb="__source",Zo;function MR(){return Zo}function Qr(n){let e=Zo;return Zo=n,e}function RR(n,e=be.Default){if(Zo===void 0)throw new te(-203,!1);return Zo===null?lE(n,void 0,e):Zo.get(n,e&be.Optional?null:void 0,e)}function Z(n,e=be.Default){return(cE()||RR)(Lt(n),e)}function L(n,e=be.Default){return Z(n,cd(e))}function cd(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function vm(n){let e=[];for(let t=0;t<n.length;t++){let r=Lt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new te(900,!1);let i,o=be.Default;for(let s=0;s<r.length;s++){let a=r[s],l=PR(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(Z(i,o))}else e.push(Z(r))}return e}function uE(n,e){return n[gm]=e,n.prototype[gm]=e,n}function PR(n){return n[gm]}function NR(n,e,t,r){let i=n[Fu];throw e[vb]&&i.unshift(e[vb]),n.message=OR(`
`+n.message,i,t,r),n[SR]=i,n[Fu]=null,n}function OR(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==AR?n.slice(2):n;let i=Vt(e);if(Array.isArray(e))i=e.map(Vt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Vt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(xR,`
  `)}`}var un=uE(nE("Optional"),8);var ug=uE(nE("SkipSelf"),4);function zi(n,e){let t=n.hasOwnProperty(ku);return t?n[ku]:null}function dg(n,e){n.forEach(t=>Array.isArray(t)?dg(t,e):e(t))}function dE(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Lu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function kR(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function hg(n,e,t){let r=Wa(n,e);return r>=0?n[r|1]=t:(r=~r,kR(n,r,e,t)),r}function em(n,e){let t=Wa(n,e);if(t>=0)return n[t|1]}function Wa(n,e){return FR(n,e,1)}function FR(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Xo={},Gt=[],es=new G(""),hE=new G("",-1),fE=new G(""),Vu=class{get(e,t=Ua){if(t===Ua){let r=new Error(`NullInjectorError: No provider for ${Vt(e)}!`);throw r.name="NullInjectorError",r}return t}},pE=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(pE||{}),Un=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Un||{}),Jr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Jr||{});function LR(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function ym(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];VR(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function mE(n){return n===3||n===4||n===6}function VR(n){return n.charCodeAt(0)===64}function Ba(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?yb(n,t,i,null,e[++r]):yb(n,t,i,null,null))}}return n}function yb(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var gE="ng-template";function jR(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&LR(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(fg(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function fg(n){return n.type===4&&n.value!==gE}function UR(n,e,t){let r=n.type===4&&!t?gE:n.value;return e===r}function BR(n,e,t){let r=4,i=n.attrs,o=i!==null?zR(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!bn(r)&&!bn(l))return!1;if(s&&bn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!UR(n,l,t)||l===""&&e.length===1){if(bn(r))return!1;s=!0}}else if(r&8){if(i===null||!jR(n,i,l,t)){if(bn(r))return!1;s=!0}}else{let u=e[++a],h=$R(l,i,fg(n),t);if(h===-1){if(bn(r))return!1;s=!0;continue}if(u!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&u!==p){if(bn(r))return!1;s=!0}}}}return bn(r)||s}function bn(n){return(n&1)===0}function $R(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return qR(e,n)}function HR(n,e,t=!1){for(let r=0;r<e.length;r++)if(BR(n,e[r],t))return!0;return!1}function zR(n){for(let e=0;e<n.length;e++){let t=n[e];if(mE(t))return e}return n.length}function qR(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function _b(n,e){return n?":not("+e.trim()+")":e}function GR(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!bn(s)&&(e+=_b(o,i),i=""),r=s,o=o||!bn(r);t++}return i!==""&&(e+=_b(o,i)),e}function WR(n){return n.map(GR).join(",")}function KR(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!bn(i))break;i=o}r++}return{attrs:e,classes:t}}function Ve(n){return Ga(()=>{let e=IE(n),t=me(U({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===pE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Un.Emulated,styles:n.styles||Gt,_:null,schemas:n.schemas||null,tView:null,id:""});bE(t);let r=n.dependencies;return t.directiveDefs=Ib(r,!1),t.pipeDefs=Ib(r,!0),t.id=ZR(t),t})}function QR(n){return Xr(n)||vE(n)}function YR(n){return n!==null}function xn(n){return Ga(()=>({type:n.type,bootstrap:n.bootstrap||Gt,declarations:n.declarations||Gt,imports:n.imports||Gt,exports:n.exports||Gt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function wb(n,e){if(n==null)return Xo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Jr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Jr.None?[r,a]:r,e[o]=s):t[o]=r}return t}function He(n){return Ga(()=>{let e=IE(n);return bE(e),e})}function ld(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Xr(n){return n[wR]||null}function vE(n){return n[IR]||null}function yE(n){return n[bR]||null}function _E(n){let e=Xr(n)||vE(n)||yE(n);return e!==null?e.standalone:!1}function wE(n,e){let t=n[ER]||null;if(!t&&e===!0)throw new Error(`Type ${Vt(n)} does not have '\u0275mod' property.`);return t}function IE(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Xo,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Gt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wb(n.inputs,e),outputs:wb(n.outputs),debugInfo:null}}function bE(n){n.features?.forEach(e=>e(n))}function Ib(n,e){if(!n)return null;let t=e?yE:QR;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(YR)}function ZR(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function yt(n){return{\u0275providers:n}}function JR(...n){return{\u0275providers:EE(!0,n),\u0275fromNgModule:!0}}function EE(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return dg(e,s=>{let a=s;_m(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&CE(i,o),t}function CE(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];pg(i,o=>{e(o,r)})}}function _m(n,e,t,r){if(n=Lt(n),!n)return!1;let i=null,o=pb(n),s=!o&&Xr(n);if(!o&&!s){let l=n.ngModule;if(o=pb(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)_m(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{dg(o.imports,h=>{_m(h,e,t,r)&&(u||=[],u.push(h))})}finally{}u!==void 0&&CE(u,e)}if(!a){let u=zi(i)||(()=>new i);e({provide:i,useFactory:u,deps:Gt},i),e({provide:fE,useValue:i,multi:!0},i),e({provide:es,useValue:()=>Z(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let u=n;pg(l,h=>{e(h,u)})}}else return!1;return i!==n&&n.providers!==void 0}function pg(n,e){for(let t of n)aE(t)&&(t=t.\u0275providers),Array.isArray(t)?pg(t,e):e(t)}var XR=Be({provide:String,useValue:Be});function DE(n){return n!==null&&typeof n=="object"&&XR in n}function eP(n){return!!(n&&n.useExisting)}function tP(n){return!!(n&&n.useFactory)}function ts(n){return typeof n=="function"}function nP(n){return!!n.useClass}var ud=new G(""),Mu={},rP={},tm;function mg(){return tm===void 0&&(tm=new Vu),tm}var jt=class{},$a=class extends jt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Im(e,s=>this.processProvider(s)),this.records.set(hE,Wo(void 0,this)),i.has("environment")&&this.records.set(jt,Wo(void 0,this));let o=this.records.get(ud);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(fE,Gt,be.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ae(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ae(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Qr(this),r=qt(void 0),i;try{return e()}finally{Qr(t),qt(r)}}get(e,t=Ua,r=be.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(gb))return e[gb](this);r=cd(r);let i,o=Qr(this),s=qt(void 0);try{if(!(r&be.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=cP(e)&&ad(e);u&&this.injectableDefInScope(u)?l=Wo(wm(e),Mu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&be.Self?mg():this.parent;return t=r&be.Optional&&t===Ua?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Fu]=a[Fu]||[]).unshift(Vt(e)),o)throw a;return NR(a,e,"R3InjectorError",this.source)}else throw a}finally{qt(s),Qr(o)}}resolveInjectorInitializers(){let e=Ae(null),t=Qr(this),r=qt(void 0),i;try{let o=this.get(es,Gt,be.Self);for(let s of o)s()}finally{Qr(t),qt(r),Ae(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Vt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processProvider(e){e=Lt(e);let t=ts(e)?e:Lt(e&&e.provide),r=oP(e);if(!ts(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Wo(void 0,Mu,!0),i.factory=()=>vm(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Ae(null);try{return t.value===Mu&&(t.value=rP,t.value=t.factory()),typeof t.value=="object"&&t.value&&aP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ae(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Lt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function wm(n){let e=ad(n),t=e!==null?e.factory:zi(n);if(t!==null)return t;if(n instanceof G)throw new te(204,!1);if(n instanceof Function)return iP(n);throw new te(204,!1)}function iP(n){if(n.length>0)throw new te(204,!1);let t=yR(n);return t!==null?()=>t.factory(n):()=>new n}function oP(n){if(DE(n))return Wo(void 0,n.useValue);{let e=TE(n);return Wo(e,Mu)}}function TE(n,e,t){let r;if(ts(n)){let i=Lt(n);return zi(i)||wm(i)}else if(DE(n))r=()=>Lt(n.useValue);else if(tP(n))r=()=>n.useFactory(...vm(n.deps||[]));else if(eP(n))r=()=>Z(Lt(n.useExisting));else{let i=Lt(n&&(n.useClass||n.provide));if(sP(n))r=()=>new i(...vm(n.deps));else return zi(i)||wm(i)}return r}function Wo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function sP(n){return!!n.deps}function aP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function cP(n){return typeof n=="function"||typeof n=="object"&&n instanceof G}function Im(n,e){for(let t of n)Array.isArray(t)?Im(t,e):t&&aE(t)?Im(t.\u0275providers,e):e(t)}function Zt(n,e){n instanceof $a&&n.assertNotDestroyed();let t,r=Qr(n),i=qt(void 0);try{return e()}finally{Qr(r),qt(i)}}function SE(){return cE()!==void 0||MR()!=null}function dd(n){if(!SE())throw new te(-203,!1)}function lP(n){return typeof n=="function"}var yr=0,Ce=1,fe=2,Ut=3,Cn=4,An=5,ju=6,Uu=7,Dn=8,ns=9,Bn=10,tt=11,Ha=12,bb=13,hs=14,$n=15,rs=16,Ko=17,is=18,hd=19,xE=20,Yr=21,nm=22,cn=23,Yt=25,AE=1;var qi=7,Bu=8,$u=9,ln=10,Hu=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Hu||{});function Zr(n){return Array.isArray(n)&&typeof n[AE]=="object"}function _r(n){return Array.isArray(n)&&n[AE]===!0}function gg(n){return(n.flags&4)!==0}function fd(n){return n.componentOffset>-1}function pd(n){return(n.flags&1)===1}function ei(n){return!!n.template}function bm(n){return(n[fe]&512)!==0}var Em=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function ME(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function dn(){return RE}function RE(n){return n.type.prototype.ngOnChanges&&(n.setInput=dP),uP}dn.ngInherit=!0;function uP(){let n=NE(this),e=n?.current;if(e){let t=n.previous;if(t===Xo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function dP(n,e,t,r,i){let o=this.declaredInputs[r],s=NE(n)||hP(n,{previous:Xo,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new Em(u&&u.currentValue,t,l===Xo),ME(n,e,i,t)}var PE="__ngSimpleChanges__";function NE(n){return n[PE]||null}function hP(n,e){return n[PE]=e}var Eb=null;var Vn=function(n,e,t){Eb?.(n,e,t)},OE="svg",fP="math";function Hn(n){for(;Array.isArray(n);)n=n[yr];return n}function kE(n,e){return Hn(e[n])}function hn(n,e){return Hn(e[n.index])}function FE(n,e){return n.data[e]}function vg(n,e){return n[e]}function ri(n,e){let t=e[n];return Zr(t)?t:t[yr]}function yg(n){return(n[fe]&128)===128}function pP(n){return _r(n[Ut])}function os(n,e){return e==null?null:n[e]}function LE(n){n[Ko]=0}function VE(n){n[fe]&1024||(n[fe]|=1024,yg(n)&&gd(n))}function mP(n,e){for(;n>0;)e=e[hs],n--;return e}function md(n){return!!(n[fe]&9216||n[cn]?.dirty)}function Cm(n){n[Bn].changeDetectionScheduler?.notify(8),n[fe]&64&&(n[fe]|=1024),md(n)&&gd(n)}function gd(n){n[Bn].changeDetectionScheduler?.notify(0);let e=Gi(n);for(;e!==null&&!(e[fe]&8192||(e[fe]|=8192,!yg(e)));)e=Gi(e)}function jE(n,e){if((n[fe]&256)===256)throw new te(911,!1);n[Yr]===null&&(n[Yr]=[]),n[Yr].push(e)}function gP(n,e){if(n[Yr]===null)return;let t=n[Yr].indexOf(e);t!==-1&&n[Yr].splice(t,1)}function Gi(n){let e=n[Ut];return _r(e)?e[Ut]:e}var _e={lFrame:KE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var UE=!1;function vP(){return _e.lFrame.elementDepthCount}function yP(){_e.lFrame.elementDepthCount++}function _P(){_e.lFrame.elementDepthCount--}function BE(){return _e.bindingsEnabled}function wP(){return _e.skipHydrationRootTNode!==null}function IP(n){return _e.skipHydrationRootTNode===n}function bP(){_e.skipHydrationRootTNode=null}function Re(){return _e.lFrame.lView}function _t(){return _e.lFrame.tView}function oe(n){return _e.lFrame.contextLView=n,n[Dn]}function se(n){return _e.lFrame.contextLView=null,n}function St(){let n=$E();for(;n!==null&&n.type===64;)n=n.parent;return n}function $E(){return _e.lFrame.currentTNode}function EP(){let n=_e.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Zi(n,e){let t=_e.lFrame;t.currentTNode=n,t.isParent=e}function _g(){return _e.lFrame.isParent}function HE(){_e.lFrame.isParent=!1}function CP(){return _e.lFrame.contextLView}function zE(){return UE}function Cb(n){UE=n}function wg(){let n=_e.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function DP(){return _e.lFrame.bindingIndex}function TP(n){return _e.lFrame.bindingIndex=n}function vd(){return _e.lFrame.bindingIndex++}function Ig(n){let e=_e.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function SP(){return _e.lFrame.inI18n}function xP(n,e){let t=_e.lFrame;t.bindingIndex=t.bindingRootIndex=n,Dm(e)}function AP(){return _e.lFrame.currentDirectiveIndex}function Dm(n){_e.lFrame.currentDirectiveIndex=n}function MP(n){let e=_e.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function qE(n){_e.lFrame.currentQueryIndex=n}function RP(n){let e=n[Ce];return e.type===2?e.declTNode:e.type===1?n[An]:null}function GE(n,e,t){if(t&be.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&be.Host);)if(i=RP(o),i===null||(o=o[hs],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=_e.lFrame=WE();return r.currentTNode=e,r.lView=n,!0}function bg(n){let e=WE(),t=n[Ce];_e.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function WE(){let n=_e.lFrame,e=n===null?null:n.child;return e===null?KE(n):e}function KE(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function QE(){let n=_e.lFrame;return _e.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var YE=QE;function Eg(){let n=QE();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function PP(n){return(_e.lFrame.contextLView=mP(n,_e.lFrame.contextLView))[Dn]}function ii(){return _e.lFrame.selectedIndex}function Wi(n){_e.lFrame.selectedIndex=n}function Cg(){let n=_e.lFrame;return FE(n.tView,n.selectedIndex)}function yd(){_e.lFrame.currentNamespace=OE}function _d(){NP()}function NP(){_e.lFrame.currentNamespace=null}function OP(){return _e.lFrame.currentNamespace}var ZE=!0;function wd(){return ZE}function Id(n){ZE=n}function kP(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=RE(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function bd(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Ru(n,e,t){JE(n,e,3,t)}function Pu(n,e,t,r){(n[fe]&3)===t&&JE(n,e,t,r)}function rm(n,e){let t=n[fe];(t&3)===e&&(t&=16383,t+=1,n[fe]=t)}function JE(n,e,t,r){let i=r!==void 0?n[Ko]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[Ko]+=65536),(a<o||o==-1)&&(FP(n,t,e,l),n[Ko]=(n[Ko]&4294901760)+l+2),l++}function Db(n,e){Vn(4,n,e);let t=Ae(null);try{e.call(n)}finally{Ae(t),Vn(5,n,e)}}function FP(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[fe]>>14<n[Ko]>>16&&(n[fe]&3)===e&&(n[fe]+=16384,Db(a,o)):Db(a,o)}var Jo=-1,Ki=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function LP(n){return n instanceof Ki}function VP(n){return(n.flags&8)!==0}function jP(n){return(n.flags&16)!==0}var im={},Tm=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=cd(r);let i=this.injector.get(e,im,r);return i!==im||t===im?i:this.parentInjector.get(e,t,r)}};function XE(n){return n!==Jo}function zu(n){return n&32767}function UP(n){return n>>16}function qu(n,e){let t=UP(n),r=e;for(;t>0;)r=r[hs],t--;return r}var Sm=!0;function Gu(n){let e=Sm;return Sm=n,e}var BP=256,eC=BP-1,tC=5,$P=0,jn={};function HP(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ja)&&(r=t[ja]),r==null&&(r=t[ja]=$P++);let i=r&eC,o=1<<i;e.data[n+(i>>tC)]|=o}function Wu(n,e){let t=nC(n,e);if(t!==-1)return t;let r=e[Ce];r.firstCreatePass&&(n.injectorIndex=e.length,om(r.data,n),om(e,null),om(r.blueprint,null));let i=Dg(n,e),o=n.injectorIndex;if(XE(i)){let s=zu(i),a=qu(i,e),l=a[Ce].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function om(n,e){n.push(0,0,0,0,0,0,0,0,e)}function nC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Dg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=aC(i),r===null)return Jo;if(t++,i=i[hs],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Jo}function xm(n,e,t){HP(n,e,t)}function zP(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(mE(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function rC(n,e,t){if(t&be.Optional||n!==void 0)return n;lg(e,"NodeInjector")}function iC(n,e,t,r){if(t&be.Optional&&r===void 0&&(r=null),!(t&(be.Self|be.Host))){let i=n[ns],o=qt(void 0);try{return i?i.get(e,r,t&be.Optional):lE(e,r,t&be.Optional)}finally{qt(o)}}return rC(r,e,t)}function oC(n,e,t,r=be.Default,i){if(n!==null){if(e[fe]&2048&&!(r&be.Self)){let s=QP(n,e,t,r,jn);if(s!==jn)return s}let o=sC(n,e,t,r,jn);if(o!==jn)return o}return iC(e,t,r,i)}function sC(n,e,t,r,i){let o=WP(t);if(typeof o=="function"){if(!GE(e,n,r))return r&be.Host?rC(i,t,r):iC(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&be.Optional))lg(t);else return s}finally{YE()}}else if(typeof o=="number"){let s=null,a=nC(n,e),l=Jo,u=r&be.Host?e[$n][An]:null;for((a===-1||r&be.SkipSelf)&&(l=a===-1?Dg(n,e):e[a+8],l===Jo||!Sb(r,!1)?a=-1:(s=e[Ce],a=zu(l),e=qu(l,e)));a!==-1;){let h=e[Ce];if(Tb(o,a,h.data)){let p=qP(a,e,t,s,r,u);if(p!==jn)return p}l=e[a+8],l!==Jo&&Sb(r,e[Ce].data[a+8]===u)&&Tb(o,a,e)?(s=h,a=zu(l),e=qu(l,e)):a=-1}}return i}function qP(n,e,t,r,i,o){let s=e[Ce],a=s.data[n+8],l=r==null?fd(a)&&Sm:r!=s&&(a.type&3)!==0,u=i&be.Host&&o===a,h=GP(a,s,t,l,u);return h!==null?ss(e,s,h,a):jn}function GP(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,u=n.directiveEnd,h=o>>20,p=r?a:a+h,w=i?a+h:u;for(let _=p;_<w;_++){let S=s[_];if(_<l&&t===S||_>=l&&S.type===t)return _}if(i){let _=s[l];if(_&&ei(_)&&_.type===t)return l}return null}function ss(n,e,t,r){let i=n[t],o=e.data;if(LP(i)){let s=i;s.resolving&&DR(CR(o[t]));let a=Gu(s.canSeeViewProviders);s.resolving=!0;let l,u=s.injectImpl?qt(s.injectImpl):null,h=GE(n,r,be.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&kP(t,o[t],e)}finally{u!==null&&qt(u),Gu(a),s.resolving=!1,YE()}}return i}function WP(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ja)?n[ja]:void 0;return typeof e=="number"?e>=0?e&eC:KP:e}function Tb(n,e,t){let r=1<<n;return!!(t[e+(n>>tC)]&r)}function Sb(n,e){return!(n&be.Self)&&!(n&be.Host&&e)}var $i=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return oC(this._tNode,this._lView,e,cd(r),t)}};function KP(){return new $i(St(),Re())}function Mn(n){return Ga(()=>{let e=n.prototype.constructor,t=e[ku]||Am(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[ku]||Am(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Am(n){return rE(n)?()=>{let e=Am(Lt(n));return e&&e()}:zi(n)}function QP(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[fe]&2048&&!(s[fe]&512);){let a=sC(o,s,t,r|be.Self,jn);if(a!==jn)return a;let l=o.parent;if(!l){let u=s[xE];if(u){let h=u.get(t,jn,r);if(h!==jn)return h}l=aC(s),s=s[hs]}o=l}return i}function aC(n){let e=n[Ce],t=e.type;return t===2?e.declTNode:t===1?n[An]:null}function Tg(n){return zP(St(),n)}function xb(n,e=null,t=null,r){let i=cC(n,e,t,r);return i.resolveInjectorInitializers(),i}function cC(n,e=null,t=null,r,i=new Set){let o=[t||Gt,JR(n)];return r=r||(typeof n=="object"?void 0:Vt(n)),new $a(o,e||mg(),r||null,i)}var vt=class n{static{this.THROW_IF_NOT_FOUND=Ua}static{this.NULL=new Vu}static create(e,t){if(Array.isArray(e))return xb({name:""},t,e,"");{let r=e.name??"";return xb({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=W({token:n,providedIn:"any",factory:()=>Z(hE)})}static{this.__NG_ELEMENT_ID__=-1}};var YP=new G("");YP.__NG_ELEMENT_ID__=n=>{let e=St();if(e===null)throw new te(204,!1);if(e.type&2)return e.value;if(n&be.Optional)return null;throw new te(204,!1)};var ZP="ngOriginalError";function sm(n){return n[ZP]}var lC=!0,oi=(()=>{class n{static{this.__NG_ELEMENT_ID__=JP}static{this.__NG_ENV_ID__=t=>t}}return n})(),Mm=class extends oi{constructor(e){super(),this._lView=e}onDestroy(e){return jE(this._lView,e),()=>gP(this._lView,e)}};function JP(){return new Mm(Re())}var si=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new qe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Rm=class extends We{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,SE()&&(this.destroyRef=L(oi,{optional:!0})??void 0,this.pendingTasks=L(si,{optional:!0})??void 0)}emit(e){let t=Ae(null);try{super.next(e)}finally{Ae(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof $e&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},rt=Rm;function Ku(...n){}function uC(n){let e,t;function r(){n=Ku;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Ab(n){return queueMicrotask(()=>n()),()=>{n=Ku}}var Sg="isAngularZone",Qu=Sg+"_ID",XP=0,Oe=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rt(!1),this.onMicrotaskEmpty=new rt(!1),this.onStable=new rt(!1),this.onError=new rt(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=lC}=e;if(typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,nN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Sg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new te(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,eN,Ku,Ku);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},eN={};function xg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function tN(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){uC(()=>{n.callbackScheduled=!1,Pm(n),n.isCheckStableRunning=!0,xg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Pm(n)}function nN(n){let e=()=>{tN(n)},t=XP++;n._inner=n._inner.fork({name:"angular",properties:{[Sg]:!0,[Qu]:t,[Qu+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(rN(l))return r.invokeTask(o,s,a,l);try{return Mb(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Rb(n)}},onInvoke:(r,i,o,s,a,l,u)=>{try{return Mb(n),r.invoke(o,s,a,l,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!iN(l)&&e(),Rb(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Pm(n),xg(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Pm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Mb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Rb(n){n._nesting--,xg(n)}var Nm=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rt,this.onMicrotaskEmpty=new rt,this.onStable=new rt,this.onError=new rt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function rN(n){return dC(n,"__ignore_ng_zone__")}function iN(n){return dC(n,"__scheduler_tick__")}function dC(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var pr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&sm(e);for(;t&&sm(t);)t=sm(t);return t||null}},oN=new G("",{providedIn:"root",factory:()=>{let n=L(Oe),e=L(pr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function sN(){return Ed(St(),Re())}function Ed(n,e){return new Jt(hn(n,e))}var Jt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=sN}}return n})();function hC(n){return(n.flags&128)===128}var fC=new Map,aN=0;function cN(){return aN++}function lN(n){fC.set(n[hd],n)}function Om(n){fC.delete(n[hd])}var Pb="__ngContext__";function ti(n,e){Zr(e)?(n[Pb]=e[hd],lN(e)):n[Pb]=e}function pC(n){return gC(n[Ha])}function mC(n){return gC(n[Cn])}function gC(n){for(;n!==null&&!_r(n);)n=n[Cn];return n}var km;function vC(n){km=n}function yC(){if(km!==void 0)return km;if(typeof document<"u")return document;throw new te(210,!1)}var Ag=new G("",{providedIn:"root",factory:()=>uN}),uN="ng",Mg=new G(""),fn=new G("",{providedIn:"platform",factory:()=>"unknown"});var Rg=new G("",{providedIn:"root",factory:()=>yC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var dN="h",hN="b";var fN=()=>null;function Pg(n,e,t=!1){return fN(n,e,t)}var _C=!1,pN=new G("",{providedIn:"root",factory:()=>_C});var Cu;function mN(){if(Cu===void 0&&(Cu=null,fr.trustedTypes))try{Cu=fr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Cu}function Cd(n){return mN()?.createHTML(n)||n}var Du;function wC(){if(Du===void 0&&(Du=null,fr.trustedTypes))try{Du=fr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Du}function Nb(n){return wC()?.createHTML(n)||n}function Ob(n){return wC()?.createScriptURL(n)||n}var Yu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tE})`}};function Ji(n){return n instanceof Yu?n.changingThisBreaksApplicationSecurity:n}function Dd(n,e){let t=gN(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${tE})`)}return t===e}function gN(n){return n instanceof Yu&&n.getTypeName()||null}function vN(n){let e=new Lm(n);return yN()?new Fm(e):e}var Fm=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Cd(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Lm=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Cd(e),t}};function yN(){try{return!!new window.DOMParser().parseFromString(Cd(""),"text/html")}catch{return!1}}var _N=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ng(n){return n=String(n),n.match(_N)?n:"unsafe:"+n}function wr(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Ka(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var IC=wr("area,br,col,hr,img,wbr"),bC=wr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),EC=wr("rp,rt"),wN=Ka(EC,bC),IN=Ka(bC,wr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bN=Ka(EC,wr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),kb=Ka(IC,IN,bN,wN),CC=wr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),EN=wr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),CN=wr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),DN=Ka(CC,EN,CN),TN=wr("script,style,template"),Vm=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=AN(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=xN(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=Fb(e).toLowerCase();if(!kb.hasOwnProperty(t))return this.sanitizedSomething=!0,!TN.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!DN.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;CC[a]&&(l=Ng(l)),this.buf.push(" ",s,'="',Lb(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=Fb(e).toLowerCase();kb.hasOwnProperty(t)&&!IC.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Lb(e))}};function SN(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function xN(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw DC(e);return e}function AN(n){let e=n.firstChild;if(e&&SN(n,e))throw DC(e);return e}function Fb(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function DC(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var MN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,RN=/([^\#-~ |!])/g;function Lb(n){return n.replace(/&/g,"&amp;").replace(MN,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(RN,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Tu;function TC(n,e){let t=null;try{Tu=Tu||vN(n);let r=e?String(e):"";t=Tu.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Tu.getInertBodyElement(r)}while(r!==o);let a=new Vm().sanitizeChildren(Vb(t)||t);return Cd(a)}finally{if(t){let r=Vb(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function Vb(n){return"content"in n&&PN(n)?n.content:null}function PN(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Qa=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Qa||{});function Xi(n){let e=Og();return e?Nb(e.sanitize(Qa.HTML,n)||""):Dd(n,"HTML")?Nb(Ji(n)):TC(yC(),Hi(n))}function Ir(n){let e=Og();return e?e.sanitize(Qa.URL,n)||"":Dd(n,"URL")?Ji(n):Ng(Hi(n))}function NN(n){let e=Og();if(e)return Ob(e.sanitize(Qa.RESOURCE_URL,n)||"");if(Dd(n,"ResourceURL"))return Ob(Ji(n));throw new te(904,!1)}function ON(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?NN:Ir}function SC(n,e,t){return ON(e,t)(n)}function Og(){let n=Re();return n&&n[Bn].sanitizer}var kN=/^>|^->|<!--|-->|--!>|<!-$/g,FN=/(<|>)/g,LN="\u200B$1\u200B";function VN(n){return n.replace(kN,e=>e.replace(FN,LN))}function xC(n){return n.ownerDocument.defaultView}function br(n){return n.ownerDocument}function AC(n){return n instanceof Function?n():n}function jN(n){return(n??L(vt)).get(fn)==="browser"}var mr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(mr||{}),UN;function kg(n,e){return UN(n,e)}function Qo(n,e,t,r,i){if(r!=null){let o,s=!1;_r(r)?o=r:Zr(r)&&(s=!0,r=r[yr]);let a=Hn(r);n===0&&t!==null?i==null?OC(e,t,a):Zu(e,t,a,i||null,!0):n===1&&t!==null?Zu(e,t,a,i||null,!0):n===2?nO(e,a,s):n===3&&e.destroyNode(a),o!=null&&iO(e,n,o,t,i)}}function BN(n,e){return n.createText(e)}function $N(n,e,t){n.setValue(e,t)}function HN(n,e){return n.createComment(VN(e))}function MC(n,e,t){return n.createElement(e,t)}function zN(n,e){RC(n,e),e[yr]=null,e[An]=null}function qN(n,e,t,r,i,o){r[yr]=i,r[An]=e,Sd(n,r,t,1,i,o)}function RC(n,e){e[Bn].changeDetectionScheduler?.notify(9),Sd(n,e,e[tt],2,null,null)}function GN(n){let e=n[Ha];if(!e)return am(n[Ce],n);for(;e;){let t=null;if(Zr(e))t=e[Ha];else{let r=e[ln];r&&(t=r)}if(!t){for(;e&&!e[Cn]&&e!==n;)Zr(e)&&am(e[Ce],e),e=e[Ut];e===null&&(e=n),Zr(e)&&am(e[Ce],e),t=e&&e[Cn]}e=t}}function WN(n,e,t,r){let i=ln+r,o=t.length;r>0&&(t[i-1][Cn]=e),r<o-ln?(e[Cn]=t[i],dE(t,ln+r,e)):(t.push(e),e[Cn]=null),e[Ut]=t;let s=e[rs];s!==null&&t!==s&&PC(s,e);let a=e[is];a!==null&&a.insertView(n),Cm(e),e[fe]|=128}function PC(n,e){let t=n[$u],r=e[Ut];if(Zr(r))n[fe]|=Hu.HasTransplantedViews;else{let i=r[Ut][$n];e[$n]!==i&&(n[fe]|=Hu.HasTransplantedViews)}t===null?n[$u]=[e]:t.push(e)}function Fg(n,e){let t=n[$u],r=t.indexOf(e);t.splice(r,1)}function jm(n,e){if(n.length<=ln)return;let t=ln+e,r=n[t];if(r){let i=r[rs];i!==null&&i!==n&&Fg(i,r),e>0&&(n[t-1][Cn]=r[Cn]);let o=Lu(n,ln+e);zN(r[Ce],r);let s=o[is];s!==null&&s.detachView(o[Ce]),r[Ut]=null,r[Cn]=null,r[fe]&=-129}return r}function NC(n,e){if(!(e[fe]&256)){let t=e[tt];t.destroyNode&&Sd(n,e,t,3,null,null),GN(e)}}function am(n,e){if(e[fe]&256)return;let t=Ae(null);try{e[fe]&=-129,e[fe]|=256,e[cn]&&Pp(e[cn]),QN(n,e),KN(n,e),e[Ce].type===1&&e[tt].destroy();let r=e[rs];if(r!==null&&_r(e[Ut])){r!==e[Ut]&&Fg(r,e);let i=e[is];i!==null&&i.detachView(n)}Om(e)}finally{Ae(t)}}function KN(n,e){let t=n.cleanup,r=e[Uu];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Uu]=null);let i=e[Yr];if(i!==null){e[Yr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function QN(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ki)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Vn(4,a,l);try{l.call(a)}finally{Vn(5,a,l)}}else{Vn(4,i,o);try{o.call(i)}finally{Vn(5,i,o)}}}}}function YN(n,e,t){return ZN(n,e.parent,t)}function ZN(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[yr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===Un.None||o===Un.Emulated)return null}return hn(r,t)}}function Zu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function OC(n,e,t){n.appendChild(e,t)}function jb(n,e,t,r,i){r!==null?Zu(n,e,t,r,i):OC(n,e,t)}function kC(n,e){return n.parentNode(e)}function JN(n,e){return n.nextSibling(e)}function XN(n,e,t){return tO(n,e,t)}function eO(n,e,t){return n.type&40?hn(n,t):null}var tO=eO,Ub;function Td(n,e,t,r){let i=YN(n,r,e),o=e[tt],s=r.parent||e[An],a=XN(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)jb(o,i,t[l],a,!1);else jb(o,i,t,a,!1);Ub!==void 0&&Ub(o,r,e,t,i)}function Va(n,e){if(e!==null){let t=e.type;if(t&3)return hn(e,n);if(t&4)return Um(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Va(n,r);{let i=n[e.index];return _r(i)?Um(-1,i):Hn(i)}}else{if(t&128)return Va(n,e.next);if(t&32)return kg(e,n)()||Hn(n[e.index]);{let r=FC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Gi(n[$n]);return Va(i,r)}else return Va(n,e.next)}}}return null}function FC(n,e){if(e!==null){let r=n[$n][An],i=e.projection;return r.projection[i]}return null}function Um(n,e){let t=ln+n+1;if(t<e.length){let r=e[t],i=r[Ce].firstChild;if(i!==null)return Va(r,i)}return e[qi]}function nO(n,e,t){n.removeChild(null,e,t)}function Lg(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&e===0&&(a&&ti(Hn(a),r),t.flags|=2),(t.flags&32)!==32)if(l&8)Lg(n,e,t.child,r,i,o,!1),Qo(e,n,i,a,o);else if(l&32){let u=kg(t,r),h;for(;h=u();)Qo(e,n,i,h,o);Qo(e,n,i,a,o)}else l&16?rO(n,e,r,t,i,o):Qo(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Sd(n,e,t,r,i,o){Lg(t,r,n.firstChild,e,i,o,!1)}function rO(n,e,t,r,i,o){let s=t[$n],l=s[An].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let h=l[u];Qo(e,n,i,h,o)}else{let u=l,h=s[Ut];hC(r)&&(u.flags|=128),Lg(n,e,u,h,i,o,!0)}}function iO(n,e,t,r,i){let o=t[qi],s=Hn(t);o!==s&&Qo(e,n,r,o,i);for(let a=ln;a<t.length;a++){let l=t[a];Sd(l[Ce],l,n,e,r,o)}}function oO(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:mr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=mr.Important),n.setStyle(t,r,i,o))}}function sO(n,e,t){n.setAttribute(e,"style",t)}function LC(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function VC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&ym(n,e,r),i!==null&&LC(n,e,i),o!==null&&sO(n,e,o)}var Rn={};function v(n=1){jC(_t(),Re(),ii()+n,!1)}function jC(n,e,t,r){if(!r)if((e[fe]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Ru(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Pu(e,o,0,t)}Wi(t)}function J(n,e=be.Default){let t=Re();if(t===null)return Z(n,e);let r=St();return oC(r,t,Lt(n),e)}function UC(){let n="invalid";throw new Error(n)}function BC(n,e,t,r,i,o){let s=Ae(null);try{let a=null;i&Jr.SignalBased&&(a=e[r][lr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Jr.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):ME(e,a,r,o)}finally{Ae(s)}}function aO(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Wi(~i);else{let o=i,s=t[++r],a=t[++r];xP(s,o);let l=e[o];a(2,l)}}}finally{Wi(-1)}}function xd(n,e,t,r,i,o,s,a,l,u,h){let p=e.blueprint.slice();return p[yr]=i,p[fe]=r|4|128|8|64,(u!==null||n&&n[fe]&2048)&&(p[fe]|=2048),LE(p),p[Ut]=p[hs]=n,p[Dn]=t,p[Bn]=s||n&&n[Bn],p[tt]=a||n&&n[tt],p[ns]=l||n&&n[ns]||null,p[An]=o,p[hd]=cN(),p[ju]=h,p[xE]=u,p[$n]=e.type==2?n[$n]:p,p}function Ya(n,e,t,r,i){let o=n.data[e];if(o===null)o=cO(n,e,t,r,i),SP()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=EP();o.injectorIndex=s===null?-1:s.injectorIndex}return Zi(o,!0),o}function cO(n,e,t,r,i){let o=$E(),s=_g(),a=s?o:o&&o.parent,l=n.data[e]=fO(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function $C(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function HC(n,e,t,r,i){let o=ii(),s=r&2;try{Wi(-1),s&&e.length>Yt&&jC(n,e,Yt,!1),Vn(s?2:0,i),t(r,i)}finally{Wi(o),Vn(s?3:1,i)}}function Vg(n,e,t){if(gg(e)){let r=Ae(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{Ae(r)}}}function jg(n,e,t){BE()&&(_O(n,e,t,hn(t,e)),(t.flags&64)===64&&WC(n,e,t))}function Ug(n,e,t=hn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function zC(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Bg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Bg(n,e,t,r,i,o,s,a,l,u,h){let p=Yt+r,w=p+i,_=lO(p,w),S=typeof u=="function"?u():u;return _[Ce]={type:n,blueprint:_,template:t,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:S,incompleteFirstPass:!1,ssrId:h}}function lO(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Rn);return t}function uO(n,e,t,r){let o=r.get(pN,_C)||t===Un.ShadowDom,s=n.selectRootElement(e,o);return dO(s),s}function dO(n){hO(n)}var hO=()=>null;function fO(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return wP()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Bb(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,l=Jr.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}n===0?$b(r,t,u,a,l):$b(r,t,u,a)}return r}function $b(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function pO(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],l=null,u=null;for(let h=r;h<i;h++){let p=o[h],w=t?t.get(p):null,_=w?w.inputs:null,S=w?w.outputs:null;l=Bb(0,p.inputs,h,l,_),u=Bb(1,p.outputs,h,u,S);let k=l!==null&&s!==null&&!fg(e)?MO(l,h,s):null;a.push(k)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}function mO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function qC(n,e,t,r,i,o,s,a){let l=hn(e,t),u=e.inputs,h;!a&&u!=null&&(h=u[r])?(Hg(n,t,h,r,i),fd(e)&&gO(t,e.index)):e.type&3?(r=mO(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)):e.type&12}function gO(n,e){let t=ri(e,n);t[fe]&16||(t[fe]|=64)}function $g(n,e,t,r){if(BE()){let i=r===null?null:{"":-1},o=IO(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&GC(n,e,t,s,i,a),i&&bO(t,r,i)}t.mergedAttrs=Ba(t.mergedAttrs,t.attrs)}function GC(n,e,t,r,i,o){for(let u=0;u<r.length;u++)xm(Wu(t,e),n,r[u].type);CO(t,n.data.length,r.length);for(let u=0;u<r.length;u++){let h=r[u];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,l=$C(n,e,r.length,null);for(let u=0;u<r.length;u++){let h=r[u];t.mergedAttrs=Ba(t.mergedAttrs,h.hostAttrs),DO(n,t,e,l,h),EO(l,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}pO(n,t,o)}function vO(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;yO(s)!=a&&s.push(a),s.push(t,r,o)}}function yO(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function _O(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;fd(t)&&TO(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Wu(t,e),ti(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let l=n.data[a],u=ss(e,n,a,t);if(ti(u,e),s!==null&&AO(e,a-i,u,l,t,s),ei(l)){let h=ri(t.index,e);h[Dn]=ss(e,n,a,t)}}}function WC(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=AP();try{Wi(o);for(let a=r;a<i;a++){let l=n.data[a],u=e[a];Dm(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&wO(l,u)}}finally{Wi(-1),Dm(s)}}function wO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function IO(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(HR(e,s.selectors,!1))if(r||(r=[]),ei(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;Bm(n,e,l)}else r.unshift(s),Bm(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Bm(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function bO(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new te(-301,!1);r.push(e[i],o)}}}function EO(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ei(e)&&(t[""]=n)}}function CO(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function DO(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=zi(i.type,!0)),s=new Ki(o,ei(i),J);n.blueprint[r]=s,t[r]=s,vO(n,e,r,$C(n,t,i.hostVars,Rn),i)}function TO(n,e,t){let r=hn(e,n),i=zC(t),o=n[Bn].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Ad(n,xd(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function SO(n,e,t,r,i,o){let s=hn(n,e);xO(e[tt],s,o,n.value,t,r,i)}function xO(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Hi(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function AO(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],u=s[a++],h=s[a++],p=s[a++];BC(r,t,l,u,h,p)}}function MO(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function KC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function QC(n,e){let t=n.contentQueries;if(t!==null){let r=Ae(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];qE(o),a.contentQueries(2,e[s],s)}}}finally{Ae(r)}}}function Ad(n,e){return n[Ha]?n[bb][Cn]=e:n[Ha]=e,n[bb]=e,e}function $m(n,e,t){qE(0);let r=Ae(null);try{e(n,t)}finally{Ae(r)}}function RO(n){return n[Uu]??=[]}function PO(n){return n.cleanup??=[]}function YC(n,e){let t=n[ns],r=t?t.get(pr,null):null;r&&r.handleError(e)}function Hg(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],l=t[o++],u=e[s],h=n.data[s];BC(h,u,r,a,l,i)}}function ZC(n,e,t){let r=kE(e,n);$N(n[tt],r,t)}function NO(n,e){let t=ri(e,n),r=t[Ce];OO(r,t);let i=t[yr];i!==null&&t[ju]===null&&(t[ju]=Pg(i,t[ns])),zg(r,t,t[Dn])}function OO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function zg(n,e,t){bg(e);try{let r=n.viewQuery;r!==null&&$m(1,r,t);let i=n.template;i!==null&&HC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[is]?.finishViewCreation(n),n.staticContentQueries&&QC(n,e),n.staticViewQueries&&$m(2,n.viewQuery,t);let o=n.components;o!==null&&kO(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[fe]&=-5,Eg()}}function kO(n,e){for(let t=0;t<e.length;t++)NO(n,e[t])}function FO(n,e,t,r){let i=Ae(null);try{let o=e.tView,a=n[fe]&4096?4096:16,l=xd(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];l[rs]=u;let h=n[is];return h!==null&&(l[is]=h.createEmbeddedView(o)),zg(o,l,t),l}finally{Ae(i)}}function Hb(n,e){return!e||e.firstChild===null||hC(n)}function LO(n,e,t,r=!0){let i=e[Ce];if(WN(i,e,n,t),r){let s=Um(t,n),a=e[tt],l=kC(a,n[qi]);l!==null&&qN(i,n[An],a,e,l,s)}let o=e[ju];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ju(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Hn(o)),_r(o)&&VO(o,r);let s=t.type;if(s&8)Ju(n,e,t.child,r);else if(s&32){let a=kg(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=FC(e,t);if(Array.isArray(a))r.push(...a);else{let l=Gi(e[$n]);Ju(l[Ce],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function VO(n,e){for(let t=ln;t<n.length;t++){let r=n[t],i=r[Ce].firstChild;i!==null&&Ju(r[Ce],r,i,e)}n[qi]!==n[yr]&&e.push(n[qi])}var JC=[];function jO(n){return n[cn]??UO(n)}function UO(n){let e=JC.pop()??Object.create($O);return e.lView=n,e}function BO(n){n.lView[cn]!==n&&(n.lView=null,JC.push(n))}var $O=me(U({},Pa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{gd(n.lView)},consumerOnSignalRead(){this.lView[cn]=this}});function HO(n){let e=n[cn]??Object.create(zO);return e.lView=n,e}var zO=me(U({},Pa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Gi(n.lView);for(;e&&!XC(e[Ce]);)e=Gi(e);e&&VE(e)},consumerOnSignalRead(){this.lView[cn]=this}});function XC(n){return n.type!==2}var qO=100;function eD(n,e=!0,t=0){let r=n[Bn],i=r.rendererFactory,o=!1;o||i.begin?.();try{GO(n,t)}catch(s){throw e&&YC(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function GO(n,e){let t=zE();try{Cb(!0),Hm(n,e);let r=0;for(;md(n);){if(r===qO)throw new te(103,!1);r++,Hm(n,1)}}finally{Cb(t)}}function WO(n,e,t,r){let i=e[fe];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Bn].inlineEffectRunner?.flush(),bg(e);let a=!0,l=null,u=null;o||(XC(n)?(u=jO(e),l=Kl(u)):SI()===null?(a=!1,u=HO(e),l=Kl(u)):e[cn]&&(Pp(e[cn]),e[cn]=null));try{LE(e),TP(n.bindingStartIndex),t!==null&&HC(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let _=n.preOrderCheckHooks;_!==null&&Ru(e,_,null)}else{let _=n.preOrderHooks;_!==null&&Pu(e,_,0,null),rm(e,0)}if(s||KO(e),tD(e,0),n.contentQueries!==null&&QC(n,e),!o)if(h){let _=n.contentCheckHooks;_!==null&&Ru(e,_)}else{let _=n.contentHooks;_!==null&&Pu(e,_,1),rm(e,1)}aO(n,e);let p=n.components;p!==null&&rD(e,p,0);let w=n.viewQuery;if(w!==null&&$m(2,w,r),!o)if(h){let _=n.viewCheckHooks;_!==null&&Ru(e,_)}else{let _=n.viewHooks;_!==null&&Pu(e,_,2),rm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[nm]){for(let _ of e[nm])_();e[nm]=null}o||(e[fe]&=-73)}catch(h){throw o||gd(e),h}finally{u!==null&&(Mp(u,l),a&&BO(u)),Eg()}}function tD(n,e){for(let t=pC(n);t!==null;t=mC(t))for(let r=ln;r<t.length;r++){let i=t[r];nD(i,e)}}function KO(n){for(let e=pC(n);e!==null;e=mC(e)){if(!(e[fe]&Hu.HasTransplantedViews))continue;let t=e[$u];for(let r=0;r<t.length;r++){let i=t[r];VE(i)}}}function QO(n,e,t){let r=ri(e,n);nD(r,t)}function nD(n,e){yg(n)&&Hm(n,e)}function Hm(n,e){let r=n[Ce],i=n[fe],o=n[cn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Rp(o)),s||=!1,o&&(o.dirty=!1),n[fe]&=-9217,s)WO(r,n,r.template,n[Dn]);else if(i&8192){tD(n,1);let a=r.components;a!==null&&rD(n,a,1)}}function rD(n,e,t){for(let r=0;r<e.length;r++)QO(n,e[r],t)}function qg(n,e){let t=zE()?64:1088;for(n[Bn].changeDetectionScheduler?.notify(e);n;){n[fe]|=t;let r=Gi(n);if(bm(n)&&!r)return n;n=r}return null}var Qi=class{get rootNodes(){let e=this._lView,t=e[Ce];return Ju(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Dn]}set context(e){this._lView[Dn]=e}get destroyed(){return(this._lView[fe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ut];if(_r(e)){let t=e[Bu],r=t?t.indexOf(this):-1;r>-1&&(jm(e,r),Lu(t,r))}this._attachedToViewContainer=!1}NC(this._lView[Ce],this._lView)}onDestroy(e){jE(this._lView,e)}markForCheck(){qg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[fe]&=-129}reattach(){Cm(this._lView),this._lView[fe]|=128}detectChanges(){this._lView[fe]|=1024,eD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=bm(this._lView),t=this._lView[rs];t!==null&&!e&&Fg(t,this._lView),RC(this._lView[Ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=e;let t=bm(this._lView),r=this._lView[rs];r!==null&&!t&&PC(r,this._lView),Cm(this._lView)}},eo=(()=>{class n{static{this.__NG_ELEMENT_ID__=JO}}return n})(),YO=eo,ZO=class extends YO{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=FO(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Qi(i)}};function JO(){return iD(St(),Re())}function iD(n,e){return n.type&4?new ZO(e,n,Ed(n,e)):null}var DW=new RegExp(`^(\\d+)*(${hN}|${dN})*(.*)`);var XO=()=>null;function zb(n,e){return XO(n,e)}var as=class{},Md=new G("",{providedIn:"root",factory:()=>!1});var oD=new G(""),sD=new G(""),zm=class{},Xu=class{};function ek(n){let e=Error(`No component factory found for ${Vt(n)}.`);return e[tk]=n,e}var tk="ngComponent";var qm=class{resolveComponentFactory(e){throw ek(e)}},cs=class{static{this.NULL=new qm}},ls=class{},pn=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>nk()}}return n})();function nk(){let n=Re(),e=St(),t=ri(e.index,n);return(Zr(t)?t:n)[tt]}var rk=(()=>{class n{static{this.\u0275prov=W({token:n,providedIn:"root",factory:()=>null})}}return n})();function ed(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=pm(i,a);else if(o==2){let l=a,u=e[++s];r=pm(r,l+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var td=class extends cs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Xr(e);return new us(t,this.ngModule)}};function qb(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Jr.None;e?t.push({propName:s,templateName:r,isSignal:(a&Jr.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function ik(n){let e=n.toLowerCase();return e==="svg"?OE:e==="math"?fP:null}var us=class extends Xu{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=qb(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return qb(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=WR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=Ae(null);try{i=i||this.ngModule;let s=i instanceof jt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Tm(e,s):e,l=a.get(ls,null);if(l===null)throw new te(407,!1);let u=a.get(rk,null),h=a.get(as,null),p={rendererFactory:l,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:h},w=l.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",S=r?uO(w,r,this.componentDef.encapsulation,a):MC(w,_,ik(_)),k=512;this.componentDef.signals?k|=4096:this.componentDef.onPush||(k|=16);let O=null;S!==null&&(O=Pg(S,a,!0));let H=Bg(0,null,null,1,0,null,null,null,null,null,null),Y=xd(null,H,null,k,null,null,p,w,a,null,O);bg(Y);let Q,de,xe=null;try{let ce=this.componentDef,D,I=null;ce.findHostDirectiveDefs?(D=[],I=new Map,ce.findHostDirectiveDefs(ce,D,I),D.push(ce)):D=[ce];let b=ok(Y,S);xe=sk(b,S,ce,D,Y,p,w),de=FE(H,Yt),S&&lk(w,ce,S,r),t!==void 0&&uk(de,this.ngContentSelectors,t),Q=ck(xe,ce,D,I,Y,[dk]),zg(H,Y,null)}catch(ce){throw xe!==null&&Om(xe),Om(Y),ce}finally{Eg()}return new Gm(this.componentType,Q,Ed(de,Y),Y,de)}finally{Ae(o)}}},Gm=class extends zm{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Qi(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Hg(o[Ce],o,i,e,t),this.previousInputValues.set(e,t);let s=ri(this._tNode.index,o);qg(s,1)}}get injector(){return new $i(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function ok(n,e){let t=n[Ce],r=Yt;return n[r]=e,Ya(t,r,2,"#host",null)}function sk(n,e,t,r,i,o,s){let a=i[Ce];ak(r,n,e,s);let l=null;e!==null&&(l=Pg(e,i[ns]));let u=o.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let p=xd(i,zC(t),null,h,i[n.index],n,o,u,null,null,l);return a.firstCreatePass&&Bm(a,n,r.length-1),Ad(i,p),i[n.index]=p}function ak(n,e,t,r){for(let i of n)e.mergedAttrs=Ba(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ed(e,e.mergedAttrs,!0),t!==null&&VC(r,t,e))}function ck(n,e,t,r,i,o){let s=St(),a=i[Ce],l=hn(s,i);GC(a,i,s,t,null,r);for(let h=0;h<t.length;h++){let p=s.directiveStart+h,w=ss(i,a,p,s);ti(w,i)}WC(a,i,s),l&&ti(l,i);let u=ss(i,a,s.directiveStart+s.componentOffset,s);if(n[Dn]=i[Dn]=u,o!==null)for(let h of o)h(u,e);return Vg(a,s,i),u}function lk(n,e,t,r){if(r)ym(n,t,["ng-version","18.2.14"]);else{let{attrs:i,classes:o}=KR(e.selectors[0]);i&&ym(n,t,i),o&&o.length>0&&LC(n,t,o.join(" "))}}function uk(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function dk(){let n=St();bd(Re()[Ce],n)}var ai=(()=>{class n{static{this.__NG_ELEMENT_ID__=hk}}return n})();function hk(){let n=St();return pk(n,Re())}var fk=ai,aD=class extends fk{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ed(this._hostTNode,this._hostLView)}get injector(){return new $i(this._hostTNode,this._hostLView)}get parentInjector(){let e=Dg(this._hostTNode,this._hostLView);if(XE(e)){let t=qu(e,this._hostLView),r=zu(e),i=t[Ce].data[r+8];return new $i(i,t)}else return new $i(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Gb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-ln}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=zb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Hb(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!lP(e),a;if(s)a=t;else{let S=t||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let l=s?e:new us(Xr(e)),u=r||this.parentInjector;if(!o&&l.ngModule==null){let k=(s?u:this.parentInjector).get(jt,null);k&&(o=k)}let h=Xr(l.componentType??{}),p=zb(this._lContainer,h?.id??null),w=p?.firstChild??null,_=l.create(u,i,w,o);return this.insertImpl(_.hostView,a,Hb(this._hostTNode,p)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(pP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Ut],u=new aD(l,l[An],l[Ut]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return LO(s,i,o,r),e.attachToViewContainerRef(),dE(cm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Gb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=jm(this._lContainer,t);r&&(Lu(cm(this._lContainer),t),NC(r[Ce],r))}detach(e){let t=this._adjustIndex(e,-1),r=jm(this._lContainer,t);return r&&Lu(cm(this._lContainer),t)!=null?new Qi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Gb(n){return n[Bu]}function cm(n){return n[Bu]||(n[Bu]=[])}function pk(n,e){let t,r=e[n.index];return _r(r)?t=r:(t=KC(r,e,null,n),e[n.index]=t,Ad(e,t)),gk(t,e,n,r),new aD(t,n,e)}function mk(n,e){let t=n[tt],r=t.createComment(""),i=hn(e,n),o=kC(t,i);return Zu(t,o,r,JN(t,i),!1),r}var gk=_k,vk=()=>!1;function yk(n,e,t){return vk(n,e,t)}function _k(n,e,t,r){if(n[qi])return;let i;t.type&8?i=Hn(r):i=mk(e,t),n[qi]=i}var Wb=new Set;function to(n){Wb.has(n)||(Wb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function cD(n){return typeof n=="function"&&n[lr]!==void 0}function fs(n,e){to("NgSignals");let t=VI(n),r=t[lr];return e?.equal&&(r.equal=e.equal),t.set=i=>Np(r,i),t.update=i=>jI(r,i),t.asReadonly=wk.bind(t),t}function wk(){let n=this[lr];if(n.readonlyFn===void 0){let e=()=>this();e[lr]=n,n.readonlyFn=e}return n.readonlyFn}function lD(n){return cD(n)&&typeof n.set=="function"}function Ik(n){return Object.getPrototypeOf(n.prototype).constructor}function Xt(n){let e=Ik(n.type),t=!0,r=[n];for(;e;){let i;if(ei(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new te(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Su(n.inputs),s.inputTransforms=Su(n.inputTransforms),s.declaredInputs=Su(n.declaredInputs),s.outputs=Su(n.outputs);let a=i.hostBindings;a&&Tk(n,a);let l=i.viewQuery,u=i.contentQueries;if(l&&Ck(n,l),u&&Dk(n,u),bk(n,i),gR(n.outputs,i.outputs),ei(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Xt&&(t=!1)}}e=Object.getPrototypeOf(e)}Ek(r)}function bk(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function Ek(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ba(i.hostAttrs,t=Ba(t,i.hostAttrs))}}function Su(n){return n===Xo?{}:n===Gt?[]:n}function Ck(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Dk(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function Tk(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Gg(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var ni=class{},za=class{};var Wm=class extends ni{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new td(this);let o=wE(e);this._bootstrapComponents=AC(o.bootstrap),this._r3Injector=cC(e,t,[{provide:ni,useValue:this},{provide:cs,useValue:this.componentFactoryResolver},...r],Vt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Km=class extends za{constructor(e){super(),this.moduleType=e}create(e){return new Wm(this.moduleType,e,[])}};var nd=class extends ni{constructor(e){super(),this.componentFactoryResolver=new td(this),this.instance=null;let t=new $a([...e.providers,{provide:ni,useValue:this},{provide:cs,useValue:this.componentFactoryResolver}],e.parent||mg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Rd(n,e,t=null){return new nd({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function uD(n){return xk(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Sk(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function xk(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function dD(n,e,t){return n[e]=t}function gr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Qm(n,e,t,r){let i=gr(n,e,t);return gr(n,e+1,r)||i}function Ak(n,e,t,r,i,o){let s=Qm(n,e,t,r);return Qm(n,e+2,i,o)||s}function Mk(n){return(n.flags&32)===32}function Rk(n,e,t,r,i,o,s,a,l){let u=e.consts,h=Ya(e,n,4,s||null,a||null);$g(e,t,h,os(u,l)),bd(e,h);let p=h.tView=Bg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Pk(n,e,t,r,i,o,s,a,l,u){let h=t+Yt,p=e.firstCreatePass?Rk(h,e,n,r,i,o,s,a,l):e.data[h];Zi(p,!1);let w=Nk(e,n,p,t);wd()&&Td(e,n,w,p),ti(w,n);let _=KC(w,n,w,p);return n[h]=_,Ad(n,_),yk(_,p,n),pd(p)&&jg(e,n,p),l!=null&&Ug(n,p,u),p}function K(n,e,t,r,i,o,s,a){let l=Re(),u=_t(),h=os(u.consts,o);return Pk(l,u,n,e,t,r,i,h,s,a),K}var Nk=Ok;function Ok(n,e,t,r){return Id(!0),e[tt].createComment("")}var Yo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Yo||{}),hD=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Ym=class n{constructor(){this.ngZone=L(Oe),this.scheduler=L(as),this.errorHandler=L(pr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Yo.EarlyRead,Yo.Write,Yo.MixedReadWrite,Yo.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}},Zm=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Wg(n,e){!e?.injector&&dd(Wg);let t=e?.injector??L(vt);return jN(t)?(to("NgAfterNextRender"),Fk(n,t,e,!0)):Lk}function kk(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function Fk(n,e,t,r){let i=e.get(hD);i.impl??=e.get(Ym);let o=t?.phase??Yo.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(oi):null,a=new Zm(i.impl,kk(n,o),r,s);return i.impl.register(a),a}var Lk={destroy(){}};function ps(n,e,t,r){let i=Re(),o=vd();if(gr(i,o,e)){let s=_t(),a=Cg();SO(a,i,n,e,t,r)}return ps}function Vk(n,e,t,r){return gr(n,vd(),t)?e+Hi(t)+r:Rn}function jk(n,e,t,r,i,o){let s=DP(),a=Qm(n,s,t,i);return Ig(2),a?e+Hi(t)+r+Hi(i)+o:Rn}function xu(n,e){return n<<17|e<<2}function Yi(n){return n>>17&32767}function Uk(n){return(n&2)==2}function Bk(n,e){return n&131071|e<<17}function Jm(n){return n|2}function ds(n){return(n&131068)>>2}function lm(n,e){return n&-131069|e<<2}function $k(n){return(n&1)===1}function Xm(n){return n|1}function Hk(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Yi(s),l=ds(s);n[r]=t;let u=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Wa(p,h)>0)&&(u=!0)}else h=t;if(i)if(l!==0){let w=Yi(n[a+1]);n[r+1]=xu(w,a),w!==0&&(n[w+1]=lm(n[w+1],r)),n[a+1]=Bk(n[a+1],r)}else n[r+1]=xu(a,0),a!==0&&(n[a+1]=lm(n[a+1],r)),a=r;else n[r+1]=xu(l,0),a===0?a=r:n[l+1]=lm(n[l+1],r),l=r;u&&(n[r+1]=Jm(n[r+1])),Kb(n,h,r,!0),Kb(n,h,r,!1),zk(e,h,n,r,o),s=xu(a,l),o?e.classBindings=s:e.styleBindings=s}function zk(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Wa(o,e)>=0&&(t[r+1]=Xm(t[r+1]))}function Kb(n,e,t,r){let i=n[t+1],o=e===null,s=r?Yi(i):ds(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],u=n[s+1];qk(l,e)&&(a=!0,n[s+1]=r?Xm(u):Jm(u)),s=r?Yi(u):ds(u)}a&&(n[t+1]=r?Jm(i):Xm(i))}function qk(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Wa(n,e)>=0:!1}var En={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Gk(n){return n.substring(En.key,En.keyEnd)}function Wk(n){return Kk(n),fD(n,pD(n,0,En.textEnd))}function fD(n,e){let t=En.textEnd;return t===e?-1:(e=En.keyEnd=Qk(n,En.key=e,t),pD(n,e,t))}function Kk(n){En.key=0,En.keyEnd=0,En.value=0,En.valueEnd=0,En.textEnd=n.length}function pD(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Qk(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function j(n,e,t){let r=Re(),i=vd();if(gr(r,i,e)){let o=_t(),s=Cg();qC(o,s,r,n,e,r[tt],t,!1)}return j}function eg(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Hg(n,t,o[s],s,r)}function Pd(n,e,t){return mD(n,e,t,!1),Pd}function Bt(n,e){return mD(n,e,null,!0),Bt}function Nd(n){Zk(rF,Yk,n,!0)}function Yk(n,e){for(let t=Wk(e);t>=0;t=fD(e,t))hg(n,Gk(e),!0)}function mD(n,e,t,r){let i=Re(),o=_t(),s=Ig(2);if(o.firstUpdatePass&&vD(o,n,s,r),e!==Rn&&gr(i,s,e)){let a=o.data[ii()];yD(o,a,i,i[tt],n,i[s+1]=oF(e,t),r,s)}}function Zk(n,e,t,r){let i=_t(),o=Ig(2);i.firstUpdatePass&&vD(i,null,o,r);let s=Re();if(t!==Rn&&gr(s,o,t)){let a=i.data[ii()];if(_D(a,r)&&!gD(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=pm(l,t||"")),eg(i,a,s,t,r)}else iF(i,a,s,s[tt],s[o+1],s[o+1]=nF(n,e,t),r,o)}}function gD(n,e){return e>=n.expandoStartIndex}function vD(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[ii()],s=gD(n,t);_D(o,r)&&e===null&&!s&&(e=!1),e=Jk(i,o,e,r),Hk(i,o,e,t,s,r)}}function Jk(n,e,t,r){let i=MP(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=um(null,n,e,t,r),t=qa(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=um(i,n,e,t,r),o===null){let l=Xk(n,e,r);l!==void 0&&Array.isArray(l)&&(l=um(null,n,e,l[1],r),l=qa(l,e.attrs,r),eF(n,e,r,l))}else o=tF(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function Xk(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ds(r)!==0)return n[Yi(r)]}function eF(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Yi(i)]=r}function tF(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=qa(r,s,t)}return qa(r,e.attrs,t)}function um(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=qa(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function qa(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),hg(n,s,t?!0:e[++o]))}return n===void 0?null:n}function nF(n,e,t){if(t==null||t==="")return Gt;let r=[],i=Ji(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function rF(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&hg(n,r,t)}function iF(n,e,t,r,i,o,s,a){i===Rn&&(i=Gt);let l=0,u=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let w=l<i.length?i[l+1]:void 0,_=u<o.length?o[u+1]:void 0,S=null,k;h===p?(l+=2,u+=2,w!==_&&(S=p,k=_)):p===null||h!==null&&h<p?(l+=2,S=h):(u+=2,S=p,k=_),S!==null&&yD(n,e,t,r,S,k,s,a),h=l<i.length?i[l]:null,p=u<o.length?o[u]:null}}function yD(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,u=l[a+1],h=$k(u)?Qb(l,e,t,i,ds(u),s):void 0;if(!rd(h)){rd(o)||Uk(u)&&(o=Qb(l,null,t,i,a,s));let p=kE(ii(),t);oO(r,s,p,i,o)}}function Qb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],u=Array.isArray(l),h=u?l[1]:l,p=h===null,w=t[i+1];w===Rn&&(w=p?Gt:void 0);let _=p?em(w,r):h===r?w:void 0;if(u&&!rd(_)&&(_=em(l,r)),rd(_)&&(a=_,s))return a;let S=n[i+1];i=s?Yi(S):ds(S)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=em(l,r))}return a}function rd(n){return n!==void 0}function oF(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Vt(Ji(n)))),n}function _D(n,e){return(n.flags&(e?8:16))!==0}function sF(n,e,t,r,i,o){let s=e.consts,a=os(s,i),l=Ya(e,n,2,r,a);return $g(e,t,l,os(s,o)),l.attrs!==null&&ed(l,l.attrs,!1),l.mergedAttrs!==null&&ed(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function g(n,e,t,r){let i=Re(),o=_t(),s=Yt+n,a=i[tt],l=o.firstCreatePass?sF(s,o,i,e,t,r):o.data[s],u=aF(o,i,l,a,e,n);i[s]=u;let h=pd(l);return Zi(l,!0),VC(a,u,l),!Mk(l)&&wd()&&Td(o,i,u,l),vP()===0&&ti(u,i),yP(),h&&(jg(o,i,l),Vg(o,l,i)),r!==null&&Ug(i,l),g}function y(){let n=St();_g()?HE():(n=n.parent,Zi(n,!1));let e=n;IP(e)&&bP(),_P();let t=_t();return t.firstCreatePass&&(bd(t,n),gg(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&VP(e)&&eg(t,e,Re(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&jP(e)&&eg(t,e,Re(),e.stylesWithoutHost,!1),y}function ne(n,e,t,r){return g(n,e,t,r),y(),ne}var aF=(n,e,t,r,i,o)=>(Id(!0),MC(r,i,OP()));function cF(n,e,t,r,i){let o=e.consts,s=os(o,r),a=Ya(e,n,8,"ng-container",s);s!==null&&ed(a,s,!0);let l=os(o,i);return $g(e,t,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function ms(n,e,t){let r=Re(),i=_t(),o=n+Yt,s=i.firstCreatePass?cF(o,i,r,e,t):i.data[o];Zi(s,!0);let a=lF(i,r,s,n);return r[o]=a,wd()&&Td(i,r,a,s),ti(a,r),pd(s)&&(jg(i,r,s),Vg(i,s,r)),t!=null&&Ug(r,s),ms}function gs(){let n=St(),e=_t();return _g()?HE():(n=n.parent,Zi(n,!1)),e.firstCreatePass&&(bd(e,n),gg(n)&&e.queries.elementEnd(n)),gs}var lF=(n,e,t,r)=>(Id(!0),HN(e[tt],""));function it(){return Re()}var Bi=void 0;function uF(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var dF=["en",[["a","p"],["AM","PM"],Bi],[["AM","PM"],Bi,Bi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bi,"{1} 'at' {0}",Bi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",uF],dm={};function Od(n){let e=hF(n),t=Yb(e);if(t)return t;let r=e.split("-")[0];if(t=Yb(r),t)return t;if(r==="en")return dF;throw new te(701,!1)}function Yb(n){return n in dm||(dm[n]=fr.ng&&fr.ng.common&&fr.ng.common.locales&&fr.ng.common.locales[n]),dm[n]}var no=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(no||{});function hF(n){return n.toLowerCase().replace(/_/g,"-")}var id="en-US",fF="USD";var pF=id;function mF(n){typeof n=="string"&&(pF=n.toLowerCase().replace(/_/g,"-"))}var gF=(n,e,t)=>{};function le(n,e,t,r){let i=Re(),o=_t(),s=St();return wD(o,i,i[tt],s,n,e,r),le}function vF(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Uu],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function wD(n,e,t,r,i,o,s){let a=pd(r),u=n.firstCreatePass&&PO(n),h=e[Dn],p=RO(e),w=!0;if(r.type&3||s){let k=hn(r,e),O=s?s(k):k,H=p.length,Y=s?de=>s(Hn(de[r.index])):r.index,Q=null;if(!s&&a&&(Q=vF(n,e,i,r.index)),Q!==null){let de=Q.__ngLastListenerFn__||Q;de.__ngNextListenerFn__=o,Q.__ngLastListenerFn__=o,w=!1}else{o=Jb(r,e,h,o),gF(k,i,o);let de=t.listen(O,i,o);p.push(o,de),u&&u.push(i,Y,H,H+1)}}else o=Jb(r,e,h,o);let _=r.outputs,S;if(w&&_!==null&&(S=_[i])){let k=S.length;if(k)for(let O=0;O<k;O+=2){let H=S[O],Y=S[O+1],xe=e[H][Y].subscribe(o),ce=p.length;p.push(o,xe),u&&u.push(i,r.index,ce,-(ce+1))}}}function Zb(n,e,t,r){let i=Ae(null);try{return Vn(6,e,t),t(r)!==!1}catch(o){return YC(n,o),!1}finally{Vn(7,e,t),Ae(i)}}function Jb(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?ri(n.index,e):e;qg(s,5);let a=Zb(e,t,r,o),l=i.__ngNextListenerFn__;for(;l;)a=Zb(e,t,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function ue(n=1){return PP(n)}function yF(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Er(n){let e=CP();return vg(e,Yt+n)}function C(n,e=""){let t=Re(),r=_t(),i=n+Yt,o=r.firstCreatePass?Ya(r,i,1,e,null):r.data[i],s=_F(r,t,o,e,n);t[i]=s,wd()&&Td(r,t,s,o),Zi(o,!1)}var _F=(n,e,t,r,i)=>(Id(!0),BN(e[tt],r));function $(n){return B("",n,""),$}function B(n,e,t){let r=Re(),i=Vk(r,n,e,t);return i!==Rn&&ZC(r,ii(),i),B}function Za(n,e,t,r,i){let o=Re(),s=jk(o,n,e,t,r,i);return s!==Rn&&ZC(o,ii(),s),Za}function ut(n,e,t){lD(e)&&(e=e());let r=Re(),i=vd();if(gr(r,i,e)){let o=_t(),s=Cg();qC(o,s,r,n,e,r[tt],t,!1)}return ut}function wt(n,e){let t=lD(n);return t&&n.set(e),t}function dt(n,e){let t=Re(),r=_t(),i=St();return wD(r,t,t[tt],i,n,e),dt}function wF(n,e,t){let r=_t();if(r.firstCreatePass){let i=ei(n);tg(t,r.data,r.blueprint,i,!0),tg(e,r.data,r.blueprint,i,!1)}}function tg(n,e,t,r,i){if(n=Lt(n),Array.isArray(n))for(let o=0;o<n.length;o++)tg(n[o],e,t,r,i);else{let o=_t(),s=Re(),a=St(),l=ts(n)?n:Lt(n.provide),u=TE(n),h=a.providerIndexes&1048575,p=a.directiveStart,w=a.providerIndexes>>20;if(ts(n)||!n.multi){let _=new Ki(u,i,J),S=fm(l,e,i?h:h+w,p);S===-1?(xm(Wu(a,s),o,l),hm(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(_),s.push(_)):(t[S]=_,s[S]=_)}else{let _=fm(l,e,h+w,p),S=fm(l,e,h,h+w),k=_>=0&&t[_],O=S>=0&&t[S];if(i&&!O||!i&&!k){xm(Wu(a,s),o,l);let H=EF(i?bF:IF,t.length,i,r,u);!i&&O&&(t[S].providerFactory=H),hm(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(H),s.push(H)}else{let H=ID(t[i?S:_],u,!i&&r);hm(o,n,_>-1?_:S,H)}!i&&r&&O&&t[S].componentProviders++}}}function hm(n,e,t,r){let i=ts(e),o=nP(e);if(i||o){let l=(o?Lt(e.useClass):e).prototype.ngOnDestroy;if(l){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=u.indexOf(t);h===-1?u.push(t,[r,l]):u[h+1].push(r,l)}else u.push(t,l)}}}function ID(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function fm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function IF(n,e,t,r){return ng(this.multi,[])}function bF(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ss(t,t[Ce],this.providerFactory.index,r);o=a.slice(0,s),ng(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],ng(i,o);return o}function ng(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function EF(n,e,t,r,i){let o=new Ki(n,t,J);return o.multi=[],o.index=e,o.componentProviders=0,ID(o,i,r&&!t),o}function Cr(n,e=[]){return t=>{t.providersResolver=(r,i)=>wF(r,i?i(n):n,e)}}var CF=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=EE(!1,t.type),i=r.length>0?Rd([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=W({token:n,providedIn:"environment",factory:()=>new n(Z(jt))})}}return n})();function je(n){to("NgStandalone"),n.getStandaloneInjector=e=>e.get(CF).getOrCreateStandaloneInjector(n)}function bD(n,e,t,r){return CD(Re(),wg(),n,e,t,r)}function ED(n,e){let t=n[e];return t===Rn?void 0:t}function CD(n,e,t,r,i,o){let s=e+t;return gr(n,s,i)?dD(n,s+1,o?r.call(o,i):r(i)):ED(n,s+1)}function DF(n,e,t,r,i,o,s,a,l){let u=e+t;return Ak(n,u,i,o,s,a)?dD(n,u+4,l?r.call(l,i,o,s,a):r(i,o,s,a)):ED(n,u+4)}function R(n,e){let t=_t(),r,i=n+Yt;t.firstCreatePass?(r=TF(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=zi(r.type,!0)),s,a=qt(J);try{let l=Gu(!1),u=o();return Gu(l),yF(t,Re(),i,u),u}finally{qt(a)}}function TF(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function P(n,e,t){let r=n+Yt,i=Re(),o=vg(i,r);return TD(i,r)?CD(i,wg(),e,o.transform,t,o):o.transform(t)}function DD(n,e,t,r,i,o){let s=n+Yt,a=Re(),l=vg(a,s);return TD(a,s)?DF(a,wg(),e,l.transform,t,r,i,o,l):l.transform(t,r,i,o)}function TD(n,e){return n[Ce].data[e].pure}function ro(n,e){return iD(n,e)}var vr=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},SD=new vr("18.2.14");var kd=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var xD=new G("");function io(n){return!!n&&typeof n.then=="function"}function AD(n){return!!n&&typeof n.subscribe=="function"}var Ja=new G(""),MD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=L(Ja,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(io(o))t.push(o);else if(AD(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Xa=new G("");function SF(){LI(()=>{throw new te(600,!1)})}function xF(n){return n.isBoundToModule}var AF=10;function MF(n,e,t){try{let r=t();return io(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var ci=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=L(oN),this.afterRenderManager=L(hD),this.zonelessEnabled=L(Md),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new We,this.afterTick=new We,this.componentTypes=[],this.components=[],this.isStable=L(si).hasPendingTasks.pipe(ie(t=>!t)),this._injector=L(jt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Xu;if(!this._injector.get(MD).done){let w=!i&&_E(t),_=!1;throw new te(405,_)}let s;i?s=t:s=this._injector.get(cs).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=xF(s)?void 0:this._injector.get(ni),l=r||s.selector,u=s.create(vt.NULL,[],l,a),h=u.location.nativeElement,p=u.injector.get(xD,null);return p?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),Nu(this.components,u),p?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new te(101,!1);let t=Ae(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Ae(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(ls,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<AF;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)RF(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>md(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Nu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Xa,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Nu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new te(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Nu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function RF(n,e,t,r){if(!t&&!md(n))return;eD(n,e,t&&!r?0:1)}var rg=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Fd=(()=>{class n{compileModuleSync(t){return new Km(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=wE(t),o=AC(i.declarations).reduce((s,a)=>{let l=Xr(a);return l&&s.push(new us(l)),s},[]);return new rg(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var PF=(()=>{class n{constructor(){this.zone=L(Oe),this.changeDetectionScheduler=L(as),this.applicationRef=L(ci)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),NF=new G("",{factory:()=>!1});function RD({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Oe(me(U({},ND()),{scheduleInRootZone:t})),[{provide:Oe,useFactory:n},{provide:es,multi:!0,useFactory:()=>{let r=L(PF,{optional:!0});return()=>r.initialize()}},{provide:es,multi:!0,useFactory:()=>{let r=L(OF);return()=>{r.initialize()}}},e===!0?{provide:oD,useValue:!0}:[],{provide:sD,useValue:t??lC}]}function PD(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=RD({ngZoneFactory:()=>{let i=ND(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&to("NgZone_CoalesceEvent"),new Oe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return yt([{provide:NF,useValue:!0},{provide:Md,useValue:!1},r])}function ND(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var OF=(()=>{class n{constructor(){this.subscription=new $e,this.initialized=!1,this.zone=L(Oe),this.pendingTasks=L(si)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Oe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var kF=(()=>{class n{constructor(){this.appRef=L(ci),this.taskService=L(si),this.ngZone=L(Oe),this.zonelessEnabled=L(Md),this.disableScheduling=L(oD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new $e,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Qu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(sD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Nm||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Ab:uC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Qu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ab(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function FF(){return typeof $localize<"u"&&$localize.locale||id}var Ld=new G("",{providedIn:"root",factory:()=>L(Ld,be.Optional|be.SkipSelf)||FF()}),OD=new G("",{providedIn:"root",factory:()=>fF});var ig=new G("");function Au(n){return!n.moduleRef}function LF(n){let e=Au(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Oe);return t.run(()=>{Au(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(pr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Au(n)){let o=()=>e.destroy(),s=n.platformInjector.get(ig);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(ig);s.add(o),n.moduleRef.onDestroy(()=>{Nu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return MF(r,t,()=>{let o=e.get(MD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Ld,id);if(mF(s||id),Au(n)){let a=e.get(ci);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return VF(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function VF(n,e){let t=n.injector.get(ci);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new te(-403,!1);e.push(n)}var Ou=null,kD=new G("");function jF(n=[],e){return vt.create({name:e,providers:[{provide:ud,useValue:"platform"},{provide:ig,useValue:new Set([()=>Ou=null])},...n]})}function UF(n=[]){if(Ou)return Ou;let e=jF(n);return e.get(kD,!1)||(Ou=e),SF(),BF(e),e}function BF(n){n.get(Mg,null)?.forEach(t=>t())}function FD(){return!1}var Pn=(()=>{class n{static{this.__NG_ELEMENT_ID__=$F}}return n})();function $F(n){return HF(St(),Re(),(n&16)===16)}function HF(n,e,t){if(fd(n)&&!t){let r=ri(n.index,e);return new Qi(r,r)}else if(n.type&175){let r=e[$n];return new Qi(r,e)}return null}var og=class{constructor(){}supports(e){return uD(e)}create(e){return new sg(e)}},zF=(n,e)=>e,sg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zF}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<Xb(r,i,o)?t:r,a=Xb(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,h=l-i;if(u!=h){for(let w=0;w<u;w++){let _=w<o.length?o[w]:o[w]=0,S=_+w;h<=S&&S<u&&(o[w]=_+1)}let p=s.previousIndex;o[p]=h-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!uD(e))throw new te(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,Sk(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new ag(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new od),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new od),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ag=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},cg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},od=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new cg,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Xb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function eE(){return new Kg([new og])}var Kg=(()=>{class n{static{this.\u0275prov=W({token:n,providedIn:"root",factory:eE})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||eE()),deps:[[n,new ug,new un]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new te(901,!1)}}return n})();function LD(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;try{let o=i?.injector??UF(r);if(o.get(kD,!1)===!0&&!n.platformRef)throw new te(401,!1);let s=[RD({}),{provide:as,useExisting:kF},...t||[]],a=new nd({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return LF({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}}function li(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function oo(n,e){to("NgSignals");let t=OI(n);return e?.equal&&(t[lr].equal=e.equal),t}function zn(n){let e=Ae(null);try{return n()}finally{Ae(e)}}function VD(n){let e=Xr(n);if(!e)return null;let t=new us(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var GD=null;function Sr(){return GD}function WD(n){GD??=n}var Vd=class{};var xt=new G(""),nv=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:()=>L(GF),providedIn:"platform"})}}return n})(),KD=new G(""),GF=(()=>{class n extends nv{constructor(){super(),this._doc=L(xt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Sr().getBaseHref(this._doc)}onPopState(t){let r=Sr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Sr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function rv(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function jD(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Dr(n){return n&&n[0]!=="?"?"?"+n:n}var xr=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:()=>L(iv),providedIn:"root"})}}return n})(),QD=new G(""),iv=(()=>{class n extends xr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(xt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return rv(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Dr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Dr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Dr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Z(nv),Z(QD,8))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),YD=(()=>{class n extends xr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=rv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Dr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Dr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Z(nv),Z(QD,8))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),ys=(()=>{class n{constructor(t){this._subject=new rt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=QF(jD(UD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Dr(r))}normalize(t){return n.stripTrailingSlash(KF(this._basePath,UD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Dr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Dr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Dr}static{this.joinWithSlash=rv}static{this.stripTrailingSlash=jD}static{this.\u0275fac=function(r){return new(r||n)(Z(xr))}}static{this.\u0275prov=W({token:n,factory:()=>WF(),providedIn:"root"})}}return n})();function WF(){return new ys(Z(xr))}function KF(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function UD(n){return n.replace(/\/index.html$/,"")}function QF(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var ZD={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},JD=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(JD||{});var Tr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ec(n,e){let t=Od(n),r=t[no.NumberSymbols][e];if(typeof r>"u"){if(e===Tr.CurrencyDecimal)return t[no.NumberSymbols][Tr.Decimal];if(e===Tr.CurrencyGroup)return t[no.NumberSymbols][Tr.Group]}return r}function YF(n,e){return Od(n)[no.NumberFormats][e]}function ZF(n){return Od(n)[no.Currencies]}function JF(n,e,t="en"){let r=ZF(t)[n]||ZD[n]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||n}var XF=2;function eL(n){let e,t=ZD[n];return t&&(e=t[2]),typeof e=="number"?e:XF}var tL=/^(\d+)?\.((\d+)(-(\d+))?)?$/,BD=22,jd=".",tc="0",nL=";",rL=",",Qg="#",$D="\xA4";function iL(n,e,t,r,i,o,s=!1){let a="",l=!1;if(!isFinite(n))a=ec(t,Tr.Infinity);else{let u=cL(n);s&&(u=aL(u));let h=e.minInt,p=e.minFrac,w=e.maxFrac;if(o){let Y=o.match(tL);if(Y===null)throw new Error(`${o} is not a valid digit info`);let Q=Y[1],de=Y[3],xe=Y[5];Q!=null&&(h=Yg(Q)),de!=null&&(p=Yg(de)),xe!=null?w=Yg(xe):de!=null&&p>w&&(w=p)}lL(u,p,w);let _=u.digits,S=u.integerLen,k=u.exponent,O=[];for(l=_.every(Y=>!Y);S<h;S++)_.unshift(0);for(;S<0;S++)_.unshift(0);S>0?O=_.splice(S,_.length):(O=_,_=[0]);let H=[];for(_.length>=e.lgSize&&H.unshift(_.splice(-e.lgSize,_.length).join(""));_.length>e.gSize;)H.unshift(_.splice(-e.gSize,_.length).join(""));_.length&&H.unshift(_.join("")),a=H.join(ec(t,r)),O.length&&(a+=ec(t,i)+O.join("")),k&&(a+=ec(t,Tr.Exponential)+"+"+k)}return n<0&&!l?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function oL(n,e,t,r,i){let o=YF(e,JD.Currency),s=sL(o,ec(e,Tr.MinusSign));return s.minFrac=eL(r),s.maxFrac=s.minFrac,iL(n,s,e,Tr.CurrencyGroup,Tr.CurrencyDecimal,i).replace($D,t).replace($D,"").trim()}function sL(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(nL),i=r[0],o=r[1],s=i.indexOf(jd)!==-1?i.split(jd):[i.substring(0,i.lastIndexOf(tc)+1),i.substring(i.lastIndexOf(tc)+1)],a=s[0],l=s[1]||"";t.posPre=a.substring(0,a.indexOf(Qg));for(let h=0;h<l.length;h++){let p=l.charAt(h);p===tc?t.minFrac=t.maxFrac=h+1:p===Qg?t.maxFrac=h+1:t.posSuf+=p}let u=a.split(rL);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){let h=i.length-t.posPre.length-t.posSuf.length,p=o.indexOf(Qg);t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function aL(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function cL(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(jd))>-1&&(e=e.replace(jd,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===tc;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===tc;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>BD&&(r=r.splice(0,BD-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function lL(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=o!==0,u=e+n.integerLen,h=r.reduceRight(function(p,w,_,S){return w=w+p,S[_]=w<10?w:w-10,l&&(S[_]===0&&_>=u?S.pop():l=!1),w>=10?1:0},0);h&&(r.unshift(h),n.integerLen++)}function Yg(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function Ud(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Zg=/\s+/,HD=[],XD=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=HD,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(Zg):HD}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Zg):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Zg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(J(Jt),J(pn))}}static{this.\u0275dir=He({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var Jg=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},qn=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Jg(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),zD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);zD(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(J(ai),J(eo),J(Kg))}}static{this.\u0275dir=He({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function zD(n,e){n.context.$implicit=e.item}var Gn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Xg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){qD("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){qD("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(J(ai),J(eo))}}static{this.\u0275dir=He({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Xg=class{constructor(){this.$implicit=null,this.ngIf=null}};function qD(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Vt(e)}'.`)}function uL(n,e){return new te(2100,!1)}var eT=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",o,s){if(!dL(t))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=JF(a,i==="symbol"?"wide":"narrow",s):a=i);try{let l=hL(t);return oL(l,s,a,r,o)}catch(l){throw uL(n,l.message)}}static{this.\u0275fac=function(r){return new(r||n)(J(Ld,16),J(OD,16))}}static{this.\u0275pipe=ld({name:"currency",type:n,pure:!0,standalone:!0})}}return n})();function dL(n){return!(n==null||n===""||n!==n)}function hL(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var It=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=xn({type:n})}static{this.\u0275inj=Sn({})}}return n})(),ov="browser",fL="server";function pL(n){return n===ov}function Bd(n){return n===fL}var tT=(()=>{class n{static{this.\u0275prov=W({token:n,providedIn:"root",factory:()=>pL(L(fn))?new ev(L(xt),window):new tv})}}return n})(),ev=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=mL(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function mL(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var tv=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},vs=class{};var rc=class{},Hd=class{},Mr=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var av=class{encodeKey(e){return nT(e)}encodeValue(e){return nT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function gL(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var vL=/%(\d[a-f0-9])/gi,yL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function nT(n){return encodeURIComponent(n).replace(vL,(e,t)=>yL[t]??e)}function $d(n){return`${n}`}var di=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new av,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=gL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map($d):[$d(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push($d(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf($d(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var cv=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function _L(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function rT(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function iT(n){return typeof Blob<"u"&&n instanceof Blob}function oT(n){return typeof FormData<"u"&&n instanceof FormData}function wL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var nc=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(_L(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Mr,this.context??=new cv,!this.params)this.params=new di,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||rT(this.body)||iT(this.body)||oT(this.body)||wL(this.body)?this.body:this.body instanceof di?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||oT(this.body)?null:iT(this.body)?this.body.type||null:rT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof di?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,u=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((w,_)=>w.set(_,e.setHeaders[_]),u)),e.setParams&&(h=Object.keys(e.setParams).reduce((w,_)=>w.set(_,e.setParams[_]),h)),new n(t,r,s,{params:h,headers:u,context:p,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},hi=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(hi||{}),ic=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Mr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},zd=class n extends ic{constructor(e={}){super(e),this.type=hi.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},oc=class n extends ic{constructor(e={}){super(e),this.type=hi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ui=class extends ic{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},lT=200,IL=204;function sv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var dv=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof nc)o=t;else{let l;i.headers instanceof Mr?l=i.headers:l=new Mr(i.headers);let u;i.params&&(i.params instanceof di?u=i.params:u=new di({fromObject:i.params})),o=new nc(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=re(o).pipe(hr(l=>this.handler.handle(l)));if(t instanceof nc||i.observe==="events")return s;let a=s.pipe(zt(l=>l instanceof oc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ie(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ie(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(ie(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new di().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,sv(i,r))}post(t,r,i={}){return this.request("POST",t,sv(i,r))}put(t,r,i={}){return this.request("PUT",t,sv(i,r))}static{this.\u0275fac=function(r){return new(r||n)(Z(rc))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),bL=/^\)\]\}',?\n/,EL="X-Request-URL";function sT(n){if(n.url)return n.url;let e=EL.toLocaleLowerCase();return n.headers.get(e)}var CL=(()=>{class n{constructor(){this.fetchImpl=L(lv,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=L(Oe)}handle(t){return new ye(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(uv,o=>r.error(new ui({error:o}))),()=>i.abort()})}doRequest(t,r,i){return N(this,null,function*(){let o=this.createRequestInit(t),s;try{let _=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,U({signal:r},o)));DL(_),i.next({type:hi.Sent}),s=yield _}catch(_){i.error(new ui({error:_,status:_.status??0,statusText:_.statusText,url:t.urlWithParams,headers:_.headers}));return}let a=new Mr(s.headers),l=s.statusText,u=sT(s)??t.urlWithParams,h=s.status,p=null;if(t.reportProgress&&i.next(new zd({headers:a,status:h,statusText:l,url:u})),s.body){let _=s.headers.get("content-length"),S=[],k=s.body.getReader(),O=0,H,Y,Q=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>N(this,null,function*(){for(;;){let{done:xe,value:ce}=yield k.read();if(xe)break;if(S.push(ce),O+=ce.length,t.reportProgress){Y=t.responseType==="text"?(Y??"")+(H??=new TextDecoder).decode(ce,{stream:!0}):void 0;let D=()=>i.next({type:hi.DownloadProgress,total:_?+_:void 0,loaded:O,partialText:Y});Q?Q.run(D):D()}}}));let de=this.concatChunks(S,O);try{let xe=s.headers.get("Content-Type")??"";p=this.parseBody(t,de,xe)}catch(xe){i.error(new ui({error:xe,headers:new Mr(s.headers),status:s.status,statusText:s.statusText,url:sT(s)??t.urlWithParams}));return}}h===0&&(h=p?lT:0),h>=200&&h<300?(i.next(new oc({body:p,headers:a,status:h,statusText:l,url:u})),i.complete()):i.error(new ui({error:p,headers:a,status:h,statusText:l,url:u}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(bL,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),lv=class{};function uv(){}function DL(n){n.then(uv,uv)}function TL(n,e){return e(n)}function SL(n,e,t){return(r,i)=>Zt(t,()=>e(r,o=>n(o,i)))}var uT=new G(""),xL=new G(""),AL=new G("",{providedIn:"root",factory:()=>!0});var aT=(()=>{class n extends rc{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=L(si),this.contributeToStability=L(AL)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(uT),...this.injector.get(xL,[])]));this.chain=r.reduceRight((i,o)=>SL(i,o,this.injector),TL)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Ui(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(Z(Hd),Z(jt))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})();var ML=/^\)\]\}',?\n/;function RL(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var cT=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new te(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Le(r.\u0275loadImpl()):re(null)).pipe(et(()=>new ye(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((k,O)=>s.setRequestHeader(k,O.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let k=t.detectContentTypeHeader();k!==null&&s.setRequestHeader("Content-Type",k)}if(t.responseType){let k=t.responseType.toLowerCase();s.responseType=k!=="json"?k:"text"}let a=t.serializeBody(),l=null,u=()=>{if(l!==null)return l;let k=s.statusText||"OK",O=new Mr(s.getAllResponseHeaders()),H=RL(s)||t.url;return l=new zd({headers:O,status:s.status,statusText:k,url:H}),l},h=()=>{let{headers:k,status:O,statusText:H,url:Y}=u(),Q=null;O!==IL&&(Q=typeof s.response>"u"?s.responseText:s.response),O===0&&(O=Q?lT:0);let de=O>=200&&O<300;if(t.responseType==="json"&&typeof Q=="string"){let xe=Q;Q=Q.replace(ML,"");try{Q=Q!==""?JSON.parse(Q):null}catch(ce){Q=xe,de&&(de=!1,Q={error:ce,text:Q})}}de?(o.next(new oc({body:Q,headers:k,status:O,statusText:H,url:Y||void 0})),o.complete()):o.error(new ui({error:Q,headers:k,status:O,statusText:H,url:Y||void 0}))},p=k=>{let{url:O}=u(),H=new ui({error:k,status:s.status||0,statusText:s.statusText||"Unknown Error",url:O||void 0});o.error(H)},w=!1,_=k=>{w||(o.next(u()),w=!0);let O={type:hi.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(O.total=k.total),t.responseType==="text"&&s.responseText&&(O.partialText=s.responseText),o.next(O)},S=k=>{let O={type:hi.UploadProgress,loaded:k.loaded};k.lengthComputable&&(O.total=k.total),o.next(O)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",_),a!==null&&s.upload&&s.upload.addEventListener("progress",S)),s.send(a),o.next({type:hi.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",_),a!==null&&s.upload&&s.upload.removeEventListener("progress",S)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(Z(vs))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),dT=new G(""),PL="XSRF-TOKEN",NL=new G("",{providedIn:"root",factory:()=>PL}),OL="X-XSRF-TOKEN",kL=new G("",{providedIn:"root",factory:()=>OL}),qd=class{},FL=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ud(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(Z(xt),Z(fn),Z(NL))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})();function LL(n,e){let t=n.url.toLowerCase();if(!L(dT)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=L(qd).getToken(),i=L(kL);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function hT(...n){let e=[dv,cT,aT,{provide:rc,useExisting:aT},{provide:Hd,useFactory:()=>L(CL,{optional:!0})??L(cT)},{provide:uT,useValue:LL,multi:!0},{provide:dT,useValue:!0},{provide:qd,useClass:FL}];for(let t of n)e.push(...t.\u0275providers);return yt(e)}var pv=class extends Vd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},mv=class n extends pv{static makeCurrent(){WD(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=VL();return t==null?null:jL(t)}resetBaseElement(){sc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ud(document.cookie,e)}},sc=null;function VL(){return sc=sc||document.querySelector("base"),sc?sc.getAttribute("href"):null}function jL(n){return new URL(n,document.baseURI).pathname}var UL=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),gv=new G(""),gT=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new te(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(Z(gv),Z(Oe))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),Gd=class{constructor(e){this._doc=e}},hv="ng-app-id",vT=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Bd(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${hv}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(hv),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(hv,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(Z(xt),Z(Ag),Z(Rg,8),Z(fn))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),fv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},yv=/%COMP%/g,yT="%COMP%",BL=`_nghost-${yT}`,$L=`_ngcontent-${yT}`,HL=!0,zL=new G("",{providedIn:"root",factory:()=>HL});function qL(n){return $L.replace(yv,n)}function GL(n){return BL.replace(yv,n)}function _T(n,e){return e.map(t=>t.replace(yv,n))}var fT=(()=>{class n{constructor(t,r,i,o,s,a,l,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Bd(a),this.defaultRenderer=new ac(t,s,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Un.ShadowDom&&(r=me(U({},r),{encapsulation:Un.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Wd?i.applyToHost(t):i instanceof cc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Un.Emulated:o=new Wd(l,u,r,this.appId,h,s,a,p);break;case Un.ShadowDom:return new vv(l,u,t,r,s,a,this.nonce,p);default:o=new cc(l,u,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(Z(gT),Z(vT),Z(Ag),Z(zL),Z(xt),Z(fn),Z(Oe),Z(Rg))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),ac=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(fv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(pT(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(pT(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new te(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=fv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=fv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(mr.DashCase|mr.Important)?e.style.setProperty(t,r,i&mr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&mr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Sr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function pT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var vv=class extends ac{constructor(e,t,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=_T(i.id,i.styles);for(let h of u){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},cc=class extends ac{constructor(e,t,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?_T(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Wd=class extends cc{constructor(e,t,r,i,o,s,a,l){let u=i+"-"+r.id;super(e,t,r,o,s,a,l,u),this.contentAttr=qL(u),this.hostAttr=GL(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},WL=(()=>{class n extends Gd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(Z(xt))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),mT=["alt","control","meta","shift"],KL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},QL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},YL=(()=>{class n extends Gd{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Sr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),mT.forEach(u=>{let h=r.indexOf(u);h>-1&&(r.splice(h,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=KL[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),mT.forEach(s=>{if(s!==i){let a=QL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(Z(xt))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})();function wT(n,e,t){return LD(U({rootComponent:n,platformRef:t?.platformRef},ZL(e)))}function ZL(n){return{appProviders:[...nV,...n?.providers??[]],platformProviders:tV}}function JL(){mv.makeCurrent()}function XL(){return new pr}function eV(){return vC(document),document}var tV=[{provide:fn,useValue:ov},{provide:Mg,useValue:JL,multi:!0},{provide:xt,useFactory:eV,deps:[]}];var nV=[{provide:ud,useValue:"root"},{provide:pr,useFactory:XL,deps:[]},{provide:gv,useClass:WL,multi:!0,deps:[xt,Oe,fn]},{provide:gv,useClass:YL,multi:!0,deps:[xt]},fT,vT,gT,{provide:ls,useExisting:fT},{provide:vs,useClass:UL,deps:[]},[]];var IT=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(Z(xt))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var we="primary",Ec=Symbol("RouteTitle"),Ev=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Cs(n){return new Ev(n)}function iV(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function oV(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Wn(n[t],e[t]))return!1;return!0}function Wn(n,e){let t=n?Cv(n):void 0,r=e?Cv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!PT(n[i],e[i]))return!1;return!0}function Cv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function PT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function NT(n){return n.length>0?n[n.length-1]:null}function mi(n){return Gp(n)?n:io(n)?Le(Promise.resolve(n)):re(n)}var sV={exact:kT,subset:FT},OT={exact:aV,subset:cV,ignored:()=>!0};function bT(n,e,t){return sV[t.paths](n.root,e.root,t.matrixParams)&&OT[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function aV(n,e){return Wn(n,e)}function kT(n,e,t){if(!ao(n.segments,e.segments)||!Yd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!kT(n.children[r],e.children[r],t))return!1;return!0}function cV(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>PT(n[t],e[t]))}function FT(n,e,t){return LT(n,e,e.segments,t)}function LT(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ao(i,t)||e.hasChildren()||!Yd(i,t,r))}else if(n.segments.length===t.length){if(!ao(n.segments,t)||!Yd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!FT(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ao(n.segments,i)||!Yd(n.segments,i,r)||!n.children[we]?!1:LT(n.children[we],e,o,r)}}function Yd(n,e,t){return e.every((r,i)=>OT[t](n[i].parameters,r.parameters))}var Pr=class{constructor(e=new ke([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Cs(this.queryParams),this._queryParamMap}toString(){return dV.serialize(this)}},ke=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zd(this)}},so=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Cs(this.parameters),this._parameterMap}toString(){return jT(this)}};function lV(n,e){return ao(n,e)&&n.every((t,r)=>Wn(t.parameters,e[r].parameters))}function ao(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function uV(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===we&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==we&&(t=t.concat(e(i,r)))}),t}var Cc=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:()=>new Ds,providedIn:"root"})}}return n})(),Ds=class{parse(e){let t=new Tv(e);return new Pr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${lc(e.root,!0)}`,r=pV(e.queryParams),i=typeof e.fragment=="string"?`#${hV(e.fragment)}`:"";return`${t}${r}${i}`}},dV=new Ds;function Zd(n){return n.segments.map(e=>jT(e)).join("/")}function lc(n,e){if(!n.hasChildren())return Zd(n);if(e){let t=n.children[we]?lc(n.children[we],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==we&&r.push(`${i}:${lc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=uV(n,(r,i)=>i===we?[lc(n.children[we],!1)]:[`${i}:${lc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[we]!=null?`${Zd(n)}/${t[0]}`:`${Zd(n)}/(${t.join("//")})`}}function VT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kd(n){return VT(n).replace(/%3B/gi,";")}function hV(n){return encodeURI(n)}function Dv(n){return VT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jd(n){return decodeURIComponent(n)}function ET(n){return Jd(n.replace(/\+/g,"%20"))}function jT(n){return`${Dv(n.path)}${fV(n.parameters)}`}function fV(n){return Object.entries(n).map(([e,t])=>`;${Dv(e)}=${Dv(t)}`).join("")}function pV(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Kd(t)}=${Kd(i)}`).join("&"):`${Kd(t)}=${Kd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var mV=/^[^\/()?;#]+/;function _v(n){let e=n.match(mV);return e?e[0]:""}var gV=/^[^\/()?;=#]+/;function vV(n){let e=n.match(gV);return e?e[0]:""}var yV=/^[^=?&#]+/;function _V(n){let e=n.match(yV);return e?e[0]:""}var wV=/^[^&#]+/;function IV(n){let e=n.match(wV);return e?e[0]:""}var Tv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[we]=new ke(e,t)),r}parseSegment(){let e=_v(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new te(4009,!1);return this.capture(e),new so(Jd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=vV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=_v(this.remaining);i&&(r=i,this.capture(r))}e[Jd(t)]=Jd(r)}parseQueryParam(e){let t=_V(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=IV(this.remaining);s&&(r=s,this.capture(r))}let i=ET(t),o=ET(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=_v(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new te(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=we);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[we]:new ke([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new te(4011,!1)}};function UT(n){return n.segments.length>0?new ke([],{[we]:n}):n}function BT(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=BT(i);if(r===we&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ke(n.segments,e);return bV(t)}function bV(n){if(n.numberOfChildren===1&&n.children[we]){let e=n.children[we];return new ke(n.segments.concat(e.segments),e.children)}return n}function co(n){return n instanceof Pr}function EV(n,e,t=null,r=null){let i=$T(n);return HT(i,e,t,r)}function $T(n){let e;function t(o){let s={};for(let l of o.children){let u=t(l);s[l.outlet]=u}let a=new ke(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=UT(r);return e??i}function HT(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return wv(i,i,i,t,r);let o=CV(e);if(o.toRoot())return wv(i,i,new ke([],{}),t,r);let s=DV(o,i,n),a=s.processChildren?hc(s.segmentGroup,s.index,o.commands):qT(s.segmentGroup,s.index,o.commands);return wv(i,s.segmentGroup,a,t,r)}function Xd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function mc(n){return typeof n=="object"&&n!=null&&n.outlets}function wv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let s;n===e?s=t:s=zT(n,e,t);let a=UT(BT(s));return new Pr(a,o,i)}function zT(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=zT(o,e,t)}),new ke(n.segments,r)}var eh=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Xd(r[0]))throw new te(4003,!1);let i=r.find(mc);if(i&&i!==NT(r))throw new te(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function CV(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new eh(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new eh(t,e,r)}var Is=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function DV(n,e,t){if(n.isAbsolute)return new Is(e,!0,0);if(!t)return new Is(e,!1,NaN);if(t.parent===null)return new Is(t,!0,0);let r=Xd(n.commands[0])?0:1,i=t.segments.length-1+r;return TV(t,i,n.numberOfDoubleDots)}function TV(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new te(4005,!1);i=r.segments.length}return new Is(r,!1,i-o)}function SV(n){return mc(n[0])?n[0].outlets:{[we]:n}}function qT(n,e,t){if(n??=new ke([],{}),n.segments.length===0&&n.hasChildren())return hc(n,e,t);let r=xV(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ke(n.segments.slice(0,r.pathIndex),{});return o.children[we]=new ke(n.segments.slice(r.pathIndex),n.children),hc(o,0,i)}else return r.match&&i.length===0?new ke(n.segments,{}):r.match&&!n.hasChildren()?Sv(n,e,t):r.match?hc(n,0,i):Sv(n,e,t)}function hc(n,e,t){if(t.length===0)return new ke(n.segments,{});{let r=SV(t),i={};if(Object.keys(r).some(o=>o!==we)&&n.children[we]&&n.numberOfChildren===1&&n.children[we].segments.length===0){let o=hc(n.children[we],e,t);return new ke(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=qT(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ke(n.segments,i)}}function xV(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(mc(a))break;let l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!DT(l,u,s))return o;r+=2}else{if(!DT(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Sv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(mc(o)){let l=AV(o.outlets);return new ke(r,l)}if(i===0&&Xd(t[0])){let l=n.segments[e];r.push(new so(l.path,CT(t[0]))),i++;continue}let s=mc(o)?o.outlets[we]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Xd(a)?(r.push(new so(s,CT(a))),i+=2):(r.push(new so(s,{})),i++)}return new ke(r,{})}function AV(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Sv(new ke([],{}),0,r))}),e}function CT(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function DT(n,e,t){return n==t.path&&Wn(e,t.parameters)}var fc="imperative",ht=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ht||{}),mn=class{constructor(e,t){this.id=e,this.url=t}},Ts=class extends mn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=ht.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Kn=class extends mn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=ht.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},tn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(tn||{}),th=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(th||{}),Rr=class extends mn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=ht.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fi=class extends mn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=ht.NavigationSkipped}},gc=class extends mn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=ht.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},nh=class extends mn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ht.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xv=class extends mn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ht.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Av=class extends mn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ht.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Mv=class extends mn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ht.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rv=class extends mn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ht.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pv=class{constructor(e){this.route=e,this.type=ht.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Nv=class{constructor(e){this.route=e,this.type=ht.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ov=class{constructor(e){this.snapshot=e,this.type=ht.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kv=class{constructor(e){this.snapshot=e,this.type=ht.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fv=class{constructor(e){this.snapshot=e,this.type=ht.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lv=class{constructor(e){this.snapshot=e,this.type=ht.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rh=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=ht.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},vc=class{},Ss=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function MV(n,e){return n.providers&&!n._injector&&(n._injector=Rd(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Nn(n){return n.outlet||we}function RV(n,e){let t=n.filter(r=>Nn(r)===e);return t.push(...n.filter(r=>Nn(r)!==e)),t}function Dc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Vv=class{get injector(){return Dc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Tc(this.rootInjector),this.attachRef=null}},Tc=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Vv(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(Z(jt))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ih=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=jv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=jv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Uv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Uv(e,this._root).map(t=>t.value)}};function jv(n,e){if(n===e.value)return e;for(let t of e.children){let r=jv(n,t);if(r)return r}return null}function Uv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Uv(n,t);if(r.length)return r.unshift(e),r}return[]}var en=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ws(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var oh=class extends ih{constructor(e,t){super(e),this.snapshot=t,Qv(this,e)}toString(){return this.snapshot.toString()}};function GT(n){let e=PV(n),t=new qe([new so("",{})]),r=new qe({}),i=new qe({}),o=new qe({}),s=new qe(""),a=new pi(t,r,o,s,i,we,n,e.root);return a.snapshot=e.root,new oh(new en(a,[]),e)}function PV(n){let e={},t={},r={},i="",o=new bs([],e,r,i,t,we,n,null,{});return new ah("",new en(o,[]))}var pi=class{constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ie(u=>u[Ec]))??re(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>Cs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>Cs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function sh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),n.params),data:U(U({},e.data),n.data),resolve:U(U(U(U({},n.data),e.data),i?.data),n._resolvedData)}:r={params:U({},n.params),data:U({},n.data),resolve:U(U({},n.data),n._resolvedData??{})},i&&KT(i)&&(r.resolve[Ec]=i.title),r}var bs=class{get title(){return this.data?.[Ec]}constructor(e,t,r,i,o,s,a,l,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Cs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Cs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ah=class extends ih{constructor(e,t){super(t),this.url=e,Qv(this,t)}toString(){return WT(this._root)}};function Qv(n,e){e.value._routerState=n,e.children.forEach(t=>Qv(n,t))}function WT(n){let e=n.children.length>0?` { ${n.children.map(WT).join(", ")} } `:"";return`${n.value}${e}`}function Iv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Wn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Wn(e.params,t.params)||n.paramsSubject.next(t.params),oV(e.url,t.url)||n.urlSubject.next(t.url),Wn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Bv(n,e){let t=Wn(n.params,e.params)&&lV(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Bv(n.parent,e.parent))}function KT(n){return typeof n.title=="string"||n.title===null}var Yv=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=we,this.activateEvents=new rt,this.deactivateEvents=new rt,this.attachEvents=new rt,this.detachEvents=new rt,this.parentContexts=L(Tc),this.location=L(ai),this.changeDetector=L(Pn),this.inputBinder=L(dh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new te(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new te(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new te(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new te(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new $v(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=He({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[dn]})}}return n})(),$v=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===pi?this.route:e===Tc?this.childContexts:this.parent.get(e,t)}},dh=new G(""),TT=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Vi([r.queryParams,r.params,r.data]).pipe(et(([o,s,a],l)=>(a=U(U(U({},o),s),a),l===0?re(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=VD(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})();function NV(n,e,t){let r=yc(n,e._root,t?t._root:void 0);return new oh(r,e)}function yc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=OV(n,e,t);return new en(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>yc(n,a)),s}}let r=kV(e.value),i=e.children.map(o=>yc(n,o));return new en(r,i)}}function OV(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return yc(n,r,i);return yc(n,r)})}function kV(n){return new pi(new qe(n.url),new qe(n.params),new qe(n.queryParams),new qe(n.fragment),new qe(n.data),n.outlet,n.component,n)}var _c=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},QT="ngNavigationCancelingError";function ch(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=co(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=YT(!1,tn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function YT(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[QT]=!0,t.cancellationCode=e,t}function FV(n){return ZT(n)&&co(n.url)}function ZT(n){return!!n&&n[QT]}var LV=(n,e,t,r)=>ie(i=>(new Hv(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Hv=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Iv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ws(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ws(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ws(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ws(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Lv(o.value.snapshot))}),e.children.length&&this.forwardEvent(new kv(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Iv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Iv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},lh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Es=class{constructor(e,t){this.component=e,this.route=t}};function VV(n,e,t){let r=n._root,i=e?e._root:null;return uc(r,i,t,[r.value])}function jV(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function As(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!iE(n)?n:e.get(n):r}function uc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ws(e);return n.children.forEach(s=>{UV(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>pc(a,t.getContext(s),i)),i}function UV(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=BV(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new lh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?uc(n,e,a?a.children:null,r,i):uc(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Es(a.outlet.component,s))}else s&&pc(e,a,i),i.canActivateChecks.push(new lh(r)),o.component?uc(n,null,a?a.children:null,r,i):uc(n,null,t,r,i);return i}function BV(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ao(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ao(n.url,e.url)||!Wn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bv(n,e)||!Wn(n.queryParams,e.queryParams);case"paramsChange":default:return!Bv(n,e)}}function pc(n,e,t){let r=ws(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?pc(s,e.children.getContext(o),t):pc(s,null,t):pc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Es(e.outlet.component,i)):t.canDeactivateChecks.push(new Es(null,i)):t.canDeactivateChecks.push(new Es(null,i))}function Sc(n){return typeof n=="function"}function $V(n){return typeof n=="boolean"}function HV(n){return n&&Sc(n.canLoad)}function zV(n){return n&&Sc(n.canActivate)}function qV(n){return n&&Sc(n.canActivateChild)}function GV(n){return n&&Sc(n.canDeactivate)}function WV(n){return n&&Sc(n.canMatch)}function JT(n){return n instanceof dr||n?.name==="EmptyError"}var Qd=Symbol("INITIAL_VALUE");function xs(){return et(n=>Vi(n.map(e=>e.pipe(an(1),Xp(Qd)))).pipe(ie(e=>{for(let t of e)if(t!==!0){if(t===Qd)return Qd;if(t===!1||KV(t))return t}return!0}),zt(e=>e!==Qd),an(1)))}function KV(n){return co(n)||n instanceof _c}function QV(n,e){return nt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?re(me(U({},t),{guardsResult:!0})):YV(s,r,i,n).pipe(nt(a=>a&&$V(a)?ZV(r,o,n,e):re(a)),ie(a=>me(U({},t),{guardsResult:a})))})}function YV(n,e,t,r){return Le(n).pipe(nt(i=>n2(i.component,i.route,t,e,r)),Ln(i=>i!==!0,!0))}function ZV(n,e,t,r){return Le(e).pipe(hr(i=>qo(XV(i.route.parent,r),JV(i.route,r),t2(n,i.path,t),e2(n,i.route,t))),Ln(i=>i!==!0,!0))}function JV(n,e){return n!==null&&e&&e(new Fv(n)),re(!0)}function XV(n,e){return n!==null&&e&&e(new Ov(n)),re(!0)}function e2(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return re(!0);let i=r.map(o=>Iu(()=>{let s=Dc(e)??t,a=As(o,s),l=zV(a)?a.canActivate(e,n):Zt(s,()=>a(e,n));return mi(l).pipe(Ln())}));return re(i).pipe(xs())}function t2(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>jV(s)).filter(s=>s!==null).map(s=>Iu(()=>{let a=s.guards.map(l=>{let u=Dc(s.node)??t,h=As(l,u),p=qV(h)?h.canActivateChild(r,n):Zt(u,()=>h(r,n));return mi(p).pipe(Ln())});return re(a).pipe(xs())}));return re(o).pipe(xs())}function n2(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return re(!0);let s=o.map(a=>{let l=Dc(e)??i,u=As(a,l),h=GV(u)?u.canDeactivate(n,e,t,r):Zt(l,()=>u(n,e,t,r));return mi(h).pipe(Ln())});return re(s).pipe(xs())}function r2(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return re(!0);let o=i.map(s=>{let a=As(s,n),l=HV(a)?a.canLoad(e,t):Zt(n,()=>a(e,t));return mi(l)});return re(o).pipe(xs(),XT(r))}function XT(n){return jp(Ye(e=>{if(typeof e!="boolean")throw ch(n,e)}),ie(e=>e===!0))}function i2(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return re(!0);let o=i.map(s=>{let a=As(s,n),l=WV(a)?a.canMatch(e,t):Zt(n,()=>a(e,t));return mi(l)});return re(o).pipe(xs(),XT(r))}var wc=class{constructor(e){this.segmentGroup=e||null}},Ic=class extends Error{constructor(e){super(),this.urlTree=e}};function _s(n){return Ho(new wc(n))}function o2(n){return Ho(new te(4e3,!1))}function s2(n){return Ho(YT(!1,tn.GuardRejected))}var zv=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return re(r);if(i.numberOfChildren>1||!i.children[we])return o2(`${e.redirectTo}`);i=i.children[we]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:u,routeConfig:h,url:p,outlet:w,params:_,data:S,title:k}=i,O=Zt(o,()=>a({params:_,data:S,queryParams:l,fragment:u,routeConfig:h,url:p,outlet:w,title:k}));if(O instanceof Pr)throw new Ic(O);t=O}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Ic(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Pr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new ke(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new te(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},qv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function a2(n,e,t,r,i){let o=eS(n,e,t);return o.matched?(r=MV(e,r),i2(r,e,t,i).pipe(ie(s=>s===!0?o:U({},qv)))):re(o)}function eS(n,e,t){if(e.path==="**")return c2(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?U({},qv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||iV)(t,n,e);if(!i)return U({},qv);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function c2(n){return{matched:!0,parameters:n.length>0?NT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function ST(n,e,t,r){return t.length>0&&d2(n,t,r)?{segmentGroup:new ke(e,u2(r,new ke(t,n.children))),slicedSegments:[]}:t.length===0&&h2(n,t,r)?{segmentGroup:new ke(n.segments,l2(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ke(n.segments,n.children),slicedSegments:t}}function l2(n,e,t,r){let i={};for(let o of t)if(hh(n,e,o)&&!r[Nn(o)]){let s=new ke([],{});i[Nn(o)]=s}return U(U({},r),i)}function u2(n,e){let t={};t[we]=e;for(let r of n)if(r.path===""&&Nn(r)!==we){let i=new ke([],{});t[Nn(r)]=i}return t}function d2(n,e,t){return t.some(r=>hh(n,e,r)&&Nn(r)!==we)}function h2(n,e,t){return t.some(r=>hh(n,e,r))}function hh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function f2(n,e,t){return e.length===0&&!n.children[t]}var Gv=class{};function p2(n,e,t,r,i,o,s="emptyOnly"){return new Wv(n,e,t,r,i,s,o).recognize()}var m2=31,Wv=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new zv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new te(4002,`'${e.segmentGroup}'`)}recognize(){let e=ST(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:t,rootSnapshot:r})=>{let i=new en(r,t),o=new ah("",i),s=EV(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new bs([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),we,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,we,t).pipe(ie(r=>({children:r,rootSnapshot:t})),In(r=>{if(r instanceof Ic)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof wc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ie(s=>s instanceof en?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Le(o).pipe(hr(s=>{let a=r.children[s],l=RV(t,s);return this.processSegmentGroup(e,l,a,s,i)}),Yp((s,a)=>(s.push(...a),s)),Kr(null),Kp(),nt(s=>{if(s===null)return _s(r);let a=tS(s);return g2(a),re(a)}))}processSegment(e,t,r,i,o,s,a){return Le(t).pipe(hr(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(In(u=>{if(u instanceof wc)return re(null);throw u}))),Ln(l=>!!l),In(l=>{if(JT(l))return f2(r,i,o)?re(new Gv):_s(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return Nn(r)!==s&&(s===we||!hh(i,o,r))?_s(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):_s(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:u,consumedSegments:h,positionalParamSegments:p,remainingSegments:w}=eS(t,i,o);if(!l)return _s(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>m2&&(this.allowRedirects=!1));let _=new bs(o,u,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,xT(i),Nn(i),i.component??i._loadedComponent??null,i,AT(i)),S=sh(_,a,this.paramsInheritanceStrategy);_.params=Object.freeze(S.params),_.data=Object.freeze(S.data);let k=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,_,e);return this.applyRedirects.lineralizeSegments(i,k).pipe(nt(O=>this.processSegment(e,r,t,O.concat(w),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=a2(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(et(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(et(({routes:u})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:w,remainingSegments:_}=l,S=new bs(w,p,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,xT(r),Nn(r),r.component??r._loadedComponent??null,r,AT(r)),k=sh(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(k.params),S.data=Object.freeze(k.data);let{segmentGroup:O,slicedSegments:H}=ST(t,w,_,u);if(H.length===0&&O.hasChildren())return this.processChildren(h,u,O,S).pipe(ie(Q=>new en(S,Q)));if(u.length===0&&H.length===0)return re(new en(S,[]));let Y=Nn(r)===o;return this.processSegment(h,u,O,H,Y?we:o,!0,S).pipe(ie(Q=>new en(S,Q instanceof en?[Q]:[])))}))):_s(t)))}getChildConfig(e,t,r){return t.children?re({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?re({routes:t._loadedRoutes,injector:t._loadedInjector}):r2(e,t,r,this.urlSerializer).pipe(nt(i=>i?this.configLoader.loadChildren(e,t).pipe(Ye(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):s2(t))):re({routes:[],injector:e})}};function g2(n){n.sort((e,t)=>e.value.outlet===we?-1:t.value.outlet===we?1:e.value.outlet.localeCompare(t.value.outlet))}function v2(n){let e=n.value.routeConfig;return e&&e.path===""}function tS(n){let e=[],t=new Set;for(let r of n){if(!v2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=tS(r.children);e.push(new en(r.value,i))}return e.filter(r=>!t.has(r))}function xT(n){return n.data||{}}function AT(n){return n.resolve||{}}function y2(n,e,t,r,i,o){return nt(s=>p2(n,e,t,r,s.extractedUrl,i,o).pipe(ie(({state:a,tree:l})=>me(U({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function _2(n,e){return nt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return re(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of nS(l))s.add(u);let a=0;return Le(s).pipe(hr(l=>o.has(l)?w2(l,r,n,e):(l.data=sh(l,l.parent,n).resolve,re(void 0))),Ye(()=>a++),Go(1),nt(l=>a===s.size?re(t):Ft))})}function nS(n){let e=n.children.map(t=>nS(t)).flat();return[n,...e]}function w2(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!KT(i)&&(o[Ec]=i.title),I2(o,n,e,r).pipe(ie(s=>(n._resolvedData=s,n.data=sh(n,n.parent,t).resolve,null)))}function I2(n,e,t,r){let i=Cv(n);if(i.length===0)return re({});let o={};return Le(i).pipe(nt(s=>b2(n[s],e,t,r).pipe(Ln(),Ye(a=>{if(a instanceof _c)throw ch(new Ds,a);o[s]=a}))),Go(1),Wp(o),In(s=>JT(s)?Ft:Ho(s)))}function b2(n,e,t,r){let i=Dc(e)??r,o=As(n,i),s=o.resolve?o.resolve(e,t):Zt(i,()=>o(e,t));return mi(s)}function bv(n){return et(e=>{let t=n(e);return t?Le(t).pipe(ie(()=>e)):re(e)})}var rS=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===we);return r}getResolvedTitleForRoute(t){return t.data[Ec]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:()=>L(E2),providedIn:"root"})}}return n})(),E2=(()=>{class n extends rS{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(Z(IT))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),xc=new G("",{providedIn:"root",factory:()=>({})}),C2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Ve({type:n,selectors:[["ng-component"]],standalone:!0,features:[je],decls:1,vars:0,template:function(r,i){r&1&&ne(0,"router-outlet")},dependencies:[Yv],encapsulation:2})}}return n})();function Zv(n){let e=n.children&&n.children.map(Zv),t=e?me(U({},n),{children:e}):U({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==we&&(t.component=C2),t}var bc=new G(""),Jv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(Fd)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return re(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=mi(t.loadComponent()).pipe(ie(iS),Ye(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ui(()=>{this.componentLoaders.delete(t)})),i=new jo(r,()=>new We).pipe(Vo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return re({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=D2(r,this.compiler,t,this.onLoadEndListener).pipe(Ui(()=>{this.childrenLoaders.delete(r)})),s=new jo(o,()=>new We).pipe(Vo());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function D2(n,e,t,r){return mi(n.loadChildren()).pipe(ie(iS),nt(i=>i instanceof za||Array.isArray(i)?re(i):Le(e.compileModuleAsync(i))),ie(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(bc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Zv),injector:o}}))}function T2(n){return n&&typeof n=="object"&&"default"in n}function iS(n){return T2(n)?n.default:n}var Xv=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:()=>L(S2),providedIn:"root"})}}return n})(),S2=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),oS=new G(""),sS=new G("");function x2(n,e,t){let r=n.get(sS),i=n.get(xt);return n.get(Oe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),A2(n))),{onViewTransitionCreated:l}=r;return l&&Zt(n,()=>l({transition:a,from:e,to:t})),s})}function A2(n){return new Promise(e=>{Wg({read:()=>setTimeout(e)},{injector:n})})}var M2=new G(""),ey=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new We,this.transitionAbortSubject=new We,this.configLoader=L(Jv),this.environmentInjector=L(jt),this.urlSerializer=L(Cc),this.rootContexts=L(Tc),this.location=L(ys),this.inputBindingEnabled=L(dh,{optional:!0})!==null,this.titleStrategy=L(rS),this.options=L(xc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=L(Xv),this.createViewTransition=L(oS,{optional:!0}),this.navigationErrorHandler=L(M2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>re(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Pv(i)),r=i=>this.events.next(new Nv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(me(U(U({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new qe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:fc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(zt(o=>o.id!==0),ie(o=>me(U({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),et(o=>{let s=!1,a=!1;return re(o).pipe(et(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",tn.SupersededByNewNavigation),Ft;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?me(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&h!=="reload"){let p="";return this.events.next(new fi(l.id,this.urlSerializer.serialize(l.rawUrl),p,th.IgnoredSameUrlNavigation)),l.resolve(!1),Ft}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return re(l).pipe(et(p=>{let w=this.transitions?.getValue();return this.events.next(new Ts(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),w!==this.transitions?.getValue()?Ft:Promise.resolve(p)}),y2(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ye(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=me(U({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let w=new nh(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(w)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:p,extractedUrl:w,source:_,restoredState:S,extras:k}=l,O=new Ts(p,this.urlSerializer.serialize(w),_,S);this.events.next(O);let H=GT(this.rootComponentType).snapshot;return this.currentTransition=o=me(U({},l),{targetSnapshot:H,urlAfterRedirects:w,extras:me(U({},k),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,re(o)}else{let p="";return this.events.next(new fi(l.id,this.urlSerializer.serialize(l.extractedUrl),p,th.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Ft}}),Ye(l=>{let u=new xv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),ie(l=>(this.currentTransition=o=me(U({},l),{guards:VV(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),QV(this.environmentInjector,l=>this.events.next(l)),Ye(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw ch(this.urlSerializer,l.guardsResult);let u=new Av(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),zt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",tn.GuardRejected),!1)),bv(l=>{if(l.guards.canActivateChecks.length)return re(l).pipe(Ye(u=>{let h=new Mv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),et(u=>{let h=!1;return re(u).pipe(_2(this.paramsInheritanceStrategy,this.environmentInjector),Ye({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",tn.NoDataFromResolver)}}))}),Ye(u=>{let h=new Rv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),bv(l=>{let u=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ye(w=>{h.component=w}),ie(()=>{})));for(let w of h.children)p.push(...u(w));return p};return Vi(u(l.targetSnapshot.root)).pipe(Kr(null),an(1))}),bv(()=>this.afterPreactivation()),et(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,h=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return h?Le(h).pipe(ie(()=>o)):re(o)}),ie(l=>{let u=NV(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=me(U({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Ye(()=>{this.events.next(new vc)}),LV(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),an(1),Ye({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Kn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),La(this.transitionAbortSubject.pipe(Ye(l=>{throw l}))),Ui(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",tn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),In(l=>{if(a=!0,ZT(l))this.events.next(new Rr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),FV(l)?this.events.next(new Ss(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let u=new gc(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let h=Zt(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(h instanceof _c){let{message:p,cancellationCode:w}=ch(this.urlSerializer,h);this.events.next(new Rr(o.id,this.urlSerializer.serialize(o.extractedUrl),p,w)),this.events.next(new Ss(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(u);let p=t.errorHandler(l);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Ft}))}))}cancelNavigationTransition(t,r,i){let o=new Rr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function R2(n){return n!==fc}var P2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:()=>L(N2),providedIn:"root"})}}return n})(),Kv=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},N2=(()=>{class n extends Kv{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})()}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),aS=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:()=>L(O2),providedIn:"root"})}}return n})(),O2=(()=>{class n extends aS{constructor(){super(...arguments),this.location=L(ys),this.urlSerializer=L(Cc),this.options=L(xc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=L(Xv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=GT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Ts)this.stateMemento=this.createStateMemento();else if(t instanceof fi)this.rawUrlTree=r.initialUrl;else if(t instanceof nh){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof vc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Rr&&(t.code===tn.GuardRejected||t.code===tn.NoDataFromResolver)?this.restoreHistory(r):t instanceof gc?this.restoreHistory(r,!0):t instanceof Kn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Pr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=U(U({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=U(U({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})()}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(dc||{});function cS(n,e){n.events.pipe(zt(t=>t instanceof Kn||t instanceof Rr||t instanceof gc||t instanceof fi),ie(t=>t instanceof Kn||t instanceof fi?dc.COMPLETE:(t instanceof Rr?t.code===tn.Redirect||t.code===tn.SupersededByNewNavigation:!1)?dc.REDIRECTING:dc.FAILED),zt(t=>t!==dc.REDIRECTING),an(1)).subscribe(()=>{e()})}function k2(n){throw n}var F2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},L2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},$t=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=L(kd),this.stateManager=L(aS),this.options=L(xc,{optional:!0})||{},this.pendingTasks=L(si),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=L(ey),this.urlSerializer=L(Cc),this.location=L(ys),this.urlHandlingStrategy=L(Xv),this._events=new We,this.errorHandler=this.options.errorHandler||k2,this.navigated=!1,this.routeReuseStrategy=L(P2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=L(bc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!L(dh,{optional:!0}),this.eventsSubscription=new $e,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Rr&&r.code!==tn.Redirect&&r.code!==tn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Kn)this.navigated=!0;else if(r instanceof Ss){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=U({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||R2(i.source)},s);this.scheduleNavigation(a,fc,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}j2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),fc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=U({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Zv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=U(U({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let w=i?i.snapshot:this.routerState.snapshot.root;p=$T(w)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return HT(p,t,h,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=co(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,fc,null,r)}navigate(t,r={skipLocationChange:!1}){return V2(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=U({},F2):r===!1?i=U({},L2):i=r,co(t))return bT(this.currentUrlTree,t,i);let o=this.parseUrl(t);return bT(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((p,w)=>{a=p,l=w});let h=this.pendingTasks.add();return cS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function V2(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new te(4008,!1)}function j2(n){return!(n instanceof vc)&&!(n instanceof Ss)}var fh=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new We,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof Kn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(co(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:SC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:co(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(J($t),J(pi),Tg("tabindex"),J(pn),J(Jt),J(xr))}}static{this.\u0275dir=He({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&le("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ps("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",li],skipLocationChange:[2,"skipLocationChange","skipLocationChange",li],replaceUrl:[2,"replaceUrl","replaceUrl",li],routerLink:"routerLink"},standalone:!0,features:[Gg,dn]})}}return n})();var uh=class{};var U2=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(zt(t=>t instanceof Kn),hr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Rd(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Le(i).pipe(zo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=re(null);let o=i.pipe(nt(s=>s===null?re(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Le([o,s]).pipe(zo())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(Z($t),Z(Fd),Z(jt),Z(uh),Z(Jv))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lS=new G(""),B2=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ts?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Kn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof fi&&t.code===th.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof rh&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rh(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){UC()}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})();function uS(n,...e){return yt([{provide:bc,multi:!0,useValue:n},[],{provide:pi,useFactory:dS,deps:[$t]},{provide:Xa,multi:!0,useFactory:hS},e.map(t=>t.\u0275providers)])}function dS(n){return n.routerState.root}function Ac(n,e){return{\u0275kind:n,\u0275providers:e}}function hS(){let n=L(vt);return e=>{let t=n.get(ci);if(e!==t.components[0])return;let r=n.get($t),i=n.get(fS);n.get(ty)===1&&r.initialNavigation(),n.get(pS,null,be.Optional)?.setUpPreloading(),n.get(lS,null,be.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var fS=new G("",{factory:()=>new We}),ty=new G("",{providedIn:"root",factory:()=>1});function $2(){return Ac(2,[{provide:ty,useValue:0},{provide:Ja,multi:!0,deps:[vt],useFactory:e=>{let t=e.get(KD,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get($t),o=e.get(fS);cS(i,()=>{r(!0)}),e.get(ey).afterPreactivation=()=>(r(!0),o.closed?re(void 0):o),i.initialNavigation()}))}}])}function H2(){return Ac(3,[{provide:Ja,multi:!0,useFactory:()=>{let e=L($t);return()=>{e.setUpLocationChangeListener()}}},{provide:ty,useValue:2}])}var pS=new G("");function z2(n){return Ac(0,[{provide:pS,useExisting:U2},{provide:uh,useExisting:n}])}function q2(){return Ac(8,[TT,{provide:dh,useExisting:TT}])}function G2(n){let e=[{provide:oS,useValue:x2},{provide:sS,useValue:U({skipNextTransition:!!n?.skipInitialTransition},n)}];return Ac(9,e)}var MT=new G("ROUTER_FORROOT_GUARD"),W2=[ys,{provide:Cc,useClass:Ds},$t,Tc,{provide:pi,useFactory:dS,deps:[$t]},Jv,[]],ph=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[W2,[],{provide:bc,multi:!0,useValue:t},{provide:MT,useFactory:Z2,deps:[[$t,new un,new ug]]},{provide:xc,useValue:r||{}},r?.useHash?Q2():Y2(),K2(),r?.preloadingStrategy?z2(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?J2(r):[],r?.bindToComponentInputs?q2().\u0275providers:[],r?.enableViewTransitions?G2().\u0275providers:[],X2()]}}static forChild(t){return{ngModule:n,providers:[{provide:bc,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(Z(MT,8))}}static{this.\u0275mod=xn({type:n})}static{this.\u0275inj=Sn({})}}return n})();function K2(){return{provide:lS,useFactory:()=>{let n=L(tT),e=L(Oe),t=L(xc),r=L(ey),i=L(Cc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new B2(i,r,n,e,t)}}}function Q2(){return{provide:xr,useClass:YD}}function Y2(){return{provide:xr,useClass:iv}}function Z2(n){return"guarded"}function J2(n){return[n.initialNavigation==="disabled"?H2().\u0275providers:[],n.initialNavigation==="enabledBlocking"?$2().\u0275providers:[]]}var RT=new G("");function X2(){return[{provide:RT,useFactory:hS},{provide:Xa,multi:!0,useExisting:RT}]}var CS=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(J(pn),J(Jt))}}static{this.\u0275dir=He({type:n})}}return n})(),bh=(()=>{class n extends CS{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})()}static{this.\u0275dir=He({type:n,features:[Xt]})}}return n})(),Lc=new G("");var ej={provide:Lc,useExisting:Tn(()=>Os),multi:!0};function tj(){let n=Sr()?Sr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var nj=new G(""),Os=(()=>{class n extends CS{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!tj())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(J(pn),J(Jt),J(nj,8))}}static{this.\u0275dir=He({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&le("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Cr([ej]),Xt]})}}return n})();function ny(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var Eh=new G(""),DS=new G("");function rj(n){return e=>{if(ny(e.value)||ny(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function ij(n){return ny(n.value)?{required:!0}:null}function mS(n){return null}function TS(n){return n!=null}function SS(n){return io(n)?Le(n):n}function xS(n){let e={};return n.forEach(t=>{e=t!=null?U(U({},e),t):e}),Object.keys(e).length===0?null:e}function AS(n,e){return e.map(t=>t(n))}function oj(n){return!n.validate}function MS(n){return n.map(e=>oj(e)?e:t=>e.validate(t))}function sj(n){if(!n)return null;let e=n.filter(TS);return e.length==0?null:function(t){return xS(AS(t,e))}}function iy(n){return n!=null?sj(MS(n)):null}function aj(n){if(!n)return null;let e=n.filter(TS);return e.length==0?null:function(t){let r=AS(t,e).map(SS);return ji(r).pipe(ie(xS))}}function oy(n){return n!=null?aj(MS(n)):null}function gS(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function cj(n){return n._rawValidators}function lj(n){return n._rawAsyncValidators}function ry(n){return n?Array.isArray(n)?n:[n]:[]}function gh(n,e){return Array.isArray(n)?n.includes(e):n===e}function vS(n,e){let t=ry(e);return ry(n).forEach(i=>{gh(t,i)||t.push(i)}),t}function yS(n,e){return ry(e).filter(t=>!gh(n,t))}var vh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=iy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=oy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ps=class extends vh{get formDirective(){return null}get path(){return null}},Fc=class extends vh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},yh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},uj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},dK=me(U({},uj),{"[class.ng-submitted]":"isSubmitted"}),Ch=(()=>{class n extends yh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(J(Fc,2))}}static{this.\u0275dir=He({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Bt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Xt]})}}return n})(),Dh=(()=>{class n extends yh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(J(Ps,10))}}static{this.\u0275dir=He({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Bt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Xt]})}}return n})();var Rc="VALID",mh="INVALID",Ms="PENDING",Pc="DISABLED",Ns=class{},_h=class extends Ns{constructor(e,t){super(),this.value=e,this.source=t}},Oc=class extends Ns{constructor(e,t){super(),this.pristine=e,this.source=t}},kc=class extends Ns{constructor(e,t){super(),this.touched=e,this.source=t}},Rs=class extends Ns{constructor(e,t){super(),this.status=e,this.source=t}};function RS(n){return(Th(n)?n.validators:n)||null}function dj(n){return Array.isArray(n)?iy(n):n||null}function PS(n,e){return(Th(e)?e.asyncValidators:n)||null}function hj(n){return Array.isArray(n)?oy(n):n||null}function Th(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function fj(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new te(1e3,"");if(!r[t])throw new te(1001,"")}function pj(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new te(1002,"")})}var wh=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=oo(()=>this.statusReactive()),this.statusReactive=fs(void 0),this._pristine=oo(()=>this.pristineReactive()),this.pristineReactive=fs(!0),this._touched=oo(()=>this.touchedReactive()),this.touchedReactive=fs(!1),this._events=new We,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return zn(this.statusReactive)}set status(e){zn(()=>this.statusReactive.set(e))}get valid(){return this.status===Rc}get invalid(){return this.status===mh}get pending(){return this.status==Ms}get disabled(){return this.status===Pc}get enabled(){return this.status!==Pc}get pristine(){return zn(this.pristineReactive)}set pristine(e){zn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return zn(this.touchedReactive)}set touched(e){zn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(vS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yS(e,this._rawAsyncValidators))}hasValidator(e){return gh(this._rawValidators,e)}hasAsyncValidator(e){return gh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(me(U({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new kc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new kc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(me(U({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Oc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Oc(!0,r))}markAsPending(e={}){this.status=Ms;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Rs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(me(U({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Pc,this.errors=null,this._forEachChild(i=>{i.disable(me(U({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new _h(this.value,r)),this._events.next(new Rs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(me(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Rc,this._forEachChild(r=>{r.enable(me(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(me(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rc||this.status===Ms)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new _h(this.value,t)),this._events.next(new Rs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(me(U({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pc:Rc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ms,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=SS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Rs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new rt,this.statusChanges=new rt}_calculateStatus(){return this._allControlsDisabled()?Pc:this.errors?mh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ms)?Ms:this._anyControlsHaveStatus(mh)?mh:Rc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Oc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new kc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Th(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=dj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=hj(this._rawAsyncValidators)}},Ih=class extends wh{constructor(e,t,r){super(RS(t),PS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){pj(this,!0,e),Object.keys(e).forEach(r=>{fj(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var sy=new G("CallSetDisabledState",{providedIn:"root",factory:()=>ay}),ay="always";function mj(n,e){return[...e.path,n]}function NS(n,e,t=ay){OS(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),vj(n,e),_j(n,e),yj(n,e),gj(n,e)}function _S(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function gj(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function OS(n,e){let t=cj(n);e.validator!==null?n.setValidators(gS(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=lj(n);e.asyncValidator!==null?n.setAsyncValidators(gS(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();_S(e._rawValidators,i),_S(e._rawAsyncValidators,i)}function vj(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&kS(n,e)})}function yj(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&kS(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function kS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function _j(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function wj(n,e){n==null,OS(n,e)}function Ij(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function bj(n){return Object.getPrototypeOf(n.constructor)===bh}function Ej(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Cj(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Os?t=o:bj(o)?r=o:i=o}),i||r||t||null}var Dj={provide:Ps,useExisting:Tn(()=>Vc)},Nc=Promise.resolve(),Vc=(()=>{class n extends Ps{get submitted(){return zn(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=oo(()=>this.submittedReactive()),this.submittedReactive=fs(!1),this._directives=new Set,this.ngSubmit=new rt,this.form=new Ih({},iy(t),oy(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Nc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),NS(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Nc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Nc.then(()=>{let r=this._findContainer(t.path),i=new Ih({});wj(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Nc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Nc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Ej(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(J(Eh,10),J(DS,10),J(sy,8))}}static{this.\u0275dir=He({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&le("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Cr([Dj]),Xt]})}}return n})();function wS(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function IS(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Tj=class extends wh{constructor(e=null,t,r){super(RS(t),PS(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Th(t)&&(t.nonNullable||t.initialValueIsDefault)&&(IS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){wS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){wS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){IS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Sj={provide:Fc,useExisting:Tn(()=>jc)},bS=Promise.resolve(),jc=(()=>{class n extends Fc{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Tj,this._registered=!1,this.name="",this.update=new rt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Cj(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Ij(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){NS(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){bS.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&li(r);bS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?mj(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(J(Ps,9),J(Eh,10),J(DS,10),J(Lc,10),J(Pn,8),J(sy,8))}}static{this.\u0275dir=He({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Cr([Sj]),Xt,dn]})}}return n})(),Sh=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=He({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),xj={provide:Lc,useExisting:Tn(()=>cy),multi:!0},cy=(()=>{class n extends bh{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})()}static{this.\u0275dir=He({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&le("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Cr([xj]),Xt]})}}return n})();var Aj={provide:Lc,useExisting:Tn(()=>xh),multi:!0};function FS(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Mj(n){return n.split(":")[0]}var xh=(()=>{class n extends bh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=FS(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=Mj(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})()}static{this.\u0275dir=He({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&le("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Cr([Aj]),Xt]})}}return n})(),LS=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(FS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(J(Jt),J(pn),J(xh,9))}}static{this.\u0275dir=He({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),Rj={provide:Lc,useExisting:Tn(()=>VS),multi:!0};function ES(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Pj(n){return n.split(":")[0]}var VS=(()=>{class n extends bh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],u=this._getOptionValue(l.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=Pj(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})()}static{this.\u0275dir=He({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&le("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Cr([Rj]),Xt]})}}return n})(),jS=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(ES(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ES(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(J(Jt),J(pn),J(VS,9))}}static{this.\u0275dir=He({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function Nj(n){return typeof n=="number"?n:parseFloat(n)}var US=(()=>{class n{constructor(){this._validator=mS}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):mS,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=He({type:n,features:[dn]})}}return n})();var Oj={provide:Eh,useExisting:Tn(()=>ly),multi:!0},ly=(()=>{class n extends US{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>Nj(t),this.createValidator=t=>rj(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})()}static{this.\u0275dir=He({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&ps("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Cr([Oj]),Xt]})}}return n})(),kj={provide:Eh,useExisting:Tn(()=>Uc),multi:!0};var Uc=(()=>{class n extends US{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=li,this.createValidator=t=>ij}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})()}static{this.\u0275dir=He({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ps("required",i._enabled?"":null)},inputs:{required:"required"},features:[Cr([kj]),Xt]})}}return n})();var Fj=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=xn({type:n})}static{this.\u0275inj=Sn({})}}return n})();var ks=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:sy,useValue:t.callSetDisabledState??ay}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=xn({type:n})}static{this.\u0275inj=Sn({imports:[Fj]})}}return n})();function Ah(n){n||(dd(Ah),n=L(oi));let e=new ye(t=>n.onDestroy(t.next.bind(t)));return t=>t.pipe(La(e))}function $S(n){return typeof n=="function"}function gi(n){return typeof n=="string"}function Bc(n){return!!n&&typeof n=="object"&&!Array.isArray(n)}function Mh(n){return n==null}function uy(n){return!Mh(n)}function dy(n){return n?Array.isArray(n)||gi(n)?n.length:Bc(n)?Object.keys(n).length:0:0}function HS(n){return dy(n)===0}function hy(n){return n.replace(/(?:^\w|[A-Z]|\b\w)/g,(e,t)=>t==0?e.toLowerCase():e.toUpperCase()).replace(/\s+|_|-|\//g,"")}var my=class{translations;constructor(e){this.translations=e}getTranslation(e){return re(this.translations.get(e)||{})}},qS=new G(""),Ls=new G("",{providedIn:"root",factory:()=>Fs}),Fs={defaultLang:"en",reRenderOnLangChange:!1,prodMode:!1,failedRetries:2,fallbackLang:[],availableLangs:[],missingHandler:{logMissingKey:!0,useFallbackTranslation:!1,allowEmpty:!1},flatten:{aot:!1},interpolation:["{{","}}"],scopes:{keepCasing:!1}};function Lj(n={}){return me(U(U({},Fs),n),{missingHandler:U(U({},Fs.missingHandler),n.missingHandler),flatten:U(U({},Fs.flatten),n.flatten),scopes:U(U({},Fs.scopes),n.scopes)})}function fy(n,e){return n&&(Object.prototype.hasOwnProperty.call(n,e)?n[e]:e.split(".").reduce((t,r)=>t?.[r],n))}function Vj(n,e,t){n=U({},n);let r=e.split("."),i=r.length-1;return r.reduce((o,s,a)=>(a===i?o[s]=t:o[s]=Array.isArray(o[s])?o[s].slice():U({},o[s]),o&&o[s]),n),n}var GS=new G(""),jj=(()=>{class n{config=L(Ls,{optional:!0})??Fs;get interpolationMatcher(){return Uj(this.config)}transpile({value:t,params:r={},translation:i,key:o}){if(gi(t)){let s,a=t;for(;(s=this.interpolationMatcher.exec(a))!==null;){let[l,u]=s;a=a.replace(l,()=>{let h=u.trim(),p=fy(r,h);return uy(p)?p:uy(i[h])?this.transpile({params:r,translation:i,key:o,value:i[h]}):""})}return a}else r&&(Bc(t)?t=this.handleObject({value:t,params:r,translation:i,key:o}):Array.isArray(t)&&(t=this.handleArray({value:t,params:r,translation:i,key:o})));return t}handleObject({value:t,params:r={},translation:i,key:o}){let s=t;return Object.keys(r).forEach(a=>{let l=this.transpile({value:fy(s,a),params:fy(r,a),translation:i,key:o});s=Vj(s,a,l)}),s}handleArray(i){var o=i,{value:t}=o,r=No(o,["value"]);return t.map(s=>this.transpile(U({value:s},r)))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})();function Uj(n){let[e,t]=n.interpolation;return new RegExp(`${e}([^${e}${t}]*?)${t}`,"g")}var WS=new G(""),Bj=(()=>{class n{handle(t,r){if(r.missingHandler.logMissingKey&&!r.prodMode){let i=`Missing translation for '${t}'`;console.warn(`%c ${i}`,"font-size: 12px; color: red")}return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),KS=new G(""),$j=(()=>{class n{preSaveTranslation(t){return t}preSaveTranslationKey(t,r){return r}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),QS=new G(""),Hj=(()=>{class n{userConfig;constructor(t){this.userConfig=t}getNextLangs(){let t=this.userConfig.fallbackLang;if(!t)throw new Error("When using the default fallback, a fallback language must be provided in the config!");return Array.isArray(t)?t:[t]}static \u0275fac=function(r){return new(r||n)(Z(Ls))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})();function YS(n){let{path:e,inlineLoader:t,mainLoader:r,data:i}=n;if(t){let o=t[e];if($S(o)===!1)throw`You're using an inline loader but didn't provide a loader for ${e}`;return t[e]().then(s=>s.default?s.default:s)}return r.getTranslation(e,i)}function zj({mainLoader:n,path:e,data:t,fallbackPath:r,inlineLoader:i}){return(r?[e,r]:[e]).map(s=>{let a=YS({path:s,mainLoader:n,inlineLoader:i,data:t});return Le(a).pipe(ie(l=>({translation:l,lang:s})))})}function zS(n){let e={};function t(r,i){if(r===null)e[i]=null;else if(Bc(r))for(let[o,s]of Object.entries(r))t(s,i?`${i}.${o}`:o);else e[i]=r}return t(n,""),e}function qj(n){let e={};for(let[t,r]of Object.entries(n)){let i=t.split("."),o=e;i.forEach((s,a)=>{a===i.length-1?o[s]=r:(o[s]??={},o=o[s])})}return e}function $c(n){if(!n)return"";let e=n.split("/");return e.pop(),e.join("/")}function vi(n){return n?n.split("/").pop():""}function Gj(n,e){return Object.keys(n).reduce((t,r)=>(t[`${e}/${r}`]=n[r],t),{})}function ZS(n){return typeof n?.scope=="string"}function Wj(n){return n?.loader&&Bc(n.loader)}function yy(n,e){return Wj(n)?Gj(n.loader,e):void 0}function py(n){return{scope:$c(n)||null,langName:vi(n)}}var Kj;var Wt=(()=>{class n{loader;parser;missingHandler;interceptor;fallbackStrategy;langChanges$;translations=new Map;cache=new Map;firstFallbackLang;defaultLang="";availableLangs=[];isResolvedMissingOnce=!1;lang;failedLangs=new Set;events=new We;events$=this.events.asObservable();config;destroyRef=L(oi);constructor(t,r,i,o,s,a){this.loader=t,this.parser=r,this.missingHandler=i,this.interceptor=o,this.fallbackStrategy=a,this.loader||(this.loader=new my(this.translations)),Kj=this,this.config=JSON.parse(JSON.stringify(s)),this.setAvailableLangs(this.config.availableLangs||[]),this.setFallbackLangForMissingTranslation(this.config),this.setDefaultLang(this.config.defaultLang),this.lang=new qe(this.getDefaultLang()),this.langChanges$=this.lang.asObservable(),this.events$.subscribe(l=>{l.type==="translationLoadSuccess"&&l.wasFailure&&this.setActiveLang(l.payload.langName)}),this.destroyRef.onDestroy(()=>{this.lang.complete(),this.events.complete(),this.cache.clear()})}getDefaultLang(){return this.defaultLang}setDefaultLang(t){this.defaultLang=t}getActiveLang(){return this.lang.getValue()}setActiveLang(t){return this.parser.onLangChanged?.(t),this.lang.next(t),this.events.next({type:"langChanged",payload:py(t)}),this}setAvailableLangs(t){this.availableLangs=t}getAvailableLangs(){return this.availableLangs}load(t,r={}){let i=this.cache.get(t);if(i)return i;let o,s=this._isLangScoped(t),a;s&&(a=$c(t));let l={path:t,mainLoader:this.loader,inlineLoader:r.inlineLoader,data:s?{scope:a}:void 0};if(this.useFallbackTranslation(t)){let h=s?`${a}/${this.firstFallbackLang}`:this.firstFallbackLang,p=zj(me(U({},l),{fallbackPath:h}));o=ji(p)}else{let h=YS(l);o=Le(h)}let u=o.pipe(Qp(this.config.failedRetries),Ye(h=>{if(Array.isArray(h)){h.forEach(p=>{this.handleSuccess(p.lang,p.translation),p.lang!==t&&this.cache.set(p.lang,re({}))});return}this.handleSuccess(t,h)}),In(h=>(this.config.prodMode||console.error(`Error while trying to load "${t}"`,h),this.handleFailure(t,r))),Jp(1),Ah(this.destroyRef));return this.cache.set(t,u),u}translate(t,r={},i=this.getActiveLang()){if(!t)return t;let{scope:o,resolveLang:s}=this.resolveLangAndScope(i);if(Array.isArray(t))return t.map(u=>this.translate(o?`${o}.${u}`:u,r,s));t=o?`${o}.${t}`:t;let a=this.getTranslation(s),l=a[t];return l?this.parser.transpile({value:l,params:r,translation:a,key:t}):this._handleMissingKey(t,l,r)}selectTranslate(t,r,i,o=!1){let s,a=(u,h)=>this.load(u,h).pipe(ie(()=>o?this.translateObject(t,r,u):this.translate(t,r,u)));if(Mh(i))return this.langChanges$.pipe(et(u=>a(u)));if(i=Array.isArray(i)?i[0]:i,ZS(i)){let u=i;i=u.scope,s=yy(u,u.scope)}if(i=i,this.isLang(i)||this.isScopeWithLang(i))return a(i);let l=i;return this.langChanges$.pipe(et(u=>a(`${l}/${u}`,{inlineLoader:s})))}isScopeWithLang(t){return this.isLang(vi(t))}translateObject(t,r={},i=this.getActiveLang()){if(gi(t)||Array.isArray(t)){let{resolveLang:s,scope:a}=this.resolveLangAndScope(i);if(Array.isArray(t))return t.map(h=>this.translateObject(a?`${a}.${h}`:h,r,s));let l=this.getTranslation(s);t=a?`${a}.${t}`:t;let u=qj(this.getObjectByKey(l,t));return HS(u)?this.translate(t,r,i):this.parser.transpile({value:u,params:r,translation:l,key:t})}let o=[];for(let[s,a]of this.getEntries(t))o.push(this.translateObject(s,a,i));return o}selectTranslateObject(t,r,i){if(gi(t)||Array.isArray(t))return this.selectTranslate(t,r,i,!0);let[[o,s],...a]=this.getEntries(t);return this.selectTranslateObject(o,s,i).pipe(ie(l=>{let u=[l];for(let[h,p]of a)u.push(this.translateObject(h,p,i));return u}))}getTranslation(t){if(t){if(this.isLang(t))return this.translations.get(t)||{};{let{scope:r,resolveLang:i}=this.resolveLangAndScope(t),o=this.translations.get(i)||{};return this.getObjectByKey(o,r)}}return this.translations}selectTranslation(t){let r=this.langChanges$;if(t){let i=vi(t)!==t;this.isLang(t)||i?r=re(t):r=this.langChanges$.pipe(ie(o=>`${t}/${o}`))}return r.pipe(et(i=>this.load(i).pipe(ie(()=>this.getTranslation(i)))))}setTranslation(t,r=this.getActiveLang(),i={}){let s=U(U({},{merge:!0,emitChange:!0}),i),a=$c(r),l=t;if(a){let _=this.getMappedScope(a);l=zS({[_]:t})}let u=a?vi(r):r,h=U(U({},s.merge&&this.getTranslation(u)),l),p=this.config.flatten.aot?h:zS(h),w=this.interceptor.preSaveTranslation(p,u);this.translations.set(u,w),s.emitChange&&this.setActiveLang(this.getActiveLang())}setTranslationKey(t,r,i={}){let o=i.lang||this.getActiveLang(),s=this.interceptor.preSaveTranslationKey(t,r,o),a={[t]:s};this.setTranslation(a,o,me(U({},i),{merge:!0}))}setFallbackLangForMissingTranslation({fallbackLang:t}){let r=Array.isArray(t)?t[0]:t;t&&this.useFallbackTranslation(r)&&(this.firstFallbackLang=r)}_handleMissingKey(t,r,i){if(this.config.missingHandler.allowEmpty&&r==="")return"";if(!this.isResolvedMissingOnce&&this.useFallbackTranslation()){this.isResolvedMissingOnce=!0;let o=this.translate(t,i,this.firstFallbackLang);return this.isResolvedMissingOnce=!1,o}return this.missingHandler.handle(t,this.getMissingHandlerData(),i)}_isLangScoped(t){return this.getAvailableLangsIds().indexOf(t)===-1}isLang(t){return this.getAvailableLangsIds().indexOf(t)!==-1}_loadDependencies(t,r){let i=vi(t);return this._isLangScoped(t)&&!this.isLoadedTranslation(i)?Vi([this.load(i),this.load(t,{inlineLoader:r})]):this.load(t,{inlineLoader:r})}_completeScopeWithLang(t){return this._isLangScoped(t)&&!this.isLang(vi(t))?`${t}/${this.getActiveLang()}`:t}_setScopeAlias(t,r){this.config.scopeMapping||(this.config.scopeMapping={}),this.config.scopeMapping[t]=r}isLoadedTranslation(t){return dy(this.getTranslation(t))}getAvailableLangsIds(){let t=this.getAvailableLangs()[0];return gi(t)?this.getAvailableLangs():this.getAvailableLangs().map(r=>r.id)}getMissingHandlerData(){return me(U({},this.config),{activeLang:this.getActiveLang(),availableLangs:this.availableLangs,defaultLang:this.defaultLang})}useFallbackTranslation(t){return this.config.missingHandler.useFallbackTranslation&&t!==this.firstFallbackLang}handleSuccess(t,r){this.setTranslation(r,t,{emitChange:!1}),this.events.next({wasFailure:!!this.failedLangs.size,type:"translationLoadSuccess",payload:py(t)}),this.failedLangs.forEach(i=>this.cache.delete(i)),this.failedLangs.clear()}handleFailure(t,r){Mh(r.failedCounter)&&(r.failedCounter=0,r.fallbackLangs||(r.fallbackLangs=this.fallbackStrategy.getNextLangs(t)));let i=t.split("/"),s=r.fallbackLangs[r.failedCounter];if(this.failedLangs.add(t),this.cache.has(s))return this.handleSuccess(s,this.getTranslation(s)),Ft;let a=s===i[i.length-1];if(!s||a){let u="Unable to load translation and all the fallback languages";throw i.length>1&&(u+=", did you misspelled the scope name?"),new Error(u)}let l=s;return i.length>1&&(i[i.length-1]=s,l=i.join("/")),r.failedCounter++,this.events.next({type:"translationLoadFailure",payload:py(t)}),this.load(l,r)}getMappedScope(t){let{scopeMapping:r={},scopes:i={keepCasing:!1}}=this.config;return r[t]||(i.keepCasing?t:hy(t))}resolveLangAndScope(t){let r=t,i;if(this._isLangScoped(t)){let o=vi(t),s=this.isLang(o);r=s?o:this.getActiveLang(),i=this.getMappedScope(s?$c(t):t)}return{scope:i,resolveLang:r}}getObjectByKey(t,r){let i={},o=`${r}.`;for(let s in t)s.startsWith(o)&&(i[s.replace(o,"")]=t[s]);return i}getEntries(t){return t instanceof Map?t.entries():Object.entries(t)}static \u0275fac=function(r){return new(r||n)(Z(qS,8),Z(GS),Z(WS),Z(KS),Z(Ls),Z(QS))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qj=(()=>{class n{html;static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ve({type:n,selectors:[["ng-component"]],inputs:{html:"html"},standalone:!0,features:[je],decls:1,vars:1,consts:[[1,"transloco-loader-template",3,"innerHTML"]],template:function(r,i){r&1&&ne(0,"div",0),r&2&&j("innerHTML",i.html,Xi)},encapsulation:2})}return n})(),gy=class{view;vcr;constructor(e,t){this.view=e,this.vcr=t}attachView(){if(this.view instanceof eo)this.vcr.createEmbeddedView(this.view);else if(gi(this.view)){let e=this.vcr.createComponent(Qj);e.instance.html=this.view,e.hostView.detectChanges()}else this.vcr.createComponent(this.view)}detachView(){this.vcr.clear()}},JS=new G(""),Yj=new G(""),XS=new G("");function vy(n,e,t="|"){if(gi(n)){let r=n.split(t),i=r.pop();return i===e?[!0,r.toString()]:[!1,i]}return[!1,""]}function ex(n,e){let[t]=vy(e,"static");return t?!1:!!n.config.reRenderOnLangChange}function tx(n){return n?e=>e:an(1)}var Rh=class{initialized=!1;resolve({inline:e,provider:t,active:r}){let i=r;if(this.initialized)return i=r,i;if(t){let[,o]=vy(t,"static");i=o}if(e){let[,o]=vy(e,"static");i=o}return this.initialized=!0,i}resolveLangBasedOnScope(e){return $c(e)?vi(e):e}resolveLangPath(e,t){return t?`${t}/${e}`:e}},Ph=class{service;constructor(e){this.service=e}resolve(e){let{inline:t,provider:r}=e;if(t)return t;if(r){if(ZS(r)){let{scope:i,alias:o=this.service.config.scopes.keepCasing?i:hy(i)}=r;return this.service._setScopeAlias(i,o),i}return r}}},Qn=(()=>{class n{destroyRef=L(oi);service=L(Wt);tpl=L(eo,{optional:!0});providerLang=L(JS,{optional:!0});providerScope=L(XS,{optional:!0});providedLoadingTpl=L(Yj,{optional:!0});cdr=L(Pn);host=L(Jt);vcr=L(ai);renderer=L(pn);view;memo=new Map;key;params={};inlineScope;inlineRead;prefix;inlineLang;inlineTpl;currentLang;loaderTplHandler;initialized=!1;path;langResolver=new Rh;scopeResolver=new Ph(this.service);strategy=this.tpl===null?"attribute":"structural";static ngTemplateContextGuard(t,r){return!0}ngOnInit(){let t=ex(this.service,this.providerLang||this.inlineLang);if(this.service.langChanges$.pipe(et(r=>{let i=this.langResolver.resolve({inline:this.inlineLang,provider:this.providerLang,active:r});return Array.isArray(this.providerScope)?ji(this.providerScope.map(o=>this.resolveScope(i,o))):this.resolveScope(i,this.providerScope)}),tx(t),Ah(this.destroyRef)).subscribe(()=>{this.currentLang=this.langResolver.resolveLangBasedOnScope(this.path),this.strategy==="attribute"?this.attributeStrategy():this.structuralStrategy(this.currentLang,this.prefix||this.inlineRead),this.cdr.markForCheck(),this.initialized=!0}),!this.initialized){let r=this.resolveLoadingContent();r&&(this.loaderTplHandler=new gy(r,this.vcr),this.loaderTplHandler.attachView())}}ngOnChanges(t){this.strategy==="attribute"&&Object.keys(t).some(i=>!t[i].firstChange)&&this.attributeStrategy()}attributeStrategy(){this.detachLoader(),this.renderer.setProperty(this.host.nativeElement,"innerText",this.service.translate(this.key,this.params,this.currentLang))}structuralStrategy(t,r){this.memo.clear();let i=this.getTranslateFn(t,r);this.view?(this.view.context.$implicit=i,this.view.context.currentLang=this.currentLang):(this.detachLoader(),this.view=this.vcr.createEmbeddedView(this.tpl,{$implicit:i,currentLang:this.currentLang}))}getTranslateFn(t,r){return(i,o)=>{let s=r?`${r}.${i}`:i,a=o?`${s}${JSON.stringify(o)}`:s;return this.memo.has(a)||this.memo.set(a,this.service.translate(s,o,t)),this.memo.get(a)}}resolveLoadingContent(){return this.inlineTpl||this.providedLoadingTpl}ngOnDestroy(){this.memo.clear()}detachLoader(){this.loaderTplHandler?.detachView()}resolveScope(t,r){let i=this.scopeResolver.resolve({inline:this.inlineScope,provider:r});this.path=this.langResolver.resolveLangPath(t,i);let o=yy(r,i);return this.service._loadDependencies(this.path,o)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=He({type:n,selectors:[["","transloco",""]],inputs:{key:[0,"transloco","key"],params:[0,"translocoParams","params"],inlineScope:[0,"translocoScope","inlineScope"],inlineRead:[0,"translocoRead","inlineRead"],prefix:[0,"translocoPrefix","prefix"],inlineLang:[0,"translocoLang","inlineLang"],inlineTpl:[0,"translocoLoadingTpl","inlineTpl"]},standalone:!0,features:[dn]})}return n})(),ft=(()=>{class n{service;providerScope;providerLang;cdr;subscription=null;lastValue="";lastKey;path;langResolver=new Rh;scopeResolver;constructor(t,r,i,o){this.service=t,this.providerScope=r,this.providerLang=i,this.cdr=o,this.scopeResolver=new Ph(this.service)}transform(t,r,i){if(!t)return t;let o=r?`${t}${JSON.stringify(r)}`:t;if(o===this.lastKey)return this.lastValue;this.lastKey=o,this.subscription?.unsubscribe();let s=ex(this.service,this.providerLang||i);return this.subscription=this.service.langChanges$.pipe(et(a=>{let l=this.langResolver.resolve({inline:i,provider:this.providerLang,active:a});return Array.isArray(this.providerScope)?ji(this.providerScope.map(u=>this.resolveScope(l,u))):this.resolveScope(l,this.providerScope)}),tx(s)).subscribe(()=>this.updateValue(t,r)),this.lastValue}ngOnDestroy(){this.subscription?.unsubscribe(),this.subscription=null}updateValue(t,r){let i=this.langResolver.resolveLangBasedOnScope(this.path);this.lastValue=this.service.translate(t,r,i),this.cdr.markForCheck()}resolveScope(t,r){let i=this.scopeResolver.resolve({inline:void 0,provider:r});this.path=this.langResolver.resolveLangPath(t,i);let o=yy(r,i);return this.service._loadDependencies(this.path,o)}static \u0275fac=function(r){return new(r||n)(J(Wt,16),J(XS,24),J(JS,24),J(Pn,16))};static \u0275pipe=ld({name:"transloco",type:n,pure:!1,standalone:!0})}return n})();var ot=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=xn({type:n});static \u0275inj=Sn({})}return n})();function nx(n){let e=[Xj(jj),tU(Bj),nU($j),eU(Hj)];return n.config&&e.push(Zj(n.config)),n.loader&&e.push(Jj(n.loader)),e}function Zj(n){return yt([{provide:Ls,useValue:Lj(n)}])}function Jj(n){return yt([{provide:qS,useClass:n}])}function Xj(n){return yt([{provide:GS,useClass:n,deps:[Ls]}])}function eU(n){return yt([{provide:QS,useClass:n,deps:[Ls]}])}function tU(n){return yt([{provide:WS,useClass:n}])}function nU(n){return yt([{provide:KS,useClass:n}])}var FK=new G("TRANSLOCO_TEST_LANGS - Available testing languages"),LK=new G("TRANSLOCO_TEST_OPTIONS - Testing options");var rU=n=>({"bg-accent/30":n});function iU(n,e){if(n&1){let t=it();g(0,"button",9),le("click",function(){let i=oe(t).$implicit,o=ue();return se(o.changeLang(i))}),ne(1,"img",10),g(2,"span",11),C(3),y()()}if(n&2){let t=e.$implicit,r=ue();j("ngClass",bD(5,rU,t===r.activeLang))("title",r.getLanguageName(t)),v(),j("src",r.getFlagImage(t),Ir)("alt",t),v(2),$(r.getLanguageName(t))}}var Nh=class n{constructor(e){this.translocoService=e;this.activeLang=this.translocoService.getActiveLang(),this.checkScreenSize()}availableLangs=[];activeLang;showDropdown=!1;isMobile=!1;ngOnInit(){this.availableLangs=this.translocoService.getAvailableLangs()}getDropdownClasses(){let e="absolute top-full mt-2 bg-white/95 backdrop-blur-sm rounded-lg shadow-lg border border-accent/20 overflow-hidden z-50 transition-all duration-300",t=this.isMobile?"left-0 w-full":"right-0 md:w-auto",r=this.showDropdown?"opacity-100 visible":"opacity-0 invisible";return`${e} ${t} ${r}`}checkScreenSize(){this.isMobile=window.innerWidth<768}onResize(e){this.checkScreenSize(),this.isMobile&&this.showDropdown&&(this.showDropdown=!1)}getFlag(e){return{de:"\u{1F1E9}\u{1F1EA}",en:"\u{1F1FA}\u{1F1F8}",es:"\u{1F1EA}\u{1F1F8}"}[e]||"\u{1F310}"}getFlagImage(e){return{de:"/assets/images/banderas/flag-for-germany.svg",en:"/assets/images/banderas/flag-for-united-states.svg",es:"/assets/images/banderas/flag-for-spain.svg"}[e]||"/assets/flags/global.svg"}getLanguageName(e){return{de:"Deutsch",en:"English",es:"Espa\xF1ol"}[e]||e}toggleDropdown(){this.showDropdown=!this.showDropdown}changeLang(e){this.translocoService.setActiveLang(e),this.activeLang=e,this.showDropdown=!1}onDocumentClick(e){e.target.closest(".language-switcher")||(this.showDropdown=!1)}static \u0275fac=function(t){return new(t||n)(J(Wt))};static \u0275cmp=Ve({type:n,selectors:[["app-language-switcher"]],hostBindings:function(t,r){t&1&&le("resize",function(o){return r.onResize(o)},!1,xC)("click",function(o){return r.onDocumentClick(o)},!1,br)},standalone:!0,features:[je],decls:9,vars:8,consts:[[1,"language-switcher","relative"],["type","button",1,"flex","items-center","space-x-1","p-2","rounded-lg","hover:bg-accent/20","transition-colors",3,"click","title"],[1,"flex","items-center","space-x-2"],[1,"w-5","h-5","object-contain",3,"src","alt"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","transform","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[1,"absolute","top-full","mt-2","bg-white/95","backdrop-blur-sm","rounded-lg","shadow-lg","border","border-accent/20","overflow-hidden","z-50","transition-all","duration-300"],[1,"flex","flex-row","items-center"],["type","button","class","flex flex-col items-center px-3 py-2 hover:bg-accent/20 transition-colors",3,"ngClass","title","click",4,"ngFor","ngForOf"],["type","button",1,"flex","flex-col","items-center","px-3","py-2","hover:bg-accent/20","transition-colors",3,"click","ngClass","title"],[1,"w-5","h-5","object-contain","mb-1",3,"src","alt"],[1,"text-text","font-light","text-xs"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"button",1),le("click",function(){return r.toggleDropdown()}),g(2,"div",2),ne(3,"img",3),y(),yd(),g(4,"svg",4),ne(5,"path",5),y()(),_d(),g(6,"div",6)(7,"div",7),K(8,iU,4,7,"button",8),y()()()),t&2&&(v(),j("title",r.getLanguageName(r.activeLang)),v(2),j("src",r.getFlagImage(r.activeLang),Ir)("alt",r.activeLang),v(),Bt("rotate-180",r.showDropdown),v(2),Nd(r.getDropdownClasses()),v(2),j("ngForOf",r.availableLangs))},dependencies:[It,XD,qn],styles:[".language-switcher[_ngcontent-%COMP%]   .rotate-180[_ngcontent-%COMP%]{transform:rotate(180deg)}.language-switcher[_ngcontent-%COMP%]   .transition-all[_ngcontent-%COMP%]{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}.language-switcher[_ngcontent-%COMP%]   .invisible[_ngcontent-%COMP%]{visibility:hidden}.language-switcher[_ngcontent-%COMP%]   .visible[_ngcontent-%COMP%]{visibility:visible}.language-switcher[_ngcontent-%COMP%]   .opacity-0[_ngcontent-%COMP%]{opacity:0}.language-switcher[_ngcontent-%COMP%]   .opacity-100[_ngcontent-%COMP%]{opacity:1}.language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]   .md\\\\[_ngcontent-%COMP%]:flex-row{flex-direction:row;flex-wrap:nowrap}.language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]   .md\\\\[_ngcontent-%COMP%]:flex-row button{flex:1;min-width:80px}.language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]   .md\\\\[_ngcontent-%COMP%]:flex-row button   .md\\\\[_ngcontent-%COMP%]:flex-col{display:flex;flex-direction:column;align-items:center;justify-content:center}@media (max-width: 768px){.language-switcher.mobile-language-switcher[_ngcontent-%COMP%]{width:100%}.language-switcher.mobile-language-switcher[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:1px solid rgba(156,163,175,.3)}.language-switcher.mobile-language-switcher[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]   .flex.items-center[_ngcontent-%COMP%]{flex-grow:1}.language-switcher.mobile-language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]{position:fixed!important;bottom:0;left:0;right:0;margin:0!important;border-radius:12px 12px 0 0;border:1px solid rgba(156,163,175,.3);border-bottom:none;transform:translateY(100%);transition:transform .3s ease,opacity .3s ease;width:100%!important;max-width:100%!important}.language-switcher.mobile-language-switcher[_ngcontent-%COMP%]   .absolute.visible[_ngcontent-%COMP%]{transform:translateY(0)}.language-switcher.mobile-language-switcher[_ngcontent-%COMP%]   .absolute.invisible[_ngcontent-%COMP%]{transform:translateY(100%)}.language-switcher.mobile-language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]   .flex-col[_ngcontent-%COMP%]{padding:8px}.language-switcher.mobile-language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]   .flex-col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 16px;margin:2px 0;border-radius:8px;justify-content:flex-start}.language-switcher.mobile-language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]   .flex-col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .flex.items-center[_ngcontent-%COMP%]{justify-content:flex-start}.language-switcher.mobile-language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]   .flex-col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .flex.items-center[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:12px}}@media (min-width: 769px){.language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]{min-width:max-content}.language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]   .md\\\\[_ngcontent-%COMP%]:flex-row{display:flex;flex-direction:row}.language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]   .md\\\\[_ngcontent-%COMP%]:flex-row button{display:flex;align-items:center;justify-content:center;border-right:1px solid rgba(156,163,175,.2)}.language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]   .md\\\\[_ngcontent-%COMP%]:flex-row button:last-child{border-right:none}.language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]   .md\\\\[_ngcontent-%COMP%]:flex-row button   .md\\\\[_ngcontent-%COMP%]:flex-col{display:flex;flex-direction:column;align-items:center;gap:4px}.language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]   .md\\\\[_ngcontent-%COMP%]:flex-row button   .md\\\\[_ngcontent-%COMP%]:flex-col   span[_ngcontent-%COMP%]{white-space:nowrap}}.language-switcher[_ngcontent-%COMP%]   .flag-emoji[_ngcontent-%COMP%]{font-size:1.5rem;line-height:1;filter:drop-shadow(0 1px 2px rgba(0,0,0,.1))}"]})};var Zn=class n{constructor(e){this.router=e;this.isAuthenticated=!!localStorage.getItem(this.authTokenKey),this.authStatusSubject.next(this.isAuthenticated)}isAuthenticated=!1;authTokenKey="authToken";username="admin";password="terciopelo123";authStatusSubject=new qe(this.isAuthenticated);authStatus$=this.authStatusSubject.asObservable();login(e,t){if(e===this.username&&t===this.password){let r=btoa(`${e}:${t}`);return localStorage.setItem(this.authTokenKey,r),this.isAuthenticated=!0,this.authStatusSubject.next(!0),!0}return!1}logout(){localStorage.removeItem(this.authTokenKey),this.isAuthenticated=!1,this.authStatusSubject.next(!1),this.router.navigate(["/admin/login"])}isLoggedIn(){return this.isAuthenticated}getAuthToken(){return localStorage.getItem(this.authTokenKey)}static \u0275fac=function(t){return new(t||n)(Z($t))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var Vs=class n{isModalOpenSubject=new qe(!1);isModalOpen$=this.isModalOpenSubject.asObservable();openModal(){this.isModalOpenSubject.next(!0)}closeModal(){this.isModalOpenSubject.next(!1)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function oU(n,e){if(n&1){let t=it();g(0,"li")(1,"a",29),le("click",function(){oe(t);let i=ue();return se(i.isMenuOpen=!1)}),C(2),R(3,"transloco"),y()()}n&2&&(v(2),B(" ",P(3,1,"header.agregar")," "))}function sU(n,e){n&1&&(ms(0),g(1,"a",30)(2,"span",31),C(3,"\u{1F510}"),y(),C(4),R(5,"transloco"),y(),gs()),n&2&&(v(4),B(" ",P(5,1,"header.login")," "))}function aU(n,e){if(n&1){let t=it();g(0,"a",32),le("click",function(){oe(t);let i=ue();return se(i.logout())}),g(1,"span",31),C(2,"\u{1F6AA}"),y(),C(3),R(4,"transloco"),y()}n&2&&(v(3),B(" ",P(4,1,"header.logout")," "))}function cU(n,e){if(n&1){let t=it();g(0,"li")(1,"a",29),le("click",function(){oe(t);let i=ue();return se(i.isMenuOpen=!1)}),C(2),R(3,"transloco"),y()()}n&2&&(v(2),B(" ",P(3,1,"header.agregar")," "))}function lU(n,e){if(n&1){let t=it();ms(0),g(1,"a",33),le("click",function(){oe(t);let i=ue();return se(i.isMenuOpen=!1)}),g(2,"span",31),C(3,"\u{1F510}"),y(),C(4),R(5,"transloco"),y(),gs()}n&2&&(v(4),B(" ",P(5,1,"header.login")," "))}function uU(n,e){if(n&1){let t=it();g(0,"a",34),le("click",function(){oe(t);let i=ue();return i.logout(),se(i.isMenuOpen=!1)}),g(1,"span",31),C(2,"\u{1F6AA}"),y(),C(3),R(4,"transloco"),y()}n&2&&(v(3),B(" ",P(4,1,"header.logout")," "))}var Jn=class n{constructor(e,t){this.authService=e;this.modalStateService=t}isMenuOpen=!1;isAuthenticated=!1;isHeaderVisible=!0;authSubscription;modalStateSubscription;ngOnInit(){this.authSubscription=this.authService.authStatus$.subscribe(e=>this.isAuthenticated=e),this.modalStateSubscription=this.modalStateService.isModalOpen$.subscribe(e=>{this.isHeaderVisible=!e,e&&this.isMenuOpen&&(this.isMenuOpen=!1)})}ngOnDestroy(){this.authSubscription&&this.authSubscription.unsubscribe(),this.modalStateSubscription&&this.modalStateSubscription.unsubscribe()}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}logout(){this.authService.logout()}handleEscapeKey(e){this.isMenuOpen&&(this.isMenuOpen=!1)}static \u0275fac=function(t){return new(t||n)(J(Zn),J(Vs))};static \u0275cmp=Ve({type:n,selectors:[["app-header"]],hostBindings:function(t,r){t&1&&le("keydown.escape",function(o){return r.handleEscapeKey(o)},!1,br)},standalone:!0,features:[je],decls:63,vars:42,consts:[["logoutTemplate",""],["logoutMobileTemplate",""],[1,"bg-transparent","sm:bg-white/80","backdrop-blur-sm","sticky","top-0","z-40","border-b","border-accent/30","shadow-sm","transition-all","duration-300"],[1,"container","mx-auto","px-4"],[1,"flex","justify-between","items-center","py-4"],["href","#inicio",1,"text-3xl","font-light","text-primary-dark"],[1,"font-serif","italic"],[1,"hidden","md:flex","space-x-8","items-center"],[4,"ngIf"],["href","#galeria",1,"text-text","hover:text-primary-dark","transition-colors","duration-300","font-light","relative","group"],[1,"absolute","bottom-0","left-0","w-0","h-0.5","bg-accent","group-hover:w-full","transition-all","duration-300"],["href","#inicio",1,"text-text","hover:text-primary-dark","transition-colors","duration-300","font-light","relative","group"],["href","#tecnica",1,"text-text","hover:text-primary-dark","transition-colors","duration-300","font-light","relative","group"],["href","#contacto",1,"text-text","hover:text-primary-dark","transition-colors","duration-300","font-light","relative","group"],[1,"ml-4"],[4,"ngIf","ngIfElse"],[1,"md:hidden","p-2","rounded-lg","bg-accent/50","hover:bg-accent/30","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-primary-dark"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16m-7 6h7"],[1,"md:hidden","transition-all","duration-300","overflow-hidden"],[1,"space-y-2","pt-2"],["href","#inicio",1,"block","px-4","py-3","text-text","hover:bg-accent/20","rounded-lg","transition-colors","font-light",3,"click"],["href","#tecnica",1,"block","px-4","py-3","text-text","hover:bg-accent/20","rounded-lg","transition-colors","font-light",3,"click"],["href","#galeria",1,"block","px-4","py-3","text-text","hover:bg-accent/20","rounded-lg","transition-colors","font-light",3,"click"],["href","#contacto",1,"block","px-4","py-3","text-text","hover:bg-accent/20","rounded-lg","transition-colors","font-light",3,"click"],[1,"px-4","pt-3","border-t","border-accent/20","mt-2"],[1,"flex","flex-col","space-y-3"],[1,"mobile-language-switcher"],[1,"pt-3"],["routerLink","/admin/dashboard",1,"block","px-4","py-3","text-text","hover:bg-accent/20","rounded-lg","transition-colors","font-light",3,"click"],["routerLink","/admin/login",1,"btn","px-4","py-2","text-sm","font-light"],[1,"mr-2"],[1,"btn","btn-outline","px-4","py-2","text-sm","font-light","cursor-pointer",2,"background-color","#FECACA","border-color","#FCA5A5","color","#DC2626",3,"click"],["routerLink","/admin/login",1,"block","btn","text-center","px-4","py-3","rounded-lg",3,"click"],[1,"block","btn","btn-outline","text-center","px-4","py-3","rounded-lg","cursor-pointer",2,"background-color","#FECACA","border-color","#FCA5A5","color","#DC2626",3,"click"]],template:function(t,r){if(t&1){let i=it();g(0,"header",2)(1,"div",3)(2,"nav",4)(3,"a",5)(4,"span",6),C(5,"Malaver"),y()(),g(6,"ul",7),K(7,oU,4,3,"li",8),g(8,"li")(9,"a",9),C(10),R(11,"transloco"),ne(12,"span",10),y()(),g(13,"li")(14,"a",11),C(15),R(16,"transloco"),ne(17,"span",10),y()(),g(18,"li")(19,"a",12),C(20),R(21,"transloco"),ne(22,"span",10),y()(),g(23,"li")(24,"a",13),C(25),R(26,"transloco"),ne(27,"span",10),y()(),g(28,"li",14),ne(29,"app-language-switcher"),y(),g(30,"li",14),K(31,sU,6,3,"ng-container",15)(32,aU,5,3,"ng-template",null,0,ro),y()(),g(34,"button",16),le("click",function(){return oe(i),se(r.toggleMenu())}),yd(),g(35,"svg",17),ne(36,"path",18),y()()(),_d(),g(37,"div",19)(38,"ul",20),K(39,cU,4,3,"li",8),g(40,"li")(41,"a",21),le("click",function(){return oe(i),se(r.isMenuOpen=!1)}),C(42),R(43,"transloco"),y()(),g(44,"li")(45,"a",22),le("click",function(){return oe(i),se(r.isMenuOpen=!1)}),C(46),R(47,"transloco"),y()(),g(48,"li")(49,"a",23),le("click",function(){return oe(i),se(r.isMenuOpen=!1)}),C(50),R(51,"transloco"),y()(),g(52,"li")(53,"a",24),le("click",function(){return oe(i),se(r.isMenuOpen=!1)}),C(54),R(55,"transloco"),y()(),g(56,"li",25)(57,"div",26),ne(58,"app-language-switcher",27),y()(),g(59,"li",28),K(60,lU,6,3,"ng-container",15)(61,uU,5,3,"ng-template",null,1,ro),y()()()()()}if(t&2){let i=Er(33),o=Er(62);Bt("hidden",!r.isHeaderVisible)("-translate-y-full",!r.isHeaderVisible)("opacity-0",!r.isHeaderVisible),v(7),j("ngIf",r.isAuthenticated),v(3),B(" ",P(11,26,"header.gallery")," "),v(5),B(" ",P(16,28,"header.artist")," "),v(5),B(" ",P(21,30,"header.technique")," "),v(5),B(" ",P(26,32,"header.contact")," "),v(6),j("ngIf",!r.isAuthenticated)("ngIfElse",i),v(6),Bt("max-h-0",!r.isMenuOpen)("max-h-[500px]",r.isMenuOpen)("pb-4",r.isMenuOpen),v(2),j("ngIf",r.isAuthenticated),v(3),B(" ",P(43,34,"header.artist")," "),v(4),B(" ",P(47,36,"header.technique")," "),v(4),B(" ",P(51,38,"header.gallery")," "),v(4),B(" ",P(55,40,"header.contact")," "),v(6),j("ngIf",!r.isAuthenticated)("ngIfElse",o)}},dependencies:[It,Gn,ph,fh,Nh,ot,ft],styles:["@media (max-width: 768px){header[_ngcontent-%COMP%]{z-index:50!important;background-color:#fff!important}header[_ngcontent-%COMP%]   .mobile-language-switcher[_ngcontent-%COMP%]   .language-switcher[_ngcontent-%COMP%]{width:100%}header[_ngcontent-%COMP%]   .mobile-language-switcher[_ngcontent-%COMP%]   .language-switcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;justify-content:space-between}header[_ngcontent-%COMP%]   .mobile-language-switcher[_ngcontent-%COMP%]   .language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;margin:0;border-radius:12px 12px 0 0;transform:translateY(0);width:100%!important;max-width:100%!important;transition:transform .3s ease,opacity .3s ease}header[_ngcontent-%COMP%]   .mobile-language-switcher[_ngcontent-%COMP%]   .language-switcher[_ngcontent-%COMP%]   .absolute[class*=invisible][_ngcontent-%COMP%]{transform:translateY(100%)}header[_ngcontent-%COMP%]   .mobile-language-switcher[_ngcontent-%COMP%]   .language-switcher[_ngcontent-%COMP%]   .absolute[class*=visible][_ngcontent-%COMP%]{transform:translateY(0)}}"]})};function dU(n,e){n&1&&ne(0,"h2",9)}function hU(n,e){n&1&&ne(0,"label",10)}function fU(n,e){n&1&&ne(0,"label",10)}function pU(n,e){n&1&&(g(0,"button",11),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"adminLogin.login"),""))}function mU(n,e){if(n&1&&(g(0,"p",12),C(1),y()),n&2){let t=ue();v(),$(t.errorMessage)}}var kh=class n{constructor(e,t,r){this.authService=e;this.router=t;this.translocoService=r}username="";password="";errorMessage="";onSubmit(){this.authService.login(this.username,this.password)?this.router.navigate(["/admin/dashboard"]):this.errorMessage=this.translocoService.translate("adminLogin.error")}static \u0275fac=function(t){return new(t||n)(J(Zn),J($t),J(Wt))};static \u0275cmp=Ve({type:n,selectors:[["app-admin-login"]],standalone:!0,features:[je],decls:13,vars:7,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gray-100"],[1,"bg-white","p-8","rounded-lg","shadow-md","w-full","max-w-md"],["class","text-2xl font-bold mb-6 text-center",4,"transloco"],[1,"space-y-4",3,"ngSubmit"],["class","block text-sm font-medium mb-1",4,"transloco"],["type","text","name","username","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","password","name","password","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","submit","class","w-full btn bg-blue-600 hover:bg-blue-700",4,"transloco"],["class","text-red-500 text-center",4,"ngIf"],[1,"text-2xl","font-bold","mb-6","text-center"],[1,"block","text-sm","font-medium","mb-1"],["type","submit",1,"w-full","btn","bg-blue-600","hover:bg-blue-700"],[1,"text-red-500","text-center"]],template:function(t,r){t&1&&(ne(0,"app-header"),g(1,"div",0)(2,"div",1),K(3,dU,1,0,"h2",2),g(4,"form",3),le("ngSubmit",function(){return r.onSubmit()}),g(5,"div"),K(6,hU,1,0,"label",4),g(7,"input",5),dt("ngModelChange",function(o){return wt(r.username,o)||(r.username=o),o}),y()(),g(8,"div"),K(9,fU,1,0,"label",4),g(10,"input",6),dt("ngModelChange",function(o){return wt(r.password,o)||(r.password=o),o}),y()(),K(11,pU,3,3,"button",7)(12,mU,2,1,"p",8),y()()()),t&2&&(v(3),j("transloco","adminLogin.title"),v(3),j("transloco","adminLogin.username"),v(),ut("ngModel",r.username),v(2),j("transloco","adminLogin.password"),v(),ut("ngModel",r.password),v(),j("transloco","adminLogin.login"),v(),j("ngIf",r.errorMessage))},dependencies:[ks,Sh,Os,Ch,Dh,Uc,jc,Vc,It,Gn,ot,Qn,ft,Jn]})};var Fh=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.isLoggedIn()?!0:(this.router.navigate(["/admin/login"]),!1)}static \u0275fac=function(t){return new(t||n)(Z(Zn),Z($t))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function gU(n,e){n&1&&(g(0,"span",32),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"hero.title")," "))}function vU(n,e){n&1&&(g(0,"div",33),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"hero.experience")," "))}function yU(n,e){n&1&&(g(0,"div",33),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"hero.worksCreated")," "))}function _U(n,e){n&1&&(g(0,"div",33),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"hero.exhibitions")," "))}var Lh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ve({type:n,selectors:[["app-hero"]],standalone:!0,features:[je],decls:55,vars:22,consts:[["id","inicio",1,"min-h-screen","flex","items-center","justify-center","relative","overflow-hidden","bg-artistic-pattern"],[1,"absolute","inset-0","bg-gradient-to-br","from-background","via-white","to-accent/20"],[1,"absolute","top-10","left-10","w-72","h-72","bg-primary/5","rounded-full","blur-3xl","animate-float"],[1,"absolute","bottom-10","right-10","w-96","h-96","bg-accent/10","rounded-full","blur-3xl","animate-float",2,"animation-delay","2s"],[1,"container","relative","z-10"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-12","items-center"],[1,"text-center","lg:text-left","animate-fade-in-up"],[1,"mb-6"],["class","inline-block px-4 py-2 bg-accent/30 text-primary-dark rounded-full text-sm font-medium mb-4",4,"transloco"],[1,"text-5xl","md:text-6xl","lg:text-7xl","font-light","text-primary-dark","mb-6","leading-tight"],[1,"font-serif","italic"],[1,"space-y-4","mb-8"],[1,"text-xl","md:text-2xl","text-text","leading-relaxed",3,"innerHTML"],[1,"text-lg","text-text-light","leading-relaxed",3,"innerHTML"],[1,"flex","flex-col","sm:flex-row","gap-4","justify-center","lg:justify-start"],["href","#galeria",1,"btn","px-8","py-3","text-lg","font-light"],[1,"mr-2"],["routerLink","bio",1,"btn","btn-outline","px-8","py-3","text-lg","font-light"],[1,"mt-12","grid","grid-cols-2","md:grid-cols-3","gap-6","text-center","lg:text-left"],[1,"space-y-2"],[1,"text-2xl","font-light","text-primary-dark"],["class","text-sm text-text-light",4,"transloco"],[1,"relative","animate-fade-in-up",2,"animation-delay","0.3s"],[1,"relative","group"],[1,"relative","bg-white/80","backdrop-blur-sm","rounded-2xl","p-4","shadow-2xl","border","border-accent/50"],[1,"aspect-square","bg-gradient-to-br","from-primary/5","to-accent/10","rounded-lg","overflow-hidden"],[1,"w-full","h-full","flex","items-center","justify-center","p-2"],[1,"relative","w-full","h-full","rounded-lg","overflow-hidden"],["src","https://res.cloudinary.com/dvdscvipo/image/upload/v1758581745/Scannen0002_fa4n0x.jpg","alt","Mar\xEDa Malaver - Artista pict\xF3rica",1,"w-full","h-full","object-cover","rounded-lg","transition-transform","duration-500","group-hover:scale-105"],[1,"absolute","inset-0","bg-black/0","transition-all","duration-300","group-hover:bg-black/5"],[1,"absolute","-top-3","-right-3","w-20","h-20","bg-primary/10","rounded-full","blur-xl"],[1,"absolute","-bottom-3","-left-3","w-24","h-24","bg-accent/15","rounded-full","blur-xl"],[1,"inline-block","px-4","py-2","bg-accent/30","text-primary-dark","rounded-full","text-sm","font-medium","mb-4"],[1,"text-sm","text-text-light"]],template:function(t,r){t&1&&(g(0,"section",0),ne(1,"div",1)(2,"div",2)(3,"div",3),g(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),K(8,gU,3,3,"span",8),y(),g(9,"h1",9)(10,"span",10),C(11,"Malaver"),y()(),g(12,"div",11)(13,"p",12),R(14,"transloco"),C(15),R(16,"transloco"),y(),g(17,"p",13),R(18,"transloco"),C(19),R(20,"transloco"),y()(),g(21,"div",14)(22,"a",15)(23,"span",16),C(24,"\u{1F3A8}"),y(),C(25),R(26,"transloco"),y(),g(27,"a",17)(28,"span",16),C(29,"\u{1F469}\u200D\u{1F3A8}"),y(),C(30),R(31,"transloco"),y()(),g(32,"div",18)(33,"div",19)(34,"div",20),C(35,"15+"),y(),K(36,vU,3,3,"div",21),y(),g(37,"div",19)(38,"div",20),C(39,"200+"),y(),K(40,yU,3,3,"div",21),y(),g(41,"div",19)(42,"div",20),C(43,"10+"),y(),K(44,_U,3,3,"div",21),y()()(),g(45,"div",22)(46,"div",23)(47,"div",24)(48,"div",25)(49,"div",26)(50,"div",27),ne(51,"img",28)(52,"div",29),y()()()(),ne(53,"div",30)(54,"div",31),y()()()()()),t&2&&(v(8),j("transloco","hero.title"),v(5),j("innerHTML",P(14,10,"hero.specialty"),Xi),v(2),B(" ",P(16,12,"hero.specialty")," "),v(2),j("innerHTML",P(18,14,"hero.workDescription"),Xi),v(2),B(" ",P(20,16,"hero.workDescription")," "),v(6),B(" ",P(26,18,"hero.exploreGallery")," "),v(5),B(" ",P(31,20,"hero.knowTheArtist")," "),v(6),j("transloco","hero.experience"),v(4),j("transloco","hero.worksCreated"),v(4),j("transloco","hero.exhibitions"))},dependencies:[ot,Qn,ft,It,ph,fh]})};function wU(n,e){n&1&&(g(0,"span",26),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"techniques.title")," "))}function IU(n,e){n&1&&(g(0,"h2",27),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"techniques.subtitle"),""))}function bU(n,e){n&1&&(g(0,"p",28),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"techniques.description"),""))}function EU(n,e){n&1&&(g(0,"h3",29),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"techniques.card1.title"),""))}function CU(n,e){n&1&&(g(0,"p",30),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"techniques.card1.description"),""))}function DU(n,e){n&1&&(g(0,"h3",29),C(1),R(2,"transloco"),y()),n&2&&(v(),$(P(2,1,"techniques.card2.title")))}function TU(n,e){n&1&&(g(0,"p",30),C(1),R(2,"transloco"),y()),n&2&&(v(),$(P(2,1,"techniques.card2.description")))}function SU(n,e){n&1&&(g(0,"h3",29),C(1),R(2,"transloco"),y()),n&2&&(v(),$(P(2,1,"techniques.card3.title")))}function xU(n,e){n&1&&(g(0,"p",30),C(1),R(2,"transloco"),y()),n&2&&(v(),$(P(2,1,"techniques.card3.description")))}function AU(n,e){n&1&&(g(0,"h3",31),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"techniques.quality.title")," "))}function MU(n,e){n&1&&(g(0,"p",32),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"techniques.quality.description")," "))}function RU(n,e){n&1&&(g(0,"span"),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"techniques.quality.item1")," "))}function PU(n,e){n&1&&(g(0,"span"),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"techniques.quality.item2")," "))}function NU(n,e){n&1&&(g(0,"span"),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"techniques.quality.item3")," "))}function OU(n,e){n&1&&(g(0,"div",33),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"techniques.quality.experience.title")," "))}function kU(n,e){n&1&&(g(0,"div",34),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"techniques.quality.experience.description")," "))}var Vh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ve({type:n,selectors:[["app-techniques"]],standalone:!0,features:[je],decls:45,vars:16,consts:[["id","tecnica",1,"py-20","bg-background"],[1,"container"],[1,"text-center","mb-16","animate-fade-in-up"],["class","inline-block px-4 py-2 bg-accent/30 text-primary-dark rounded-full text-sm font-medium mb-4",4,"transloco"],["class","text-4xl md:text-5xl font-light text-primary-dark mb-4",4,"transloco"],["class","text-lg text-text-light max-w-2xl mx-auto",4,"transloco"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8"],[1,"card","p-8","text-center","group","hover:transform","hover:scale-105","transition-all","duration-300","animate-fade-in-up"],[1,"w-16","h-16","bg-primary/10","rounded-full","flex","items-center","justify-center","mx-auto","mb-6","group-hover:bg-primary/20","transition-colors","duration-300"],[1,"text-2xl","text-primary-dark"],["class","text-xl font-semibold text-primary-dark mb-4",4,"transloco"],["class","text-text-light leading-relaxed",4,"transloco"],[1,"card","p-8","text-center","group","hover:transform","hover:scale-105","transition-all","duration-300","animate-fade-in-up",2,"animation-delay","0.1s"],[1,"card","p-8","text-center","group","hover:transform","hover:scale-105","transition-all","duration-300","animate-fade-in-up",2,"animation-delay","0.2s"],[1,"mt-16","bg-white/50","backdrop-blur-sm","rounded-2xl","p-8","border","border-accent/30","animate-fade-in-up"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8","items-center"],["class","text-2xl font-light text-primary-dark mb-4",4,"transloco"],["class","text-text-light mb-4",4,"transloco"],[1,"space-y-2","text-text-light"],[1,"flex","items-center"],[1,"w-2","h-2","bg-primary","rounded-full","mr-3"],[4,"transloco"],[1,"bg-gradient-to-br","from-primary/5","to-accent/10","rounded-lg","p-6","text-center"],[1,"text-3xl","text-primary-dark","mb-2"],["class","text-text-light font-medium",4,"transloco"],["class","text-sm text-text-light mt-2",4,"transloco"],[1,"inline-block","px-4","py-2","bg-accent/30","text-primary-dark","rounded-full","text-sm","font-medium","mb-4"],[1,"text-4xl","md:text-5xl","font-light","text-primary-dark","mb-4"],[1,"text-lg","text-text-light","max-w-2xl","mx-auto"],[1,"text-xl","font-semibold","text-primary-dark","mb-4"],[1,"text-text-light","leading-relaxed"],[1,"text-2xl","font-light","text-primary-dark","mb-4"],[1,"text-text-light","mb-4"],[1,"text-text-light","font-medium"],[1,"text-sm","text-text-light","mt-2"]],template:function(t,r){t&1&&(g(0,"section",0)(1,"div",1)(2,"div",2),K(3,wU,3,3,"span",3)(4,IU,3,3,"h2",4)(5,bU,3,3,"p",5),y(),g(6,"div",6)(7,"div",7)(8,"div",8)(9,"span",9),C(10,"\u{1F3A8}"),y()(),K(11,EU,3,3,"h3",10)(12,CU,3,3,"p",11),y(),g(13,"div",12)(14,"div",8)(15,"span",9),C(16,"\u{1F58C}\uFE0F"),y()(),K(17,DU,3,3,"h3",10)(18,TU,3,3,"p",11),y(),g(19,"div",13)(20,"div",8)(21,"span",9),C(22,"\u2728"),y()(),K(23,SU,3,3,"h3",10)(24,xU,3,3,"p",11),y()(),g(25,"div",14)(26,"div",15)(27,"div"),K(28,AU,3,3,"h3",16)(29,MU,3,3,"p",17),g(30,"ul",18)(31,"li",19),ne(32,"span",20),K(33,RU,3,3,"span",21),y(),g(34,"li",19),ne(35,"span",20),K(36,PU,3,3,"span",21),y(),g(37,"li",19),ne(38,"span",20),K(39,NU,3,3,"span",21),y()()(),g(40,"div",22)(41,"div",23),C(42,"15+"),y(),K(43,OU,3,3,"div",24)(44,kU,3,3,"div",25),y()()()()()),t&2&&(v(3),j("transloco","techniques.title"),v(),j("transloco","techniques.subtitle"),v(),j("transloco","techniques.description"),v(6),j("transloco","techniques.card1.title"),v(),j("transloco","techniques.card1.description"),v(5),j("transloco","techniques.card2.title"),v(),j("transloco","techniques.card2.description"),v(5),j("transloco","techniques.card3.title"),v(),j("transloco","techniques.card3.description"),v(4),j("transloco","techniques.quality.title"),v(),j("transloco","techniques.quality.description"),v(4),j("transloco","techniques.quality.item1"),v(3),j("transloco","techniques.quality.item2"),v(3),j("transloco","techniques.quality.item3"),v(4),j("transloco","techniques.quality.experience.title"),v(),j("transloco","techniques.quality.experience.description"))},dependencies:[ot,Qn,ft]})};function FU(n,e){if(n&1){let t=it();g(0,"div",13),le("click",function(){let i=oe(t).index,o=ue();return se(o.goToSlide(i))}),g(1,"img",14),le("click",function(i){oe(t);let o=ue();return i.stopPropagation(),se(o.openModal())}),y()()}if(n&2){let t=e.$implicit,r=e.index,i=ue();Bt("center",r===i.currentIndex)("left-1",r===i.left1Index)("left-2",r===i.left2Index)("right-1",r===i.right1Index)("right-2",r===i.right2Index)("hidden",i.isHidden(r)),v(),j("src",t.imagen,Ir)("alt",t.titulo)}}function LU(n,e){if(n&1&&(g(0,"p",15),C(1),y()),n&2){let t=ue();v(),$(t.currentArtwork==null?null:t.currentArtwork.descripcion)}}function VU(n,e){if(n&1){let t=it();g(0,"div",16),le("click",function(){let i=oe(t).index,o=ue();return se(o.goToSlide(i))}),y()}if(n&2){let t=e.index,r=ue();Bt("active",t===r.currentIndex)}}function jU(n,e){n&1&&(g(0,"div",34)(1,"div",35)(2,"span",36),C(3),R(4,"transloco"),y()()()),n&2&&(v(3),$(P(4,1,"artworkCarousel.sold")))}function UU(n,e){n&1&&(g(0,"span",39),C(1),R(2,"transloco"),y()),n&2&&(v(),$(P(2,1,"artworkCarousel.panHint")))}function BU(n,e){if(n&1&&(g(0,"div",37),C(1),R(2,"transloco"),K(3,UU,3,3,"span",38),y()),n&2){let t=ue(2);Bt("mobile",t.isMobile),v(),B(" ",P(2,4,t.isZoomed?"artworkCarousel.zoomOut":"artworkCarousel.zoomIn")," "),v(2),j("ngIf",t.isMobile)}}function $U(n,e){if(n&1&&(g(0,"p",40),C(1),y()),n&2){let t=ue(2);v(),$(t.currentArtwork==null?null:t.currentArtwork.descripcion)}}function HU(n,e){if(n&1&&(g(0,"div",42)(1,"span",43),C(2),R(3,"transloco"),y(),g(4,"span",46),C(5),R(6,"currency"),y()()),n&2){let t=ue(3);v(2),$(P(3,2,"artworkCarousel.price")),v(3),$(DD(6,4,t.currentArtwork.precio,t.currentArtwork.moneda,"symbol","1.0-0"))}}function zU(n,e){if(n&1&&(g(0,"div",41)(1,"div",42)(2,"span",43),C(3),R(4,"transloco"),y(),g(5,"span",44),C(6),y()(),g(7,"div",42)(8,"span",43),C(9),R(10,"transloco"),y(),g(11,"span",44),C(12),y()(),g(13,"div",42)(14,"span",43),C(15),R(16,"transloco"),y(),g(17,"span",44),C(18),y()(),g(19,"div",42)(20,"span",43),C(21),R(22,"transloco"),y(),g(23,"span",44),C(24),R(25,"transloco"),y()(),K(26,HU,7,9,"div",45),y()),n&2){let t=ue(2);v(3),$(P(4,11,"artworkCarousel.dimensions")),v(3),$(t.currentArtwork.medidas),v(3),$(P(10,13,"artworkCarousel.materials")),v(3),$(t.currentArtwork.tecnica),v(3),$(P(16,15,"artworkCarousel.year")),v(3),$(t.currentArtwork.anio),v(3),$(P(22,17,"artworkCarousel.status")),v(2),Bt("sold-status",t.currentArtwork.vendido),v(),B(" ",P(25,19,t.currentArtwork.vendido?"artworkCarousel.statusSold":"artworkCarousel.statusAvailable")," "),v(2),j("ngIf",!t.currentArtwork.vendido)}}function qU(n,e){n&1&&(ms(0),g(1,"div",47)(2,"div",48)(3,"div",49),C(4,"\u{1F3A8}"),y(),g(5,"h3",50),C(6),R(7,"transloco"),y(),g(8,"p",51),C(9),R(10,"transloco"),y()()(),gs()),n&2&&(v(6),$(P(7,2,"artworkCarousel.artworkSold")),v(3),$(P(10,4,"artworkCarousel.artworkSoldDescription")))}function GU(n,e){n&1&&(g(0,"button",52)(1,"span",53),C(2,"\u{1F6D2}"),y(),g(3,"span",54),C(4),R(5,"transloco"),y()()),n&2&&(v(4),$(P(5,1,"artworkCarousel.buyArtwork")))}function WU(n,e){if(n&1){let t=it();g(0,"div",17),le("click",function(){oe(t);let i=ue();return se(i.closeModal())}),g(1,"div",18),le("click",function(i){return oe(t),se(i.stopPropagation())}),g(2,"button",19),le("click",function(){oe(t);let i=ue();return se(i.closeModal())}),C(3,"\xD7"),y(),g(4,"div",20)(5,"div",21),K(6,jU,5,3,"div",22),g(7,"img",23),le("click",function(i){oe(t);let o=ue();return se(o.toggleZoom(i))})("mousedown",function(i){oe(t);let o=ue();return se(o.onPanStart(i))})("mousemove",function(i){oe(t);let o=ue();return se(o.onPanMove(i))})("mouseup",function(i){oe(t);let o=ue();return se(o.onPanEnd(i))})("mouseleave",function(i){oe(t);let o=ue();return se(o.onPanEnd(i))})("touchstart",function(i){oe(t);let o=ue();return se(o.onPanStart(i))})("touchmove",function(i){oe(t);let o=ue();return se(o.onPanMove(i))})("touchend",function(i){oe(t);let o=ue();return se(o.onPanEnd(i))}),y(),K(8,BU,4,6,"div",24),g(9,"button",25),le("click",function(){oe(t);let i=ue();return se(i.prevInModal())}),C(10,"\u2039"),y(),g(11,"button",26),le("click",function(){oe(t);let i=ue();return se(i.nextInModal())}),C(12,"\u203A"),y()(),g(13,"div",27)(14,"h2",28),C(15),y(),g(16,"p",29),C(17),y(),K(18,$U,2,1,"p",30)(19,zU,27,21,"div",31),g(20,"div",32),K(21,qU,11,6,"ng-container",33)(22,GU,6,3,"ng-template",null,0,ro),y()()()()()}if(n&2){let t=Er(23),r=ue();v(6),j("ngIf",r.currentArtwork==null?null:r.currentArtwork.vendido),v(),Pd("transform",r.getImageTransform())("transition",r.isPanning?"none":"all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)"),Bt("zoomed",r.isZoomed)("panning",r.isPanning)("sold-image",r.currentArtwork==null?null:r.currentArtwork.vendido),j("src",r.currentArtwork==null?null:r.currentArtwork.imagen,Ir)("alt",r.currentArtwork==null?null:r.currentArtwork.titulo),v(),j("ngIf",r.showZoomIndicator),v(7),$(r.currentArtwork==null?null:r.currentArtwork.titulo),v(2),$(r.currentArtwork==null?null:r.currentArtwork.tecnica),v(),j("ngIf",r.currentArtwork==null?null:r.currentArtwork.descripcion),v(),j("ngIf",r.currentArtwork),v(2),j("ngIf",r.currentArtwork==null?null:r.currentArtwork.vendido)("ngIfElse",t)}}var jh=class n{constructor(e,t){this.modalStateService=e;this.translocoService=t;this.modalStateSubscription=this.modalStateService.isModalOpen$.subscribe(r=>{r!==this.isModalOpen&&(this.isModalOpen=r)})}artworks=[];currentIndex=0;currentArtwork=null;isModalOpen=!1;isZoomed=!1;showZoomIndicator=!1;left2Index=0;left1Index=0;right1Index=0;right2Index=0;isMobile=!1;isPanning=!1;wasPanning=!1;startX=0;startY=0;translateX=0;translateY=0;modalStateSubscription;ngOnInit(){this.updateCarousel(0),this.checkIfMobile(),window.addEventListener("resize",()=>this.checkIfMobile())}ngOnChanges(){this.artworks.length>0&&this.updateCarousel(this.currentIndex)}ngOnDestroy(){this.modalStateSubscription&&this.modalStateSubscription.unsubscribe(),window.removeEventListener("resize",()=>this.checkIfMobile())}updateCarousel(e){let t=this.artworks.length;this.currentIndex=(e+t)%t,this.currentArtwork=this.artworks[this.currentIndex],this.resetZoomAndPan(),this.left2Index=(this.currentIndex-2+t)%t,this.left1Index=(this.currentIndex-1+t)%t,this.right1Index=(this.currentIndex+1)%t,this.right2Index=(this.currentIndex+2)%t}isHidden(e){let t=this.artworks.length;return![this.currentIndex,this.left1Index,this.left2Index,this.right1Index,this.right2Index].includes(e)}next(){this.updateCarousel(this.currentIndex+1)}prev(){this.updateCarousel(this.currentIndex-1)}goToSlide(e){this.updateCarousel(e)}openModal(){this.isModalOpen=!0,this.modalStateService.openModal(),this.resetZoomAndPan(),document.body.style.overflow="hidden"}closeModal(){this.isModalOpen=!1,this.modalStateService.closeModal(),this.resetZoomAndPan(),document.body.style.overflow=""}nextInModal(){this.next()}prevInModal(){this.prev()}resetZoomAndPan(){this.isZoomed=!1,this.isPanning=!1,this.wasPanning=!1,this.translateX=0,this.translateY=0}toggleZoom(e){if(this.wasPanning){this.wasPanning=!1;return}this.isZoomed=!this.isZoomed,this.translateX=0,this.translateY=0,this.isZoomed&&(this.showZoomIndicator=!0,setTimeout(()=>{this.showZoomIndicator=!1},3e3))}onPanStart(e){if(!this.isZoomed)return;this.isPanning=!0;let t="touches"in e?e.touches[0]:e;this.startX=t.clientX-this.translateX,this.startY=t.clientY-this.translateY}onPanMove(e){if(!this.isPanning||!this.isZoomed)return;e.preventDefault(),this.wasPanning=!0;let t="touches"in e?e.touches[0]:e;this.translateX=t.clientX-this.startX,this.translateY=t.clientY-this.startY}onPanEnd(e){this.isPanning&&(this.isPanning=!1)}getImageTransform(){return this.isZoomed?`scale(${this.isMobile?2.5:1.8}) translate(${this.translateX}px, ${this.translateY}px)`:"scale(1)"}handleEscapeKey(e){this.isModalOpen&&(this.isZoomed?this.resetZoomAndPan():this.closeModal())}handleRightArrow(e){this.isModalOpen&&!this.isZoomed&&this.nextInModal()}handleLeftArrow(e){this.isModalOpen&&!this.isZoomed&&this.prevInModal()}handleZKey(e){this.isModalOpen&&this.toggleZoom(new MouseEvent("click"))}checkIfMobile(){this.isMobile=window.innerWidth<=768}static \u0275fac=function(t){return new(t||n)(J(Vs),J(Wt))};static \u0275cmp=Ve({type:n,selectors:[["app-artwork-carousel"]],hostBindings:function(t,r){t&1&&le("keydown.escape",function(o){return r.handleEscapeKey(o)},!1,br)("keydown.arrowright",function(o){return r.handleRightArrow(o)},!1,br)("keydown.arrowleft",function(o){return r.handleLeftArrow(o)},!1,br)("keydown.z",function(o){return r.handleZKey(o)},!1,br)},inputs:{artworks:"artworks"},standalone:!0,features:[dn,je],decls:16,vars:6,consts:[["availableTemplate",""],[1,"carousel-container"],[1,"nav-arrow","left",3,"click"],[1,"carousel-track"],["class","card",3,"center","left-1","left-2","right-1","right-2","hidden","click",4,"ngFor","ngForOf"],[1,"nav-arrow","right",3,"click"],[1,"artwork-info"],[1,"artwork-title"],[1,"artwork-technique"],["class","artwork-description",4,"ngIf"],[1,"dots"],["class","dot",3,"active","click",4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"card",3,"click"],[1,"artwork-image",3,"click","src","alt"],[1,"artwork-description"],[1,"dot",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-close",3,"click"],[1,"modal-body"],[1,"modal-image-container"],["class","sold-overlay",4,"ngIf"],[1,"modal-image",3,"click","mousedown","mousemove","mouseup","mouseleave","touchstart","touchmove","touchend","src","alt"],["class","zoom-indicator",3,"mobile",4,"ngIf"],[1,"modal-nav","modal-prev",3,"click"],[1,"modal-nav","modal-next",3,"click"],[1,"modal-info"],[1,"modal-title"],[1,"modal-technique"],["class","modal-description",4,"ngIf"],["class","artwork-details",4,"ngIf"],[1,"modal-actions"],[4,"ngIf","ngIfElse"],[1,"sold-overlay"],[1,"sold-badge"],[1,"sold-text"],[1,"zoom-indicator"],["class","zoom-hint",4,"ngIf"],[1,"zoom-hint"],[1,"modal-description"],[1,"artwork-details"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],["class","detail-item",4,"ngIf"],[1,"detail-value","price"],[1,"sold-container"],[1,"sold-message"],[1,"sold-icon"],[1,"sold-title"],[1,"sold-description"],[1,"btn-buy"],[1,"btn-icon"],[1,"btn-text"]],template:function(t,r){t&1&&(g(0,"div",1)(1,"button",2),le("click",function(){return r.prev()}),C(2,"\u2039"),y(),g(3,"div",3),K(4,FU,2,14,"div",4),y(),g(5,"button",5),le("click",function(){return r.next()}),C(6,"\u203A"),y()(),g(7,"div",6)(8,"h2",7),C(9),y(),g(10,"p",8),C(11),y(),K(12,LU,2,1,"p",9),y(),g(13,"div",10),K(14,VU,1,2,"div",11),y(),K(15,WU,24,20,"div",12)),t&2&&(v(4),j("ngForOf",r.artworks),v(5),$(r.currentArtwork==null?null:r.currentArtwork.titulo),v(2),$(r.currentArtwork==null?null:r.currentArtwork.tecnica),v(),j("ngIf",r.currentArtwork==null?null:r.currentArtwork.descripcion),v(2),j("ngForOf",r.artworks),v(),j("ngIf",r.isModalOpen))},dependencies:[It,qn,Gn,eT,ot,ft],styles:['@charset "UTF-8";.carousel-container[_ngcontent-%COMP%]{width:100%;max-width:1200px;height:450px;position:relative;perspective:1000px;margin:80px auto 0}.carousel-track[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;position:relative;transform-style:preserve-3d}.card[_ngcontent-%COMP%]{position:absolute;width:280px;height:380px;background:#fff;border-radius:20px;overflow:hidden;box-shadow:0 20px 40px #00000026;transition:all .8s cubic-bezier(.25,.46,.45,.94);cursor:pointer}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:all .8s cubic-bezier(.25,.46,.45,.94)}.card.center[_ngcontent-%COMP%]{z-index:10;transform:scale(1.1) translateZ(0)}.card.center[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:none}.card.left-2[_ngcontent-%COMP%]{z-index:1;transform:translate(-400px) scale(.8) translateZ(-300px);opacity:.7}.card.left-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(100%)}.card.left-1[_ngcontent-%COMP%]{z-index:5;transform:translate(-200px) scale(.9) translateZ(-100px);opacity:.9}.card.left-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(100%)}.card.right-1[_ngcontent-%COMP%]{z-index:5;transform:translate(200px) scale(.9) translateZ(-100px);opacity:.9}.card.right-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(100%)}.card.right-2[_ngcontent-%COMP%]{z-index:1;transform:translate(400px) scale(.8) translateZ(-300px);opacity:.7}.card.right-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(100%)}.card.hidden[_ngcontent-%COMP%]{opacity:0;pointer-events:none}.artwork-info[_ngcontent-%COMP%]{text-align:center;margin-top:40px;transition:all .5s ease-out}.artwork-title[_ngcontent-%COMP%]{color:#8b5cf6;font-size:2.5rem;font-weight:700;margin-bottom:10px;position:relative;display:inline-block}.artwork-title[_ngcontent-%COMP%]:before, .artwork-title[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;width:100px;height:2px;background:#8b5cf6}.artwork-title[_ngcontent-%COMP%]:before{left:-120px}.artwork-title[_ngcontent-%COMP%]:after{right:-120px}.artwork-technique[_ngcontent-%COMP%]{color:#848696;font-size:1.5rem;font-weight:500;opacity:.8;text-transform:uppercase;letter-spacing:.1em;padding:10px 0;margin-top:-15px;position:relative}.artwork-description[_ngcontent-%COMP%]{color:#6b7280;font-size:1rem;max-width:600px;margin:0 auto;line-height:1.6}.dots[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin-top:60px}.dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;background:#8b5cf633;cursor:pointer;transition:all .3s ease}.dot.active[_ngcontent-%COMP%]{background:#8b5cf6;transform:scale(1.2)}.nav-arrow[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:#87878799;color:#fff;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:20;transition:all .3s ease;font-size:2.5rem;border:none;outline:none;padding-bottom:4px;animation:_ngcontent-%COMP%_pulse 2s infinite}.nav-arrow[_ngcontent-%COMP%]:hover{background:#8b5cf6cc;transform:translateY(-50%) scale(1.1);animation:none}.nav-arrow.left[_ngcontent-%COMP%]{left:50px;padding-right:3px;margin-left:120px!important}.nav-arrow.right[_ngcontent-%COMP%]{right:50px;padding-left:3px;margin-right:120px!important}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #8b5cf6cc}70%{box-shadow:0 0 0 15px #8b5cf600}to{box-shadow:0 0 #8b5cf600}}.gallery-title[_ngcontent-%COMP%]{font-size:7.5rem;font-weight:900;text-transform:uppercase;letter-spacing:-.02em;text-align:center;pointer-events:none;white-space:nowrap;font-family:Arial Black,Arial Bold,Arial,sans-serif;background:linear-gradient(to bottom,#8b5cf659 30%,#fff0 76%);-webkit-background-clip:text;background-clip:text;color:transparent;margin-bottom:2rem}@media (max-width: 768px){.gallery-title[_ngcontent-%COMP%]{font-size:4.5rem}.carousel-container[_ngcontent-%COMP%]{height:350px;margin-top:60px}.card[_ngcontent-%COMP%]{width:200px;height:280px}.card.left-2[_ngcontent-%COMP%]{transform:translate(-250px) scale(.8) translateZ(-300px)}.card.left-1[_ngcontent-%COMP%]{transform:translate(-120px) scale(.9) translateZ(-100px)}.card.right-1[_ngcontent-%COMP%]{transform:translate(120px) scale(.9) translateZ(-100px)}.card.right-2[_ngcontent-%COMP%]{transform:translate(250px) scale(.8) translateZ(-300px)}.artwork-title[_ngcontent-%COMP%]{font-size:2rem}.artwork-title[_ngcontent-%COMP%]:before, .artwork-title[_ngcontent-%COMP%]:after{width:50px}.artwork-title[_ngcontent-%COMP%]:before{left:-70px}.artwork-title[_ngcontent-%COMP%]:after{right:-70px}.artwork-technique[_ngcontent-%COMP%]{font-size:1.2rem}.nav-arrow[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.2rem;margin-top:195px!important;padding-bottom:2px;animation:_ngcontent-%COMP%_pulse 2s infinite}.nav-arrow.left[_ngcontent-%COMP%]{left:20px;padding-right:3px;margin-left:10px!important}.nav-arrow.right[_ngcontent-%COMP%]{right:20px;padding-left:3px;margin-right:10px!important}}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000f2;display:flex;justify-content:center;align-items:center;animation:_ngcontent-%COMP%_fadeIn .3s ease-out;backdrop-filter:blur(15px);padding:10px;box-sizing:border-box}@media (max-width: 768px){.modal-overlay[_ngcontent-%COMP%]{z-index:2147483647!important;position:fixed!important;top:0!important;left:0!important;width:100vw!important;height:100vh!important;margin:0!important;padding:0!important;background:#000000fa!important}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{z-index:2147483647!important;position:fixed!important;top:0!important;left:0!important;margin:0!important;border-radius:0!important;width:100vw!important;height:100vh!important;max-width:100vw!important;max-height:100vh!important;box-shadow:none!important}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{height:100vh!important;max-height:100vh!important;min-height:100vh!important;overflow-y:auto!important}}.modal-content[_ngcontent-%COMP%]{background:rgb(var(--color-background));border-radius:24px;max-width:95%;max-height:95%;width:1400px;height:800px;overflow:hidden;position:relative;display:flex;box-shadow:0 30px 60px #0009;animation:_ngcontent-%COMP%_slideUp .3s ease-out}@media (max-width: 1200px){.modal-content[_ngcontent-%COMP%]{width:95%;height:700px;max-height:90vh}}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{max-width:100%;max-height:100%;width:100%;height:100%;border-radius:0;margin:0;flex-direction:column;overflow-y:auto;position:fixed;top:0;left:0}}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{z-index:2147483647!important;position:fixed!important;top:0!important;left:0!important;transform:none!important;margin:0!important;border-radius:0!important;width:100vw!important;height:100vh!important;max-width:100vw!important;max-height:100vh!important}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{height:100vh!important;max-height:100vh!important;min-height:100vh!important}}.modal-close[_ngcontent-%COMP%]{position:absolute;top:0;right:25px;background:rgba(var(--color-primary),.9);color:#fff;border:none;width:45px;height:45px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:10;font-size:1.8rem;transition:all .3s ease;backdrop-filter:blur(10px);font-weight:300}@media (max-width: 768px){.modal-close[_ngcontent-%COMP%]{right:300px;width:40px;height:40px;font-size:1.5rem;background:#000000b3}}.modal-close[_ngcontent-%COMP%]:hover{background:rgb(var(--color-primary));transform:scale(1.15);box-shadow:0 5px 15px #0000004d}.modal-body[_ngcontent-%COMP%]{display:flex;height:100%;width:100%}@media (max-width: 768px){.modal-body[_ngcontent-%COMP%]{flex-direction:column;height:auto;min-height:100%;overflow-y:auto}}.modal-image-container[_ngcontent-%COMP%]{flex:1;position:relative;overflow:hidden;background:#f8f9fa;display:flex;align-items:center;justify-content:center;min-height:500px;background:linear-gradient(135deg,#f5f7fa,#c3cfe2)}@media (max-width: 768px){.modal-image-container[_ngcontent-%COMP%]{min-height:40vh;max-height:50vh;flex:none;width:100%}}.modal-image-container[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{width:85%;height:85%;object-fit:contain;transition:all .4s cubic-bezier(.25,.46,.45,.94);cursor:zoom-in;border-radius:12px;box-shadow:0 15px 35px #0000001a}.modal-image-container[_ngcontent-%COMP%]   .modal-image.zoomed[_ngcontent-%COMP%]{cursor:grab;transform:scale(1.8);box-shadow:0 25px 50px #0000004d}.modal-image-container[_ngcontent-%COMP%]   .modal-image.zoomed.panning[_ngcontent-%COMP%]{cursor:grabbing}@media (max-width: 768px){.modal-image-container[_ngcontent-%COMP%]   .modal-image.zoomed[_ngcontent-%COMP%]{transform:scale(2.5);width:100%;height:auto;max-height:90vh;object-fit:contain}}@media (hover: hover){.modal-image-container[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]:not(.zoomed):hover{transform:scale(1.05);box-shadow:0 20px 40px #00000026}}@media (max-width: 768px){.modal-image-container[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{width:95%;height:95%;border-radius:8px}}.modal-nav[_ngcontent-%COMP%]{position:absolute;top:80%;transform:translateY(-50%);background:rgba(var(--color-primary));color:#fff;border:none;width:40px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:9999!important;font-size:2rem;transition:all .3s ease;backdrop-filter:blur(10px);font-weight:300;box-shadow:0 5px 15px #0003}@media (max-width: 768px){.modal-nav[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.5rem;background:#0009}.modal-nav.modal-prev[_ngcontent-%COMP%]{left:10px;margin-right:50%}.modal-nav.modal-next[_ngcontent-%COMP%]{right:10px;margin-left:50%}.modal-image.zoomed[_ngcontent-%COMP%] ~ .modal-nav[_ngcontent-%COMP%]{opacity:0;pointer-events:none}}.modal-nav[_ngcontent-%COMP%]:hover{background:rgb(var(--color-primary));transform:translateY(-50%) scale(1.15);box-shadow:0 8px 25px #0000004d}.modal-nav.modal-prev[_ngcontent-%COMP%]{left:30px;padding-right:5px}.modal-nav.modal-next[_ngcontent-%COMP%]{right:30px;padding-left:5px}.modal-info[_ngcontent-%COMP%]{flex:0 0 450px;padding:50px 40px;overflow-y:auto;background:#fff;display:flex;flex-direction:column}@media (max-width: 768px){.modal-info[_ngcontent-%COMP%]{flex:none;max-height:none;padding:25px 20px;overflow-y:visible}}@media (max-width: 1200px){.modal-info[_ngcontent-%COMP%]{flex:0 0 400px;padding:40px 30px}}.modal-title[_ngcontent-%COMP%]{color:rgb(var(--color-primary-dark));font-size:2.2rem;font-weight:400;margin-bottom:15px;font-family:Montserrat,sans-serif;line-height:1.3}@media (max-width: 768px){.modal-title[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:10px}}.modal-technique[_ngcontent-%COMP%]{color:rgb(var(--color-text-light));font-size:1.2rem;text-transform:uppercase;letter-spacing:.1em;margin-bottom:25px;font-weight:300;border-bottom:2px solid rgba(var(--color-accent),.3);padding-bottom:15px}@media (max-width: 768px){.modal-technique[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:20px;padding-bottom:10px}}.modal-description[_ngcontent-%COMP%]{color:rgb(var(--color-text));font-size:1.1rem;line-height:1.7;margin-bottom:30px;font-weight:300}@media (max-width: 768px){.modal-description[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6;margin-bottom:20px}}.artwork-details[_ngcontent-%COMP%]{border-top:2px solid rgba(var(--color-accent),.3);padding-top:25px;margin-bottom:35px}@media (max-width: 768px){.artwork-details[_ngcontent-%COMP%]{padding-top:20px;margin-bottom:25px}}.detail-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:12px;padding:8px 0;border-bottom:1px solid rgba(var(--color-accent),.1)}@media (max-width: 768px){.detail-item[_ngcontent-%COMP%]{flex-direction:column;margin-bottom:10px;padding:5px 0}}.detail-item[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.detail-label[_ngcontent-%COMP%]{color:rgb(var(--color-text-light));font-weight:500;font-size:1rem}@media (max-width: 768px){.detail-label[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:3px}}.detail-value[_ngcontent-%COMP%]{color:rgb(var(--color-text));font-weight:400;text-align:right}@media (max-width: 768px){.detail-value[_ngcontent-%COMP%]{text-align:left;font-size:.95rem}}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:15px;flex-direction:column;margin-top:auto}@media (max-width: 768px){.modal-actions[_ngcontent-%COMP%]{margin-top:20px;gap:12px}}.btn-buy[_ngcontent-%COMP%], .btn-contact[_ngcontent-%COMP%]{padding:18px 30px;border:none;border-radius:12px;font-size:1.1rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:12px;font-weight:500;text-transform:uppercase;letter-spacing:.05em}@media (max-width: 768px){.btn-buy[_ngcontent-%COMP%], .btn-contact[_ngcontent-%COMP%]{padding:16px 20px;font-size:1rem;gap:8px}}.btn-buy[_ngcontent-%COMP%]:hover, .btn-contact[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 25px #00000026}.btn-buy[_ngcontent-%COMP%]:active, .btn-contact[_ngcontent-%COMP%]:active{transform:translateY(-1px)}.btn-buy[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgb(var(--color-primary)),rgb(var(--color-primary-dark)));color:#fff;box-shadow:0 5px 15px rgba(var(--color-primary),.3)}.btn-buy[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,rgb(var(--color-primary-dark)),rgb(var(--color-primary)))}.btn-contact[_ngcontent-%COMP%]{background:transparent;color:rgb(var(--color-primary));border:2px solid rgb(var(--color-primary));box-shadow:0 3px 10px rgba(var(--color-primary),.1)}.btn-contact[_ngcontent-%COMP%]:hover{background:rgb(var(--color-primary));color:#fff}.btn-icon[_ngcontent-%COMP%]{font-size:1.3rem}@media (max-width: 768px){.btn-icon[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.btn-text[_ngcontent-%COMP%]{font-size:.9rem}}.zoom-indicator[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:50%;transform:translate(-50%);background:#000000b3;color:#fff;padding:8px 16px;border-radius:20px;font-size:.9rem;backdrop-filter:blur(10px);animation:_ngcontent-%COMP%_fadeInOut 3s ease-in-out;opacity:0;text-align:center;z-index:10}@media (max-width: 768px){.zoom-indicator[_ngcontent-%COMP%]{bottom:10px;font-size:.8rem;padding:6px 12px;width:90%;max-width:300px}.zoom-indicator.mobile[_ngcontent-%COMP%]{padding:8px 12px}}.zoom-hint[_ngcontent-%COMP%]{display:block;font-size:.7rem;margin-top:2px;opacity:.8}@keyframes _ngcontent-%COMP%_fadeInOut{0%{opacity:0}20%{opacity:1}80%{opacity:1}to{opacity:0}}@media (max-width: 768px){.modal-image-container[_ngcontent-%COMP%], .modal-image.zoomed[_ngcontent-%COMP%]{touch-action:pan-x pan-y}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;backdrop-filter:blur(0px)}to{opacity:1;backdrop-filter:blur(15px)}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(80px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.artwork-image[_ngcontent-%COMP%]{cursor:pointer;transition:transform .3s ease}.artwork-image[_ngcontent-%COMP%]:hover{transform:scale(1.03)}.sold-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:10;display:flex;align-items:flex-start;justify-content:flex-end;pointer-events:none}.sold-badge[_ngcontent-%COMP%]{background:linear-gradient(45deg,#e53e3e,#c53030);color:#fff;padding:8px 16px;border-radius:4px;font-weight:700;font-size:.875rem;text-transform:uppercase;letter-spacing:1px;margin:16px;box-shadow:0 4px 12px #0000004d;animation:_ngcontent-%COMP%_pulse-sold 2s infinite}.sold-badge[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-5px;border:2px dashed rgba(255,255,255,.5);border-radius:8px;animation:_ngcontent-%COMP%_rotate-sold 10s linear infinite}@keyframes _ngcontent-%COMP%_pulse-sold{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes _ngcontent-%COMP%_rotate-sold{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.sold-image[_ngcontent-%COMP%]{filter:grayscale(20%);opacity:.9}.sold-status[_ngcontent-%COMP%]{color:#e53e3e;font-weight:700}.sold-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;background:linear-gradient(135deg,#fef2f2,#fff5f5);border-radius:12px;border:2px dashed #feb2b2}.sold-message[_ngcontent-%COMP%]   .sold-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.sold-message[_ngcontent-%COMP%]   .sold-title[_ngcontent-%COMP%]{color:#c53030;font-size:1.5rem;font-weight:700;margin-bottom:.5rem}.sold-message[_ngcontent-%COMP%]   .sold-description[_ngcontent-%COMP%]{color:#718096;margin-bottom:1.5rem}.modal-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-top:2rem}.modal-actions[_ngcontent-%COMP%]   .btn-buy[_ngcontent-%COMP%]{background:linear-gradient(45deg,#48bb78,#38a169);color:#fff;border:none;padding:12px 24px;border-radius:8px;font-weight:700;cursor:pointer;transition:all .3s ease}.modal-actions[_ngcontent-%COMP%]   .btn-buy[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #48bb7866}.modal-actions[_ngcontent-%COMP%]   .btn-contact[_ngcontent-%COMP%]{background:transparent;color:#4a5568;border:2px solid #e2e8f0;padding:12px 24px;border-radius:8px;font-weight:700;cursor:pointer;transition:all .3s ease}.modal-actions[_ngcontent-%COMP%]   .btn-contact[_ngcontent-%COMP%]:hover{border-color:#cbd5e0;background:#f7fafc}.price[_ngcontent-%COMP%]{color:#48bb78;font-weight:700;font-size:1.1rem}@media (max-width: 768px){.sold-badge[_ngcontent-%COMP%]{padding:6px 12px;font-size:.75rem;margin:12px}.sold-container[_ngcontent-%COMP%]{padding:1.5rem}.sold-message[_ngcontent-%COMP%]   .sold-icon[_ngcontent-%COMP%]{font-size:2.5rem}.sold-message[_ngcontent-%COMP%]   .sold-title[_ngcontent-%COMP%]{font-size:1.25rem}.modal-actions[_ngcontent-%COMP%]{flex-direction:column}.modal-actions[_ngcontent-%COMP%]   .btn-buy[_ngcontent-%COMP%], .modal-actions[_ngcontent-%COMP%]   .btn-contact[_ngcontent-%COMP%]{width:100%}}.artwork-details[_ngcontent-%COMP%]{background:#f7fafc;padding:1rem;border-radius:8px;margin:1rem 0}.detail-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem 0;border-bottom:1px solid #e2e8f0}.detail-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.detail-label[_ngcontent-%COMP%]{font-weight:600;color:#4a5568}.detail-value[_ngcontent-%COMP%]{color:#2d3748}.modal-content[_ngcontent-%COMP%]{transition:all .3s ease}.btn-icon[_ngcontent-%COMP%]{margin-right:.5rem}.btn-text[_ngcontent-%COMP%]{vertical-align:middle}']})};var ox=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},KU=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},sx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,u=l?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,w=(a&15)<<2|u>>6,_=u&63;l||(_=64,s||(w=64)),r.push(t[h],t[p],t[w],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ox(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):KU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||p==null)throw new wy;let w=o<<2|a>>4;if(r.push(w),u!==64){let _=a<<4&240|u>>2;if(r.push(_),p!==64){let S=u<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},wy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},QU=function(n){let e=ox(n);return sx.encodeByteArray(e,!0)},Hc=function(n){return QU(n).replace(/\./g,"")},by=function(n){try{return sx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var ZU=()=>YU().__FIREBASE_DEFAULTS__,JU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},XU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&by(n[1]);return e&&JSON.parse(e)},Bh=()=>{try{return ZU()||JU()||XU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ax=n=>{var e,t;return(t=(e=Bh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},cx=n=>{let e=ax(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ey=()=>{var n;return(n=Bh())===null||n===void 0?void 0:n.config},lx=n=>{var e;return(e=Bh())===null||e===void 0?void 0:e[`_${n}`]};var Uh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function ux(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Hc(JSON.stringify(t)),Hc(JSON.stringify(s)),""].join(".")}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function eB(){var n;let e=(n=Bh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fx(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function px(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mx(){return!eB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cy(){try{return typeof indexedDB=="object"}catch{return!1}}function gx(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var tB="FirebaseError",gn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=tB,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nr.prototype.create)}},Nr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?nB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new gn(i,a,r)}};function nB(n,e){return n.replace(rB,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var rB=/\{\$([^}]+)}/g;function js(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(ix(o)&&ix(s)){if(!js(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function ix(n){return n!==null&&typeof n=="object"}function Dy(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vx(n,e){let t=new Iy(n,e);return t.subscribe.bind(t)}var Iy=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");iB(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=_y),i.error===void 0&&(i.error=_y),i.complete===void 0&&(i.complete=_y);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function iB(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _y(){}var dQ=4*60*60*1e3;function At(n){return n&&n._delegate?n._delegate:n}var vn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var lo="[DEFAULT]";var Ty=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Uh;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sB(e))try{this.getOrInitializeService({instanceIdentifier:lo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return N(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=lo){return this.instances.has(e)}getOptions(e=lo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oB(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=lo){return this.component?this.component.multipleInstances?e:lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function oB(n){return n===lo?void 0:n}function sB(n){return n.instantiationMode==="EAGER"}var $h=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Ty(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var aB=[],De=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(De||{}),cB={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},lB=De.INFO,uB={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},dB=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=uB[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},yi=class{constructor(e){this.name=e,this._logLevel=lB,this._logHandler=dB,this._userLogHandler=null,aB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}};var hB=(n,e)=>e.some(t=>n instanceof t),yx,_x;function fB(){return yx||(yx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pB(){return _x||(_x=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var wx=new WeakMap,xy=new WeakMap,Ix=new WeakMap,Sy=new WeakMap,My=new WeakMap;function mB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Xn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&wx.set(t,n)}).catch(()=>{}),My.set(e,n),e}function gB(n){if(xy.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});xy.set(n,e)}var Ay={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return xy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Ix.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function bx(n){Ay=n(Ay)}function vB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Hh(this),e,...t);return Ix.set(r,e.sort?e.sort():[e]),Xn(r)}:pB().includes(n)?function(...e){return n.apply(Hh(this),e),Xn(wx.get(this))}:function(...e){return Xn(n.apply(Hh(this),e))}}function yB(n){return typeof n=="function"?vB(n):(n instanceof IDBTransaction&&gB(n),hB(n,fB())?new Proxy(n,Ay):n)}function Xn(n){if(n instanceof IDBRequest)return mB(n);if(Sy.has(n))return Sy.get(n);let e=yB(n);return e!==n&&(Sy.set(n,e),My.set(e,n)),e}var Hh=n=>My.get(n);function Cx(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Xn(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Xn(s.result),l.oldVersion,l.newVersion,Xn(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var _B=["get","getKey","getAll","getAllKeys","count"],wB=["put","add","delete","clear"],Ry=new Map;function Ex(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ry.get(e))return Ry.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=wB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_B.includes(t)))return;let o=function(s,...a){return N(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&l.done]))[0]})};return Ry.set(e,o),o}bx(n=>me(U({},n),{get:(e,t,r)=>Ex(e,t)||n.get(e,t,r),has:(e,t)=>!!Ex(e,t)||n.has(e,t)}));var Ny=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(IB(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function IB(n){let e=n.getComponent();return e?.type==="VERSION"}var Oy="@firebase/app",Dx="0.10.13";var Or=new yi("@firebase/app"),bB="@firebase/app-compat",EB="@firebase/analytics-compat",CB="@firebase/analytics",DB="@firebase/app-check-compat",TB="@firebase/app-check",SB="@firebase/auth",xB="@firebase/auth-compat",AB="@firebase/database",MB="@firebase/data-connect",RB="@firebase/database-compat",PB="@firebase/functions",NB="@firebase/functions-compat",OB="@firebase/installations",kB="@firebase/installations-compat",FB="@firebase/messaging",LB="@firebase/messaging-compat",VB="@firebase/performance",jB="@firebase/performance-compat",UB="@firebase/remote-config",BB="@firebase/remote-config-compat",$B="@firebase/storage",HB="@firebase/storage-compat",zB="@firebase/firestore",qB="@firebase/vertexai-preview",GB="@firebase/firestore-compat",WB="firebase",KB="10.14.1";var ky="[DEFAULT]",QB={[Oy]:"fire-core",[bB]:"fire-core-compat",[CB]:"fire-analytics",[EB]:"fire-analytics-compat",[TB]:"fire-app-check",[DB]:"fire-app-check-compat",[SB]:"fire-auth",[xB]:"fire-auth-compat",[AB]:"fire-rtdb",[MB]:"fire-data-connect",[RB]:"fire-rtdb-compat",[PB]:"fire-fn",[NB]:"fire-fn-compat",[OB]:"fire-iid",[kB]:"fire-iid-compat",[FB]:"fire-fcm",[LB]:"fire-fcm-compat",[VB]:"fire-perf",[jB]:"fire-perf-compat",[UB]:"fire-rc",[BB]:"fire-rc-compat",[$B]:"fire-gcs",[HB]:"fire-gcs-compat",[zB]:"fire-fst",[GB]:"fire-fst-compat",[qB]:"fire-vertex","fire-js":"fire-js",[WB]:"fire-js-all"};var zc=new Map,YB=new Map,Fy=new Map;function Tx(n,e){try{n.container.addComponent(e)}catch(t){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function wi(n){let e=n.name;if(Fy.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;Fy.set(e,n);for(let t of zc.values())Tx(t,n);for(let t of YB.values())Tx(t,n);return!0}function Uy(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Us(n){return n.settings!==void 0}var ZB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_i=new Nr("app","Firebase",ZB);var Ly=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}};var Bs=KB;function By(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ky,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw _i.create("bad-app-name",{appName:String(i)});if(t||(t=Ey()),!t)throw _i.create("no-options");let o=zc.get(i);if(o){if(js(t,o.options)&&js(r,o.config))return o;throw _i.create("duplicate-app",{appName:i})}let s=new $h(i);for(let l of Fy.values())s.addComponent(l);let a=new Ly(t,r,s);return zc.set(i,a),a}function Gc(n=ky){let e=zc.get(n);if(!e&&n===ky&&Ey())return By();if(!e)throw _i.create("no-app",{appName:n});return e}function zh(){return Array.from(zc.values())}function pt(n,e,t){var r;let i=(r=QB[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(a.join(" "));return}wi(new vn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var JB="firebase-heartbeat-database",XB=1,qc="firebase-heartbeat-store",Py=null;function Mx(){return Py||(Py=Cx(JB,XB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(qc)}catch(t){console.warn(t)}}}}).catch(n=>{throw _i.create("idb-open",{originalErrorMessage:n.message})})),Py}function e3(n){return N(this,null,function*(){try{let t=(yield Mx()).transaction(qc),r=yield t.objectStore(qc).get(Rx(n));return yield t.done,r}catch(e){if(e instanceof gn)Or.warn(e.message);else{let t=_i.create("idb-get",{originalErrorMessage:e?.message});Or.warn(t.message)}}})}function Sx(n,e){return N(this,null,function*(){try{let r=(yield Mx()).transaction(qc,"readwrite");yield r.objectStore(qc).put(e,Rx(n)),yield r.done}catch(t){if(t instanceof gn)Or.warn(t.message);else{let r=_i.create("idb-set",{originalErrorMessage:t?.message});Or.warn(r.message)}}})}function Rx(n){return`${n.name}!${n.options.appId}`}var t3=1024,n3=30*24*60*60*1e3,Vy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new jy(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return N(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=xx();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=n3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Or.warn(r)}})}getHeartbeatsHeader(){return N(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=xx(),{heartbeatsToSend:r,unsentEntries:i}=r3(this._heartbeatsCache.heartbeats),o=Hc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Or.warn(t),""}})}};function xx(){return new Date().toISOString().substring(0,10)}function r3(n,e=t3){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Ax(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Ax(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var jy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return N(this,null,function*(){return Cy()?gx().then(()=>!0).catch(()=>!1):!1})}read(){return N(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield e3(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return N(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Sx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return N(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Sx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Ax(n){return Hc(JSON.stringify({version:2,heartbeats:n})).length}function i3(n){wi(new vn("platform-logger",e=>new Ny(e),"PRIVATE")),wi(new vn("heartbeat",e=>new Vy(e),"PRIVATE")),pt(Oy,Dx,n),pt(Oy,Dx,"esm2017"),pt("fire-js","")}i3("");var o3="firebase",s3="10.14.1";pt(o3,s3,"app");var Hs=new vr("ANGULARFIRE2_VERSION");function Hy(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Kc=(n,e)=>{let t=e?[e]:zh(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Wc=class{constructor(){return Kc(a3)}},a3="app-check";function $s(){}var qh=class{zone;delegate;constructor(e,t=zp){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},$y=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$s,{},$s,$s)),t.pipe(Ye({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Qc=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new qh(Zone.current)),this.insideAngular=t.run(()=>new qh(Zone.current,ru)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(Z(Oe))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Gh(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function c3(n){return Gh().ngZone.runOutsideAngular(()=>n())}function uo(n){return Gh().ngZone.run(()=>n())}function l3(n){return u3(Gh())(n)}function u3(n){return function(t){return t=t.lift(new $y(n.ngZone)),t.pipe(Wr(n.outsideAngular),Gr(n.insideAngular))}}var d3=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),uo(()=>n.apply(void 0,r))},rn=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=uo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$s,{},$s,$s))),r[o]=d3(r[o],t));let i=c3(()=>n.apply(this,r));if(!e)if(i instanceof ye){let o=Gh();return i.pipe(Wr(o.outsideAngular),Gr(o.insideAngular))}else return uo(()=>i);return i instanceof ye?i.pipe(l3):i instanceof Promise?uo(()=>new Promise((o,s)=>i.then(a=>uo(()=>o(a)),a=>uo(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:uo(()=>i)};var ho=class{constructor(e){return e}},Yc=class{constructor(){return zh()}};function h3(n){return n&&n.length===1?n[0]:new ho(Gc())}var zy=new G("angularfire2._apps"),f3={provide:ho,useFactory:h3,deps:[[new un,zy]]},p3={provide:Yc,deps:[[new un,zy]]};function m3(n){return(e,t)=>{let r=t.get(fn);pt("angularfire",Hs.full,"core"),pt("angularfire",Hs.full,"app"),pt("angular",SD.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ho(i)}}function Px(n,...e){return yt([f3,p3,{provide:zy,useFactory:m3(n),multi:!0,deps:[Oe,vt,Qc,...e]}])}var Nx=rn(By,!0);function Bx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var $x=Bx,Hx=new Nr("auth","Firebase",Bx());var Yh=new yi("@firebase/auth");function v3(n,...e){Yh.logLevel<=De.WARN&&Yh.warn(`Auth (${Bs}): ${n}`,...e)}function Kh(n,...e){Yh.logLevel<=De.ERROR&&Yh.error(`Auth (${Bs}): ${n}`,...e)}function Ox(n,...e){throw n0(n,...e)}function t0(n,...e){return n0(n,...e)}function zx(n,e,t){let r=Object.assign(Object.assign({},$x()),{[e]:t});return new Nr("auth","Firebase",r).create(e,{appName:n.name})}function Qh(n){return zx(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function n0(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Hx.create(n,...e)}function Ne(n,e,...t){if(!n)throw n0(e,...t)}function Zc(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Kh(e),new Error(e)}function Zh(n,e){n||Zc(e)}function y3(){return kx()==="http:"||kx()==="https:"}function kx(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function _3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y3()||fx()||"connection"in navigator)?navigator.onLine:!0}function w3(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var po=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Zh(t>e,"Short delay should be less than long delay!"),this.isMobile=dx()||px()}get(){return _3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function I3(n,e){Zh(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Jh=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var b3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var E3=new po(3e4,6e4);function qx(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function nf(o,s,a,l){return N(this,arguments,function*(n,e,t,r,i={}){return Gx(n,i,()=>N(this,null,function*(){let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});let p=Dy(Object.assign({key:n.config.apiKey},h)).slice(1),w=yield n._getAdditionalHeaders();w["Content-Type"]="application/json",n.languageCode&&(w["X-Firebase-Locale"]=n.languageCode);let _=Object.assign({method:e,headers:w},u);return hx()||(_.referrerPolicy="no-referrer"),Jh.fetch()(Wx(n,n.config.apiHost,t,p),_)}))})}function Gx(n,e,t){return N(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},b3),e);try{let i=new Wy(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Wh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wh(n,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Wh(n,"email-already-in-use",s);if(l==="USER_DISABLED")throw Wh(n,"user-disabled",s);let h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw zx(n,h,u);Ox(n,h)}}catch(i){if(i instanceof gn)throw i;Ox(n,"network-request-failed",{message:String(i)})}})}function Wx(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?I3(n.config,i):`${n.config.apiScheme}://${i}`}var Wy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(t0(this.auth,"network-request-failed")),E3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Wh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=t0(n,e,r);return i.customData._tokenResponse=t,i}function C3(n,e){return N(this,null,function*(){return nf(n,"POST","/v1/accounts:delete",e)})}function Kx(n,e){return N(this,null,function*(){return nf(n,"POST","/v1/accounts:lookup",e)})}function Jc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function r0(n,e=!1){return N(this,null,function*(){let t=At(n),r=yield t.getIdToken(e),i=Qx(r);Ne(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Jc(qy(i.auth_time)),issuedAtTime:Jc(qy(i.iat)),expirationTime:Jc(qy(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function qy(n){return Number(n)*1e3}function Qx(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Kh("JWT malformed, contained fewer than 3 sections"),null;try{let i=by(t);return i?JSON.parse(i):(Kh("Failed to decode base64 JWT payload"),null)}catch(i){return Kh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Fx(n){let e=Qx(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ky(n,e,t=!1){return N(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof gn&&D3(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function D3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Qy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>N(this,null,function*(){yield this.iteration()}),t)}iteration(){return N(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var el=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jc(this.lastLoginAt),this.creationTime=Jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Xh(n){return N(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Ky(n,Kx(t,{idToken:r}));Ne(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Yx(o.providerUserInfo):[],a=T3(n.providerData,s),l=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,h=l?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new el(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function i0(n){return N(this,null,function*(){let e=At(n);yield Xh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function T3(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Yx(n){return n.map(e=>{var{providerId:t}=e,r=qp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function S3(n,e){return N(this,null,function*(){let t=yield Gx(n,{},()=>N(this,null,function*(){let r=Dy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=Wx(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Jh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function x3(n,e){return N(this,null,function*(){return nf(n,"POST","/v2/accounts:revokeToken",qx(n,e))})}var Xc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");let t=Fx(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return N(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return N(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield S3(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ne(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ne(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Zc("not implemented")}};function Ii(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var tl=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=qp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new el(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return N(this,null,function*(){let t=yield Ky(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return r0(this,e)}reload(){return i0(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return N(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Xh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return N(this,null,function*(){if(Us(this.auth.app))return Promise.reject(Qh(this.auth));let e=yield this.getIdToken();return yield Ky(this,C3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,u,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(i=t.email)!==null&&i!==void 0?i:void 0,_=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,k=(a=t.tenantId)!==null&&a!==void 0?a:void 0,O=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,H=(u=t.createdAt)!==null&&u!==void 0?u:void 0,Y=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Q,emailVerified:de,isAnonymous:xe,providerData:ce,stsTokenManager:D}=t;Ne(Q&&D,e,"internal-error");let I=Xc.fromJSON(this.name,D);Ne(typeof Q=="string",e,"internal-error"),Ii(p,e.name),Ii(w,e.name),Ne(typeof de=="boolean",e,"internal-error"),Ne(typeof xe=="boolean",e,"internal-error"),Ii(_,e.name),Ii(S,e.name),Ii(k,e.name),Ii(O,e.name),Ii(H,e.name),Ii(Y,e.name);let b=new n({uid:Q,auth:e,email:w,emailVerified:de,displayName:p,isAnonymous:xe,photoURL:S,phoneNumber:_,tenantId:k,stsTokenManager:I,createdAt:H,lastLoginAt:Y});return ce&&Array.isArray(ce)&&(b.providerData=ce.map(T=>Object.assign({},T))),O&&(b._redirectEventId=O),b}static _fromIdTokenResponse(e,t,r=!1){return N(this,null,function*(){let i=new Xc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Xh(o),o})}static _fromGetAccountInfoResponse(e,t,r){return N(this,null,function*(){let i=t.users[0];Ne(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Yx(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Xc;a.updateFromIdToken(r);let l=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new el(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,u),l})}};var Lx=new Map;function fo(n){Zh(n instanceof Function,"Expected a class definition");let e=Lx.get(n);return e?(Zh(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Lx.set(n,e),e)}var A3=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return N(this,null,function*(){return!0})}_set(t,r){return N(this,null,function*(){this.storage[t]=r})}_get(t){return N(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return N(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Yy=A3;function Gy(n,e,t){return`firebase:${n}:${e}:${t}`}var ef=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Gy(this.userKey,i.apiKey,o),this.fullPersistenceKey=Gy("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return N(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?tl._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return N(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return N(this,null,function*(){if(!t.length)return new n(fo(Yy),e,r);let i=(yield Promise.all(t.map(u=>N(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||fo(Yy),s=Gy(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let h=yield u._get(s);if(h){let p=tl._fromJSON(e,h);u!==o&&(a=p),o=u;break}}catch{}let l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new n(o,e,r):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>N(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function Vx(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(M3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k3(e))return"Blackberry";if(F3(e))return"Webos";if(R3(e))return"Safari";if((e.includes("chrome/")||P3(e))&&!e.includes("edge/"))return"Chrome";if(O3(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function M3(n=nn()){return/firefox\//i.test(n)}function R3(n=nn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function P3(n=nn()){return/crios\//i.test(n)}function N3(n=nn()){return/iemobile/i.test(n)}function O3(n=nn()){return/android/i.test(n)}function k3(n=nn()){return/blackberry/i.test(n)}function F3(n=nn()){return/webos/i.test(n)}function Zx(n,e=[]){let t;switch(n){case"Browser":t=Vx(nn());break;case"Worker":t=`${Vx(nn())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Bs}/${r}`}var Zy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return N(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function L3(t){return N(this,arguments,function*(n,e={}){return nf(n,"GET","/v2/passwordPolicy",qx(n,e))})}var V3=6,Jy=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:V3,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Xy=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tf(this),this.idTokenSubscription=new tf(this),this.beforeStateQueue=new Zy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fo(t)),this._initializationPromise=this.queue(()=>N(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield ef.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return N(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return N(this,null,function*(){try{let t=yield Kx(this,{idToken:e}),r=yield tl._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return N(this,null,function*(){var t;if(Us(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return N(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return N(this,null,function*(){try{yield Xh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=w3()}_delete(){return N(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return N(this,null,function*(){if(Us(this.app))return Promise.reject(Qh(this));let t=e?At(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return N(this,null,function*(){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>N(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return N(this,null,function*(){return Us(this.app)?Promise.reject(Qh(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Us(this.app)?Promise.reject(Qh(this)):this.queue(()=>N(this,null,function*(){yield this.assertedPersistence.setPersistence(fo(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return N(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return N(this,null,function*(){let e=yield L3(this),t=new Jy(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return N(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield x3(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return N(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return N(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&fo(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=yield ef.create(this,[fo(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return N(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>N(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return N(this,null,function*(){if(e===this.currentUser)return this.queue(()=>N(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,r,i);return()=>{s=!0,l()}}else{let l=e.addObserver(t);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return N(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return N(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return N(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&v3(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function j3(n){return At(n)}var tf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=vx(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var U3={loadJS(){return N(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B3(n){U3=n}function $3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function H3(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(fo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var cY=$3("rcb"),lY=new po(3e4,6e4);var uY=new po(2e3,1e4);var dY=10*60*1e3;var hY=new po(3e4,6e4);var fY=new po(5e3,15e3);var pY=encodeURIComponent("fac");var jx="@firebase/auth",Ux="1.7.9";var e0=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return N(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function z3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function q3(n){wi(new vn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ne(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zx(n)},u=new Xy(r,i,o,l);return H3(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),wi(new vn("auth-internal",e=>{let t=j3(e.getProvider("auth").getImmediate());return(r=>new e0(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),pt(jx,Ux,z3(n)),pt(jx,Ux,"esm2017")}var G3=5*60,mY=lx("authIdTokenMaxAge")||G3;function W3(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}B3({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=t0("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",W3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});q3("Browser");var G4="auth";var rf=class{constructor(){return Kc(G4)}};var Jx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xx={};var bi,o0;(function(){var n;function e(D,I){function b(){}b.prototype=I.prototype,D.D=I.prototype,D.prototype=new b,D.prototype.constructor=D,D.C=function(T,x,M){for(var E=Array(arguments.length-2),sr=2;sr<arguments.length;sr++)E[sr-2]=arguments[sr];return I.prototype[x].apply(T,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,I,b){b||(b=0);var T=Array(16);if(typeof I=="string")for(var x=0;16>x;++x)T[x]=I.charCodeAt(b++)|I.charCodeAt(b++)<<8|I.charCodeAt(b++)<<16|I.charCodeAt(b++)<<24;else for(x=0;16>x;++x)T[x]=I[b++]|I[b++]<<8|I[b++]<<16|I[b++]<<24;I=D.g[0],b=D.g[1],x=D.g[2];var M=D.g[3],E=I+(M^b&(x^M))+T[0]+3614090360&4294967295;I=b+(E<<7&4294967295|E>>>25),E=M+(x^I&(b^x))+T[1]+3905402710&4294967295,M=I+(E<<12&4294967295|E>>>20),E=x+(b^M&(I^b))+T[2]+606105819&4294967295,x=M+(E<<17&4294967295|E>>>15),E=b+(I^x&(M^I))+T[3]+3250441966&4294967295,b=x+(E<<22&4294967295|E>>>10),E=I+(M^b&(x^M))+T[4]+4118548399&4294967295,I=b+(E<<7&4294967295|E>>>25),E=M+(x^I&(b^x))+T[5]+1200080426&4294967295,M=I+(E<<12&4294967295|E>>>20),E=x+(b^M&(I^b))+T[6]+2821735955&4294967295,x=M+(E<<17&4294967295|E>>>15),E=b+(I^x&(M^I))+T[7]+4249261313&4294967295,b=x+(E<<22&4294967295|E>>>10),E=I+(M^b&(x^M))+T[8]+1770035416&4294967295,I=b+(E<<7&4294967295|E>>>25),E=M+(x^I&(b^x))+T[9]+2336552879&4294967295,M=I+(E<<12&4294967295|E>>>20),E=x+(b^M&(I^b))+T[10]+4294925233&4294967295,x=M+(E<<17&4294967295|E>>>15),E=b+(I^x&(M^I))+T[11]+2304563134&4294967295,b=x+(E<<22&4294967295|E>>>10),E=I+(M^b&(x^M))+T[12]+1804603682&4294967295,I=b+(E<<7&4294967295|E>>>25),E=M+(x^I&(b^x))+T[13]+4254626195&4294967295,M=I+(E<<12&4294967295|E>>>20),E=x+(b^M&(I^b))+T[14]+2792965006&4294967295,x=M+(E<<17&4294967295|E>>>15),E=b+(I^x&(M^I))+T[15]+1236535329&4294967295,b=x+(E<<22&4294967295|E>>>10),E=I+(x^M&(b^x))+T[1]+4129170786&4294967295,I=b+(E<<5&4294967295|E>>>27),E=M+(b^x&(I^b))+T[6]+3225465664&4294967295,M=I+(E<<9&4294967295|E>>>23),E=x+(I^b&(M^I))+T[11]+643717713&4294967295,x=M+(E<<14&4294967295|E>>>18),E=b+(M^I&(x^M))+T[0]+3921069994&4294967295,b=x+(E<<20&4294967295|E>>>12),E=I+(x^M&(b^x))+T[5]+3593408605&4294967295,I=b+(E<<5&4294967295|E>>>27),E=M+(b^x&(I^b))+T[10]+38016083&4294967295,M=I+(E<<9&4294967295|E>>>23),E=x+(I^b&(M^I))+T[15]+3634488961&4294967295,x=M+(E<<14&4294967295|E>>>18),E=b+(M^I&(x^M))+T[4]+3889429448&4294967295,b=x+(E<<20&4294967295|E>>>12),E=I+(x^M&(b^x))+T[9]+568446438&4294967295,I=b+(E<<5&4294967295|E>>>27),E=M+(b^x&(I^b))+T[14]+3275163606&4294967295,M=I+(E<<9&4294967295|E>>>23),E=x+(I^b&(M^I))+T[3]+4107603335&4294967295,x=M+(E<<14&4294967295|E>>>18),E=b+(M^I&(x^M))+T[8]+1163531501&4294967295,b=x+(E<<20&4294967295|E>>>12),E=I+(x^M&(b^x))+T[13]+2850285829&4294967295,I=b+(E<<5&4294967295|E>>>27),E=M+(b^x&(I^b))+T[2]+4243563512&4294967295,M=I+(E<<9&4294967295|E>>>23),E=x+(I^b&(M^I))+T[7]+1735328473&4294967295,x=M+(E<<14&4294967295|E>>>18),E=b+(M^I&(x^M))+T[12]+2368359562&4294967295,b=x+(E<<20&4294967295|E>>>12),E=I+(b^x^M)+T[5]+4294588738&4294967295,I=b+(E<<4&4294967295|E>>>28),E=M+(I^b^x)+T[8]+2272392833&4294967295,M=I+(E<<11&4294967295|E>>>21),E=x+(M^I^b)+T[11]+1839030562&4294967295,x=M+(E<<16&4294967295|E>>>16),E=b+(x^M^I)+T[14]+4259657740&4294967295,b=x+(E<<23&4294967295|E>>>9),E=I+(b^x^M)+T[1]+2763975236&4294967295,I=b+(E<<4&4294967295|E>>>28),E=M+(I^b^x)+T[4]+1272893353&4294967295,M=I+(E<<11&4294967295|E>>>21),E=x+(M^I^b)+T[7]+4139469664&4294967295,x=M+(E<<16&4294967295|E>>>16),E=b+(x^M^I)+T[10]+3200236656&4294967295,b=x+(E<<23&4294967295|E>>>9),E=I+(b^x^M)+T[13]+681279174&4294967295,I=b+(E<<4&4294967295|E>>>28),E=M+(I^b^x)+T[0]+3936430074&4294967295,M=I+(E<<11&4294967295|E>>>21),E=x+(M^I^b)+T[3]+3572445317&4294967295,x=M+(E<<16&4294967295|E>>>16),E=b+(x^M^I)+T[6]+76029189&4294967295,b=x+(E<<23&4294967295|E>>>9),E=I+(b^x^M)+T[9]+3654602809&4294967295,I=b+(E<<4&4294967295|E>>>28),E=M+(I^b^x)+T[12]+3873151461&4294967295,M=I+(E<<11&4294967295|E>>>21),E=x+(M^I^b)+T[15]+530742520&4294967295,x=M+(E<<16&4294967295|E>>>16),E=b+(x^M^I)+T[2]+3299628645&4294967295,b=x+(E<<23&4294967295|E>>>9),E=I+(x^(b|~M))+T[0]+4096336452&4294967295,I=b+(E<<6&4294967295|E>>>26),E=M+(b^(I|~x))+T[7]+1126891415&4294967295,M=I+(E<<10&4294967295|E>>>22),E=x+(I^(M|~b))+T[14]+2878612391&4294967295,x=M+(E<<15&4294967295|E>>>17),E=b+(M^(x|~I))+T[5]+4237533241&4294967295,b=x+(E<<21&4294967295|E>>>11),E=I+(x^(b|~M))+T[12]+1700485571&4294967295,I=b+(E<<6&4294967295|E>>>26),E=M+(b^(I|~x))+T[3]+2399980690&4294967295,M=I+(E<<10&4294967295|E>>>22),E=x+(I^(M|~b))+T[10]+4293915773&4294967295,x=M+(E<<15&4294967295|E>>>17),E=b+(M^(x|~I))+T[1]+2240044497&4294967295,b=x+(E<<21&4294967295|E>>>11),E=I+(x^(b|~M))+T[8]+1873313359&4294967295,I=b+(E<<6&4294967295|E>>>26),E=M+(b^(I|~x))+T[15]+4264355552&4294967295,M=I+(E<<10&4294967295|E>>>22),E=x+(I^(M|~b))+T[6]+2734768916&4294967295,x=M+(E<<15&4294967295|E>>>17),E=b+(M^(x|~I))+T[13]+1309151649&4294967295,b=x+(E<<21&4294967295|E>>>11),E=I+(x^(b|~M))+T[4]+4149444226&4294967295,I=b+(E<<6&4294967295|E>>>26),E=M+(b^(I|~x))+T[11]+3174756917&4294967295,M=I+(E<<10&4294967295|E>>>22),E=x+(I^(M|~b))+T[2]+718787259&4294967295,x=M+(E<<15&4294967295|E>>>17),E=b+(M^(x|~I))+T[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(x+(E<<21&4294967295|E>>>11))&4294967295,D.g[2]=D.g[2]+x&4294967295,D.g[3]=D.g[3]+M&4294967295}r.prototype.u=function(D,I){I===void 0&&(I=D.length);for(var b=I-this.blockSize,T=this.B,x=this.h,M=0;M<I;){if(x==0)for(;M<=b;)i(this,D,M),M+=this.blockSize;if(typeof D=="string"){for(;M<I;)if(T[x++]=D.charCodeAt(M++),x==this.blockSize){i(this,T),x=0;break}}else for(;M<I;)if(T[x++]=D[M++],x==this.blockSize){i(this,T),x=0;break}}this.h=x,this.o+=I},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;var b=8*this.o;for(I=D.length-8;I<D.length;++I)D[I]=b&255,b/=256;for(this.u(D),D=Array(16),I=b=0;4>I;++I)for(var T=0;32>T;T+=8)D[b++]=this.g[I]>>>T&255;return D};function o(D,I){var b=a;return Object.prototype.hasOwnProperty.call(b,D)?b[D]:b[D]=I(D)}function s(D,I){this.h=I;for(var b=[],T=!0,x=D.length-1;0<=x;x--){var M=D[x]|0;T&&M==I||(b[x]=M,T=!1)}this.g=b}var a={};function l(D){return-128<=D&&128>D?o(D,function(I){return new s([I|0],0>I?-1:0)}):new s([D|0],0>D?-1:0)}function u(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return O(u(-D));for(var I=[],b=1,T=0;D>=b;T++)I[T]=D/b|0,b*=4294967296;return new s(I,0)}function h(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return O(h(D.substring(1),I));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(I,8)),T=p,x=0;x<D.length;x+=8){var M=Math.min(8,D.length-x),E=parseInt(D.substring(x,x+M),I);8>M?(M=u(Math.pow(I,M)),T=T.j(M).add(u(E))):(T=T.j(b),T=T.add(u(E)))}return T}var p=l(0),w=l(1),_=l(16777216);n=s.prototype,n.m=function(){if(k(this))return-O(this).m();for(var D=0,I=1,b=0;b<this.g.length;b++){var T=this.i(b);D+=(0<=T?T:4294967296+T)*I,I*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(k(this))return"-"+O(this).toString(D);for(var I=u(Math.pow(D,6)),b=this,T="";;){var x=de(b,I).g;b=H(b,x.j(I));var M=((0<b.g.length?b.g[0]:b.h)>>>0).toString(D);if(b=x,S(b))return M+T;for(;6>M.length;)M="0"+M;T=M+T}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function k(D){return D.h==-1}n.l=function(D){return D=H(this,D),k(D)?-1:S(D)?0:1};function O(D){for(var I=D.g.length,b=[],T=0;T<I;T++)b[T]=~D.g[T];return new s(b,~D.h).add(w)}n.abs=function(){return k(this)?O(this):this},n.add=function(D){for(var I=Math.max(this.g.length,D.g.length),b=[],T=0,x=0;x<=I;x++){var M=T+(this.i(x)&65535)+(D.i(x)&65535),E=(M>>>16)+(this.i(x)>>>16)+(D.i(x)>>>16);T=E>>>16,M&=65535,E&=65535,b[x]=E<<16|M}return new s(b,b[b.length-1]&-2147483648?-1:0)};function H(D,I){return D.add(O(I))}n.j=function(D){if(S(this)||S(D))return p;if(k(this))return k(D)?O(this).j(O(D)):O(O(this).j(D));if(k(D))return O(this.j(O(D)));if(0>this.l(_)&&0>D.l(_))return u(this.m()*D.m());for(var I=this.g.length+D.g.length,b=[],T=0;T<2*I;T++)b[T]=0;for(T=0;T<this.g.length;T++)for(var x=0;x<D.g.length;x++){var M=this.i(T)>>>16,E=this.i(T)&65535,sr=D.i(x)>>>16,ha=D.i(x)&65535;b[2*T+2*x]+=E*ha,Y(b,2*T+2*x),b[2*T+2*x+1]+=M*ha,Y(b,2*T+2*x+1),b[2*T+2*x+1]+=E*sr,Y(b,2*T+2*x+1),b[2*T+2*x+2]+=M*sr,Y(b,2*T+2*x+2)}for(T=0;T<I;T++)b[T]=b[2*T+1]<<16|b[2*T];for(T=I;T<2*I;T++)b[T]=0;return new s(b,0)};function Y(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function Q(D,I){this.g=D,this.h=I}function de(D,I){if(S(I))throw Error("division by zero");if(S(D))return new Q(p,p);if(k(D))return I=de(O(D),I),new Q(O(I.g),O(I.h));if(k(I))return I=de(D,O(I)),new Q(O(I.g),I.h);if(30<D.g.length){if(k(D)||k(I))throw Error("slowDivide_ only works with positive integers.");for(var b=w,T=I;0>=T.l(D);)b=xe(b),T=xe(T);var x=ce(b,1),M=ce(T,1);for(T=ce(T,2),b=ce(b,2);!S(T);){var E=M.add(T);0>=E.l(D)&&(x=x.add(b),M=E),T=ce(T,1),b=ce(b,1)}return I=H(D,x.j(I)),new Q(x,I)}for(x=p;0<=D.l(I);){for(b=Math.max(1,Math.floor(D.m()/I.m())),T=Math.ceil(Math.log(b)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),M=u(b),E=M.j(I);k(E)||0<E.l(D);)b-=T,M=u(b),E=M.j(I);S(M)&&(M=w),x=x.add(M),D=H(D,E)}return new Q(x,D)}n.A=function(D){return de(this,D).h},n.and=function(D){for(var I=Math.max(this.g.length,D.g.length),b=[],T=0;T<I;T++)b[T]=this.i(T)&D.i(T);return new s(b,this.h&D.h)},n.or=function(D){for(var I=Math.max(this.g.length,D.g.length),b=[],T=0;T<I;T++)b[T]=this.i(T)|D.i(T);return new s(b,this.h|D.h)},n.xor=function(D){for(var I=Math.max(this.g.length,D.g.length),b=[],T=0;T<I;T++)b[T]=this.i(T)^D.i(T);return new s(b,this.h^D.h)};function xe(D){for(var I=D.g.length+1,b=[],T=0;T<I;T++)b[T]=D.i(T)<<1|D.i(T-1)>>>31;return new s(b,D.h)}function ce(D,I){var b=I>>5;I%=32;for(var T=D.g.length-b,x=[],M=0;M<T;M++)x[M]=0<I?D.i(M+b)>>>I|D.i(M+b+1)<<32-I:D.i(M+b);return new s(x,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o0=Xx.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,bi=Xx.Integer=s}).apply(typeof Jx<"u"?Jx:typeof self<"u"?self:typeof window<"u"?window:{});var of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kr={};var s0,W4,zs,a0,nl,sf,c0,l0,u0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof of=="object"&&of];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var A=c[m];if(!(A in f))break e;f=f[A]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,A={next:function(){if(!m&&f<c.length){var F=f++;return{value:d(F,c[F]),done:!1}}return m=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function l(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function u(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,m),c.apply(d,A)}}return function(){return c.apply(d,arguments)}}function w(c,d,f){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,w.apply(null,arguments)}function _(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,A,F){for(var q=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)q[Ue-2]=arguments[Ue];return d.prototype[A].apply(m,q)}}function k(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function O(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(l(m)){let A=c.length||0,F=m.length||0;c.length=A+F;for(let q=0;q<F;q++)c[A+q]=m[q]}else c.push(m)}}class H{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Y(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function de(c){return de[" "](c),c}de[" "]=function(){};var xe=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ce(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function I(c){let d={};for(let f in c)d[f]=c[f];return d}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,d){let f,m;for(let A=1;A<arguments.length;A++){m=arguments[A];for(f in m)c[f]=m[f];for(let F=0;F<b.length;F++)f=b[F],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function x(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function M(c){a.setTimeout(()=>{throw c},0)}function E(){var c=np;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class sr{constructor(){this.h=this.g=null}add(d,f){let m=ha.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var ha=new H(()=>new oM,c=>c.reset());class oM{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let fa,pa=!1,np=new sr,bw=()=>{let c=a.Promise.resolve(void 0);fa=()=>{c.then(sM)}};var sM=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){M(f)}var d=ha;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}pa=!1};function Br(){this.s=this.s,this.C=this.C}Br.prototype.s=!1,Br.prototype.ma=function(){this.s||(this.s=!0,this.N())},Br.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Et(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Et.prototype.h=function(){this.defaultPrevented=!0};var aM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function ma(c,d){if(Et.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(xe){e:{try{de(d.nodeName);var A=!0;break e}catch{}A=!1}A||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:cM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ma.aa.h.call(this)}}S(ma,Et);var cM={2:"touch",3:"pen",4:"mouse"};ma.prototype.h=function(){ma.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ga="closure_listenable_"+(1e6*Math.random()|0),lM=0;function uM(c,d,f,m,A){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=A,this.key=++lM,this.da=this.fa=!1}function Sl(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function xl(c){this.src=c,this.g={},this.h=0}xl.prototype.add=function(c,d,f,m,A){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var q=ip(c,d,m,A);return-1<q?(d=c[q],f||(d.fa=!1)):(d=new uM(d,this.src,F,!!m,A),d.fa=f,c.push(d)),d};function rp(c,d){var f=d.type;if(f in c.g){var m=c.g[f],A=Array.prototype.indexOf.call(m,d,void 0),F;(F=0<=A)&&Array.prototype.splice.call(m,A,1),F&&(Sl(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function ip(c,d,f,m){for(var A=0;A<c.length;++A){var F=c[A];if(!F.da&&F.listener==d&&F.capture==!!f&&F.ha==m)return A}return-1}var op="closure_lm_"+(1e6*Math.random()|0),sp={};function Ew(c,d,f,m,A){if(m&&m.once)return Dw(c,d,f,m,A);if(Array.isArray(d)){for(var F=0;F<d.length;F++)Ew(c,d[F],f,m,A);return null}return f=up(f),c&&c[ga]?c.K(d,f,u(m)?!!m.capture:!!m,A):Cw(c,d,f,!1,m,A)}function Cw(c,d,f,m,A,F){if(!d)throw Error("Invalid event type");var q=u(A)?!!A.capture:!!A,Ue=cp(c);if(Ue||(c[op]=Ue=new xl(c)),f=Ue.add(d,f,m,q,F),f.proxy)return f;if(m=dM(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)aM||(A=q),A===void 0&&(A=!1),c.addEventListener(d.toString(),m,A);else if(c.attachEvent)c.attachEvent(Sw(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function dM(){function c(f){return d.call(c.src,c.listener,f)}let d=hM;return c}function Dw(c,d,f,m,A){if(Array.isArray(d)){for(var F=0;F<d.length;F++)Dw(c,d[F],f,m,A);return null}return f=up(f),c&&c[ga]?c.L(d,f,u(m)?!!m.capture:!!m,A):Cw(c,d,f,!0,m,A)}function Tw(c,d,f,m,A){if(Array.isArray(d))for(var F=0;F<d.length;F++)Tw(c,d[F],f,m,A);else m=u(m)?!!m.capture:!!m,f=up(f),c&&c[ga]?(c=c.i,d=String(d).toString(),d in c.g&&(F=c.g[d],f=ip(F,f,m,A),-1<f&&(Sl(F[f]),Array.prototype.splice.call(F,f,1),F.length==0&&(delete c.g[d],c.h--)))):c&&(c=cp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=ip(d,f,m,A)),(f=-1<c?d[c]:null)&&ap(f))}function ap(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ga])rp(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(Sw(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=cp(d))?(rp(f,c),f.h==0&&(f.src=null,d[op]=null)):Sl(c)}}}function Sw(c){return c in sp?sp[c]:sp[c]="on"+c}function hM(c,d){if(c.da)c=!0;else{d=new ma(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&ap(c),c=f.call(m,d)}return c}function cp(c){return c=c[op],c instanceof xl?c:null}var lp="__closure_events_fn_"+(1e9*Math.random()>>>0);function up(c){return typeof c=="function"?c:(c[lp]||(c[lp]=function(d){return c.handleEvent(d)}),c[lp])}function Ct(){Br.call(this),this.i=new xl(this),this.M=this,this.F=null}S(Ct,Br),Ct.prototype[ga]=!0,Ct.prototype.removeEventListener=function(c,d,f,m){Tw(this,c,d,f,m)};function Nt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new Et(d,c);else if(d instanceof Et)d.target=d.target||c;else{var A=d;d=new Et(m,c),T(d,A)}if(A=!0,f)for(var F=f.length-1;0<=F;F--){var q=d.g=f[F];A=Al(q,m,!0,d)&&A}if(q=d.g=c,A=Al(q,m,!0,d)&&A,A=Al(q,m,!1,d)&&A,f)for(F=0;F<f.length;F++)q=d.g=f[F],A=Al(q,m,!1,d)&&A}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)Sl(f[m]);delete c.g[d],c.h--}}this.F=null},Ct.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},Ct.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function Al(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var A=!0,F=0;F<d.length;++F){var q=d[F];if(q&&!q.da&&q.capture==f){var Ue=q.listener,gt=q.ha||q.src;q.fa&&rp(c.i,q),A=Ue.call(gt,m)!==!1&&A}}return A&&!m.defaultPrevented}function xw(c,d,f){if(typeof c=="function")f&&(c=w(c,f));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Aw(c){c.g=xw(()=>{c.g=null,c.i&&(c.i=!1,Aw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class fM extends Br{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Aw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function va(c){Br.call(this),this.h=c,this.g={}}S(va,Br);var Mw=[];function Rw(c){ce(c.g,function(d,f){this.g.hasOwnProperty(f)&&ap(d)},c),c.g={}}va.prototype.N=function(){va.aa.N.call(this),Rw(this)},va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dp=a.JSON.stringify,pM=a.JSON.parse,mM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function hp(){}hp.prototype.h=null;function Pw(c){return c.h||(c.h=c.i())}function Nw(){}var ya={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fp(){Et.call(this,"d")}S(fp,Et);function pp(){Et.call(this,"c")}S(pp,Et);var Mi={},Ow=null;function Ml(){return Ow=Ow||new Ct}Mi.La="serverreachability";function kw(c){Et.call(this,Mi.La,c)}S(kw,Et);function _a(c){let d=Ml();Nt(d,new kw(d))}Mi.STAT_EVENT="statevent";function Fw(c,d){Et.call(this,Mi.STAT_EVENT,c),this.stat=d}S(Fw,Et);function Ot(c){let d=Ml();Nt(d,new Fw(d,c))}Mi.Ma="timingevent";function Lw(c,d){Et.call(this,Mi.Ma,c),this.size=d}S(Lw,Et);function wa(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ia(){this.g=!0}Ia.prototype.xa=function(){this.g=!1};function gM(c,d,f,m,A,F){c.info(function(){if(c.g)if(F)for(var q="",Ue=F.split("&"),gt=0;gt<Ue.length;gt++){var Me=Ue[gt].split("=");if(1<Me.length){var Dt=Me[0];Me=Me[1];var Tt=Dt.split("_");q=2<=Tt.length&&Tt[1]=="type"?q+(Dt+"="+Me+"&"):q+(Dt+"=redacted&")}}else q=null;else q=F;return"XMLHTTP REQ ("+m+") [attempt "+A+"]: "+d+`
`+f+`
`+q})}function vM(c,d,f,m,A,F,q){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+A+"]: "+d+`
`+f+`
`+F+" "+q})}function Ao(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+_M(c,f)+(m?" "+m:"")})}function yM(c,d){c.info(function(){return"TIMEOUT: "+d})}Ia.prototype.info=function(){};function _M(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var A=m[1];if(Array.isArray(A)&&!(1>A.length)){var F=A[0];if(F!="noop"&&F!="stop"&&F!="close")for(var q=1;q<A.length;q++)A[q]=""}}}}return dp(f)}catch{return d}}var Rl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mp;function Pl(){}S(Pl,hp),Pl.prototype.g=function(){return new XMLHttpRequest},Pl.prototype.i=function(){return{}},mp=new Pl;function $r(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new va(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jw}function jw(){this.i=null,this.g="",this.h=!1}var Uw={},gp={};function vp(c,d,f){c.L=1,c.v=Fl(ar(d)),c.m=f,c.P=!0,Bw(c,null)}function Bw(c,d){c.F=Date.now(),Nl(c),c.A=ar(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),tI(f.i,"t",m),c.C=0,f=c.j.J,c.h=new jw,c.g=_I(c.j,f?d:null,!c.m),0<c.O&&(c.M=new fM(w(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var A="readystatechange";Array.isArray(A)||(A&&(Mw[0]=A.toString()),A=Mw);for(var F=0;F<A.length;F++){var q=Ew(f,A[F],m||d.handleEvent,!1,d.h||d);if(!q)break;d.g[q.key]=q}d=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),_a(),gM(c.i,c.u,c.A,c.l,c.R,c.m)}$r.prototype.ca=function(c){c=c.target;let d=this.M;d&&cr(c)==3?d.j():this.Y(c)},$r.prototype.Y=function(c){try{if(c==this.g)e:{let Tt=cr(this.g);var d=this.g.Ba();let Po=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||cI(this.g)))){this.J||Tt!=4||d==7||(d==8||0>=Po?_a(3):_a(2)),yp(this);var f=this.g.Z();this.X=f;t:if($w(this)){var m=cI(this.g);c="";var A=m.length,F=cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ri(this),ba(this);var q="";break t}this.h.i=new a.TextDecoder}for(d=0;d<A;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(F&&d==A-1)});m.length=0,this.h.g+=c,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=f==200,vM(this.i,this.u,this.A,this.l,this.R,Tt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,gt=this.g;if((Ue=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Ue)){var Me=Ue;break t}}Me=null}if(f=Me)Ao(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_p(this,f);else{this.o=!1,this.s=3,Ot(12),Ri(this),ba(this);break e}}if(this.P){f=!0;let _n;for(;!this.J&&this.C<q.length;)if(_n=wM(this,q),_n==gp){Tt==4&&(this.s=4,Ot(14),f=!1),Ao(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==Uw){this.s=4,Ot(15),Ao(this.i,this.l,q,"[Invalid Chunk]"),f=!1;break}else Ao(this.i,this.l,_n,null),_p(this,_n);if($w(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||q.length!=0||this.h.h||(this.s=1,Ot(16),f=!1),this.o=this.o&&f,!f)Ao(this.i,this.l,q,"[Invalid Chunked Response]"),Ri(this),ba(this);else if(0<q.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Dp(Dt),Dt.M=!0,Ot(11))}}else Ao(this.i,this.l,q,null),_p(this,q);Tt==4&&Ri(this),this.o&&!this.J&&(Tt==4?mI(this.j,this):(this.o=!1,Nl(this)))}else LM(this.g),f==400&&0<q.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),Ri(this),ba(this)}}}catch{}finally{}};function $w(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function wM(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?gp:(f=Number(d.substring(f,m)),isNaN(f)?Uw:(m+=1,m+f>d.length?gp:(d=d.slice(m,m+f),c.C=m+f,d)))}$r.prototype.cancel=function(){this.J=!0,Ri(this)};function Nl(c){c.S=Date.now()+c.I,Hw(c,c.I)}function Hw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=wa(w(c.ba,c),d)}function yp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}$r.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(yM(this.i,this.A),this.L!=2&&(_a(),Ot(17)),Ri(this),this.s=2,ba(this)):Hw(this,this.S-c)};function ba(c){c.j.G==0||c.J||mI(c.j,c)}function Ri(c){yp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Rw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function _p(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||wp(f.h,c))){if(!c.K&&wp(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var A=m;if(A[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Bl(f),jl(f);else break e;Cp(f),Ot(18)}}else f.za=A[1],0<f.za-f.T&&37500>A[2]&&f.F&&f.v==0&&!f.C&&(f.C=wa(w(f.Za,f),6e3));if(1>=Gw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ni(f,11)}else if((c.K||f.g==c)&&Bl(f),!Y(d))for(A=f.Da.g.parse(d),d=0;d<A.length;d++){let Me=A[d];if(f.T=Me[0],Me=Me[1],f.G==2)if(Me[0]=="c"){f.K=Me[1],f.ia=Me[2];let Dt=Me[3];Dt!=null&&(f.la=Dt,f.j.info("VER="+f.la));let Tt=Me[4];Tt!=null&&(f.Aa=Tt,f.j.info("SVER="+f.Aa));let Po=Me[5];Po!=null&&typeof Po=="number"&&0<Po&&(m=1.5*Po,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let _n=c.g;if(_n){let Hl=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hl){var F=m.h;F.g||Hl.indexOf("spdy")==-1&&Hl.indexOf("quic")==-1&&Hl.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Ip(F,F.h),F.h=null))}if(m.D){let Tp=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;Tp&&(m.ya=Tp,ze(m.I,m.D,Tp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var q=c;if(m.qa=yI(m,m.J?m.ia:null,m.W),q.K){Ww(m.h,q);var Ue=q,gt=m.L;gt&&(Ue.I=gt),Ue.B&&(yp(Ue),Nl(Ue)),m.g=q}else fI(m);0<f.i.length&&Ul(f)}else Me[0]!="stop"&&Me[0]!="close"||Ni(f,7);else f.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Ni(f,7):Ep(f):Me[0]!="noop"&&f.l&&f.l.ta(Me),f.v=0)}}_a(4)}catch{}}var IM=class{constructor(c,d){this.g=c,this.map=d}};function zw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Gw(c){return c.h?1:c.g?c.g.size:0}function wp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Ip(c,d){c.g?c.g.add(d):c.h=d}function Ww(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}zw.prototype.cancel=function(){if(this.i=Kw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Kw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return k(c.i)}function bM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function EM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function Qw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=EM(c),m=bM(c),A=m.length,F=0;F<A;F++)d.call(void 0,m[F],f&&f[F],c)}var Yw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function CM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),A=null;if(0<=m){var F=c[f].substring(0,m);A=c[f].substring(m+1)}else F=c[f];d(F,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function Pi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Pi){this.h=c.h,Ol(this,c.j),this.o=c.o,this.g=c.g,kl(this,c.s),this.l=c.l;var d=c.i,f=new Da;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Zw(this,f),this.m=c.m}else c&&(d=String(c).match(Yw))?(this.h=!1,Ol(this,d[1]||"",!0),this.o=Ea(d[2]||""),this.g=Ea(d[3]||"",!0),kl(this,d[4]),this.l=Ea(d[5]||"",!0),Zw(this,d[6]||"",!0),this.m=Ea(d[7]||"")):(this.h=!1,this.i=new Da(null,this.h))}Pi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ca(d,Jw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ca(d,Jw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ca(f,f.charAt(0)=="/"?SM:TM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ca(f,AM)),c.join("")};function ar(c){return new Pi(c)}function Ol(c,d,f){c.j=f?Ea(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function kl(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Zw(c,d,f){d instanceof Da?(c.i=d,MM(c.i,c.h)):(f||(d=Ca(d,xM)),c.i=new Da(d,c.h))}function ze(c,d,f){c.i.set(d,f)}function Fl(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ea(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ca(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,DM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function DM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Jw=/[#\/\?@]/g,TM=/[#\?:]/g,SM=/[#\?]/g,xM=/[#\?@]/g,AM=/#/g;function Da(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Hr(c){c.g||(c.g=new Map,c.h=0,c.i&&CM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Da.prototype,n.add=function(c,d){Hr(this),this.i=null,c=Mo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function Xw(c,d){Hr(c),d=Mo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function eI(c,d){return Hr(c),d=Mo(c,d),c.g.has(d)}n.forEach=function(c,d){Hr(this),this.g.forEach(function(f,m){f.forEach(function(A){c.call(d,A,m,this)},this)},this)},n.na=function(){Hr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let A=c[m];for(let F=0;F<A.length;F++)f.push(d[m])}return f},n.V=function(c){Hr(this);let d=[];if(typeof c=="string")eI(this,c)&&(d=d.concat(this.g.get(Mo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Hr(this),this.i=null,c=Mo(this,c),eI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function tI(c,d,f){Xw(c,d),0<f.length&&(c.i=null,c.g.set(Mo(c,d),k(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let F=encodeURIComponent(String(m)),q=this.V(m);for(m=0;m<q.length;m++){var A=F;q[m]!==""&&(A+="="+encodeURIComponent(String(q[m]))),c.push(A)}}return this.i=c.join("&")};function Mo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function MM(c,d){d&&!c.j&&(Hr(c),c.i=null,c.g.forEach(function(f,m){var A=m.toLowerCase();m!=A&&(Xw(this,m),tI(this,A,f))},c)),c.j=d}function RM(c,d){let f=new Ia;if(a.Image){let m=new Image;m.onload=_(zr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=_(zr,f,"TestLoadImage: error",!1,d,m),m.onabort=_(zr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=_(zr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function PM(c,d){let f=new Ia,m=new AbortController,A=setTimeout(()=>{m.abort(),zr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(F=>{clearTimeout(A),F.ok?zr(f,"TestPingServer: ok",!0,d):zr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(A),zr(f,"TestPingServer: error",!1,d)})}function zr(c,d,f,m,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),m(f)}catch{}}function NM(){this.g=new mM}function OM(c,d,f){let m=f||"";try{Qw(c,function(A,F){let q=A;u(A)&&(q=dp(A)),d.push(m+F+"="+encodeURIComponent(q))})}catch(A){throw d.push(m+"type="+encodeURIComponent("_badmap")),A}}function Ta(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Ta,hp),Ta.prototype.g=function(){return new Ll(this.l,this.j)},Ta.prototype.i=function(c){return function(){return c}}({});function Ll(c,d){Ct.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Ll,Ct),n=Ll.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,xa(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sa(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,xa(this)),this.g&&(this.readyState=3,xa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function nI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Sa(this):xa(this),this.readyState==3&&nI(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Sa(this))},n.Qa=function(c){this.g&&(this.response=c,Sa(this))},n.ga=function(){this.g&&Sa(this)};function Sa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,xa(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function xa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ll.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function rI(c){let d="";return ce(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function bp(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=rI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):ze(c,d,f))}function Je(c){Ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Je,Ct);var kM=/^https?$/i,FM=["POST","PUT"];n=Je.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mp.g(),this.v=this.o?Pw(this.o):Pw(mp),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(F){iI(this,F);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var A in m)f.set(A,m[A]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let F of m.keys())f.set(F,m.get(F));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(F=>F.toLowerCase()=="content-type"),A=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(FM,d,void 0))||m||A||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[F,q]of f)this.g.setRequestHeader(F,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{aI(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){iI(this,F)}};function iI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,oI(c),Vl(c)}function oI(c){c.A||(c.A=!0,Nt(c,"complete"),Nt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Nt(this,"complete"),Nt(this,"abort"),Vl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vl(this,!0)),Je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?sI(this):this.bb())},n.bb=function(){sI(this)};function sI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||cr(c)!=4||c.Z()!=2)){if(c.u&&cr(c)==4)xw(c.Ea,0,c);else if(Nt(c,"readystatechange"),cr(c)==4){c.h=!1;try{let q=c.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=q===0){var A=String(c.D).match(Yw)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),m=!kM.test(A?A.toLowerCase():"")}f=m}if(f)Nt(c,"complete"),Nt(c,"success");else{c.m=6;try{var F=2<cr(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",oI(c)}}finally{Vl(c)}}}}function Vl(c,d){if(c.g){aI(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Nt(c,"ready");try{f.onreadystatechange=m}catch{}}}function aI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function cr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<cr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),pM(d)}};function cI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function LM(c){let d={};c=(c.g&&2<=cr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(Y(c[m]))continue;var f=x(c[m]);let A=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let F=d[A]||[];d[A]=F,F.push(f)}D(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function lI(c){this.Aa=0,this.i=[],this.j=new Ia,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Aa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Aa("baseRetryDelayMs",5e3,c),this.cb=Aa("retryDelaySeedMs",1e4,c),this.Wa=Aa("forwardChannelMaxRetries",2,c),this.wa=Aa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new zw(c&&c.concurrentRequestLimit),this.Da=new NM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=lI.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){Ot(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=yI(this,null,this.W),Ul(this)};function Ep(c){if(uI(c),c.G==3){var d=c.U++,f=ar(c.I);if(ze(f,"SID",c.K),ze(f,"RID",d),ze(f,"TYPE","terminate"),Ma(c,f),d=new $r(c,c.j,d),d.L=2,d.v=Fl(ar(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=_I(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Nl(d)}vI(c)}function jl(c){c.g&&(Dp(c),c.g.cancel(),c.g=null)}function uI(c){jl(c),c.u&&(a.clearTimeout(c.u),c.u=null),Bl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ul(c){if(!qw(c.h)&&!c.s){c.s=!0;var d=c.Ga;fa||bw(),pa||(fa(),pa=!0),np.add(d,c),c.B=0}}function VM(c,d){return Gw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=wa(w(c.Ga,c,d),gI(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let A=new $r(this,this.j,c),F=this.o;if(this.S&&(F?(F=I(F),T(F,this.S)):F=this.S),this.m!==null||this.O||(A.H=F,F=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=hI(this,A,d),f=ar(this.I),ze(f,"RID",c),ze(f,"CVER",22),this.D&&ze(f,"X-HTTP-Session-Id",this.D),Ma(this,f),F&&(this.O?d="headers="+encodeURIComponent(String(rI(F)))+"&"+d:this.m&&bp(f,this.m,F)),Ip(this.h,A),this.Ua&&ze(f,"TYPE","init"),this.P?(ze(f,"$req",d),ze(f,"SID","null"),A.T=!0,vp(A,f,null)):vp(A,f,d),this.G=2}}else this.G==3&&(c?dI(this,c):this.i.length==0||qw(this.h)||dI(this))};function dI(c,d){var f;d?f=d.l:f=c.U++;let m=ar(c.I);ze(m,"SID",c.K),ze(m,"RID",f),ze(m,"AID",c.T),Ma(c,m),c.m&&c.o&&bp(m,c.m,c.o),f=new $r(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=hI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ip(c.h,f),vp(f,m,d)}function Ma(c,d){c.H&&ce(c.H,function(f,m){ze(d,m,f)}),c.l&&Qw({},function(f,m){ze(d,m,f)})}function hI(c,d,f){f=Math.min(c.i.length,f);var m=c.l?w(c.l.Na,c.l,c):null;e:{var A=c.i;let F=-1;for(;;){let q=["count="+f];F==-1?0<f?(F=A[0].g,q.push("ofs="+F)):F=0:q.push("ofs="+F);let Ue=!0;for(let gt=0;gt<f;gt++){let Me=A[gt].g,Dt=A[gt].map;if(Me-=F,0>Me)F=Math.max(0,A[gt].g-100),Ue=!1;else try{OM(Dt,q,"req"+Me+"_")}catch{m&&m(Dt)}}if(Ue){m=q.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function fI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;fa||bw(),pa||(fa(),pa=!0),np.add(d,c),c.v=0}}function Cp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=wa(w(c.Fa,c),gI(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,pI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=wa(w(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),jl(this),pI(this))};function Dp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function pI(c){c.g=new $r(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=ar(c.qa);ze(d,"RID","rpc"),ze(d,"SID",c.K),ze(d,"AID",c.T),ze(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(d,"TO",c.ja),ze(d,"TYPE","xmlhttp"),Ma(c,d),c.m&&c.o&&bp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Fl(ar(d)),f.m=null,f.P=!0,Bw(f,c)}n.Za=function(){this.C!=null&&(this.C=null,jl(this),Cp(this),Ot(19))};function Bl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function mI(c,d){var f=null;if(c.g==d){Bl(c),Dp(c),c.g=null;var m=2}else if(wp(c.h,d))f=d.D,Ww(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var A=c.B;m=Ml(),Nt(m,new Lw(m,f)),Ul(c)}else fI(c);else if(A=d.s,A==3||A==0&&0<d.X||!(m==1&&VM(c,d)||m==2&&Cp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),A){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function gI(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ni(c,d){if(c.j.info("Error code "+d),d==2){var f=w(c.fb,c),m=c.Xa;let A=!m;m=new Pi(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ol(m,"https"),Fl(m),A?RM(m.toString(),f):PM(m.toString(),f)}else Ot(2);c.G=0,c.l&&c.l.sa(d),vI(c),uI(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function vI(c){if(c.G=0,c.ka=[],c.l){let d=Kw(c.h);(d.length!=0||c.i.length!=0)&&(O(c.ka,d),O(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function yI(c,d,f){var m=f instanceof Pi?ar(f):new Pi(f);if(m.g!="")d&&(m.g=d+"."+m.g),kl(m,m.s);else{var A=a.location;m=A.protocol,d=d?d+"."+A.hostname:A.hostname,A=+A.port;var F=new Pi(null);m&&Ol(F,m),d&&(F.g=d),A&&kl(F,A),f&&(F.l=f),m=F}return f=c.D,d=c.ya,f&&d&&ze(m,f,d),ze(m,"VER",c.la),Ma(c,m),m}function _I(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Je(new Ta({eb:f})):new Je(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wI(){}n=wI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function $l(){}$l.prototype.g=function(c,d){return new Qt(c,d)};function Qt(c,d){Ct.call(this),this.g=new lI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!Y(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Y(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Ro(this)}S(Qt,Ct),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){Ep(this.g)},Qt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=dp(c),c=f);d.i.push(new IM(d.Ya++,c)),d.G==3&&Ul(d)},Qt.prototype.N=function(){this.g.l=null,delete this.j,Ep(this.g),delete this.g,Qt.aa.N.call(this)};function II(c){fp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(II,fp);function bI(){pp.call(this),this.status=1}S(bI,pp);function Ro(c){this.g=c}S(Ro,wI),Ro.prototype.ua=function(){Nt(this.g,"a")},Ro.prototype.ta=function(c){Nt(this.g,new II(c))},Ro.prototype.sa=function(c){Nt(this.g,new bI)},Ro.prototype.ra=function(){Nt(this.g,"b")},$l.prototype.createWebChannel=$l.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,u0=kr.createWebChannelTransport=function(){return new $l},l0=kr.getStatEventTarget=function(){return Ml()},c0=kr.Event=Mi,sf=kr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rl.NO_ERROR=0,Rl.TIMEOUT=8,Rl.HTTP_ERROR=6,nl=kr.ErrorCode=Rl,Vw.COMPLETE="complete",a0=kr.EventType=Vw,Nw.EventType=ya,ya.OPEN="a",ya.CLOSE="b",ya.ERROR="c",ya.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,zs=kr.WebChannel=Nw,W4=kr.FetchXmlHttpFactory=Ta,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,s0=kr.XhrIo=Je}).apply(typeof of<"u"?of:typeof self<"u"?self:typeof window<"u"?window:{});var eA="@firebase/firestore";var mt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");var la="10.14.0";var yo=new yi("@firebase/firestore");function rl(){return yo.logLevel}function ee(n,...e){if(yo.logLevel<=De.DEBUG){let t=e.map(Y_);yo.debug(`Firestore (${la}): ${n}`,...t)}}function Vr(n,...e){if(yo.logLevel<=De.ERROR){let t=e.map(Y_);yo.error(`Firestore (${la}): ${n}`,...t)}}function Zs(n,...e){if(yo.logLevel<=De.WARN){let t=e.map(Y_);yo.warn(`Firestore (${la}): ${n}`,...t)}}function Y_(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function he(n="Unexpected state"){let e=`FIRESTORE (${la}) INTERNAL ASSERTION FAILED: `+n;throw Vr(e),new Error(e)}function Fe(n,e){n||he()}function pe(n,e){return n}var V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},X=class extends gn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Fr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var df=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},m0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mt.UNAUTHENTICATED))}shutdown(){}},g0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},v0=class{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),o=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Fr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>N(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Fr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new df(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new mt(e)}},y0=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},_0=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new y0(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},w0=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},I0=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Fe(this.o===void 0);let r=o=>{o.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,ee("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fe(typeof t.token=="string"),this.R=t.token,new w0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function K4(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var hf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=K4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function Pe(n,e){return n<e?-1:n>e?1:0}function Js(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var bt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new X(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new X(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new X(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ve=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new bt(0,0))}static max(){return new n(new bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ff=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&he(),r===void 0?r=e.length-t:r>e.length-t&&he(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Ze=class n extends ff{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new X(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},Q4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,sn=class n extends ff{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Q4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new X(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new X(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new X(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ae=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ze.fromString(e))}static fromName(e){return new n(Ze.fromString(e).popFirst(5))}static empty(){return new n(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ze(e.slice()))}};var b0=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};b0.UNKNOWN_ID=-1;function Y4(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(r===1e9?new bt(t+1,0):new bt(t,r));return new _o(i,ae.empty(),e)}function Z4(n){return new _o(n.readTime,n.key,-1)}var _o=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ve.min(),ae.empty(),-1)}static max(){return new n(ve.max(),ae.empty(),-1)}};function J4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ae.comparator(n.documentKey,e.documentKey),t!==0?t:Pe(n.largestBatchId,e.largestBatchId))}var X4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",E0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function bl(n){return N(this,null,function*(){if(n.code!==V.FAILED_PRECONDITION||n.message!==X4)throw n;ee("LocalStore","Unexpectedly lost primary lease")})}var z=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let u=l;t(e[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function e$(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function El(n){return n.name==="IndexedDbTransactionError"}var FA=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function $f(n){return n==null}function ll(n){return n===0&&1/n==-1/0}function t$(n){return typeof n=="number"&&Number.isInteger(n)&&!ll(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var n$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],gZ=[...n$,"documentOverlays"],r$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],i$=r$,o$=[...i$,"indexConfiguration","indexState","indexEntries"];var vZ=[...o$,"globals"];function tA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function To(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function LA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Xe=class n{constructor(e,t){this.comparator=e,this.root=t||tr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ks(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ks(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ks(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ks(this.root,e,this.comparator,!0)}},Ks=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},tr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();let e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}};tr.EMPTY=null,tr.RED=!0,tr.BLACK=!1;tr.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,t,r,i,o){return this}insert(e,t,r){return new tr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Rt=class n{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pf(this.data.getIterator())}getIteratorFrom(e){return new pf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},pf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var yn=class n{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Rt(sn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Js(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var mf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Pt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new mf("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Pt.EMPTY_BYTE_STRING=new Pt("");var s$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(n){if(Fe(!!n),typeof n=="string"){let e=0,t=s$.exec(n);if(Fe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(n.seconds),nanos:Qe(n.nanos)}}function Qe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Di(n){return typeof n=="string"?Pt.fromBase64String(n):Pt.fromUint8Array(n)}function Z_(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function J_(n){let e=n.mapValue.fields.__previous_value__;return Z_(e)?J_(e):e}function ul(n){let e=jr(n.mapValue.fields.__local_write_time__.timestampValue);return new bt(e.seconds,e.nanos)}var C0=class{constructor(e,t,r,i,o,s,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}},gf=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var af={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Z_(n)?4:jA(n)?9007199254740991:VA(n)?10:11:he()}function ir(n,e){if(n===e)return!0;let t=wo(n);if(t!==wo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ul(n).isEqual(ul(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=jr(i.timestampValue),a=jr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Di(i.bytesValue).isEqual(Di(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Qe(i.geoPointValue.latitude)===Qe(o.geoPointValue.latitude)&&Qe(i.geoPointValue.longitude)===Qe(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Qe(i.integerValue)===Qe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Qe(i.doubleValue),a=Qe(o.doubleValue);return s===a?ll(s)===ll(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Js(n.arrayValue.values||[],e.arrayValue.values||[],ir);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(tA(s)!==tA(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ir(s[l],a[l])))return!1;return!0}(n,e);default:return he()}}function dl(n,e){return(n.values||[]).find(t=>ir(t,e))!==void 0}function Xs(n,e){if(n===e)return 0;let t=wo(n),r=wo(e);if(t!==r)return Pe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pe(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Qe(o.integerValue||o.doubleValue),l=Qe(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return nA(n.timestampValue,e.timestampValue);case 4:return nA(ul(n),ul(e));case 5:return Pe(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Di(o),l=Di(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){let h=Pe(a[u],l[u]);if(h!==0)return h}return Pe(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Pe(Qe(o.latitude),Qe(s.latitude));return a!==0?a:Pe(Qe(o.longitude),Qe(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return rA(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,h;let p=o.fields||{},w=s.fields||{},_=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(l=w.value)===null||l===void 0?void 0:l.arrayValue,k=Pe(((u=_?.values)===null||u===void 0?void 0:u.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return k!==0?k:rA(_,S)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===af.mapValue&&s===af.mapValue)return 0;if(o===af.mapValue)return 1;if(s===af.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){let w=Pe(l[p],h[p]);if(w!==0)return w;let _=Xs(a[l[p]],u[h[p]]);if(_!==0)return _}return Pe(l.length,h.length)}(n.mapValue,e.mapValue);default:throw he()}}function nA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Pe(n,e);let t=jr(n),r=jr(e),i=Pe(t.seconds,r.seconds);return i!==0?i:Pe(t.nanos,r.nanos)}function rA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Xs(t[i],r[i]);if(o)return o}return Pe(t.length,r.length)}function ea(n){return D0(n)}function D0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=jr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Di(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ae.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=D0(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${D0(t.fields[s])}`;return i+"}"}(n.mapValue):he()}function iA(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function T0(n){return!!n&&"integerValue"in n}function X_(n){return!!n&&"arrayValue"in n}function oA(n){return!!n&&"nullValue"in n}function sA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lf(n){return!!n&&"mapValue"in n}function VA(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function ol(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return To(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ol(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ol(n.arrayValue.values[t]);return e}return Object.assign({},n)}function jA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var on=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!lf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ol(t)}setAll(e){let t=sn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=ol(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());lf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ir(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];lf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){To(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(ol(this.value))}};function UA(n){let e=[];return To(n.fields,(t,r)=>{let i=new sn([t]);if(lf(r)){let o=UA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new yn(e)}var kn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ve.min(),ve.min(),ve.min(),on.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ve.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ve.min(),ve.min(),on.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ve.min(),ve.min(),on.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ta=class{constructor(e,t){this.position=e,this.inclusive=t}};function aA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ae.comparator(ae.fromName(s.referenceValue),t.key):r=Xs(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function cA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ir(n.position[t],e.position[t]))return!1;return!0}var Io=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function a$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var vf=class{},ct=class n extends vf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new x0(e,t,r):t==="array-contains"?new R0(e,r):t==="in"?new P0(e,r):t==="not-in"?new N0(e,r):t==="array-contains-any"?new O0(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new A0(e,r):new M0(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Xs(t,this.value)):t!==null&&wo(this.value)===wo(t)&&this.matchesComparison(Xs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Fn=class n extends vf{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return BA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function BA(n){return n.op==="and"}function $A(n){return c$(n)&&BA(n)}function c$(n){for(let e of n.filters)if(e instanceof Fn)return!1;return!0}function S0(n){if(n instanceof ct)return n.field.canonicalString()+n.op.toString()+ea(n.value);if($A(n))return n.filters.map(e=>S0(e)).join(",");{let e=n.filters.map(t=>S0(t)).join(",");return`${n.op}(${e})`}}function HA(n,e){return n instanceof ct?function(r,i){return i instanceof ct&&r.op===i.op&&r.field.isEqual(i.field)&&ir(r.value,i.value)}(n,e):n instanceof Fn?function(r,i){return i instanceof Fn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&HA(s,i.filters[a]),!0):!1}(n,e):void he()}function zA(n){return n instanceof ct?function(t){return`${t.field.canonicalString()} ${t.op} ${ea(t.value)}`}(n):n instanceof Fn?function(t){return t.op.toString()+" {"+t.getFilters().map(zA).join(" ,")+"}"}(n):"Filter"}var x0=class extends ct{constructor(e,t,r){super(e,t,r),this.key=ae.fromName(r.referenceValue)}matches(e){let t=ae.comparator(e.key,this.key);return this.matchesComparison(t)}},A0=class extends ct{constructor(e,t){super(e,"in",t),this.keys=qA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},M0=class extends ct{constructor(e,t){super(e,"not-in",t),this.keys=qA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function qA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ae.fromName(r.referenceValue))}var R0=class extends ct{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return X_(t)&&dl(t.arrayValue,this.value)}},P0=class extends ct{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&dl(this.value.arrayValue,t)}},N0=class extends ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!dl(this.value.arrayValue,t)}},O0=class extends ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!X_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>dl(this.value.arrayValue,r))}};var k0=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function lA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new k0(n,e,t,r,i,o,s)}function ew(n){let e=pe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>S0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),$f(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ea(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ea(r)).join(",")),e.ue=t}return e.ue}function tw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!a$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!HA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cA(n.startAt,e.startAt)&&cA(n.endAt,e.endAt)}function F0(n){return ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ti=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function l$(n,e,t,r,i,o,s,a){return new Ti(n,e,t,r,i,o,s,a)}function nw(n){return new Ti(n)}function uA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function GA(n){return n.collectionGroup!==null}function sl(n){let e=pe(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Rt(sn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Io(o,r))}),t.has(sn.keyField().canonicalString())||e.ce.push(new Io(sn.keyField(),r))}return e.ce}function nr(n){let e=pe(n);return e.le||(e.le=u$(e,sl(n))),e.le}function u$(n,e){if(n.limitType==="F")return lA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Io(i.field,o)});let t=n.endAt?new ta(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ta(n.startAt.position,n.startAt.inclusive):null;return lA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function L0(n,e){let t=n.filters.concat([e]);return new Ti(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function V0(n,e,t){return new Ti(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hf(n,e){return tw(nr(n),nr(e))&&n.limitType===e.limitType}function WA(n){return`${ew(nr(n))}|lt:${n.limitType}`}function qs(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>zA(i)).join(", ")}]`),$f(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ea(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ea(i)).join(",")),`Target(${r})`}(nr(n))}; limitType=${n.limitType})`}function zf(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ae.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of sl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){let u=aA(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,sl(r),i)||r.endAt&&!function(s,a,l){let u=aA(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,sl(r),i))}(n,e)}function d$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function KA(n){return(e,t)=>{let r=!1;for(let i of sl(n)){let o=h$(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function h$(n,e,t){let r=n.field.isKeyField()?ae.comparator(e.key,t.key):function(o,s,a){let l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Xs(l,u):he()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}var Si=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return LA(this.inner)}size(){return this.innerSize}};var f$=new Xe(ae.comparator);function Ur(){return f$}var QA=new Xe(ae.comparator);function il(...n){let e=QA;for(let t of n)e=e.insert(t.key,t);return e}function YA(n){let e=QA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function mo(){return al()}function ZA(){return al()}function al(){return new Si(n=>n.toString(),(n,e)=>n.isEqual(e))}var p$=new Xe(ae.comparator),m$=new Rt(ae.comparator);function Te(...n){let e=m$;for(let t of n)e=e.add(t);return e}var g$=new Rt(Pe);function v$(){return g$}function rw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ll(e)?"-0":e}}function JA(n){return{integerValue:""+n}}function y$(n,e){return t$(e)?JA(e):rw(n,e)}var na=class{constructor(){this._=void 0}};function _$(n,e,t){return n instanceof ra?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Z_(o)&&(o=J_(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof bo?e1(n,e):n instanceof Eo?t1(n,e):function(i,o){let s=XA(i,o),a=dA(s)+dA(i.Pe);return T0(s)&&T0(i.Pe)?JA(a):rw(i.serializer,a)}(n,e)}function w$(n,e,t){return n instanceof bo?e1(n,e):n instanceof Eo?t1(n,e):t}function XA(n,e){return n instanceof ia?function(r){return T0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ra=class extends na{},bo=class extends na{constructor(e){super(),this.elements=e}};function e1(n,e){let t=n1(e);for(let r of n.elements)t.some(i=>ir(i,r))||t.push(r);return{arrayValue:{values:t}}}var Eo=class extends na{constructor(e){super(),this.elements=e}};function t1(n,e){let t=n1(e);for(let r of n.elements)t=t.filter(i=>!ir(i,r));return{arrayValue:{values:t}}}var ia=class extends na{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function dA(n){return Qe(n.integerValue||n.doubleValue)}function n1(n){return X_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function I$(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof bo&&i instanceof bo||r instanceof Eo&&i instanceof Eo?Js(r.elements,i.elements,ir):r instanceof ia&&i instanceof ia?ir(r.Pe,i.Pe):r instanceof ra&&i instanceof ra}(n.transform,e.transform)}var j0=class{constructor(e,t){this.version=e,this.transformResults=t}},Lr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function uf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var oa=class{};function r1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new hl(n.key,Lr.none()):new Co(n.key,n.data,Lr.none());{let t=n.data,r=on.empty(),i=new Rt(sn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new or(n.key,r,new yn(i.toArray()),Lr.none())}}function b$(n,e,t){n instanceof Co?function(i,o,s){let a=i.value.clone(),l=fA(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof or?function(i,o,s){if(!uf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=fA(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(i1(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function cl(n,e,t,r){return n instanceof Co?function(o,s,a,l){if(!uf(o.precondition,s))return a;let u=o.value.clone(),h=pA(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof or?function(o,s,a,l){if(!uf(o.precondition,s))return a;let u=pA(o.fieldTransforms,l,s),h=s.data;return h.setAll(i1(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return uf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function E$(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=XA(r.transform,i||null);o!=null&&(t===null&&(t=on.empty()),t.set(r.field,o))}return t||null}function hA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Js(r,i,(o,s)=>I$(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Co=class extends oa{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},or=class extends oa{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function i1(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function fA(n,e,t){let r=new Map;Fe(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,w$(s,a,t[i]))}return r}function pA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,_$(o,s,e))}return r}var hl=class extends oa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},U0=class extends oa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var B0=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&b$(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=cl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=cl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=ZA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let l=r1(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Te())}isEqual(e){return this.batchId===e.batchId&&Js(this.mutations,e.mutations,(t,r)=>hA(t,r))&&Js(this.baseMutations,e.baseMutations,(t,r)=>hA(t,r))}},$0=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Fe(e.mutations.length===r.length);let i=function(){return p$}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var H0=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var z0=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var st,Se;function C$(n){switch(n){default:return he();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function o1(n){if(n===void 0)return Vr("GRPC error has no .code"),V.UNKNOWN;switch(n){case st.OK:return V.OK;case st.CANCELLED:return V.CANCELLED;case st.UNKNOWN:return V.UNKNOWN;case st.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case st.INTERNAL:return V.INTERNAL;case st.UNAVAILABLE:return V.UNAVAILABLE;case st.UNAUTHENTICATED:return V.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case st.NOT_FOUND:return V.NOT_FOUND;case st.ALREADY_EXISTS:return V.ALREADY_EXISTS;case st.PERMISSION_DENIED:return V.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case st.ABORTED:return V.ABORTED;case st.OUT_OF_RANGE:return V.OUT_OF_RANGE;case st.UNIMPLEMENTED:return V.UNIMPLEMENTED;case st.DATA_LOSS:return V.DATA_LOSS;default:return he()}}(Se=st||(st={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";var mA=null;function D$(){return new TextEncoder}var T$=new bi([4294967295,4294967295],0);function gA(n){let e=D$().encode(n),t=new o0;return t.update(e),new Uint8Array(t.digest())}function vA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new bi([t,r],0),new bi([i,o],0)]}var q0=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new go(`Invalid padding: ${t}`);if(r<0)throw new go(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new go(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new go(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=bi.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(bi.fromNumber(r)));return i.compare(T$)===1&&(i=new bi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=gA(e),[r,i]=vA(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=gA(e),[r,i]=vA(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},go=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var yf=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,fl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ve.min(),i,new Xe(Pe),Ur(),Te())}},fl=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Te(),Te(),Te())}};var Qs=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},_f=class{constructor(e,t){this.targetId=e,this.me=t}},wf=class{constructor(e,t,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},If=class{constructor(){this.fe=0,this.ge=_A(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Te(),t=Te(),r=Te();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:he()}}),new fl(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=_A()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},G0=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ur(),this.qe=yA(),this.Qe=new Xe(Pe)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:he()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(F0(o))if(r===0){let s=new ae(o.path);this.Ue(t,s,kn.newNoDocument(s,ve.min()))}else Fe(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(t);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}mA?.et(function(h,p,w,_,S){var k,O,H,Y,Q,de;let xe={localCacheCount:h,existenceFilterCount:p.count,databaseId:w.database,projectId:w.projectId},ce=p.unchangedNames;return ce&&(xe.bloomFilter={applied:S===0,hashCount:(k=ce?.hashCount)!==null&&k!==void 0?k:0,bitmapLength:(Y=(H=(O=ce?.bits)===null||O===void 0?void 0:O.bitmap)===null||H===void 0?void 0:H.length)!==null&&Y!==void 0?Y:0,padding:(de=(Q=ce?.bits)===null||Q===void 0?void 0:Q.padding)!==null&&de!==void 0?de:0,mightContain:D=>{var I;return(I=_?.mightContain(D))!==null&&I!==void 0&&I}}),xe}(s,e.me,this.Le.tt(),a,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Di(r).toUint8Array()}catch(l){if(l instanceof mf)return Zs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new q0(s,i,o)}catch(l){return Zs(l instanceof go?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&F0(a.target)){let l=new ae(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,kn.newNoDocument(l,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=Te();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new yf(e,t,this.Qe,this.ke,r);return this.ke=Ur(),this.qe=yA(),this.Qe=new Xe(Pe),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new If,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Rt(Pe),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||ee("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new If),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function yA(){return new Xe(ae.comparator)}function _A(){return new Xe(ae.comparator)}var S$={asc:"ASCENDING",desc:"DESCENDING"},x$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A$={and:"AND",or:"OR"},W0=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function K0(n,e){return n.useProto3Json||$f(e)?e:{value:e}}function bf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function s1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function M$(n,e){return bf(n,e.toTimestamp())}function rr(n){return Fe(!!n),ve.fromTimestamp(function(t){let r=jr(t);return new bt(r.seconds,r.nanos)}(n))}function iw(n,e){return Q0(n,e).canonicalString()}function Q0(n,e){let t=function(i){return new Ze(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function a1(n){let e=Ze.fromString(n);return Fe(h1(e)),e}function Y0(n,e){return iw(n.databaseId,e.path)}function d0(n,e){let t=a1(e);if(t.get(1)!==n.databaseId.projectId)throw new X(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new X(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ae(l1(t))}function c1(n,e){return iw(n.databaseId,e)}function R$(n){let e=a1(n);return e.length===4?Ze.emptyPath():l1(e)}function Z0(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function l1(n){return Fe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function wA(n,e,t){return{name:Y0(n,e),fields:t.value.mapValue.fields}}function P$(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(Fe(h===void 0||typeof h=="string"),Pt.fromBase64String(h||"")):(Fe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Pt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let h=u.code===void 0?V.UNKNOWN:o1(u.code);return new X(h,u.message||"")}(s);t=new wf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=d0(n,r.document.name),o=rr(r.document.updateTime),s=r.document.createTime?rr(r.document.createTime):ve.min(),a=new on({mapValue:{fields:r.document.fields}}),l=kn.newFoundDocument(i,o,s,a),u=r.targetIds||[],h=r.removedTargetIds||[];t=new Qs(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=d0(n,r.document),o=r.readTime?rr(r.readTime):ve.min(),s=kn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Qs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=d0(n,r.document),o=r.removedTargetIds||[];t=new Qs([],o,i,null)}else{if(!("filter"in e))return he();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new z0(i,o),a=r.targetId;t=new _f(a,s)}}return t}function N$(n,e){let t;if(e instanceof Co)t={update:wA(n,e.key,e.value)};else if(e instanceof hl)t={delete:Y0(n,e.key)};else if(e instanceof or)t={update:wA(n,e.key,e.data),updateMask:$$(e.fieldMask)};else{if(!(e instanceof U0))return he();t={verify:Y0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof ra)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof bo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Eo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ia)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw he()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:M$(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:he()}(n,e.precondition)),t}function O$(n,e){return n&&n.length>0?(Fe(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?rr(i.updateTime):rr(o);return s.isEqual(ve.min())&&(s=rr(o)),new j0(s,i.transformResults||[])}(t,e))):[]}function k$(n,e){return{documents:[c1(n,e.path)]}}function F$(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=c1(n,i);let o=function(u){if(u.length!==0)return d1(Fn.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(h=>function(w){return{field:Gs(w.field),direction:j$(w.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=K0(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:i}}function L$(n){let e=R$(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Fe(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let w=u1(p);return w instanceof Fn&&$A(w)?w.getFilters():[w]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(w=>function(S){return new Io(Ws(S.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(w))}(t.orderBy));let a=null;t.limit&&(a=function(p){let w;return w=typeof p=="object"?p.value:p,$f(w)?null:w}(t.limit));let l=null;t.startAt&&(l=function(p){let w=!!p.before,_=p.values||[];return new ta(_,w)}(t.startAt));let u=null;return t.endAt&&(u=function(p){let w=!p.before,_=p.values||[];return new ta(_,w)}(t.endAt)),l$(e,i,s,o,a,"F",l,u)}function V$(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function u1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Ws(t.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ws(t.unaryFilter.field);return ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ws(t.unaryFilter.field);return ct.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ws(t.unaryFilter.field);return ct.create(s,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(n):n.fieldFilter!==void 0?function(t){return ct.create(Ws(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Fn.create(t.compositeFilter.filters.map(r=>u1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(t.compositeFilter.op))}(n):he()}function j$(n){return S$[n]}function U$(n){return x$[n]}function B$(n){return A$[n]}function Gs(n){return{fieldPath:n.canonicalString()}}function Ws(n){return sn.fromServerFormat(n.fieldPath)}function d1(n){return n instanceof ct?function(t){if(t.op==="=="){if(sA(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NAN"}};if(oA(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(sA(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NOT_NAN"}};if(oA(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gs(t.field),op:U$(t.op),value:t.value}}}(n):n instanceof Fn?function(t){let r=t.getFilters().map(i=>d1(i));return r.length===1?r[0]:{compositeFilter:{op:B$(t.op),filters:r}}}(n):he()}function $$(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function h1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var pl=class n{constructor(e,t,r,i,o=ve.min(),s=ve.min(),a=Pt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var J0=class{constructor(e){this.ct=e}};function H$(n){let e=L$({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?V0(e,e.limit,"L"):e}var Ef=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Qe(e.integerValue));else if("doubleValue"in e){let r=Qe(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),ll(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=jr(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Di(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?jA(e)?this.dt(t,Number.MAX_SAFE_INTEGER):VA(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):he()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Qe(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),ae.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Ef.vt=new Ef;var X0=class{constructor(){this.un=new e_}addToCollectionParentIndex(e,t){return this.un.add(t),z.resolve()}getCollectionParents(e,t){return z.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return z.resolve()}deleteFieldIndex(e,t){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,t){return z.resolve()}getDocumentsMatchingTarget(e,t){return z.resolve(null)}getIndexType(e,t){return z.resolve(0)}getFieldIndexes(e,t){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,t){return z.resolve(_o.min())}getMinOffsetFromCollectionGroup(e,t){return z.resolve(_o.min())}updateCollectionGroup(e,t,r){return z.resolve()}updateIndexEntries(e,t){return z.resolve()}},e_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Rt(Ze.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rt(Ze.comparator)).toArray()}};var _Z=new Uint8Array(0);var er=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};er.DEFAULT_COLLECTION_PERCENTILE=10,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,er.DEFAULT=new er(41943040,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),er.DISABLED=new er(-1,0,0);var ml=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var t_=class{constructor(){this.changes=new Si(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var n_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var r_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&cl(r.mutation,i,yn.empty(),bt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Te()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Te()){let i=mo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=il();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=mo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Te()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Ur(),s=al(),a=function(){return al()}();return t.forEach((l,u)=>{let h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof or)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),cl(h.mutation,u,h.mutation.getFieldMask(),bt.now())):s.set(u.key,yn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),t.forEach((u,h)=>{var p;return a.set(u,new n_(h,(p=s.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=al(),i=new Xe((s,a)=>s-a),o=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(l=>{let u=t.get(l);if(u===null)return;let h=r.get(l)||yn.empty();h=a.applyToLocalView(u,h),r.set(l,h);let p=(i.get(a.batchId)||Te()).add(l);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,h=l.value,p=ZA();h.forEach(w=>{if(!o.has(w)){let _=r1(t.get(w),r.get(w));_!==null&&p.set(w,_),o=o.add(w)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return z.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ae.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):GA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):z.resolve(mo()),a=-1,l=o;return s.next(u=>z.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(w=>{l=l.insert(h,w)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Te())).next(h=>({batchId:a,changes:YA(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ae(t)).next(r=>{let i=il();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=il();return this.indexManager.getCollectionParents(e,o).next(a=>z.forEach(a,l=>{let u=function(p,w){return new Ti(w,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((p,w)=>{s=s.insert(p,w)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,u)=>{let h=u.getKey();s.get(h)===null&&(s=s.insert(h,kn.newInvalidDocument(h)))});let a=il();return s.forEach((l,u)=>{let h=o.get(l);h!==void 0&&cl(h.mutation,u,yn.empty(),bt.now()),zf(t,u)&&(a=a.insert(l,u))}),a})}};var i_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return z.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:rr(i.createTime)}}(t)),z.resolve()}getNamedQuery(e,t){return z.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:H$(i.bundledQuery),readTime:rr(i.readTime)}}(t)),z.resolve()}};var o_=class{constructor(){this.overlays=new Xe(ae.comparator),this.Ir=new Map}getOverlay(e,t){return z.resolve(this.overlays.get(t))}getOverlays(e,t){let r=mo();return z.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),z.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),z.resolve()}getOverlaysForCollection(e,t,r){let i=mo(),o=t.length+1,s=new ae(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Xe((u,h)=>u-h),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=mo(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}let a=mo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return z.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new H0(t,r));let o=this.Ir.get(t);o===void 0&&(o=Te(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var s_=class{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,z.resolve()}};var gl=class{constructor(){this.Tr=new Rt(at.Er),this.dr=new Rt(at.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new at(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new at(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new ae(new Ze([])),r=new at(t,e),i=new at(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new ae(new Ze([])),r=new at(t,e),i=new at(t,e+1),o=Te();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new at(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},at=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ae.comparator(e.key,t.key)||Pe(e.wr,t.wr)}static Ar(e,t){return Pe(e.wr,t.wr)||ae.comparator(e.key,t.key)}};var a_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Rt(at.Er)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new B0(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new at(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(s)}lookupMutationBatch(e,t){return z.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new at(t,0),i=new at(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Rt(Pe);return t.forEach(i=>{let o=new at(i,0),s=new at(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ae.isDocumentKey(o)||(o=o.child(""));let s=new at(new ae(o),0),a=new Rt(Pe);return this.br.forEachWhile(l=>{let u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),z.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Fe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return z.forEach(t.mutations,i=>{let o=new at(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new at(t,0),i=this.br.firstAfterOrEqual(r);return z.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var c_=class{constructor(e){this.Mr=e,this.docs=function(){return new Xe(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return z.resolve(r?r.document.mutableCopy():kn.newInvalidDocument(t))}getEntries(e,t){let r=Ur();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():kn.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ur(),s=t.path,a=new ae(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||J4(Z4(h),r)<=0||(i.has(h.key)||zf(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return z.resolve(o)}getAllFromCollectionGroup(e,t,r,i){he()}Or(e,t){return z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new l_(this)}getSize(e){return z.resolve(this.size)}},l_=class extends t_{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),z.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var u_=class{constructor(e){this.persistence=e,this.Nr=new Si(t=>ew(t),tw),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Lr=0,this.Br=new gl,this.targetCount=0,this.kr=ml.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),z.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new ml(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,z.resolve()}updateTargetData(e,t){return this.Kn(t),z.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(o).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return z.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),z.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),z.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),z.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return z.resolve(r)}containsKey(e,t){return z.resolve(this.Br.containsKey(t))}};var d_=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new FA(0),this.Kr=!1,this.Kr=!0,this.$r=new s_,this.referenceDelegate=e(this),this.Ur=new u_(this),this.indexManager=new X0,this.remoteDocumentCache=function(i){return new c_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new J0(t),this.Gr=new i_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new o_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new a_(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){ee("MemoryPersistence","Starting transaction:",e);let i=new h_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},h_=class extends E0{constructor(e){super(),this.currentSequenceNumber=e}},f_=class n{constructor(e){this.persistence=e,this.Jr=new gl,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw he()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),z.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),z.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Xr,r=>{let i=ae.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,ve.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return z.or([()=>z.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var p_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=Te(),i=Te();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var m_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var g_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return mx()?8:e$(nn())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new m_;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(rl()<=De.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",qs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),z.resolve()):(rl()<=De.DEBUG&&ee("QueryEngine","Query:",qs(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(rl()<=De.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",qs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(t))):z.resolve())}Yi(e,t){if(uA(t))return z.resolve(null);let r=nr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=V0(t,null,"F"),r=nr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Te(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let u=this.ts(t,a);return this.ns(t,u,s,l.readTime)?this.Yi(e,V0(t,null,"F")):this.rs(e,u,t,l)}))})))}Zi(e,t,r,i){return uA(t)||i.isEqual(ve.min())?z.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?z.resolve(null):(rl()<=De.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qs(t)),this.rs(e,s,t,Y4(i,-1)).next(a=>a))})}ts(e,t){let r=new Rt(KA(e));return t.forEach((i,o)=>{zf(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return rl()<=De.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",qs(t)),this.Ji.getDocumentsMatchingQuery(e,t,_o.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var v_=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Xe(Pe),this._s=new Si(o=>ew(o),tw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new r_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function z$(n,e,t,r){return new v_(n,e,t,r)}function f1(n,e){return N(this,null,function*(){let t=pe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],l=Te();for(let u of i){s.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}for(let u of o){a.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function q$(n,e){let t=pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){let p=u.batch,w=p.keys(),_=z.resolve();return w.forEach(S=>{_=_.next(()=>h.getEntry(l,S)).next(k=>{let O=u.docVersions.get(S);Fe(O!==null),k.version.compareTo(O)<0&&(p.applyToRemoteDocument(k,u),k.isValidDocument()&&(k.setReadTime(u.commitVersion),h.addEntry(k)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Te();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function p1(n){let e=pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function G$(n,e){let t=pe(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((h,p)=>{let w=i.get(p);if(!w)return;a.push(t.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(o,h.addedDocuments,p)));let _=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(Pt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,r)),i=i.insert(p,_),function(k,O,H){return k.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(w,_,h)&&a.push(t.Ur.updateTargetData(o,_))});let l=Ur(),u=Te();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(W$(o,s,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!r.isEqual(ve.min())){let h=t.Ur.getLastRemoteSnapshotVersion(o).next(p=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return z.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(t.os=i,o))}function W$(n,e,t){let r=Te(),i=Te();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Ur();return t.forEach((a,l)=>{let u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ve.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function K$(n,e){let t=pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Q$(n,e){let t=pe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,z.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new pl(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function y_(n,e,t){return N(this,null,function*(){let r=pe(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!El(s))throw s;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function IA(n,e,t){let r=pe(n),i=ve.min(),o=Te();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,h){let p=pe(l),w=p._s.get(h);return w!==void 0?z.resolve(p.os.get(w)):p.Ur.getTargetData(u,h)}(r,s,nr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:ve.min(),t?o:Te())).next(a=>(Y$(r,d$(e),a),{documents:a,Ts:o})))}function Y$(n,e,t){let r=n.us.get(e)||ve.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var Cf=class{constructor(){this.activeTargetIds=v$()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var __=class{constructor(){this.so=new Cf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Cf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var w_=class{_o(e){}shutdown(){}};var Df=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var cf=null;function h0(){return cf===null?cf=function(){return 268435456+Math.round(2147483648*Math.random())}():cf++,"0x"+cf.toString(16)}var Z$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var I_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Mt="WebChannelConnection",b_=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=h0(),l=this.xo(t,r.toUriEncodedString());ee("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(t,l,u,i).then(h=>(ee("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Zs("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+la}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=Z$[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=h0();return new Promise((s,a)=>{let l=new s0;l.setWithCredentials(!0),l.listenOnce(a0.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case nl.NO_ERROR:let h=l.getResponseJson();ee(Mt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case nl.TIMEOUT:ee(Mt,`RPC '${e}' ${o} timed out`),a(new X(V.DEADLINE_EXCEEDED,"Request time out"));break;case nl.HTTP_ERROR:let p=l.getStatus();if(ee(Mt,`RPC '${e}' ${o} failed with status:`,p,"response text:",l.getResponseText()),p>0){let w=l.getResponseJson();Array.isArray(w)&&(w=w[0]);let _=w?.error;if(_&&_.status&&_.message){let S=function(O){let H=O.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(H)>=0?H:V.UNKNOWN}(_.status);a(new X(S,_.message))}else a(new X(V.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new X(V.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{ee(Mt,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(i);ee(Mt,`RPC '${e}' ${o} sending request:`,i),l.send(t,"POST",u,r,15)})}Bo(e,t,r){let i=h0(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=u0(),a=l0(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let h=o.join("");ee(Mt,`Creating RPC '${e}' stream ${i}: ${h}`,l);let p=s.createWebChannel(h,l),w=!1,_=!1,S=new I_({Io:O=>{_?ee(Mt,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(w||(ee(Mt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),w=!0),ee(Mt,`RPC '${e}' stream ${i} sending:`,O),p.send(O))},To:()=>p.close()}),k=(O,H,Y)=>{O.listen(H,Q=>{try{Y(Q)}catch(de){setTimeout(()=>{throw de},0)}})};return k(p,zs.EventType.OPEN,()=>{_||(ee(Mt,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),k(p,zs.EventType.CLOSE,()=>{_||(_=!0,ee(Mt,`RPC '${e}' stream ${i} transport closed`),S.So())}),k(p,zs.EventType.ERROR,O=>{_||(_=!0,Zs(Mt,`RPC '${e}' stream ${i} transport errored:`,O),S.So(new X(V.UNAVAILABLE,"The operation could not be completed")))}),k(p,zs.EventType.MESSAGE,O=>{var H;if(!_){let Y=O.data[0];Fe(!!Y);let Q=Y,de=Q.error||((H=Q[0])===null||H===void 0?void 0:H.error);if(de){ee(Mt,`RPC '${e}' stream ${i} received error:`,de);let xe=de.status,ce=function(b){let T=st[b];if(T!==void 0)return o1(T)}(xe),D=de.message;ce===void 0&&(ce=V.INTERNAL,D="Unknown error status: "+xe+" with message "+de.message),_=!0,S.So(new X(ce,D)),p.close()}else ee(Mt,`RPC '${e}' stream ${i} received:`,Y),S.bo(Y)}}),k(a,c0.STAT_EVENT,O=>{O.stat===sf.PROXY?ee(Mt,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===sf.NOPROXY&&ee(Mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function f0(){return typeof document<"u"?document:null}function qf(n){return new W0(n,!0)}var Tf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Sf=class{constructor(e,t,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Tf(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return N(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return N(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return N(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===V.RESOURCE_EXHAUSTED?(Vr(t.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new X(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>N(this,null,function*(){this.state=0,this.start()}))}I_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},E_=class extends Sf{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=P$(this.serializer,e),r=function(o){if(!("targetChange"in o))return ve.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ve.min():s.readTime?rr(s.readTime):ve.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=Z0(this.serializer),t.addTarget=function(o,s){let a,l=s.target;if(a=F0(l)?{documents:k$(o,l)}:{query:F$(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=s1(o,s.resumeToken);let u=K0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ve.min())>0){a.readTime=bf(o,s.snapshotVersion.toTimestamp());let u=K0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=V$(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=Z0(this.serializer),t.removeTarget=e,this.a_(t)}},C_=class extends Sf{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=O$(e.writeResults,e.commitTime),r=rr(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=Z0(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>N$(this.serializer,r))};this.a_(t)}};var D_=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new X(V.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Q0(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(V.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Q0(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(V.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},T_=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vr(t),this.D_=!1):ee("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var S_=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>N(this,null,function*(){So(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),yield function(l){return N(this,null,function*(){let u=pe(l);u.L_.add(4),yield Cl(u),u.q_.set("Unknown"),u.L_.delete(4),yield Gf(u)})}(this))}))}),this.q_=new T_(r,i)}};function Gf(n){return N(this,null,function*(){if(So(n))for(let e of n.B_)yield e(!0)})}function Cl(n){return N(this,null,function*(){for(let e of n.B_)yield e(!1)})}function m1(n,e){let t=pe(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),cw(t)?aw(t):ua(t).r_()&&sw(t,e))}function ow(n,e){let t=pe(n),r=ua(t);t.N_.delete(e),r.r_()&&g1(t,e),t.N_.size===0&&(r.r_()?r.o_():So(t)&&t.q_.set("Unknown"))}function sw(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ua(n).A_(e)}function g1(n,e){n.Q_.xe(e),ua(n).R_(e)}function aw(n){n.Q_=new G0({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),ua(n).start(),n.q_.v_()}function cw(n){return So(n)&&!ua(n).n_()&&n.N_.size>0}function So(n){return pe(n).L_.size===0}function v1(n){n.Q_=void 0}function J$(n){return N(this,null,function*(){n.q_.set("Online")})}function X$(n){return N(this,null,function*(){n.N_.forEach((e,t)=>{sw(n,e)})})}function e5(n,e){return N(this,null,function*(){v1(n),cw(n)?(n.q_.M_(e),aw(n)):n.q_.set("Unknown")})}function t5(n,e,t){return N(this,null,function*(){if(n.q_.set("Online"),e instanceof wf&&e.state===2&&e.cause)try{yield function(i,o){return N(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xf(n,r)}else if(e instanceof Qs?n.Q_.Ke(e):e instanceof _f?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ve.min()))try{let r=yield p1(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let h=o.N_.get(u);h&&o.N_.set(u,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{let h=o.N_.get(l);if(!h)return;o.N_.set(l,h.withResumeToken(Pt.EMPTY_BYTE_STRING,h.snapshotVersion)),g1(o,l);let p=new pl(h.target,l,u,h.sequenceNumber);sw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),yield xf(n,r)}})}function xf(n,e,t){return N(this,null,function*(){if(!El(e))throw e;n.L_.add(1),yield Cl(n),n.q_.set("Offline"),t||(t=()=>p1(n.localStore)),n.asyncQueue.enqueueRetryable(()=>N(this,null,function*(){ee("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Gf(n)}))})}function y1(n,e){return e().catch(t=>xf(n,t,e))}function Wf(n){return N(this,null,function*(){let e=pe(n),t=xi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;n5(e);)try{let i=yield K$(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,r5(e,i)}catch(i){yield xf(e,i)}_1(e)&&w1(e)})}function n5(n){return So(n)&&n.O_.length<10}function r5(n,e){n.O_.push(e);let t=xi(n);t.r_()&&t.V_&&t.m_(e.mutations)}function _1(n){return So(n)&&!xi(n).n_()&&n.O_.length>0}function w1(n){xi(n).start()}function i5(n){return N(this,null,function*(){xi(n).p_()})}function o5(n){return N(this,null,function*(){let e=xi(n);for(let t of n.O_)e.m_(t.mutations)})}function s5(n,e,t){return N(this,null,function*(){let r=n.O_.shift(),i=$0.from(r,e,t);yield y1(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Wf(n)})}function a5(n,e){return N(this,null,function*(){e&&xi(n).V_&&(yield function(r,i){return N(this,null,function*(){if(function(s){return C$(s)&&s!==V.ABORTED}(i.code)){let o=r.O_.shift();xi(r).s_(),yield y1(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Wf(r)}})}(n,e)),_1(n)&&w1(n)})}function bA(n,e){return N(this,null,function*(){let t=pe(n);t.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");let r=So(t);t.L_.add(3),yield Cl(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Gf(t)})}function c5(n,e){return N(this,null,function*(){let t=pe(n);e?(t.L_.delete(2),yield Gf(t)):e||(t.L_.add(2),yield Cl(t),t.q_.set("Unknown"))})}function ua(n){return n.K_||(n.K_=function(t,r,i){let o=pe(t);return o.w_(),new E_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:J$.bind(null,n),Ro:X$.bind(null,n),mo:e5.bind(null,n),d_:t5.bind(null,n)}),n.B_.push(e=>N(this,null,function*(){e?(n.K_.s_(),cw(n)?aw(n):n.q_.set("Unknown")):(yield n.K_.stop(),v1(n))}))),n.K_}function xi(n){return n.U_||(n.U_=function(t,r,i){let o=pe(t);return o.w_(),new C_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:i5.bind(null,n),mo:a5.bind(null,n),f_:o5.bind(null,n),g_:s5.bind(null,n)}),n.B_.push(e=>N(this,null,function*(){e?(n.U_.s_(),yield Wf(n)):(yield n.U_.stop(),n.O_.length>0&&(ee("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var x_=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function lw(n,e){if(Vr("AsyncQueue",`${e}: ${n}`),El(n))return new X(V.UNAVAILABLE,`${e}: ${n}`);throw n}var Af=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ae.comparator(t.key,r.key):(t,r)=>ae.comparator(t.key,r.key),this.keyedMap=il(),this.sortedSet=new Xe(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Mf=class{constructor(){this.W_=new Xe(ae.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):he():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},sa=class n{constructor(e,t,r,i,o,s,a,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Af.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var A_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},M_=class{constructor(){this.queries=EA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=pe(t),o=i.queries;i.queries=EA(),o.forEach((s,a)=>{for(let l of a.j_)l.onError(r)})})(this,new X(V.ABORTED,"Firestore shutting down"))}};function EA(){return new Si(n=>WA(n),Hf)}function l5(n,e){return N(this,null,function*(){let t=pe(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new A_,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=lw(s,`Initialization of query '${qs(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&uw(t)})}function u5(n,e){return N(this,null,function*(){let t=pe(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function d5(n,e){let t=pe(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&uw(t)}function h5(n,e,t){let r=pe(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function uw(n){n.Y_.forEach(e=>{e.next()})}var R_,CA;(CA=R_||(R_={})).ea="default",CA.Cache="cache";var P_=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new sa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==R_.Cache}};var Rf=class{constructor(e){this.key=e}},Pf=class{constructor(e){this.key=e}},N_=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Te(),this.mutatedKeys=Te(),this.Aa=KA(e),this.Ra=new Af(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Mf,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let w=i.get(h),_=zf(this.query,p)?p:null,S=!!w&&this.mutatedKeys.has(w.key),k=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),O=!1;w&&_?w.data.isEqual(_.data)?S!==k&&(r.track({type:3,doc:_}),O=!0):this.ga(w,_)||(r.track({type:2,doc:_}),O=!0,(l&&this.Aa(_,l)>0||u&&this.Aa(_,u)<0)&&(a=!0)):!w&&_?(r.track({type:0,doc:_}),O=!0):w&&!_&&(r.track({type:1,doc:w}),O=!0,(l||u)&&(a=!0)),O&&(_?(s=s.add(_),o=k?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(_,S){let k=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return k(_)-k(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new sa(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Mf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Te(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Pf(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Rf(r))}),t}ba(e){this.Ta=e.Ts,this.da=Te();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return sa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},O_=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},k_=class{constructor(e){this.key=e,this.va=!1}},F_=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Si(a=>WA(a),Hf),this.Ma=new Map,this.xa=new Set,this.Oa=new Xe(ae.comparator),this.Na=new Map,this.La=new gl,this.Ba={},this.ka=new Map,this.qa=ml.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function f5(n,e,t=!0){return N(this,null,function*(){let r=T1(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield I1(r,e,t,!0),i})}function p5(n,e){return N(this,null,function*(){let t=T1(n);yield I1(t,e,!0,!1)})}function I1(n,e,t,r){return N(this,null,function*(){let i=yield Q$(n.localStore,nr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield m5(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&m1(n.remoteStore,i),a})}function m5(n,e,t,r,i){return N(this,null,function*(){n.Ka=(p,w,_)=>function(k,O,H,Y){return N(this,null,function*(){let Q=O.view.ma(H);Q.ns&&(Q=yield IA(k.localStore,O.query,!1).then(({documents:D})=>O.view.ma(D,Q)));let de=Y&&Y.targetChanges.get(O.targetId),xe=Y&&Y.targetMismatches.get(O.targetId)!=null,ce=O.view.applyChanges(Q,k.isPrimaryClient,de,xe);return TA(k,O.targetId,ce.wa),ce.snapshot})}(n,p,w,_);let o=yield IA(n.localStore,e,!0),s=new N_(e,o.Ts),a=s.ma(o.documents),l=fl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,l);TA(n,t,u.wa);let h=new O_(e,t,s);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot})}function g5(n,e,t){return N(this,null,function*(){let r=pe(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Hf(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield y_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&ow(r.remoteStore,i.targetId),L_(r,i.targetId)}).catch(bl))):(L_(r,i.targetId),yield y_(r.localStore,i.targetId,!0))})}function v5(n,e){return N(this,null,function*(){let t=pe(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ow(t.remoteStore,r.targetId))})}function y5(n,e,t){return N(this,null,function*(){let r=D5(n);try{let i=yield function(s,a){let l=pe(s),u=bt.now(),h=a.reduce((_,S)=>_.add(S.key),Te()),p,w;return l.persistence.runTransaction("Locally write mutations","readwrite",_=>{let S=Ur(),k=Te();return l.cs.getEntries(_,h).next(O=>{S=O,S.forEach((H,Y)=>{Y.isValidDocument()||(k=k.add(H))})}).next(()=>l.localDocuments.getOverlayedDocuments(_,S)).next(O=>{p=O;let H=[];for(let Y of a){let Q=E$(Y,p.get(Y.key).overlayedDocument);Q!=null&&H.push(new or(Y.key,Q,UA(Q.value.mapValue),Lr.exists(!0)))}return l.mutationQueue.addMutationBatch(_,u,H,a)}).next(O=>{w=O;let H=O.applyToLocalDocumentSet(p,k);return l.documentOverlayCache.saveOverlays(_,O.batchId,H)})}).then(()=>({batchId:w.batchId,changes:YA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new Xe(Pe)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Dl(r,i.changes),yield Wf(r.remoteStore)}catch(i){let o=lw(i,"Failed to persist write");t.reject(o)}})}function b1(n,e){return N(this,null,function*(){let t=pe(n);try{let r=yield G$(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Fe(s.va):i.removedDocuments.size>0&&(Fe(s.va),s.va=!1))}),yield Dl(t,r,e)}catch(r){yield bl(r)}})}function DA(n,e,t){let r=pe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let l=pe(s);l.onlineState=a;let u=!1;l.queries.forEach((h,p)=>{for(let w of p.j_)w.Z_(a)&&(u=!0)}),u&&uw(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _5(n,e,t){return N(this,null,function*(){let r=pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Xe(ae.comparator);s=s.insert(o,kn.newNoDocument(o,ve.min()));let a=Te().add(o),l=new yf(ve.min(),new Map,new Xe(Pe),s,a);yield b1(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),dw(r)}else yield y_(r.localStore,e,!1).then(()=>L_(r,e,t)).catch(bl)})}function w5(n,e){return N(this,null,function*(){let t=pe(n),r=e.batch.batchId;try{let i=yield q$(t.localStore,e);C1(t,r,null),E1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Dl(t,i)}catch(i){yield bl(i)}})}function I5(n,e,t){return N(this,null,function*(){let r=pe(n);try{let i=yield function(s,a){let l=pe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>(Fe(p!==null),h=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);C1(r,e,t),E1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Dl(r,i)}catch(i){yield bl(i)}})}function E1(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function C1(n,e,t){let r=pe(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function L_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||D1(n,r)})}function D1(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(ow(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),dw(n))}function TA(n,e,t){for(let r of t)r instanceof Rf?(n.La.addReference(r.key,e),b5(n,r)):r instanceof Pf?(ee("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||D1(n,r.key)):he()}function b5(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(ee("SyncEngine","New document in limbo: "+t),n.xa.add(r),dw(n))}function dw(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new ae(Ze.fromString(e)),r=n.qa.next();n.Na.set(r,new k_(t)),n.Oa=n.Oa.insert(t,r),m1(n.remoteStore,new pl(nr(nw(t.path)),r,"TargetPurposeLimboResolution",FA.oe))}}function Dl(n,e,t){return N(this,null,function*(){let r=pe(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,t).then(u=>{var h;if((u||t)&&r.isPrimaryClient){let p=u?!u.fromCache:(h=t?.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){i.push(u);let p=p_.Wi(l.targetId,u);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(l,u){return N(this,null,function*(){let h=pe(l);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>z.forEach(u,w=>z.forEach(w.$i,_=>h.persistence.referenceDelegate.addReference(p,w.targetId,_)).next(()=>z.forEach(w.Ui,_=>h.persistence.referenceDelegate.removeReference(p,w.targetId,_)))))}catch(p){if(!El(p))throw p;ee("LocalStore","Failed to update sequence numbers: "+p)}for(let p of u){let w=p.targetId;if(!p.fromCache){let _=h.os.get(w),S=_.snapshotVersion,k=_.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(w,k)}}})}(r.localStore,o))})}function E5(n,e){return N(this,null,function*(){let t=pe(n);if(!t.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());let r=yield f1(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new X(V.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Dl(t,r.hs)}})}function C5(n,e){let t=pe(n),r=t.Na.get(e);if(r&&r.va)return Te().add(r.key);{let i=Te(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function T1(n){let e=pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=b1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_5.bind(null,e),e.Ca.d_=d5.bind(null,e.eventManager),e.Ca.$a=h5.bind(null,e.eventManager),e}function D5(n){let e=pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I5.bind(null,e),e}var SA=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return N(this,null,function*(){this.serializer=qf(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return z$(this.persistence,new g_,t.initialUser,this.serializer)}Ga(t){return new d_(f_.Zr,this.serializer)}Wa(t){return new __}terminate(){return N(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var T5=(()=>{class n{initialize(t,r){return N(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>DA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=E5.bind(null,this.syncEngine),yield c5(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new M_}()}createDatastore(t){let r=qf(t.databaseInfo.databaseId),i=function(s){return new b_(s)}(t.databaseInfo);return function(s,a,l,u){return new D_(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,l){return new S_(i,o,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,r=>DA(this.syncEngine,r,0),function(){return Df.D()?new Df:new w_}())}createSyncEngine(t,r){return function(o,s,a,l,u,h,p){let w=new F_(o,s,a,l,u,h);return p&&(w.Qa=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return N(this,null,function*(){var t,r;yield function(o){return N(this,null,function*(){let s=pe(o);ee("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Cl(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var V_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var j_=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=mt.UNAUTHENTICATED,this.clientId=hf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>N(this,null,function*(){ee("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(ee("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>N(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=lw(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function p0(n,e){return N(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>N(this,null,function*(){r.isEqual(i)||(yield f1(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function xA(n,e){return N(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield S5(n);ee("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>bA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>bA(e.remoteStore,i)),n._onlineComponents=e})}function S5(n){return N(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{yield p0(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===V.FAILED_PRECONDITION||i.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Zs("Error using user provided cache. Falling back to memory cache: "+t),yield p0(n,new SA)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),yield p0(n,new SA);return n._offlineComponents})}function S1(n){return N(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),yield xA(n,n._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),yield xA(n,new T5))),n._onlineComponents})}function x5(n){return S1(n).then(e=>e.syncEngine)}function AA(n){return N(this,null,function*(){let e=yield S1(n),t=e.eventManager;return t.onListen=f5.bind(null,e.syncEngine),t.onUnlisten=g5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=p5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=v5.bind(null,e.syncEngine),t})}function x1(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var MA=new Map;function A1(n,e,t){if(!t)throw new X(V.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function A5(n,e,t,r){if(e===!0&&r===!0)throw new X(V.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function RA(n){if(!ae.isDocumentKey(n))throw new X(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function PA(n){if(ae.isDocumentKey(n))throw new X(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Kf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":he()}function Ei(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new X(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Kf(n);throw new X(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Nf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}A5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=x1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new X(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new X(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new X(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},aa=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new m0;switch(r.type){case"firstParty":return new _0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return N(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=MA.get(t);r&&(ee("ComponentProvider","Removing Datastore"),MA.delete(t),r.terminate())}(this),Promise.resolve()}};function M1(n,e,t,r={}){var i;let o=(n=Ei(n,aa))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=mt.MOCK_USER;else{a=ux(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new X(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new mt(u)}n._authCredentials=new g0(new df(a,l))}}var Do=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Kt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Ci=class n extends Do{constructor(e,t,r){super(e,t,nw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new ae(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function R1(n,e,...t){if(n=At(n),A1("collection","path",e),n instanceof aa){let r=Ze.fromString(e,...t);return PA(r),new Ci(n,null,r)}{if(!(n instanceof Kt||n instanceof Ci))throw new X(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ze.fromString(e,...t));return PA(r),new Ci(n.firestore,null,r)}}function hw(n,e,...t){if(n=At(n),arguments.length===1&&(e=hf.newId()),A1("doc","path",e),n instanceof aa){let r=Ze.fromString(e,...t);return RA(r),new Kt(n,null,new ae(r))}{if(!(n instanceof Kt||n instanceof Ci))throw new X(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ze.fromString(e,...t));return RA(r),new Kt(n.firestore,n instanceof Ci?n.converter:null,new ae(r))}}var Of=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Tf(this,"async_queue_retry"),this.Vu=()=>{let r=f0();r&&ee("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=f0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=f0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Fr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return N(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!El(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Vr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=x_.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&he()}verifyOperationInProgress(){}wu(){return N(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function NA(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Ai=class extends aa{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Of,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return N(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Of(e),this._firestoreClient=void 0,yield e}})}};function P1(n,e){let t=typeof n=="object"?n:Gc(),r=typeof n=="string"?n:e||"(default)",i=Uy(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=cx("firestore");o&&M1(i,...o)}return i}function N1(n){if(n._terminated)throw new X(V.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||M5(n),n._firestoreClient}function M5(n){var e,t,r;let i=n._freezeSettings(),o=function(a,l,u,h){return new C0(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,x1(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new j_(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}var vl=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Pt.fromBase64String(e))}catch(t){throw new X(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ca=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new X(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var yl=class{constructor(e){this._methodName=e}};var _l=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new X(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new X(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}};var wl=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var R5=/^__.*__$/,U_=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new or(e,this.data,this.fieldMask,t,this.fieldTransforms):new Co(e,this.data,t,this.fieldTransforms)}},kf=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new or(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function O1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}var B_=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Lf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(O1(this.Cu)&&R5.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},$_=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||qf(e)}Qu(e,t,r,i=!1){return new B_({Cu:e,methodName:t,qu:r,path:sn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function fw(n){let e=n._freezeSettings(),t=qf(n._databaseId);return new $_(n._databaseId,!!e.ignoreUndefinedProperties,t)}function P5(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);pw("Data must be an object, but it was:",s,r);let a=k1(r,s),l,u;if(o.merge)l=new yn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let w=H_(e,p,t);if(!s.contains(w))throw new X(V.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);L1(h,w)||h.push(w)}l=new yn(h),u=s.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=s.fieldTransforms;return new U_(new on(a),l,u)}var Ff=class n extends yl{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function N5(n,e,t,r){let i=n.Qu(1,e,t);pw("Data must be an object, but it was:",i,r);let o=[],s=on.empty();To(r,(l,u)=>{let h=mw(e,l,t);u=At(u);let p=i.Nu(h);if(u instanceof Ff)o.push(h);else{let w=Tl(u,p);w!=null&&(o.push(h),s.set(h,w))}});let a=new yn(o);return new kf(s,a,i.fieldTransforms)}function O5(n,e,t,r,i,o){let s=n.Qu(1,e,t),a=[H_(e,r,t)],l=[i];if(o.length%2!=0)throw new X(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)a.push(H_(e,o[w])),l.push(o[w+1]);let u=[],h=on.empty();for(let w=a.length-1;w>=0;--w)if(!L1(u,a[w])){let _=a[w],S=l[w];S=At(S);let k=s.Nu(_);if(S instanceof Ff)u.push(_);else{let O=Tl(S,k);O!=null&&(u.push(_),h.set(_,O))}}let p=new yn(u);return new kf(h,p,s.fieldTransforms)}function k5(n,e,t,r=!1){return Tl(t,n.Qu(r?4:3,e))}function Tl(n,e){if(F1(n=At(n)))return pw("Unsupported field value:",e,n),k1(n,e);if(n instanceof yl)return function(r,i){if(!O1(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let l=Tl(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=At(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return y$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=bt.fromDate(r);return{timestampValue:bf(i.serializer,o)}}if(r instanceof bt){let o=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bf(i.serializer,o)}}if(r instanceof _l)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vl)return{bytesValue:s1(i.serializer,r._byteString)};if(r instanceof Kt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:iw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof wl)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return rw(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Kf(r)}`)}(n,e)}function k1(n,e){let t={};return LA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(n,(r,i)=>{let o=Tl(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function F1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof bt||n instanceof _l||n instanceof vl||n instanceof Kt||n instanceof yl||n instanceof wl)}function pw(n,e,t){if(!F1(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Kf(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function H_(n,e,t){if((e=At(e))instanceof ca)return e._internalPath;if(typeof e=="string")return mw(n,e);throw Lf("Field path arguments must be of type string or ",n,!1,void 0,t)}var F5=new RegExp("[~\\*/\\[\\]]");function mw(n,e,t){if(e.search(F5)>=0)throw Lf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ca(...e.split("."))._internalPath}catch{throw Lf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Lf(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new X(V.INVALID_ARGUMENT,a+n+l)}function L1(n,e){return n.some(t=>t.isEqual(e))}var Vf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new z_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(gw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},z_=class extends Vf{data(){return super.data()}};function gw(n,e){return typeof e=="string"?mw(n,e):e instanceof ca?e._internalPath:e._delegate._internalPath}function L5(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new X(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Il=class{},jf=class extends Il{};function V1(n,e,...t){let r=[];e instanceof Il&&r.push(e),r=r.concat(t),function(o){let s=o.filter(l=>l instanceof G_).length,a=o.filter(l=>l instanceof q_).length;if(s>1||s>0&&a>0)throw new X(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var q_=class n extends jf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return U1(e._query,t),new Do(e.firestore,e.converter,L0(e._query,t))}_parse(e){let t=fw(e.firestore);return function(o,s,a,l,u,h,p){let w;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new X(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){kA(p,h);let _=[];for(let S of p)_.push(OA(l,o,S));w={arrayValue:{values:_}}}else w=OA(l,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||kA(p,h),w=k5(a,s,p,h==="in"||h==="not-in");return ct.create(u,h,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var G_=class n extends Il{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Fn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let l of a)U1(s,l),s=L0(s,l)}(e._query,t),new Do(e.firestore,e.converter,L0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var W_=class n extends jf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new X(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new X(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Io(o,s)}(e._query,this._field,this._direction);return new Do(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Ti(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function j1(n,e="asc"){let t=e,r=gw("orderBy",n);return W_._create(r,t)}function OA(n,e,t){if(typeof(t=At(t))=="string"){if(t==="")throw new X(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GA(e)&&t.indexOf("/")!==-1)throw new X(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Ze.fromString(t));if(!ae.isDocumentKey(r))throw new X(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return iA(n,new ae(r))}if(t instanceof Kt)return iA(n,t._key);throw new X(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kf(t)}.`)}function kA(n,e){if(!Array.isArray(n)||n.length===0)throw new X(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function U1(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new X(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var K_=class{convertValue(e,t="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw he()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return To(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Qe(s.doubleValue));return new wl(o)}convertGeoPoint(e){return new _l(Qe(e.latitude),Qe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=J_(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ul(e));default:return null}}convertTimestamp(e){let t=jr(e);return new bt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ze.fromString(e);Fe(h1(r));let i=new gf(r.get(1),r.get(3)),o=new ae(r.popFirst(5));return i.isEqual(t)||Vr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function V5(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var vo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Uf=class extends Vf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Ys(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(gw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Ys=class extends Uf{data(e={}){return super.data(e)}},Q_=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new vo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ys(this._firestore,this._userDataWriter,r.key,r,new vo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new X(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let l=new Ys(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new Ys(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,h=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:j5(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function j5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}var Bf=class extends K_{constructor(e){super(),this.firestore=e}convertBytes(e){return new vl(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,t)}};function B1(n,e,t,...r){n=Ei(n,Kt);let i=Ei(n.firestore,Ai),o=fw(i),s;return s=typeof(e=At(e))=="string"||e instanceof ca?O5(o,"updateDoc",n._key,e,t,r):N5(o,"updateDoc",n._key,e),vw(i,[s.toMutation(n._key,Lr.exists(!0))])}function $1(n){return vw(Ei(n.firestore,Ai),[new hl(n._key,Lr.none())])}function H1(n,e){let t=Ei(n.firestore,Ai),r=hw(n),i=V5(n.converter,e);return vw(t,[P5(fw(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Lr.exists(!1))]).then(()=>r)}function z1(n,...e){var t,r,i;n=At(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||NA(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(NA(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let l,u,h;if(n instanceof Kt)u=Ei(n.firestore,Ai),h=nw(n._key.path),l={next:p=>{e[s]&&e[s](U5(u,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Ei(n,Do);u=Ei(p.firestore,Ai),h=p._query;let w=new Bf(u);l={next:_=>{e[s]&&e[s](new Q_(u,w,p,_))},error:e[s+1],complete:e[s+2]},L5(n._query)}return function(w,_,S,k){let O=new V_(k),H=new P_(_,O,S);return w.asyncQueue.enqueueAndForget(()=>N(this,null,function*(){return l5(yield AA(w),H)})),()=>{O.Za(),w.asyncQueue.enqueueAndForget(()=>N(this,null,function*(){return u5(yield AA(w),H)}))}}(N1(u),h,a,l)}function vw(n,e){return function(r,i){let o=new Fr;return r.asyncQueue.enqueueAndForget(()=>N(this,null,function*(){return y5(yield x5(r),i,o)})),o.promise}(N1(n),e)}function U5(n,e,t){let r=t.docs.get(e._key),i=new Bf(n);return new Uf(n,i,e._key,r,new vo(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){la=i})(Bs),wi(new vn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ai(new v0(r.getProvider("auth-internal")),new I0(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gf(u.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),pt(eA,"4.7.3",e),pt(eA,"4.7.3","esm2017")})();var xo=class{constructor(e){return e}},q1="firestore",yw=class{constructor(){return Kc(q1)}};var _w=new G("angularfire2.firestore-instances");function B5(n,e){let t=Hy(q1,n,e);return t&&new xo(t)}function $5(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new xo(r)}}var H5={provide:yw,deps:[[new un,_w]]},z5={provide:xo,useFactory:B5,deps:[[new un,_w],ho]};function G1(n,...e){return pt("angularfire",Hs.full,"fst"),yt([z5,H5,{provide:_w,useFactory:$5(n),multi:!0,deps:[Oe,vt,Qc,Yc,[new un,rf],[new un,Wc],...e]}])}var W1=rn(H1,!0);var ww=rn(R1,!0);var K1=rn($1,!0);var Iw=rn(hw,!0);var Q1=rn(P1,!0);var Y1=rn(z1,!0);var Z1=rn(j1,!0);var J1=rn(V1,!0);var X1=rn(B1,!0);var da=class n{constructor(e){this.firestore=e;this.loadArtworks()}artworks=[];artworksSubject=new qe([]);artworks$=this.artworksSubject.asObservable();loadArtworks(){try{let e=J1(ww(this.firestore,"Obras"),Z1("titulo"));Y1(e,t=>{let r=[];t.forEach(i=>{let o=i.data();r.push(me(U({},o),{id:i.id}))}),this.artworks=r,this.artworksSubject.next(r)},t=>{console.error("Error loading artworks:",t),this.artworksSubject.next([])})}catch(e){console.error("Error setting up Firestore listener:",e),this.artworksSubject.next([])}}getAllArtworks(){return this.artworks$}getArtworksByCategory(e){return this.artworks$.pipe(ie(t=>e==="all"?t:t.filter(r=>r.genero.toLowerCase()===e.toLowerCase())))}getArtworkById(e){return this.artworks$.pipe(ie(t=>t.find(r=>r.id===e)))}addArtwork(e){return N(this,null,function*(){try{let t=e,{id:r}=t,i=No(t,["id"]);return(yield W1(ww(this.firestore,"Obras"),i)).id}catch(r){throw console.error("Error adding artwork:",r),r}})}updateArtwork(e){return N(this,null,function*(){try{let t=e,{id:r}=t,i=No(t,["id"]),o=Iw(this.firestore,"Obras",r);yield X1(o,i)}catch(r){throw console.error("Error updating artwork:",r),r}})}deleteArtwork(e){return N(this,null,function*(){try{yield K1(Iw(this.firestore,"Obras",e))}catch(t){throw console.error("Error deleting artwork:",t),t}})}static \u0275fac=function(t){return new(t||n)(Z(xo))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function G5(n,e){n&1&&(g(0,"span",21),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"gallery.title")," "))}function W5(n,e){n&1&&(g(0,"span",22),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"gallery.subtitle")," "))}function K5(n,e){n&1&&(g(0,"p",23),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"gallery.title")," "))}function Q5(n,e){if(n&1){let t=it();g(0,"button",24),le("click",function(){let i=oe(t).$implicit,o=ue();return se(o.filterByCategory(i))}),C(1),y()}if(n&2){let t=e.$implicit,r=ue();Nd(r.getCategoryButtonClass(t)),v(),B(" ",r.getCategoryDisplayName(t)," ")}}function Y5(n,e){if(n&1&&(g(0,"div",25)(1,"span",26),C(2),R(3,"transloco"),y()()),n&2){let t=ue();v(2),Za(" ",t.filteredArtworks.length," ",P(3,2,"gallery.results")," ")}}function Z5(n,e){if(n&1&&(g(0,"div",27),ne(1,"app-artwork-carousel",28),y()),n&2){let t=ue();v(),j("artworks",t.filteredArtworks)}}function J5(n,e){n&1&&ne(0,"p",34)}function X5(n,e){if(n&1){let t=it();g(0,"div",29)(1,"div",30)(2,"div",31),C(3,"\u{1F3A8}"),y(),K(4,J5,1,0,"p",32),g(5,"button",33),le("click",function(){oe(t);let i=ue();return se(i.clearFilters())}),C(6),R(7,"transloco"),y()()()}n&2&&(v(4),j("transloco","gallery.noResults.title"),v(2),B(" ",P(7,2,"gallery.noResults.button")," "))}function eH(n,e){n&1&&ne(0,"span",39)}function tH(n,e){n&1&&(g(0,"div",35)(1,"div",36),ne(2,"div",37),K(3,eH,1,0,"span",38),y()()),n&2&&(v(3),j("transloco","gallery.loading"))}var Qf=class n{constructor(e,t){this.artworkService=e;this.translocoService=t}artworks=[];filteredArtworks=[];isLoading=!0;availableCategories=["todas","paisajismo","bodegones","retratos","animalismo","otros"];selectedCategory="todas";searchTerm="";subscription=new $e;ngOnInit(){this.loadArtworks()}ngOnDestroy(){this.subscription.unsubscribe()}loadArtworks(){this.isLoading=!0,this.subscription.add(this.artworkService.getAllArtworks().subscribe({next:e=>{this.artworks=e,this.applyFilters(),this.isLoading=!1},error:e=>{console.error("Error loading artworks:",e),this.isLoading=!1}}))}filterByCategory(e){this.selectedCategory=e,this.applyFilters()}getCategoryButtonClass(e){let t="px-3 lg:px-6 py-2 lg:py-3 rounded-full text-xs sm:text-sm font-medium transition-all duration-300 whitespace-nowrap";return this.selectedCategory===e?`${t} bg-primary text-white shadow-lg transform hover:scale-105 border border-primary`:`${t} bg-white/80 backdrop-blur-sm text-primary-dark border border-accent hover:bg-primary/10 hover:border-primary/30 hover:shadow-md`}getCategoryDisplayName(e){return this.translocoService.translate(`gallery.categories.${e}`)}applyFilters(){let e=this.artworks;if(this.selectedCategory!=="todas"&&(e=e.filter(t=>t.categoria.toLowerCase()===this.selectedCategory)),this.searchTerm.trim()!==""){let t=this.searchTerm.toLowerCase().trim();e=e.filter(r=>r.titulo.toLowerCase().includes(t)||r.descripcion&&r.descripcion.toLowerCase().includes(t)||r.tecnica.toLowerCase().includes(t))}this.filteredArtworks=e}clearFilters(){this.selectedCategory="todas",this.searchTerm="",this.applyFilters()}clearSearch(){this.searchTerm="",this.applyFilters()}static \u0275fac=function(t){return new(t||n)(J(da),J(Wt))};static \u0275cmp=Ve({type:n,selectors:[["app-gallery"]],standalone:!0,features:[je],decls:22,vars:8,consts:[["noResults",""],["id","galeria",1,"py-16","lg:py-20","bg-background","relative","overflow-hidden"],[1,"absolute","inset-0","bg-gradient-to-br","from-background","via-white","to-accent/20"],[1,"absolute","top-10","right-10","w-48","lg:w-72","h-48","lg:h-72","bg-primary/5","rounded-full","blur-3xl","animate-float"],[1,"absolute","bottom-10","left-10","w-64","lg:w-96","h-64","lg:h-96","bg-accent/10","rounded-full","blur-3xl","animate-float",2,"animation-delay","2s"],[1,"container","relative","z-10","px-4","sm:px-6"],[1,"text-center","mb-12","lg:mb-16","animate-fade-in-up"],[1,"mb-4","lg:mb-6"],["class","inline-block px-3 lg:px-4 py-1 lg:py-2 bg-accent/30 text-primary-dark rounded-full text-xs lg:text-sm font-medium",4,"transloco"],[1,"text-3xl","sm:text-4xl","md:text-5xl","lg:text-6xl","font-light","text-primary-dark","mb-4","lg:mb-6","leading-tight"],["class","font-serif italic",4,"transloco"],["class","text-base sm:text-lg md:text-xl text-text-light max-w-2xl mx-auto leading-relaxed px-4",4,"transloco"],[1,"mb-8","lg:mb-12","animate-fade-in-up",2,"animation-delay","0.2s"],[1,"flex","justify-center","mb-6","lg:mb-8"],[1,"flex","flex-wrap","gap-2","sm:gap-3","lg:gap-4","justify-center","max-w-4xl","mx-auto","px-2"],["class","px-3 lg:px-6 py-2 lg:py-3 rounded-full text-xs sm:text-sm font-medium transition-all duration-300 whitespace-nowrap",3,"class","click",4,"ngFor","ngForOf"],[1,"flex","justify-center","px-2"],[1,"relative","w-full","max-w-md","lg:max-w-lg"],["class","mt-3 text-center",4,"ngIf"],["class","animate-fade-in-up","style","animation-delay: 0.4s;",4,"ngIf","ngIfElse"],["class","text-center py-12",4,"ngIf"],[1,"inline-block","px-3","lg:px-4","py-1","lg:py-2","bg-accent/30","text-primary-dark","rounded-full","text-xs","lg:text-sm","font-medium"],[1,"font-serif","italic"],[1,"text-base","sm:text-lg","md:text-xl","text-text-light","max-w-2xl","mx-auto","leading-relaxed","px-4"],[1,"px-3","lg:px-6","py-2","lg:py-3","rounded-full","text-xs","sm:text-sm","font-medium","transition-all","duration-300","whitespace-nowrap",3,"click"],[1,"mt-3","text-center"],[1,"inline-block","px-3","py-1","bg-accent/20","text-primary-dark","rounded-full","text-xs","font-medium"],[1,"animate-fade-in-up",2,"animation-delay","0.4s"],[3,"artworks"],[1,"text-center","py-8","lg:py-12","animate-fade-in-up"],[1,"max-w-md","mx-auto"],[1,"text-6xl","mb-4"],["class","text-lg text-text-light mb-4",4,"transloco"],[1,"btn","btn-outline","text-sm",3,"click"],[1,"text-lg","text-text-light","mb-4"],[1,"text-center","py-12"],[1,"inline-flex","items-center","gap-3","text-text-light"],[1,"w-6","h-6","border-2","border-primary/30","border-t-primary","rounded-full","animate-spin"],["class","text-sm font-medium",4,"transloco"],[1,"text-sm","font-medium"]],template:function(t,r){if(t&1&&(g(0,"section",1),ne(1,"div",2)(2,"div",3)(3,"div",4),g(4,"div",5)(5,"div",6)(6,"div",7),K(7,G5,3,3,"span",8),y(),g(8,"h1",9),K(9,W5,3,3,"span",10),y(),K(10,K5,3,3,"p",11),y(),g(11,"div",12)(12,"div",13)(13,"div",14),K(14,Q5,2,3,"button",15),y()(),g(15,"div",16)(16,"div",17),K(17,Y5,4,4,"div",18),y()()(),K(18,Z5,2,1,"div",19)(19,X5,8,4,"ng-template",null,0,ro)(21,tH,4,1,"div",20),y()()),t&2){let i=Er(20);v(7),j("transloco","gallery.title"),v(2),j("transloco","gallery.subtitle"),v(),j("transloco","gallery.description"),v(4),j("ngForOf",r.availableCategories),v(3),j("ngIf",r.filteredArtworks.length>0),v(),j("ngIf",r.filteredArtworks.length>0)("ngIfElse",i),v(3),j("ngIf",r.isLoading)}},dependencies:[It,qn,Gn,jh,ks,ot,Qn,ft],styles:[".category-button[_ngcontent-%COMP%]{white-space:nowrap;border-radius:9999px;padding:.5rem .75rem;font-size:.75rem;line-height:1rem;font-weight:500;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}@media (min-width: 640px){.category-button[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}}@media (min-width: 1024px){.category-button[_ngcontent-%COMP%]{padding:.75rem 1.5rem}}.category-button.active[_ngcontent-%COMP%]{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));border-width:1px;--tw-border-opacity: 1;border-color:rgb(107 114 128 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(107 114 128 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.category-button.active[_ngcontent-%COMP%]:hover{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.category-button.inactive[_ngcontent-%COMP%]{border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));background-color:#fffc;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1));--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);color:rgb(var(--color-primary-dark))}.category-button.inactive[_ngcontent-%COMP%]:hover{border-color:#6b72804d;background-color:#6b72801a;--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.search-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:28rem}@media (min-width: 1024px){.search-container[_ngcontent-%COMP%]{max-width:32rem}}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]{display:flex;border-radius:.75rem;border-width:1px;border-color:#d1d5db80;background-color:#fffc;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]:hover{border-color:#6b72804d}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:#6b728080;--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{flex:1 1 0%;border-style:none;background-color:transparent;padding:.75rem 1rem;font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{--tw-placeholder-opacity: 1;color:rgb(107 114 128 / var(--tw-placeholder-opacity, 1))}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}@media (min-width: 1024px){.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-size:1rem;line-height:1.5rem}}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1));color:rgb(var(--color-text-light));opacity:.9}.search-container[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]:hover{transform:none}.results-counter[_ngcontent-%COMP%]{margin-top:.75rem;text-align:center}.results-counter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;border-radius:9999px;background-color:#d1d5db33;padding:.25rem .75rem;font-size:.75rem;line-height:1rem;font-weight:500;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1));color:rgb(var(--color-primary-dark))}.loading-indicator[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1));color:rgb(var(--color-text-light));opacity:.9}.loading-indicator[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:1.5rem;width:1.5rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.loading-indicator[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 60s infinite linear;border-radius:9999px;border-width:2px;border-color:#6b72804d;--tw-border-opacity: 1;border-top-color:rgb(107 114 128 / var(--tw-border-opacity, 1))}.no-results[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out;padding-top:2rem;padding-bottom:2rem;text-align:center;animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}@media (min-width: 1024px){.no-results[_ngcontent-%COMP%]{padding-top:3rem;padding-bottom:3rem}}.no-results[_ngcontent-%COMP%]   .no-results-content[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;max-width:28rem}.no-results[_ngcontent-%COMP%]   .no-results-icon[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:3.75rem;line-height:1}.no-results[_ngcontent-%COMP%]   .no-results-text[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.125rem;line-height:1.75rem;--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1));color:rgb(var(--color-text-light));opacity:.9}@media (max-width: 640px){.category-button[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.75rem;line-height:1rem;min-width:80px}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.875rem;line-height:1.25rem}.search-container[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]{padding:.5rem .75rem}.search-container[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}@media (max-width: 480px){.category-button[_ngcontent-%COMP%]{padding:.25rem;line-height:1rem;min-width:70px;font-size:.7rem}.categories-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.categories-container[_ngcontent-%COMP%]   .category-button[_ngcontent-%COMP%]{width:100%;max-width:140px;justify-content:center}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}button[_ngcontent-%COMP%]:focus-visible{outline-width:2px;outline-offset:2px;outline-color:#6b7280}input[_ngcontent-%COMP%]:focus-visible{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-color: rgb(107 114 128 / .5);--tw-ring-offset-width: 2px;--tw-ring-offset-color: #FAFAF9}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], .category-button[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.text-primary-dark[_ngcontent-%COMP%]{color:rgb(var(--color-primary-dark))}.text-text-light[_ngcontent-%COMP%]{color:rgb(var(--color-text-light));opacity:.9}"]})};function nH(n,e){n&1&&(g(0,"span",36),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"footer.contact.title")," "))}function rH(n,e){n&1&&(g(0,"span",37),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"footer.contact.subtitle")," "))}function iH(n,e){n&1&&(g(0,"p",38),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"footer.contact.email.title"),""))}function oH(n,e){n&1&&(g(0,"p",38),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"footer.contact.phone.title"),""))}function sH(n,e){n&1&&(g(0,"p",38),C(1),R(2,"transloco"),y()),n&2&&(v(),$(P(2,1,"footer.contact.studio.title")))}function aH(n,e){n&1&&(g(0,"p",15),C(1),R(2,"transloco"),y()),n&2&&(v(),$(P(2,1,"footer.contact.studio.address")))}function cH(n,e){n&1&&(g(0,"span",36),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"footer.social.title")," "))}function lH(n,e){n&1&&(g(0,"span",37),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"footer.social.subtitle")," "))}function uH(n,e){n&1&&(g(0,"p",39),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"footer.social.instagram.title"),""))}function dH(n,e){n&1&&(g(0,"p",39),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"footer.social.facebook.title"),""))}function hH(n,e){n&1&&(g(0,"p",39),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"footer.social.twitter.title"),""))}function fH(n,e){n&1&&(g(0,"span",36),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"footer.events.title")," "))}function pH(n,e){n&1&&(g(0,"span",37),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"footer.events.subtitle")," "))}function mH(n,e){n&1&&(g(0,"p",40),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"footer.events.event1.title")," "))}function gH(n,e){n&1&&(g(0,"p",41),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"footer.events.event1.description")," "))}function vH(n,e){n&1&&(g(0,"p",40),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"footer.events.event3.title")," "))}function yH(n,e){n&1&&(g(0,"p",41),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"footer.events.event3.description")," "))}function _H(n,e){n&1&&(g(0,"p",40),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"footer.events.event2.description")," "))}function wH(n,e){n&1&&(g(0,"p",41),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"footer.events.event2.description")," "))}function IH(n,e){n&1&&(g(0,"a",42),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"footer.privacy")," "))}function bH(n,e){n&1&&(g(0,"a",42),C(1),R(2,"transloco"),y()),n&2&&(v(),B(" ",P(2,1,"footer.terms")," "))}var Yf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ve({type:n,selectors:[["app-footer"]],standalone:!0,features:[je],decls:87,vars:27,consts:[["id","contacto",1,"relative","bg-background","py-20","overflow-hidden"],[1,"absolute","inset-0","bg-gradient-to-br","from-background","via-white","to-accent/20"],[1,"absolute","top-0","left-0","w-64","h-64","bg-primary/5","rounded-full","blur-3xl","animate-float"],[1,"absolute","bottom-0","right-0","w-80","h-80","bg-accent/10","rounded-full","blur-3xl","animate-float",2,"animation-delay","2s"],[1,"container","relative","z-10"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-12"],[1,"text-center","lg:text-left","animate-fade-in-up"],[1,"mb-6"],["class","inline-block px-4 py-2 bg-accent/30 text-primary-dark rounded-full text-sm font-medium mb-4",4,"transloco"],[1,"text-3xl","font-light","text-primary-dark","mb-6"],["class","font-serif italic",4,"transloco"],[1,"space-y-4","text-text"],[1,"flex","items-center","gap-3"],[1,"text-2xl"],["class","font-medium",4,"transloco"],[1,"text-text-light"],["class","text-text-light",4,"transloco"],[1,"text-center","lg:text-left","animate-fade-in-up",2,"animation-delay","0.2s"],[1,"space-y-4"],["href","#",1,"flex","items-center","gap-3","group","text-text","hover:text-primary-dark","transition-all","duration-300"],[1,"text-2xl","group-hover:scale-110","transition-transform"],["class","font-medium group-hover:underline",4,"transloco"],[1,"text-text-light","text-sm"],[1,"text-center","lg:text-left","animate-fade-in-up",2,"animation-delay","0.4s"],[1,"bg-white/50","backdrop-blur-sm","rounded-lg","p-4","border","border-accent/30"],["class","font-semibold text-primary-dark",4,"transloco"],["class","text-sm mt-1",4,"transloco"],[1,"border-t","border-accent/30","mt-12","pt-8","text-center","animate-fade-in-up",2,"animation-delay","0.6s"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","gap-4"],[1,"text-text-light","font-light",3,"innerHTML"],[1,"flex","gap-6","text-text-light"],["href","#","class","hover:text-primary-dark transition-colors duration-300 font-light",4,"transloco"],[1,"mt-6","flex","justify-center"],[1,"w-24","h-1","bg-gradient-to-r","from-transparent","via-primary/50","to-transparent","rounded-full"],[1,"absolute","-bottom-10","-left-10","w-32","h-32","bg-primary/10","rounded-full","blur-2xl"],[1,"absolute","-top-10","-right-10","w-40","h-40","bg-accent/15","rounded-full","blur-2xl"],[1,"inline-block","px-4","py-2","bg-accent/30","text-primary-dark","rounded-full","text-sm","font-medium","mb-4"],[1,"font-serif","italic"],[1,"font-medium"],[1,"font-medium","group-hover:underline"],[1,"font-semibold","text-primary-dark"],[1,"text-sm","mt-1"],["href","#",1,"hover:text-primary-dark","transition-colors","duration-300","font-light"]],template:function(t,r){t&1&&(g(0,"footer",0),ne(1,"div",1)(2,"div",2)(3,"div",3),g(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),K(8,nH,3,3,"span",8),y(),g(9,"h3",9),K(10,rH,3,3,"span",10),y(),g(11,"div",11)(12,"div",12)(13,"span",13),C(14,"\u{1F4E7}"),y(),g(15,"div"),K(16,iH,3,3,"p",14),g(17,"p",15),C(18,"artista@email.com"),y()()(),g(19,"div",12)(20,"span",13),C(21,"\u{1F4F1}"),y(),g(22,"div"),K(23,oH,3,3,"p",14),g(24,"p",15),C(25,"+34 123 456 789"),y()()(),g(26,"div",12)(27,"span",13),C(28,"\u{1F4CD}"),y(),g(29,"div"),K(30,sH,3,3,"p",14)(31,aH,3,3,"p",16),y()()()(),g(32,"div",17)(33,"div",7),K(34,cH,3,3,"span",8),y(),g(35,"h3",9),K(36,lH,3,3,"span",10),y(),g(37,"div",18)(38,"a",19)(39,"span",20),C(40,"\u{1F4F7}"),y(),g(41,"div"),K(42,uH,3,3,"p",21),g(43,"p",22),C(44,"@malaver.arte"),y()()(),g(45,"a",19)(46,"span",20),C(47,"\u{1F465}"),y(),g(48,"div"),K(49,dH,3,3,"p",21),g(50,"p",22),C(51,"Mar\xEDa Malaver Arte"),y()()(),g(52,"a",19)(53,"span",20),C(54,"\u{1F426}"),y(),g(55,"div"),K(56,hH,3,3,"p",21),g(57,"p",22),C(58,"@malaver_art"),y()()()()(),g(59,"div",23)(60,"div",7),K(61,fH,3,3,"span",8),y(),g(62,"h3",9),K(63,pH,3,3,"span",10),y(),g(64,"div",11)(65,"div",24),K(66,mH,3,3,"p",25)(67,gH,3,3,"p",26),y(),g(68,"div",24),K(69,vH,3,3,"p",25)(70,yH,3,3,"p",26),y(),g(71,"div",24),K(72,_H,3,3,"p",25)(73,wH,3,3,"p",26),y()()()(),g(74,"div",27)(75,"div",28)(76,"p",29),R(77,"transloco"),C(78),R(79,"transloco"),y(),g(80,"div",30),K(81,IH,3,3,"a",31)(82,bH,3,3,"a",31),y()(),g(83,"div",32),ne(84,"div",33),y()()(),ne(85,"div",34)(86,"div",35),y()),t&2&&(v(8),j("transloco","footer.contact.title"),v(2),j("transloco","footer.contact.subtitle"),v(6),j("transloco","footer.contact.email.title"),v(7),j("transloco","footer.contact.phone.title"),v(7),j("transloco","footer.contact.studio.title"),v(),j("transloco","footer.contact.studio.address"),v(3),j("transloco","footer.social.title"),v(2),j("transloco","footer.social.subtitle"),v(6),j("transloco","footer.social.instagram.title"),v(7),j("transloco","footer.social.facebook.title"),v(7),j("transloco","footer.social.twitter.title"),v(5),j("transloco","footer.events.title"),v(2),j("transloco","footer.events.subtitle"),v(3),j("transloco","footer.events.event1.title"),v(),j("transloco","footer.events.event1.description"),v(2),j("transloco","footer.events.event1.title"),v(),j("transloco","footer.events.event1.description"),v(2),j("transloco","footer.events.event2.title"),v(),j("transloco","footer.events.event2.description"),v(3),j("innerHTML",P(77,23,"footer.copyright"),Xi),v(2),B(" ",P(79,25,"footer.copyright")," "),v(3),j("transloco","footer.privacy"),v(),j("transloco","footer.terms"))},dependencies:[ot,Qn,ft]})};var Zf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ve({type:n,selectors:[["app-home"]],standalone:!0,features:[je],decls:6,vars:0,template:function(t,r){t&1&&(ne(0,"app-header"),g(1,"main"),ne(2,"app-gallery")(3,"app-hero")(4,"app-techniques"),y(),ne(5,"app-footer"))},dependencies:[Jn,Lh,Vh,Qf,Yf]})};function EH(n,e){if(n&1&&(g(0,"div",45),C(1),y()),n&2){let t=ue();v(),B(" ",t.successMessage," ")}}function CH(n,e){if(n&1&&(g(0,"div",46),C(1),y()),n&2){let t=ue();v(),B(" ",t.errorMessage," ")}}function DH(n,e){if(n&1){let t=it();g(0,"button",47),le("click",function(){oe(t);let i=ue();return se(i.cancelEdit())}),C(1),R(2,"transloco"),y()}n&2&&(v(),B(" ",P(2,1,"adminDashboard.form.cancel")," "))}function TH(n,e){n&1&&(g(0,"div",48)(1,"span"),C(2),R(3,"transloco"),y()()),n&2&&(v(2),$(P(3,1,"adminDashboard.noArtworks")))}function SH(n,e){if(n&1){let t=it();g(0,"tr")(1,"td",55),ne(2,"img",56),y(),g(3,"td",55)(4,"div",57),C(5),y(),g(6,"div",58),C(7),y()(),g(8,"td",59),C(9),y(),g(10,"td",59),C(11),y(),g(12,"td",60)(13,"button",61),le("click",function(){let i=oe(t).$implicit,o=ue(2);return se(o.editArtwork(i))}),C(14),R(15,"transloco"),y(),g(16,"button",62),le("click",function(){let i=oe(t).$implicit,o=ue(2);return se(o.deleteArtwork(i.id))}),C(17),R(18,"transloco"),y()()()}if(n&2){let t=e.$implicit;v(2),j("src",t.imagen,Ir)("alt",t.titulo),v(3),$(t.titulo),v(2),$(t.medidas),v(2),B(" ",t.tecnica," "),v(2),Za(" ",t.precio," ",t.moneda," "),v(3),B(" ",P(15,9,"adminDashboard.table.edit")," "),v(3),B(" ",P(18,11,"adminDashboard.table.delete")," ")}}function xH(n,e){if(n&1&&(g(0,"div",49)(1,"table",50)(2,"thead",51)(3,"tr")(4,"th",52),C(5),R(6,"transloco"),y(),g(7,"th",52),C(8),R(9,"transloco"),y(),g(10,"th",52),C(11),R(12,"transloco"),y(),g(13,"th",52),C(14),R(15,"transloco"),y(),g(16,"th",52),C(17),R(18,"transloco"),y()()(),g(19,"tbody",53),K(20,SH,19,13,"tr",54),y()()()),n&2){let t=ue();v(5),B(" ",P(6,6,"adminDashboard.table.image"),""),v(3),B(" ",P(9,8,"adminDashboard.table.title"),""),v(3),B(" ",P(12,10,"adminDashboard.table.technique"),""),v(3),B(" ",P(15,12,"adminDashboard.table.price"),""),v(3),B(" ",P(18,14,"adminDashboard.table.actions"),""),v(3),j("ngForOf",t.artworks)}}var Jf=class n{constructor(e,t,r){this.artworkService=e;this.authService=t;this.translocoService=r}artworks=[];newArtwork={id:"",titulo:"",medidas:"",tecnica:"",estilo:"",genero:"",descripcion:"",estado:"",precio:0,moneda:"EUR",imagen:"",anio:new Date().getFullYear(),categoria:"",vendido:!1};editingArtwork=null;successMessage="";errorMessage="";subscription=new $e;ngOnInit(){this.loadArtworks()}ngOnDestroy(){this.subscription.unsubscribe()}loadArtworks(){this.subscription.add(this.artworkService.artworks$.subscribe({next:e=>{this.artworks=e},error:e=>{console.error("Error loading artworks:",e),this.errorMessage=this.translocoService.translate("adminDashboard.errors.load"),setTimeout(()=>{this.errorMessage=""},3e3)}}))}onSubmit(){return N(this,null,function*(){try{this.editingArtwork?(yield this.artworkService.updateArtwork(U({},this.newArtwork)),this.successMessage=this.translocoService.translate("adminDashboard.success.update")):(yield this.artworkService.addArtwork(U({},this.newArtwork)),this.successMessage=this.translocoService.translate("adminDashboard.success.add")),this.resetForm(),setTimeout(()=>{this.successMessage=""},3e3)}catch(e){console.error("Error saving artwork:",e),this.errorMessage=this.translocoService.translate("adminDashboard.errors.save"),setTimeout(()=>{this.errorMessage=""},3e3)}})}editArtwork(e){this.editingArtwork=e,this.newArtwork=U({},e)}deleteArtwork(e){return N(this,null,function*(){if(confirm(this.translocoService.translate("adminDashboard.confirmDelete")))try{yield this.artworkService.deleteArtwork(e),this.successMessage=this.translocoService.translate("adminDashboard.success.delete"),setTimeout(()=>{this.successMessage=""},3e3)}catch(t){console.error("Error deleting artwork:",t),this.errorMessage=this.translocoService.translate("adminDashboard.errors.delete"),setTimeout(()=>{this.errorMessage=""},3e3)}})}resetForm(){this.newArtwork={id:"",titulo:"",medidas:"",tecnica:"",estilo:"",genero:"",descripcion:"",estado:"",precio:0,moneda:"EUR",imagen:"",anio:new Date().getFullYear(),categoria:"",vendido:!1},this.editingArtwork=null}cancelEdit(){this.resetForm()}static \u0275fac=function(t){return new(t||n)(J(da),J(Zn),J(Wt))};static \u0275cmp=Ve({type:n,selectors:[["app-admin-dashboard"]],standalone:!0,features:[je],decls:132,vars:105,consts:[["artworkForm","ngForm"],[1,"min-h-screen","bg-gray-100","p-6"],[1,"max-w-7xl","mx-auto"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-3xl","font-bold","text-gray-800"],[1,"bg-red-600","text-white","px-4","py-2","rounded-md","hover:bg-red-700","transition-colors",3,"click"],["class","bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",4,"ngIf"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",4,"ngIf"],[1,"bg-white","shadow-md","rounded-lg","p-6","mb-8"],[1,"text-xl","font-semibold","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4",3,"ngSubmit"],[1,"space-y-4"],[1,"block","text-sm","font-medium","mb-1"],["type","text","name","titulo","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","text","name","medidas","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","text","name","tecnica","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","text","name","estilo",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","text","name","genero","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["name","categoria","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["value","paisajismo"],["value","bodegones"],["value","retratos"],["value","animalismo"],["value","otros"],["name","estado","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["value","Nuevo"],["value","Usado"],["value","Restaurado"],["type","number","name","precio","required","","min","0",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["name","moneda","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["value","EUR"],["value","USD"],["value","COP"],["type","number","name","anio",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["name","vendido","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],[3,"ngValue"],["type","text","name","imagen","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],[1,"md:col-span-2"],["name","descripcion","rows","3",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],[1,"md:col-span-2","flex","justify-end","space-x-4","mt-4"],["type","button","class","bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600 transition-colors",3,"click",4,"ngIf"],["type","submit",1,"bg-blue-600","text-white","px-4","py-2","rounded-md","hover:bg-blue-700","transition-colors","disabled:bg-blue-300",3,"disabled"],[1,"bg-white","shadow-md","rounded-lg","p-6"],["class","text-center py-8 text-gray-500",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],[1,"bg-green-100","border","border-green-400","text-green-700","px-4","py-3","rounded","mb-6"],[1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","mb-6"],["type","button",1,"bg-gray-500","text-white","px-4","py-2","rounded-md","hover:bg-gray-600","transition-colors",3,"click"],[1,"text-center","py-8","text-gray-500"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],[1,"px-6","py-4","whitespace-nowrap"],[1,"h-12","w-12","object-cover","rounded",3,"src","alt"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"text-indigo-600","hover:text-indigo-900","mr-3",3,"click"],[1,"text-red-600","hover:text-red-900",3,"click"]],template:function(t,r){if(t&1){let i=it();ne(0,"app-header"),g(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),C(5),R(6,"transloco"),y(),g(7,"button",5),le("click",function(){return oe(i),se(r.authService.logout())}),C(8),R(9,"transloco"),y()(),K(10,EH,2,1,"div",6)(11,CH,2,1,"div",7),g(12,"div",8)(13,"h2",9),C(14),R(15,"transloco"),y(),g(16,"form",10,0),le("ngSubmit",function(){return oe(i),se(r.onSubmit())}),g(18,"div",11)(19,"div")(20,"label",12),C(21),R(22,"transloco"),y(),g(23,"input",13),dt("ngModelChange",function(s){return oe(i),wt(r.newArtwork.titulo,s)||(r.newArtwork.titulo=s),se(s)}),y()(),g(24,"div")(25,"label",12),C(26),R(27,"transloco"),y(),g(28,"input",14),dt("ngModelChange",function(s){return oe(i),wt(r.newArtwork.medidas,s)||(r.newArtwork.medidas=s),se(s)}),y()(),g(29,"div")(30,"label",12),C(31),R(32,"transloco"),y(),g(33,"input",15),dt("ngModelChange",function(s){return oe(i),wt(r.newArtwork.tecnica,s)||(r.newArtwork.tecnica=s),se(s)}),y()(),g(34,"div")(35,"label",12),C(36),R(37,"transloco"),y(),g(38,"input",16),dt("ngModelChange",function(s){return oe(i),wt(r.newArtwork.estilo,s)||(r.newArtwork.estilo=s),se(s)}),y()(),g(39,"div")(40,"label",12),C(41),R(42,"transloco"),y(),g(43,"input",17),dt("ngModelChange",function(s){return oe(i),wt(r.newArtwork.genero,s)||(r.newArtwork.genero=s),se(s)}),y()(),g(44,"div")(45,"label",12),C(46),R(47,"transloco"),y(),g(48,"select",18),dt("ngModelChange",function(s){return oe(i),wt(r.newArtwork.categoria,s)||(r.newArtwork.categoria=s),se(s)}),g(49,"option",19),C(50),R(51,"transloco"),y(),g(52,"option",20),C(53),R(54,"transloco"),y(),g(55,"option",21),C(56),R(57,"transloco"),y(),g(58,"option",22),C(59),R(60,"transloco"),y(),g(61,"option",23),C(62),R(63,"transloco"),y()()()(),g(64,"div",11)(65,"div")(66,"label",12),C(67),R(68,"transloco"),y(),g(69,"select",24),dt("ngModelChange",function(s){return oe(i),wt(r.newArtwork.estado,s)||(r.newArtwork.estado=s),se(s)}),g(70,"option",25),C(71),R(72,"transloco"),y(),g(73,"option",26),C(74),R(75,"transloco"),y(),g(76,"option",27),C(77),R(78,"transloco"),y()()(),g(79,"div")(80,"label",12),C(81),R(82,"transloco"),y(),g(83,"input",28),dt("ngModelChange",function(s){return oe(i),wt(r.newArtwork.precio,s)||(r.newArtwork.precio=s),se(s)}),y()(),g(84,"div")(85,"label",12),C(86),R(87,"transloco"),y(),g(88,"select",29),dt("ngModelChange",function(s){return oe(i),wt(r.newArtwork.moneda,s)||(r.newArtwork.moneda=s),se(s)}),g(89,"option",30),C(90,"EUR"),y(),g(91,"option",31),C(92,"USD"),y(),g(93,"option",32),C(94,"COP"),y()()(),g(95,"div")(96,"label",12),C(97),R(98,"transloco"),y(),g(99,"input",33),dt("ngModelChange",function(s){return oe(i),wt(r.newArtwork.anio,s)||(r.newArtwork.anio=s),se(s)}),y()(),g(100,"div")(101,"label",12),C(102),R(103,"transloco"),y(),g(104,"select",34),dt("ngModelChange",function(s){return oe(i),wt(r.newArtwork.vendido,s)||(r.newArtwork.vendido=s),se(s)}),g(105,"option",35),C(106),R(107,"transloco"),y(),g(108,"option",35),C(109),R(110,"transloco"),y()()(),g(111,"div")(112,"label",12),C(113),R(114,"transloco"),y(),g(115,"input",36),dt("ngModelChange",function(s){return oe(i),wt(r.newArtwork.imagen,s)||(r.newArtwork.imagen=s),se(s)}),y()()(),g(116,"div",37)(117,"label",12),C(118),R(119,"transloco"),y(),g(120,"textarea",38),dt("ngModelChange",function(s){return oe(i),wt(r.newArtwork.descripcion,s)||(r.newArtwork.descripcion=s),se(s)}),y()(),g(121,"div",39),K(122,DH,3,3,"button",40),g(123,"button",41),C(124),R(125,"transloco"),y()()()(),g(126,"div",42)(127,"h2",9),C(128),R(129,"transloco"),y(),K(130,TH,4,3,"div",43)(131,xH,21,16,"div",44),y()()()}if(t&2){let i=Er(17);v(5),$(P(6,49,"adminDashboard.title")),v(3),B(" ",P(9,51,"adminDashboard.logout")," "),v(2),j("ngIf",r.successMessage),v(),j("ngIf",r.errorMessage),v(3),B(" ",P(15,53,r.editingArtwork?"adminDashboard.editArtwork":"adminDashboard.addArtwork")," "),v(7),$(P(22,55,"adminDashboard.form.title")),v(2),ut("ngModel",r.newArtwork.titulo),v(3),$(P(27,57,"adminDashboard.form.measures")),v(2),ut("ngModel",r.newArtwork.medidas),v(3),$(P(32,59,"adminDashboard.form.technique")),v(2),ut("ngModel",r.newArtwork.tecnica),v(3),$(P(37,61,"adminDashboard.form.style")),v(2),ut("ngModel",r.newArtwork.estilo),v(3),$(P(42,63,"adminDashboard.form.genre")),v(2),ut("ngModel",r.newArtwork.genero),v(3),$(P(47,65,"adminDashboard.form.category")),v(2),ut("ngModel",r.newArtwork.categoria),v(2),$(P(51,67,"gallery.categories.paisajismo")),v(3),$(P(54,69,"gallery.categories.bodegones")),v(3),$(P(57,71,"gallery.categories.retratos")),v(3),$(P(60,73,"gallery.categories.animalismo")),v(3),$(P(63,75,"gallery.categories.otros")),v(5),$(P(68,77,"adminDashboard.form.status")),v(2),ut("ngModel",r.newArtwork.estado),v(2),$(P(72,79,"adminDashboard.form.statusOptions.new")),v(3),$(P(75,81,"adminDashboard.form.statusOptions.used")),v(3),$(P(78,83,"adminDashboard.form.statusOptions.restored")),v(4),$(P(82,85,"adminDashboard.form.price")),v(2),ut("ngModel",r.newArtwork.precio),v(3),$(P(87,87,"adminDashboard.form.currency")),v(2),ut("ngModel",r.newArtwork.moneda),v(9),$(P(98,89,"adminDashboard.form.year")),v(2),ut("ngModel",r.newArtwork.anio),v(3),$(P(103,91,"adminDashboard.form.sold")),v(2),ut("ngModel",r.newArtwork.vendido),v(),j("ngValue",!1),v(),$(P(107,93,"adminDashboard.form.soldOptions.no")),v(2),j("ngValue",!0),v(),$(P(110,95,"adminDashboard.form.soldOptions.yes")),v(4),$(P(114,97,"adminDashboard.form.image")),v(2),ut("ngModel",r.newArtwork.imagen),v(3),$(P(119,99,"adminDashboard.form.description")),v(2),ut("ngModel",r.newArtwork.descripcion),v(2),j("ngIf",r.editingArtwork),v(),j("disabled",!i.valid),v(),B(" ",P(125,101,r.editingArtwork?"adminDashboard.form.update":"adminDashboard.form.add")," "),v(4),$(P(129,103,"adminDashboard.existingArtworks")),v(2),j("ngIf",r.artworks.length===0),v(),j("ngIf",r.artworks.length>0)}},dependencies:[ks,Sh,LS,jS,Os,cy,xh,Ch,Dh,Uc,ly,jc,Vc,It,qn,Gn,ot,ft,Jn]})};function AH(n,e){if(n&1&&(g(0,"div",47)(1,"div",48)(2,"div",49)(3,"span",50),C(4),y()(),g(5,"p",33),C(6),y()()()),n&2){let t=e.$implicit,r=e.index;v(4),$(r+1),v(2),$(t)}}function MH(n,e){if(n&1&&(g(0,"div",51)(1,"div",48)(2,"div",52)(3,"span",50),C(4),y()(),g(5,"p",33),C(6),y()()()),n&2){let t=e.$implicit,r=e.index;v(4),$(r+1),v(2),$(t)}}var Xf=class n{colombiaExhibitions=["Museo de Arte Moderno, Bogot\xE1","Museo de la Independencia, Casa del Florero, Bogot\xE1","Museo de Arte Colonial, Bogot\xE1","Museo La Tertulia, Cali","MULI Museo Libre de Arte P\xFAblico de Cali, Cali"];europeExhibitions=["Castillo Neuburg an der Kamel",'Galer\xEDa "Luer", Bad W\xF6rishofen',"Galer\xEDa en el Kurhaus, Bad W\xF6rishofen",'Galer\xEDa "Art Gladys", Club de Golf Bad Ragaz (Suiza)','Galer\xEDa "Kunsthalle Art-Sch\xF6ch", Stein am Rhein (Suiza)'];static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ve({type:n,selectors:[["app-artist-bio"]],standalone:!0,features:[je],decls:122,vars:80,consts:[["id","sobre-mi",1,"min-h-screen","flex","items-center","justify-center","relative","overflow-hidden","bg-artistic-pattern","py-16"],[1,"absolute","inset-0","bg-gradient-to-br","from-background/95","via-white/90","to-accent/15"],[1,"absolute","top-5","left-5","w-80","h-80","bg-primary/10","rounded-full","blur-3xl","animate-float"],[1,"absolute","bottom-5","right-5","w-96","h-96","bg-accent/15","rounded-full","blur-3xl","animate-float",2,"animation-delay","2s"],[1,"absolute","top-1/2","left-1/4","w-64","h-64","bg-primary/5","rounded-full","blur-3xl","animate-float",2,"animation-delay","4s"],[1,"container","relative","z-10"],[1,"text-center","mb-16","animate-fade-in-up"],[1,"inline-block","px-6","py-3","bg-gradient-to-r","from-accent/40","to-primary/20","text-primary-dark","rounded-full","text-lg","font-medium","mb-4","shadow-lg"],[1,"text-4xl","md:text-5xl","font-light","text-primary-dark","mb-4","leading-tight"],[1,"text-xl","text-text-light","font-serif","italic"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-8","items-start"],[1,"lg:col-span-1","relative","animate-fade-in-up"],[1,"sticky","top-24"],[1,"relative","group"],[1,"relative","bg-white/90","backdrop-blur-md","rounded-3xl","p-6","shadow-2xl","border-2","border-accent/30","transform","transition-all","duration-500","hover:scale-105","hover:shadow-3xl"],[1,"absolute","-inset-4","bg-gradient-to-r","from-primary/10","to-accent/10","rounded-3xl","blur-lg","opacity-50"],[1,"relative","aspect-[3/4]","bg-gradient-to-br","from-primary/5","to-accent/10","rounded-2xl","overflow-hidden"],["src","https://res.cloudinary.com/dvdscvipo/image/upload/v1758581745/Scannen0002_fa4n0x.jpg","alt","Mar\xEDa Abt-Dutzi - Artista pict\xF3rica",1,"w-full","h-full","object-cover","transition-transform","duration-700","group-hover:scale-110"],[1,"absolute","inset-0","bg-gradient-to-t","from-black/20","to-transparent","opacity-0","group-hover:opacity-100","transition-opacity","duration-500"],[1,"absolute","-top-4","-right-4","w-24","h-24","bg-primary/20","rounded-full","blur-xl","z-0"],[1,"absolute","-bottom-4","-left-4","w-28","h-28","bg-accent/20","rounded-full","blur-xl","z-0"],[1,"mt-8","space-y-4"],[1,"bg-white/80","backdrop-blur-sm","rounded-2xl","p-6","shadow-lg","border","border-accent/20"],[1,"text-xl","font-light","text-primary-dark","mb-3"],[1,"text-text","text-sm"],[1,"lg:col-span-2","animate-fade-in-up",2,"animation-delay","0.3s"],[1,"mb-12"],[1,"flex","items-center","mb-6"],[1,"text-3xl","font-light","text-primary-dark"],[1,"bg-white/80","backdrop-blur-sm","rounded-2xl","p-8","shadow-lg","border","border-accent/20"],[1,"space-y-6","text-text","leading-relaxed"],[1,"text-lg"],[1,"bg-gradient-to-r","from-accent/20","to-primary/10","rounded-xl","p-6","my-6","border-l-4","border-primary"],[1,"font-medium","text-primary-dark"],[1,"mt-2","text-sm","text-text-light"],[1,"text-lg","mb-6"],[1,"mb-8"],[1,"text-2xl","font-light","text-primary-dark","mb-6","text-center"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["class","bg-gradient-to-br from-white to-accent/5 rounded-xl p-5 shadow-md border border-accent/20 hover:shadow-lg transition-shadow duration-300",4,"ngFor","ngForOf"],["class","bg-gradient-to-br from-white to-primary/5 rounded-xl p-5 shadow-md border border-accent/20 hover:shadow-lg transition-shadow duration-300",4,"ngFor","ngForOf"],[1,"text-center","mt-16","pt-8","border-t","border-accent/30"],[1,"bg-gradient-to-r","from-primary/10","to-accent/10","rounded-2xl","p-8","shadow-lg"],[1,"text-2xl","font-light","text-primary-dark","mb-4"],[1,"text-lg","text-text","leading-relaxed","max-w-3xl","mx-auto"],[1,"mt-6"],[1,"text-2xl","font-serif","italic","text-primary-dark"],[1,"bg-gradient-to-br","from-white","to-accent/5","rounded-xl","p-5","shadow-md","border","border-accent/20","hover:shadow-lg","transition-shadow","duration-300"],[1,"flex","items-start","mb-3"],[1,"w-8","h-8","bg-primary/20","rounded-full","flex","items-center","justify-center","mr-3","flex-shrink-0"],[1,"text-primary-dark","font-bold"],[1,"bg-gradient-to-br","from-white","to-primary/5","rounded-xl","p-5","shadow-md","border","border-accent/20","hover:shadow-lg","transition-shadow","duration-300"],[1,"w-8","h-8","bg-accent/30","rounded-full","flex","items-center","justify-center","mr-3","flex-shrink-0"]],template:function(t,r){t&1&&(ne(0,"app-header"),g(1,"section",0),ne(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),g(6,"div",5)(7,"div",6)(8,"span",7),C(9),R(10,"transloco"),y(),g(11,"h1",8),C(12),R(13,"transloco"),y(),g(14,"p",9),C(15),R(16,"transloco"),y()(),g(17,"div",10)(18,"div",11)(19,"div",12)(20,"div",13)(21,"div",14),ne(22,"div",15),g(23,"div",16),ne(24,"img",17)(25,"div",18),y()(),ne(26,"div",19)(27,"div",20),y(),g(28,"div",21)(29,"div",22)(30,"h3",23),C(31),R(32,"transloco"),y(),g(33,"p",24),C(34),R(35,"transloco"),y()(),g(36,"div",22)(37,"h3",23),C(38),R(39,"transloco"),y(),g(40,"p",24),C(41),R(42,"transloco"),y()()()()(),g(43,"div",25)(44,"div",26)(45,"div",27)(46,"h2",28),C(47),R(48,"transloco"),y()(),g(49,"div",29)(50,"div",30)(51,"p",31),C(52),R(53,"transloco"),y(),g(54,"p"),C(55),R(56,"transloco"),y(),g(57,"p"),C(58),R(59,"transloco"),y(),g(60,"div",32)(61,"p",33),C(62),R(63,"transloco"),y(),g(64,"p",34),C(65),R(66,"transloco"),y()(),g(67,"p"),C(68),R(69,"transloco"),y()()()(),g(70,"div",26)(71,"div",27)(72,"h2",28),C(73),R(74,"transloco"),y()(),g(75,"div",29)(76,"p",35),C(77),R(78,"transloco"),y(),g(79,"p",36),C(80),R(81,"transloco"),y(),g(82,"div",36)(83,"h3",37),C(84),R(85,"transloco"),y(),g(86,"div",38),K(87,AH,7,2,"div",39),y()()()(),g(88,"div",26)(89,"div",27)(90,"h2",28),C(91),R(92,"transloco"),y()(),g(93,"div",29)(94,"div",30)(95,"p"),C(96),R(97,"transloco"),y(),g(98,"p"),C(99),R(100,"transloco"),y(),g(101,"p",36),C(102),R(103,"transloco"),y(),g(104,"div")(105,"h3",37),C(106),R(107,"transloco"),y(),g(108,"div",38),K(109,MH,7,2,"div",40),y()()()()(),g(110,"div",41)(111,"div",42)(112,"h3",43),C(113),R(114,"transloco"),y(),g(115,"p",44),C(116),R(117,"transloco"),y(),g(118,"div",45)(119,"p",46),C(120),R(121,"transloco"),y()()()()()()()()),t&2&&(v(9),B(" ",P(10,28,"bio.title")," "),v(3),B(" ",P(13,30,"bio.location")," "),v(3),$(P(16,32,"bio.date")),v(16),B("\u{1F3A8} ",P(32,34,"bio.techniqueTitle"),""),v(3),$(P(35,36,"bio.techniqueDescription")),v(4),B("\u{1F4C5} ",P(39,38,"bio.experienceTitle"),""),v(3),$(P(42,40,"bio.experienceYears")),v(6),$(P(48,42,"bio.childhoodTitle")),v(5),$(P(53,44,"bio.paragraphs.p1")),v(3),$(P(56,46,"bio.paragraphs.p2")),v(3),$(P(59,48,"bio.paragraphs.p3")),v(4),$(P(63,50,"bio.paragraphs.p4")),v(3),$(P(66,52,"bio.paragraphs.p5")),v(3),$(P(69,54,"bio.paragraphs.p6")),v(5),$(P(74,56,"bio.careerTitle")),v(4),$(P(78,58,"bio.paragraphs.p7")),v(3),$(P(81,60,"bio.paragraphs.p8")),v(4),$(P(85,62,"bio.exhibitionsColombia.title")),v(3),j("ngForOf",r.colombiaExhibitions),v(4),$(P(92,64,"bio.germanyTitle")),v(5),$(P(97,66,"bio.paragraphs.p9")),v(3),$(P(100,68,"bio.paragraphs.p10")),v(3),$(P(103,70,"bio.paragraphs.p11")),v(4),$(P(107,72,"bio.exhibitionsEurope.title")),v(3),j("ngForOf",r.europeExhibitions),v(4),$(P(114,74,"bio.legacyTitle")),v(3),$(P(117,76,"bio.legacyDescription")),v(4),$(P(121,78,"bio.signature")))},dependencies:[ot,ft,It,qn,Jn]})};var tM=[{path:"",component:Zf},{path:"admin/login",component:kh},{path:"admin/dashboard",component:Jf,canActivate:[Fh]},{path:"bio",component:Xf},{path:"**",redirectTo:""}];var nM={production:!1,firebaseConfig:{apiKey:"AIzaSyBY5l0nyxjgrb2MC8b2_3lGOf4h2KHTH24",authDomain:"galeria-70ec6.firebaseapp.com",projectId:"galeria-70ec6",storageBucket:"galeria-70ec6.firebasestorage.app",messagingSenderId:"17744554129",appId:"1:17744554129:web:4dcbadd5dad6e58238f730",measurementId:"G-2SCNFR1HB6"}};var rM=["es","en","de"];var ep=class n{http=L(dv);getTranslation(e){return this.http.get(`/assets/i18n/${e}.json`)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var iM={providers:[PD({eventCoalescing:!0}),uS(tM),hT(),Px(()=>Nx(nM.firebaseConfig)),G1(()=>Q1()),nx({config:{availableLangs:rM,defaultLang:"de",reRenderOnLangChange:!0,prodMode:!FD()},loader:ep})]};var tp=class n{transloco=L(Wt);languages=[{code:"es",name:"languages.es"},{code:"en",name:"languages.en"},{code:"de",name:"languages.de"}];changeLang(e){this.transloco.setActiveLang(e)}getLanguage(){return"languages."+this.transloco.getActiveLang()}title="Malaver";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ve({type:n,selectors:[["app-root"]],standalone:!0,features:[je],decls:1,vars:0,template:function(t,r){t&1&&ne(0,"router-outlet")},dependencies:[Yv,ot]})};wT(tp,iM).catch(n=>console.error(n));

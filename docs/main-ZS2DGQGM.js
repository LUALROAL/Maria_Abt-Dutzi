var Fx=Object.defineProperty,Vx=Object.defineProperties;var Lx=Object.getOwnPropertyDescriptors;var cu=Object.getOwnPropertySymbols;var l0=Object.prototype.hasOwnProperty,d0=Object.prototype.propertyIsEnumerable;var u0=(n,e,t)=>e in n?Fx(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,V=(n,e)=>{for(var t in e||={})l0.call(e,t)&&u0(n,t,e[t]);if(cu)for(var t of cu(e))d0.call(e,t)&&u0(n,t,e[t]);return n},he=(n,e)=>Vx(n,Lx(e));var uu=(n,e)=>{var t={};for(var r in n)l0.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&cu)for(var r of cu(n))e.indexOf(r)<0&&d0.call(n,r)&&(t[r]=n[r]);return t};var M=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});function h0(n,e){return Object.is(n,e)}var nt=null,lu=!1,du=1,Gn=Symbol("SIGNAL");function Ee(n){let e=nt;return nt=n,e}function f0(){return nt}var ia={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Mf(n){if(lu)throw new Error("");if(nt===null)return;nt.consumerOnSignalRead(n);let e=nt.nextProducerIndex++;if(mu(nt),e<nt.producerNode.length&&nt.producerNode[e]!==n&&ra(nt)){let t=nt.producerNode[e];pu(t,nt.producerIndexOfThis[e])}nt.producerNode[e]!==n&&(nt.producerNode[e]=n,nt.producerIndexOfThis[e]=ra(nt)?y0(n,nt,e):0),nt.producerLastReadVersion[e]=n.version}function jx(){du++}function p0(n){if(!(ra(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===du)){if(!n.producerMustRecompute(n)&&!Nf(n)){n.dirty=!1,n.lastCleanEpoch=du;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=du}}function m0(n){if(n.liveConsumerNode===void 0)return;let e=lu;lu=!0;try{for(let t of n.liveConsumerNode)t.dirty||Ux(t)}finally{lu=e}}function g0(){return nt?.consumerAllowSignalWrites!==!1}function Ux(n){n.dirty=!0,m0(n),n.consumerMarkedDirty?.(n)}function fu(n){return n&&(n.nextProducerIndex=0),Ee(n)}function Rf(n,e){if(Ee(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(ra(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)pu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Nf(n){mu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(p0(t),r!==t.version))return!0}return!1}function Pf(n){if(mu(n),ra(n))for(let e=0;e<n.producerNode.length;e++)pu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function y0(n,e,t){if(v0(n),n.liveConsumerNode.length===0&&_0(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=y0(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function pu(n,e){if(v0(n),n.liveConsumerNode.length===1&&_0(n))for(let r=0;r<n.producerNode.length;r++)pu(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];mu(i),i.producerIndexOfThis[r]=e}}function ra(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function mu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function v0(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function _0(n){return n.producerNode!==void 0}function w0(n){let e=Object.create(Bx);e.computation=n;let t=()=>{if(p0(e),Mf(e),e.value===hu)throw e.error;return e.value};return t[Gn]=e,t}var Af=Symbol("UNSET"),xf=Symbol("COMPUTING"),hu=Symbol("ERRORED"),Bx=he(V({},ia),{value:Af,dirty:!0,error:null,equal:h0,producerMustRecompute(n){return n.value===Af||n.value===xf},producerRecomputeValue(n){if(n.value===xf)throw new Error("Detected cycle in computations.");let e=n.value;n.value=xf;let t=fu(n),r;try{r=n.computation()}catch(i){r=hu,n.error=i}finally{Rf(n,t)}if(e!==Af&&e!==hu&&r!==hu&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function $x(){throw new Error}var I0=$x;function E0(){I0()}function b0(n){I0=n}var zx=null;function C0(n){let e=Object.create(T0);e.value=n;let t=()=>(Mf(e),e.value);return t[Gn]=e,t}function kf(n,e){g0()||E0(),n.equal(n.value,e)||(n.value=e,Hx(n))}function D0(n,e){g0()||E0(),kf(n,e(n.value))}var T0=he(V({},ia),{equal:h0,value:void 0});function Hx(n){n.version++,jx(),m0(n),zx?.()}function ie(n){return typeof n=="function"}function oo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var gu=oo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function pi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ke=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ie(r))try{r()}catch(o){e=o instanceof gu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{S0(o)}catch(s){e=e??[],s instanceof gu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new gu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)S0(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&pi(t,e)}remove(e){let{_finalizers:t}=this;t&&pi(t,e),e instanceof n&&e._removeParent(this)}};ke.EMPTY=(()=>{let n=new ke;return n.closed=!0,n})();var Of=ke.EMPTY;function yu(n){return n instanceof ke||n&&"closed"in n&&ie(n.remove)&&ie(n.add)&&ie(n.unsubscribe)}function S0(n){ie(n)?n():n.unsubscribe()}var cn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var so={setTimeout(n,e,...t){let{delegate:r}=so;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=so;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function vu(n){so.setTimeout(()=>{let{onUnhandledError:e}=cn;if(e)e(n);else throw n})}function oa(){}var A0=Ff("C",void 0,void 0);function x0(n){return Ff("E",void 0,n)}function M0(n){return Ff("N",n,void 0)}function Ff(n,e,t){return{kind:n,value:e,error:t}}var mi=null;function ao(n){if(cn.useDeprecatedSynchronousErrorHandling){let e=!mi;if(e&&(mi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=mi;if(mi=null,t)throw r}}else n()}function R0(n){cn.useDeprecatedSynchronousErrorHandling&&mi&&(mi.errorThrown=!0,mi.error=n)}var gi=class extends ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,yu(e)&&e.add(this)):this.destination=Wx}static create(e,t,r){return new co(e,t,r)}next(e){this.isStopped?Lf(M0(e),this):this._next(e)}error(e){this.isStopped?Lf(x0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Lf(A0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},qx=Function.prototype.bind;function Vf(n,e){return qx.call(n,e)}var jf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){_u(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){_u(r)}else _u(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){_u(t)}}},co=class extends gi{constructor(e,t,r){super();let i;if(ie(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&cn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Vf(e.next,o),error:e.error&&Vf(e.error,o),complete:e.complete&&Vf(e.complete,o)}):i=e}this.destination=new jf(i)}};function _u(n){cn.useDeprecatedSynchronousErrorHandling?R0(n):vu(n)}function Gx(n){throw n}function Lf(n,e){let{onStoppedNotification:t}=cn;t&&so.setTimeout(()=>t(n,e))}var Wx={closed:!0,next:oa,error:Gx,complete:oa};var uo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Lt(n){return n}function Uf(...n){return Bf(n)}function Bf(n){return n.length===0?Lt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var fe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=Qx(t)?t:new co(t,r,i);return ao(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=N0(r),new r((i,o)=>{let s=new co({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[uo](){return this}pipe(...t){return Bf(t)(this)}toPromise(t){return t=N0(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function N0(n){var e;return(e=n??cn.Promise)!==null&&e!==void 0?e:Promise}function Kx(n){return n&&ie(n.next)&&ie(n.error)&&ie(n.complete)}function Qx(n){return n&&n instanceof gi||Kx(n)&&yu(n)}function $f(n){return ie(n?.lift)}function ve(n){return e=>{if($f(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(n,e,t,r,i){return new zf(n,e,t,r,i)}var zf=class extends gi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function lo(){return ve((n,e)=>{let t=null;n._refCount++;let r=pe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ho=class extends fe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,$f(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ke;let t=this.getSubject();e.add(this.source.subscribe(pe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ke.EMPTY)}return e}refCount(){return lo()(this)}};var P0=oo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ot=(()=>{class n extends fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new wu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new P0}next(t){ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Of:(this.currentObservers=null,o.push(t),new ke(()=>{this.currentObservers=null,pi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new fe;return t.source=this,t}}return n.create=(e,t)=>new wu(e,t),n})(),wu=class extends ot{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Of}};var qe=class extends ot{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Hf={now(){return(Hf.delegate||Date).now()},delegate:void 0};var Iu=class extends ke{constructor(e,t){super()}schedule(e,t=0){return this}};var sa={setInterval(n,e,...t){let{delegate:r}=sa;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=sa;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var fo=class extends Iu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return sa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&sa.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,pi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var po=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};po.now=Hf.now;var mo=class extends po{constructor(e,t=po.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var qf=new mo(fo);var Eu=class extends fo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var bu=class extends mo{};var Gf=new bu(Eu);var jt=new fe(n=>n.complete());function k0(n){return n&&ie(n.schedule)}function O0(n){return n[n.length-1]}function Cu(n){return ie(O0(n))?n.pop():void 0}function Ar(n){return k0(O0(n))?n.pop():void 0}function Wf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function V0(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function F0(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yi(n){return this instanceof yi?(this.v=n,this):new yi(n)}function L0(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(A){return Promise.resolve(A).then(y,p)}}function a(y,A){r[y]&&(i[y]=function(P){return new Promise(function(N,j){o.push([y,P,N,j])>1||u(y,P)})},A&&(i[y]=A(i[y])))}function u(y,A){try{l(r[y](A))}catch(P){g(o[0][3],P)}}function l(y){y.value instanceof yi?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,A){y(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function j0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof F0=="function"?F0(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Du=n=>n&&typeof n.length=="number"&&typeof n!="function";function Tu(n){return ie(n?.then)}function Su(n){return ie(n[uo])}function Au(n){return Symbol.asyncIterator&&ie(n?.[Symbol.asyncIterator])}function xu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Yx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Mu=Yx();function Ru(n){return ie(n?.[Mu])}function Nu(n){return L0(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield yi(t.read());if(i)return yield yi(void 0);yield yield yi(r)}}finally{t.releaseLock()}})}function Pu(n){return ie(n?.getReader)}function We(n){if(n instanceof fe)return n;if(n!=null){if(Su(n))return Zx(n);if(Du(n))return Jx(n);if(Tu(n))return Xx(n);if(Au(n))return U0(n);if(Ru(n))return eM(n);if(Pu(n))return tM(n)}throw xu(n)}function Zx(n){return new fe(e=>{let t=n[uo]();if(ie(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Jx(n){return new fe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Xx(n){return new fe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,vu)})}function eM(n){return new fe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function U0(n){return new fe(e=>{nM(n,e).catch(t=>e.error(t))})}function tM(n){return U0(Nu(n))}function nM(n,e){var t,r,i,o;return V0(this,void 0,void 0,function*(){try{for(t=j0(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Nt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function xr(n,e=0){return ve((t,r)=>{t.subscribe(pe(r,i=>Nt(r,n,()=>r.next(i),e),()=>Nt(r,n,()=>r.complete(),e),i=>Nt(r,n,()=>r.error(i),e)))})}function Mr(n,e=0){return ve((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function B0(n,e){return We(n).pipe(Mr(e),xr(e))}function $0(n,e){return We(n).pipe(Mr(e),xr(e))}function z0(n,e){return new fe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function H0(n,e){return new fe(t=>{let r;return Nt(t,e,()=>{r=n[Mu](),Nt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ie(r?.return)&&r.return()})}function ku(n,e){if(!n)throw new Error("Iterable cannot be null");return new fe(t=>{Nt(t,e,()=>{let r=n[Symbol.asyncIterator]();Nt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function q0(n,e){return ku(Nu(n),e)}function G0(n,e){if(n!=null){if(Su(n))return B0(n,e);if(Du(n))return z0(n,e);if(Tu(n))return $0(n,e);if(Au(n))return ku(n,e);if(Ru(n))return H0(n,e);if(Pu(n))return q0(n,e)}throw xu(n)}function Fe(n,e){return e?G0(n,e):We(n)}function Z(...n){let e=Ar(n);return Fe(n,e)}function go(n,e){let t=ie(n)?n:()=>n,r=i=>i.error(t());return new fe(e?i=>e.schedule(r,0,i):r)}function Kf(n){return!!n&&(n instanceof fe||ie(n.lift)&&ie(n.subscribe))}var Wn=oo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(n,e){return ve((t,r)=>{let i=0;t.subscribe(pe(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:rM}=Array;function iM(n,e){return rM(e)?n(...e):n(e)}function Ou(n){return ee(e=>iM(n,e))}var{isArray:oM}=Array,{getPrototypeOf:sM,prototype:aM,keys:cM}=Object;function Fu(n){if(n.length===1){let e=n[0];if(oM(e))return{args:e,keys:null};if(uM(e)){let t=cM(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function uM(n){return n&&typeof n=="object"&&sM(n)===aM}function Vu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function aa(...n){let e=Ar(n),t=Cu(n),{args:r,keys:i}=Fu(n);if(r.length===0)return Fe([],e);let o=new fe(lM(r,e,i?s=>Vu(i,s):Lt));return t?o.pipe(Ou(t)):o}function lM(n,e,t=Lt){return r=>{W0(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)W0(e,()=>{let l=Fe(n[u],e),h=!1;l.subscribe(pe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function W0(n,e,t){n?Nt(t,n,e):e()}function K0(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=P=>l<r?A(P):u.push(P),A=P=>{o&&e.next(P),l++;let N=!1;We(t(P,h++)).subscribe(pe(e,j=>{i?.(j),o?y(j):e.next(j)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let j=u.shift();s?Nt(e,s,()=>A(j)):A(j)}g()}catch(j){e.error(j)}}))};return n.subscribe(pe(e,y,()=>{p=!0,g()})),()=>{a?.()}}function Ke(n,e,t=1/0){return ie(e)?Ke((r,i)=>ee((o,s)=>e(r,o,i,s))(We(n(r,i))),t):(typeof e=="number"&&(t=e),ve((r,i)=>K0(r,i,n,t)))}function yo(n=1/0){return Ke(Lt,n)}function Q0(){return yo(1)}function vo(...n){return Q0()(Fe(n,Ar(n)))}function Lu(n){return new fe(e=>{We(n()).subscribe(e)})}function Qf(...n){let e=Cu(n),{args:t,keys:r}=Fu(n),i=new fe(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;We(t[h]).subscribe(pe(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Vu(r,a):a),o.complete())}))}});return e?i.pipe(Ou(e)):i}function Pt(n,e){return ve((t,r)=>{let i=0;t.subscribe(pe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Rr(n){return ve((e,t)=>{let r=null,i=!1,o;r=e.subscribe(pe(t,void 0,void 0,s=>{o=We(n(s,Rr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Y0(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(pe(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Kn(n,e){return ie(e)?Ke(n,e,1):Ke(n,1)}function Nr(n){return ve((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Qn(n){return n<=0?()=>jt:ve((e,t)=>{let r=0;e.subscribe(pe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Yf(n){return ee(()=>n)}function ju(n=dM){return ve((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function dM(){return new Wn}function vi(n){return ve((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function wn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Pt((i,o)=>n(i,o,r)):Lt,Qn(1),t?Nr(e):ju(()=>new Wn))}function _o(n){return n<=0?()=>jt:ve((e,t)=>{let r=[];e.subscribe(pe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Zf(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Pt((i,o)=>n(i,o,r)):Lt,_o(1),t?Nr(e):ju(()=>new Wn))}function Jf(n,e){return ve(Y0(n,e,arguments.length>=2,!0))}function Xf(...n){let e=Ar(n);return ve((t,r)=>{(e?vo(n,t,e):vo(n,t)).subscribe(r)})}function kt(n,e){return ve((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(pe(r,u=>{i?.unsubscribe();let l=0,h=o++;We(n(u,h)).subscribe(i=pe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ep(n){return ve((e,t)=>{We(n).subscribe(pe(t,()=>t.complete(),oa)),!t.closed&&e.subscribe(t)})}function Qe(n,e,t){let r=ie(n)||e||t?{next:n,error:e,complete:t}:n;return r?ve((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(pe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Lt}var kI="https://g.co/ng/security#xss",W=class extends Error{constructor(e,t){super(wl(e,t)),this.code=e}};function wl(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function ga(n){return{toString:n}.toString()}var Uu="__parameters__";function hM(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function OI(n,e,t){return ga(()=>{let r=hM(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Uu)?u[Uu]:Object.defineProperty(u,Uu,{value:[]})[Uu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var pp=globalThis;function Pe(n){for(let e in n)if(n[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function fM(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function St(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(St).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function mp(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var pM=Pe({__forward_ref__:Pe});function fn(n){return n.__forward_ref__=fn,n.toString=function(){return St(this())},n}function Tt(n){return FI(n)?n():n}function FI(n){return typeof n=="function"&&n.hasOwnProperty(pM)&&n.__forward_ref__===fn}function z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function tr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Il(n){return Z0(n,LI)||Z0(n,jI)}function VI(n){return Il(n)!==null}function Z0(n,e){return n.hasOwnProperty(e)?n[e]:null}function mM(n){let e=n&&(n[LI]||n[jI]);return e||null}function J0(n){return n&&(n.hasOwnProperty(X0)||n.hasOwnProperty(gM))?n[X0]:null}var LI=Pe({\u0275prov:Pe}),X0=Pe({\u0275inj:Pe}),jI=Pe({ngInjectableDef:Pe}),gM=Pe({ngInjectorDef:Pe}),H=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function UI(n){return n&&!!n.\u0275providers}var yM=Pe({\u0275cmp:Pe}),vM=Pe({\u0275dir:Pe}),_M=Pe({\u0275pipe:Pe}),wM=Pe({\u0275mod:Pe}),Yu=Pe({\u0275fac:Pe}),ua=Pe({__NG_ELEMENT_ID__:Pe}),eI=Pe({__NG_ENV_ID__:Pe});function Yn(n){return typeof n=="string"?n:n==null?"":String(n)}function IM(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Yn(n)}function EM(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new W(-200,n)}function sm(n,e){throw new W(-201,!1)}var ce=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ce||{}),gp;function BI(){return gp}function Wt(n){let e=gp;return gp=n,e}function $I(n,e,t){let r=Il(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ce.Optional)return null;if(e!==void 0)return e;sm(n,"Injector")}var bM={},la=bM,yp="__NG_DI_FLAG__",Zu="ngTempTokenPath",CM="ngTokenPath",DM=/\n/gm,TM="\u0275",tI="__source",Co;function SM(){return Co}function Pr(n){let e=Co;return Co=n,e}function AM(n,e=ce.Default){if(Co===void 0)throw new W(-203,!1);return Co===null?$I(n,void 0,e):Co.get(n,e&ce.Optional?null:void 0,e)}function G(n,e=ce.Default){return(BI()||AM)(Tt(n),e)}function O(n,e=ce.Default){return G(n,El(e))}function El(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function vp(n){let e=[];for(let t=0;t<n.length;t++){let r=Tt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new W(900,!1);let i,o=ce.Default;for(let s=0;s<r.length;s++){let a=r[s],u=xM(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(G(i,o))}else e.push(G(r))}return e}function zI(n,e){return n[yp]=e,n.prototype[yp]=e,n}function xM(n){return n[yp]}function MM(n,e,t,r){let i=n[Zu];throw e[tI]&&i.unshift(e[tI]),n.message=RM(`
`+n.message,i,t,r),n[CM]=i,n[Zu]=null,n}function RM(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==TM?n.slice(2):n;let i=St(e);if(Array.isArray(e))i=e.map(St).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):St(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(DM,`
  `)}`}var Yt=zI(OI("Optional"),8);var am=zI(OI("SkipSelf"),4);function To(n,e){let t=n.hasOwnProperty(Yu);return t?n[Yu]:null}function cm(n,e){n.forEach(t=>Array.isArray(t)?cm(t,e):e(t))}function HI(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ju(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function NM(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function um(n,e,t){let r=ya(n,e);return r>=0?n[r|1]=t:(r=~r,NM(n,r,e,t)),r}function tp(n,e){let t=ya(n,e);if(t>=0)return n[t|1]}function ya(n,e){return PM(n,e,1)}function PM(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var So={},Ot=[],Ao=new H(""),qI=new H("",-1),GI=new H(""),Xu=class{get(e,t=la){if(t===la){let r=new Error(`NullInjectorError: No provider for ${St(e)}!`);throw r.name="NullInjectorError",r}return t}},WI=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(WI||{}),bn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(bn||{}),Fr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Fr||{});function kM(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function _p(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];OM(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function KI(n){return n===3||n===4||n===6}function OM(n){return n.charCodeAt(0)===64}function da(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?nI(n,t,i,null,e[++r]):nI(n,t,i,null,null))}}return n}function nI(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var QI="ng-template";function FM(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&kM(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(lm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function lm(n){return n.type===4&&n.value!==QI}function VM(n,e,t){let r=n.type===4&&!t?QI:n.value;return e===r}function LM(n,e,t){let r=4,i=n.attrs,o=i!==null?BM(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!un(r)&&!un(u))return!1;if(s&&un(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!VM(n,u,t)||u===""&&e.length===1){if(un(r))return!1;s=!0}}else if(r&8){if(i===null||!FM(n,i,u,t)){if(un(r))return!1;s=!0}}else{let l=e[++a],h=jM(u,i,lm(n),t);if(h===-1){if(un(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(un(r))return!1;s=!0}}}}return un(r)||s}function un(n){return(n&1)===0}function jM(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return $M(e,n)}function UM(n,e,t=!1){for(let r=0;r<e.length;r++)if(LM(n,e[r],t))return!0;return!1}function BM(n){for(let e=0;e<n.length;e++){let t=n[e];if(KI(t))return e}return n.length}function $M(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function rI(n,e){return n?":not("+e.trim()+")":e}function zM(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!un(s)&&(e+=rI(o,i),i=""),r=s,o=o||!un(r);t++}return i!==""&&(e+=rI(o,i)),e}function HM(n){return n.map(zM).join(",")}function qM(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!un(i))break;i=o}r++}return{attrs:e,classes:t}}function $e(n){return ga(()=>{let e=eE(n),t=he(V({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===WI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||bn.Emulated,styles:n.styles||Ot,_:null,schemas:n.schemas||null,tView:null,id:""});tE(t);let r=n.dependencies;return t.directiveDefs=oI(r,!1),t.pipeDefs=oI(r,!0),t.id=KM(t),t})}function GM(n){return Vr(n)||YI(n)}function WM(n){return n!==null}function nr(n){return ga(()=>({type:n.type,bootstrap:n.bootstrap||Ot,declarations:n.declarations||Ot,imports:n.imports||Ot,exports:n.exports||Ot,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function iI(n,e){if(n==null)return So;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Fr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Fr.None?[r,a]:r,e[o]=s):t[o]=r}return t}function Le(n){return ga(()=>{let e=eE(n);return tE(e),e})}function Vr(n){return n[yM]||null}function YI(n){return n[vM]||null}function ZI(n){return n[_M]||null}function JI(n){let e=Vr(n)||YI(n)||ZI(n);return e!==null?e.standalone:!1}function XI(n,e){let t=n[wM]||null;if(!t&&e===!0)throw new Error(`Type ${St(n)} does not have '\u0275mod' property.`);return t}function eE(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||So,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Ot,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:iI(n.inputs,e),outputs:iI(n.outputs),debugInfo:null}}function tE(n){n.features?.forEach(e=>e(n))}function oI(n,e){if(!n)return null;let t=e?ZI:GM;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(WM)}function KM(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function An(n){return{\u0275providers:n}}function QM(...n){return{\u0275providers:nE(!0,n),\u0275fromNgModule:!0}}function nE(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return cm(e,s=>{let a=s;wp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&rE(i,o),t}function rE(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];dm(i,o=>{e(o,r)})}}function wp(n,e,t,r){if(n=Tt(n),!n)return!1;let i=null,o=J0(n),s=!o&&Vr(n);if(!o&&!s){let u=n.ngModule;if(o=J0(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)wp(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{cm(o.imports,h=>{wp(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&rE(l,e)}if(!a){let l=To(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ot},i),e({provide:GI,useValue:i,multi:!0},i),e({provide:Ao,useValue:()=>G(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;dm(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function dm(n,e){for(let t of n)UI(t)&&(t=t.\u0275providers),Array.isArray(t)?dm(t,e):e(t)}var YM=Pe({provide:String,useValue:Pe});function iE(n){return n!==null&&typeof n=="object"&&YM in n}function ZM(n){return!!(n&&n.useExisting)}function JM(n){return!!(n&&n.useFactory)}function xo(n){return typeof n=="function"}function XM(n){return!!n.useClass}var bl=new H(""),qu={},eR={},np;function hm(){return np===void 0&&(np=new Xu),np}var At=class{},ha=class extends At{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ep(e,s=>this.processProvider(s)),this.records.set(qI,wo(void 0,this)),i.has("environment")&&this.records.set(At,wo(void 0,this));let o=this.records.get(bl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(GI,Ot,ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ee(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ee(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Pr(this),r=Wt(void 0),i;try{return e()}finally{Pr(t),Wt(r)}}get(e,t=la,r=ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(eI))return e[eI](this);r=El(r);let i,o=Pr(this),s=Wt(void 0);try{if(!(r&ce.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=oR(e)&&Il(e);l&&this.injectableDefInScope(l)?u=wo(Ip(e),qu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ce.Self?hm():this.parent;return t=r&ce.Optional&&t===la?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Zu]=a[Zu]||[]).unshift(St(e)),o)throw a;return MM(a,e,"R3InjectorError",this.source)}else throw a}finally{Wt(s),Pr(o)}}resolveInjectorInitializers(){let e=Ee(null),t=Pr(this),r=Wt(void 0),i;try{let o=this.get(Ao,Ot,ce.Self);for(let s of o)s()}finally{Pr(t),Wt(r),Ee(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(St(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new W(205,!1)}processProvider(e){e=Tt(e);let t=xo(e)?e:Tt(e&&e.provide),r=nR(e);if(!xo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=wo(void 0,qu,!0),i.factory=()=>vp(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Ee(null);try{return t.value===qu&&(t.value=eR,t.value=t.factory()),typeof t.value=="object"&&t.value&&iR(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ee(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Tt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Ip(n){let e=Il(n),t=e!==null?e.factory:To(n);if(t!==null)return t;if(n instanceof H)throw new W(204,!1);if(n instanceof Function)return tR(n);throw new W(204,!1)}function tR(n){if(n.length>0)throw new W(204,!1);let t=mM(n);return t!==null?()=>t.factory(n):()=>new n}function nR(n){if(iE(n))return wo(void 0,n.useValue);{let e=oE(n);return wo(e,qu)}}function oE(n,e,t){let r;if(xo(n)){let i=Tt(n);return To(i)||Ip(i)}else if(iE(n))r=()=>Tt(n.useValue);else if(JM(n))r=()=>n.useFactory(...vp(n.deps||[]));else if(ZM(n))r=()=>G(Tt(n.useExisting));else{let i=Tt(n&&(n.useClass||n.provide));if(rR(n))r=()=>new i(...vp(n.deps));else return To(i)||Ip(i)}return r}function wo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function rR(n){return!!n.deps}function iR(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function oR(n){return typeof n=="function"||typeof n=="object"&&n instanceof H}function Ep(n,e){for(let t of n)Array.isArray(t)?Ep(t,e):t&&UI(t)?Ep(t.\u0275providers,e):e(t)}function Zt(n,e){n instanceof ha&&n.assertNotDestroyed();let t,r=Pr(n),i=Wt(void 0);try{return e()}finally{Pr(r),Wt(i)}}function sE(){return BI()!==void 0||SM()!=null}function sR(n){if(!sE())throw new W(-203,!1)}function aR(n){return typeof n=="function"}var rr=0,me=1,te=2,xt=3,dn=4,pn=5,el=6,tl=7,hn=8,Mo=9,Cn=10,Ge=11,fa=12,sI=13,Uo=14,Dn=15,Ro=16,Io=17,No=18,Cl=19,aE=20,kr=21,rp=22,Kt=23,Tn=25,cE=1;var wi=7,nl=8,rl=9,Qt=10,il=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(il||{});function Or(n){return Array.isArray(n)&&typeof n[cE]=="object"}function ir(n){return Array.isArray(n)&&n[cE]===!0}function fm(n){return(n.flags&4)!==0}function Dl(n){return n.componentOffset>-1}function Tl(n){return(n.flags&1)===1}function Lr(n){return!!n.template}function bp(n){return(n[te]&512)!==0}var Cp=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function uE(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function xn(){return lE}function lE(n){return n.type.prototype.ngOnChanges&&(n.setInput=uR),cR}xn.ngInherit=!0;function cR(){let n=hE(this),e=n?.current;if(e){let t=n.previous;if(t===So)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function uR(n,e,t,r,i){let o=this.declaredInputs[r],s=hE(n)||lR(n,{previous:So,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Cp(l&&l.currentValue,t,u===So),uE(n,e,i,t)}var dE="__ngSimpleChanges__";function hE(n){return n[dE]||null}function lR(n,e){return n[dE]=e}var aI=null;var In=function(n,e,t){aI?.(n,e,t)},fE="svg",dR="math";function Sn(n){for(;Array.isArray(n);)n=n[rr];return n}function pE(n,e){return Sn(e[n])}function Jt(n,e){return Sn(e[n.index])}function mE(n,e){return n.data[e]}function hR(n,e){return n[e]}function Br(n,e){let t=e[n];return Or(t)?t:t[rr]}function pm(n){return(n[te]&128)===128}function fR(n){return ir(n[xt])}function Po(n,e){return e==null?null:n[e]}function gE(n){n[Io]=0}function yE(n){n[te]&1024||(n[te]|=1024,pm(n)&&Al(n))}function pR(n,e){for(;n>0;)e=e[Uo],n--;return e}function Sl(n){return!!(n[te]&9216||n[Kt]?.dirty)}function Dp(n){n[Cn].changeDetectionScheduler?.notify(8),n[te]&64&&(n[te]|=1024),Sl(n)&&Al(n)}function Al(n){n[Cn].changeDetectionScheduler?.notify(0);let e=Ii(n);for(;e!==null&&!(e[te]&8192||(e[te]|=8192,!pm(e)));)e=Ii(e)}function vE(n,e){if((n[te]&256)===256)throw new W(911,!1);n[kr]===null&&(n[kr]=[]),n[kr].push(e)}function mR(n,e){if(n[kr]===null)return;let t=n[kr].indexOf(e);t!==-1&&n[kr].splice(t,1)}function Ii(n){let e=n[xt];return ir(e)?e[xt]:e}var ae={lFrame:AE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var _E=!1;function gR(){return ae.lFrame.elementDepthCount}function yR(){ae.lFrame.elementDepthCount++}function vR(){ae.lFrame.elementDepthCount--}function wE(){return ae.bindingsEnabled}function _R(){return ae.skipHydrationRootTNode!==null}function wR(n){return ae.skipHydrationRootTNode===n}function IR(){ae.skipHydrationRootTNode=null}function xe(){return ae.lFrame.lView}function mt(){return ae.lFrame.tView}function ue(n){return ae.lFrame.contextLView=n,n[hn]}function le(n){return ae.lFrame.contextLView=null,n}function gt(){let n=IE();for(;n!==null&&n.type===64;)n=n.parent;return n}function IE(){return ae.lFrame.currentTNode}function ER(){let n=ae.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ti(n,e){let t=ae.lFrame;t.currentTNode=n,t.isParent=e}function mm(){return ae.lFrame.isParent}function EE(){ae.lFrame.isParent=!1}function bR(){return ae.lFrame.contextLView}function bE(){return _E}function cI(n){_E=n}function CE(){return ae.lFrame.bindingIndex}function CR(n){return ae.lFrame.bindingIndex=n}function xl(){return ae.lFrame.bindingIndex++}function Ml(n){let e=ae.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function DR(){return ae.lFrame.inI18n}function TR(n,e){let t=ae.lFrame;t.bindingIndex=t.bindingRootIndex=n,Tp(e)}function SR(){return ae.lFrame.currentDirectiveIndex}function Tp(n){ae.lFrame.currentDirectiveIndex=n}function AR(n){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function DE(n){ae.lFrame.currentQueryIndex=n}function xR(n){let e=n[me];return e.type===2?e.declTNode:e.type===1?n[pn]:null}function TE(n,e,t){if(t&ce.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ce.Host);)if(i=xR(o),i===null||(o=o[Uo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ae.lFrame=SE();return r.currentTNode=e,r.lView=n,!0}function gm(n){let e=SE(),t=n[me];ae.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function SE(){let n=ae.lFrame,e=n===null?null:n.child;return e===null?AE(n):e}function AE(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function xE(){let n=ae.lFrame;return ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var ME=xE;function ym(){let n=xE();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function MR(n){return(ae.lFrame.contextLView=pR(n,ae.lFrame.contextLView))[hn]}function or(){return ae.lFrame.selectedIndex}function Ei(n){ae.lFrame.selectedIndex=n}function vm(){let n=ae.lFrame;return mE(n.tView,n.selectedIndex)}function RE(){ae.lFrame.currentNamespace=fE}function NE(){RR()}function RR(){ae.lFrame.currentNamespace=null}function NR(){return ae.lFrame.currentNamespace}var PE=!0;function Rl(){return PE}function Nl(n){PE=n}function PR(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=lE(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Pl(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Gu(n,e,t){kE(n,e,3,t)}function Wu(n,e,t,r){(n[te]&3)===t&&kE(n,e,t,r)}function ip(n,e){let t=n[te];(t&3)===e&&(t&=16383,t+=1,n[te]=t)}function kE(n,e,t,r){let i=r!==void 0?n[Io]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Io]+=65536),(a<o||o==-1)&&(kR(n,t,e,u),n[Io]=(n[Io]&4294901760)+u+2),u++}function uI(n,e){In(4,n,e);let t=Ee(null);try{e.call(n)}finally{Ee(t),In(5,n,e)}}function kR(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[te]>>14<n[Io]>>16&&(n[te]&3)===e&&(n[te]+=16384,uI(a,o)):uI(a,o)}var Do=-1,bi=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function OR(n){return n instanceof bi}function FR(n){return(n.flags&8)!==0}function VR(n){return(n.flags&16)!==0}var op={},Sp=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=El(r);let i=this.injector.get(e,op,r);return i!==op||t===op?i:this.parentInjector.get(e,t,r)}};function OE(n){return n!==Do}function ol(n){return n&32767}function LR(n){return n>>16}function sl(n,e){let t=LR(n),r=e;for(;t>0;)r=r[Uo],t--;return r}var Ap=!0;function lI(n){let e=Ap;return Ap=n,e}var jR=256,FE=jR-1,VE=5,UR=0,En={};function BR(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ua)&&(r=t[ua]),r==null&&(r=t[ua]=UR++);let i=r&FE,o=1<<i;e.data[n+(i>>VE)]|=o}function al(n,e){let t=LE(n,e);if(t!==-1)return t;let r=e[me];r.firstCreatePass&&(n.injectorIndex=e.length,sp(r.data,n),sp(e,null),sp(r.blueprint,null));let i=_m(n,e),o=n.injectorIndex;if(OE(i)){let s=ol(i),a=sl(i,e),u=a[me].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function sp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function LE(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function _m(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=zE(i),r===null)return Do;if(t++,i=i[Uo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Do}function xp(n,e,t){BR(n,e,t)}function $R(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(KI(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function jE(n,e,t){if(t&ce.Optional||n!==void 0)return n;sm(e,"NodeInjector")}function UE(n,e,t,r){if(t&ce.Optional&&r===void 0&&(r=null),!(t&(ce.Self|ce.Host))){let i=n[Mo],o=Wt(void 0);try{return i?i.get(e,r,t&ce.Optional):$I(e,r,t&ce.Optional)}finally{Wt(o)}}return jE(r,e,t)}function BE(n,e,t,r=ce.Default,i){if(n!==null){if(e[te]&2048&&!(r&ce.Self)){let s=WR(n,e,t,r,En);if(s!==En)return s}let o=$E(n,e,t,r,En);if(o!==En)return o}return UE(e,t,r,i)}function $E(n,e,t,r,i){let o=qR(t);if(typeof o=="function"){if(!TE(e,n,r))return r&ce.Host?jE(i,t,r):UE(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ce.Optional))sm(t);else return s}finally{ME()}}else if(typeof o=="number"){let s=null,a=LE(n,e),u=Do,l=r&ce.Host?e[Dn][pn]:null;for((a===-1||r&ce.SkipSelf)&&(u=a===-1?_m(n,e):e[a+8],u===Do||!hI(r,!1)?a=-1:(s=e[me],a=ol(u),e=sl(u,e)));a!==-1;){let h=e[me];if(dI(o,a,h.data)){let p=zR(a,e,t,s,r,l);if(p!==En)return p}u=e[a+8],u!==Do&&hI(r,e[me].data[a+8]===l)&&dI(o,a,e)?(s=h,a=ol(u),e=sl(u,e)):a=-1}}return i}function zR(n,e,t,r,i,o){let s=e[me],a=s.data[n+8],u=r==null?Dl(a)&&Ap:r!=s&&(a.type&3)!==0,l=i&ce.Host&&o===a,h=HR(a,s,t,u,l);return h!==null?ko(e,s,h,a):En}function HR(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let A=s[y];if(y<u&&t===A||y>=u&&A.type===t)return y}if(i){let y=s[u];if(y&&Lr(y)&&y.type===t)return u}return null}function ko(n,e,t,r){let i=n[t],o=e.data;if(OR(i)){let s=i;s.resolving&&EM(IM(o[t]));let a=lI(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Wt(s.injectImpl):null,h=TE(n,r,ce.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&PR(t,o[t],e)}finally{l!==null&&Wt(l),lI(a),s.resolving=!1,ME()}}return i}function qR(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ua)?n[ua]:void 0;return typeof e=="number"?e>=0?e&FE:GR:e}function dI(n,e,t){let r=1<<n;return!!(t[e+(n>>VE)]&r)}function hI(n,e){return!(n&ce.Self)&&!(n&ce.Host&&e)}var _i=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return BE(this._tNode,this._lView,e,El(r),t)}};function GR(){return new _i(gt(),xe())}function Mn(n){return ga(()=>{let e=n.prototype.constructor,t=e[Yu]||Mp(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Yu]||Mp(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Mp(n){return FI(n)?()=>{let e=Mp(Tt(n));return e&&e()}:To(n)}function WR(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[te]&2048&&!(s[te]&512);){let a=$E(o,s,t,r|ce.Self,En);if(a!==En)return a;let u=o.parent;if(!u){let l=s[aE];if(l){let h=l.get(t,En,r);if(h!==En)return h}u=zE(s),s=s[Uo]}o=u}return i}function zE(n){let e=n[me],t=e.type;return t===2?e.declTNode:t===1?n[pn]:null}function wm(n){return $R(gt(),n)}function fI(n,e=null,t=null,r){let i=HE(n,e,t,r);return i.resolveInjectorInitializers(),i}function HE(n,e=null,t=null,r,i=new Set){let o=[t||Ot,QM(n)];return r=r||(typeof n=="object"?void 0:St(n)),new ha(o,e||hm(),r||null,i)}var Mt=class n{static{this.THROW_IF_NOT_FOUND=la}static{this.NULL=new Xu}static create(e,t){if(Array.isArray(e))return fI({name:""},t,e,"");{let r=e.name??"";return fI({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=z({token:n,providedIn:"any",factory:()=>G(qI)})}static{this.__NG_ELEMENT_ID__=-1}};var KR=new H("");KR.__NG_ELEMENT_ID__=n=>{let e=gt();if(e===null)throw new W(204,!1);if(e.type&2)return e.value;if(n&ce.Optional)return null;throw new W(204,!1)};var QR="ngOriginalError";function ap(n){return n[QR]}var qE=!0,Im=(()=>{class n{static{this.__NG_ELEMENT_ID__=YR}static{this.__NG_ENV_ID__=t=>t}}return n})(),Rp=class extends Im{constructor(e){super(),this._lView=e}onDestroy(e){return vE(this._lView,e),()=>mR(this._lView,e)}};function YR(){return new Rp(xe())}var $r=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new qe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Np=class extends ot{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,sE()&&(this.destroyRef=O(Im,{optional:!0})??void 0,this.pendingTasks=O($r,{optional:!0})??void 0)}emit(e){let t=Ee(null);try{super.next(e)}finally{Ee(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ke&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ye=Np;function cl(...n){}function GE(n){let e,t;function r(){n=cl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function pI(n){return queueMicrotask(()=>n()),()=>{n=cl}}var Em="isAngularZone",ul=Em+"_ID",ZR=0,Se=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ye(!1),this.onMicrotaskEmpty=new Ye(!1),this.onStable=new Ye(!1),this.onError=new Ye(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=qE}=e;if(typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,eN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Em)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new W(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,JR,cl,cl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},JR={};function bm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function XR(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){GE(()=>{n.callbackScheduled=!1,Pp(n),n.isCheckStableRunning=!0,bm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Pp(n)}function eN(n){let e=()=>{XR(n)},t=ZR++;n._inner=n._inner.fork({name:"angular",properties:{[Em]:!0,[ul]:t,[ul+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(tN(u))return r.invokeTask(o,s,a,u);try{return mI(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),gI(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return mI(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!nN(u)&&e(),gI(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Pp(n),bm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Pp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function mI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function gI(n){n._nesting--,bm(n)}var kp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ye,this.onMicrotaskEmpty=new Ye,this.onStable=new Ye,this.onError=new Ye}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function tN(n){return WE(n,"__ignore_ng_zone__")}function nN(n){return WE(n,"__scheduler_tick__")}function WE(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Zn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&ap(e);for(;t&&ap(t);)t=ap(t);return t||null}},rN=new H("",{providedIn:"root",factory:()=>{let n=O(Se),e=O(Zn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function iN(){return kl(gt(),xe())}function kl(n,e){return new Rn(Jt(n,e))}var Rn=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=iN}}return n})();function KE(n){return(n.flags&128)===128}var QE=new Map,oN=0;function sN(){return oN++}function aN(n){QE.set(n[Cl],n)}function Op(n){QE.delete(n[Cl])}var yI="__ngContext__";function jr(n,e){Or(e)?(n[yI]=e[Cl],aN(e)):n[yI]=e}function YE(n){return JE(n[fa])}function ZE(n){return JE(n[dn])}function JE(n){for(;n!==null&&!ir(n);)n=n[dn];return n}var Fp;function XE(n){Fp=n}function cN(){if(Fp!==void 0)return Fp;if(typeof document<"u")return document;throw new W(210,!1)}var Cm=new H("",{providedIn:"root",factory:()=>uN}),uN="ng",Dm=new H(""),Xt=new H("",{providedIn:"platform",factory:()=>"unknown"});var Tm=new H("",{providedIn:"root",factory:()=>cN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var lN="h",dN="b";var hN=()=>null;function Sm(n,e,t=!1){return hN(n,e,t)}var eb=!1,fN=new H("",{providedIn:"root",factory:()=>eb});var Bu;function pN(){if(Bu===void 0&&(Bu=null,pp.trustedTypes))try{Bu=pp.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Bu}function vI(n){return pN()?.createScriptURL(n)||n}var ll=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${kI})`}};function Bo(n){return n instanceof ll?n.changingThisBreaksApplicationSecurity:n}function Am(n,e){let t=mN(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${kI})`)}return t===e}function mN(n){return n instanceof ll&&n.getTypeName()||null}var gN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function tb(n){return n=String(n),n.match(gN)?n:"unsafe:"+n}var Ol=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Ol||{});function $o(n){let e=rb();return e?e.sanitize(Ol.URL,n)||"":Am(n,"URL")?Bo(n):tb(Yn(n))}function yN(n){let e=rb();if(e)return vI(e.sanitize(Ol.RESOURCE_URL,n)||"");if(Am(n,"ResourceURL"))return vI(Bo(n));throw new W(904,!1)}function vN(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?yN:$o}function nb(n,e,t){return vN(e,t)(n)}function rb(){let n=xe();return n&&n[Cn].sanitizer}var _N=/^>|^->|<!--|-->|--!>|<!-$/g,wN=/(<|>)/g,IN="\u200B$1\u200B";function EN(n){return n.replace(_N,e=>e.replace(wN,IN))}function va(n){return n.ownerDocument}function ib(n){return n instanceof Function?n():n}function bN(n){return(n??O(Mt)).get(Xt)==="browser"}var Jn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Jn||{}),CN;function xm(n,e){return CN(n,e)}function Eo(n,e,t,r,i){if(r!=null){let o,s=!1;ir(r)?o=r:Or(r)&&(s=!0,r=r[rr]);let a=Sn(r);n===0&&t!==null?i==null?ub(e,t,a):dl(e,t,a,i||null,!0):n===1&&t!==null?dl(e,t,a,i||null,!0):n===2?UN(e,a,s):n===3&&e.destroyNode(a),o!=null&&$N(e,n,o,t,i)}}function DN(n,e){return n.createText(e)}function TN(n,e,t){n.setValue(e,t)}function SN(n,e){return n.createComment(EN(e))}function ob(n,e,t){return n.createElement(e,t)}function AN(n,e){sb(n,e),e[rr]=null,e[pn]=null}function xN(n,e,t,r,i,o){r[rr]=i,r[pn]=e,Vl(n,r,t,1,i,o)}function sb(n,e){e[Cn].changeDetectionScheduler?.notify(9),Vl(n,e,e[Ge],2,null,null)}function MN(n){let e=n[fa];if(!e)return cp(n[me],n);for(;e;){let t=null;if(Or(e))t=e[fa];else{let r=e[Qt];r&&(t=r)}if(!t){for(;e&&!e[dn]&&e!==n;)Or(e)&&cp(e[me],e),e=e[xt];e===null&&(e=n),Or(e)&&cp(e[me],e),t=e&&e[dn]}e=t}}function RN(n,e,t,r){let i=Qt+r,o=t.length;r>0&&(t[i-1][dn]=e),r<o-Qt?(e[dn]=t[i],HI(t,Qt+r,e)):(t.push(e),e[dn]=null),e[xt]=t;let s=e[Ro];s!==null&&t!==s&&ab(s,e);let a=e[No];a!==null&&a.insertView(n),Dp(e),e[te]|=128}function ab(n,e){let t=n[rl],r=e[xt];if(Or(r))n[te]|=il.HasTransplantedViews;else{let i=r[xt][Dn];e[Dn]!==i&&(n[te]|=il.HasTransplantedViews)}t===null?n[rl]=[e]:t.push(e)}function Mm(n,e){let t=n[rl],r=t.indexOf(e);t.splice(r,1)}function Vp(n,e){if(n.length<=Qt)return;let t=Qt+e,r=n[t];if(r){let i=r[Ro];i!==null&&i!==n&&Mm(i,r),e>0&&(n[t-1][dn]=r[dn]);let o=Ju(n,Qt+e);AN(r[me],r);let s=o[No];s!==null&&s.detachView(o[me]),r[xt]=null,r[dn]=null,r[te]&=-129}return r}function cb(n,e){if(!(e[te]&256)){let t=e[Ge];t.destroyNode&&Vl(n,e,t,3,null,null),MN(e)}}function cp(n,e){if(e[te]&256)return;let t=Ee(null);try{e[te]&=-129,e[te]|=256,e[Kt]&&Pf(e[Kt]),PN(n,e),NN(n,e),e[me].type===1&&e[Ge].destroy();let r=e[Ro];if(r!==null&&ir(e[xt])){r!==e[xt]&&Mm(r,e);let i=e[No];i!==null&&i.detachView(n)}Op(e)}finally{Ee(t)}}function NN(n,e){let t=n.cleanup,r=e[tl];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[tl]=null);let i=e[kr];if(i!==null){e[kr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function PN(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof bi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];In(4,a,u);try{u.call(a)}finally{In(5,a,u)}}else{In(4,i,o);try{o.call(i)}finally{In(5,i,o)}}}}}function kN(n,e,t){return ON(n,e.parent,t)}function ON(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[rr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===bn.None||o===bn.Emulated)return null}return Jt(r,t)}}function dl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function ub(n,e,t){n.appendChild(e,t)}function _I(n,e,t,r,i){r!==null?dl(n,e,t,r,i):ub(n,e,t)}function lb(n,e){return n.parentNode(e)}function FN(n,e){return n.nextSibling(e)}function VN(n,e,t){return jN(n,e,t)}function LN(n,e,t){return n.type&40?Jt(n,t):null}var jN=LN,wI;function Fl(n,e,t,r){let i=kN(n,r,e),o=e[Ge],s=r.parent||e[pn],a=VN(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)_I(o,i,t[u],a,!1);else _I(o,i,t,a,!1);wI!==void 0&&wI(o,r,e,t,i)}function ca(n,e){if(e!==null){let t=e.type;if(t&3)return Jt(e,n);if(t&4)return Lp(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return ca(n,r);{let i=n[e.index];return ir(i)?Lp(-1,i):Sn(i)}}else{if(t&128)return ca(n,e.next);if(t&32)return xm(e,n)()||Sn(n[e.index]);{let r=db(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ii(n[Dn]);return ca(i,r)}else return ca(n,e.next)}}}return null}function db(n,e){if(e!==null){let r=n[Dn][pn],i=e.projection;return r.projection[i]}return null}function Lp(n,e){let t=Qt+n+1;if(t<e.length){let r=e[t],i=r[me].firstChild;if(i!==null)return ca(r,i)}return e[wi]}function UN(n,e,t){n.removeChild(null,e,t)}function Rm(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&jr(Sn(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)Rm(n,e,t.child,r,i,o,!1),Eo(e,n,i,a,o);else if(u&32){let l=xm(t,r),h;for(;h=l();)Eo(e,n,i,h,o);Eo(e,n,i,a,o)}else u&16?BN(n,e,r,t,i,o):Eo(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Vl(n,e,t,r,i,o){Rm(t,r,n.firstChild,e,i,o,!1)}function BN(n,e,t,r,i,o){let s=t[Dn],u=s[pn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Eo(e,n,i,h,o)}else{let l=u,h=s[xt];KE(r)&&(l.flags|=128),Rm(n,e,l,h,i,o,!0)}}function $N(n,e,t,r,i){let o=t[wi],s=Sn(t);o!==s&&Eo(e,n,r,o,i);for(let a=Qt;a<t.length;a++){let u=t[a];Vl(u[me],u,n,e,r,o)}}function zN(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Jn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Jn.Important),n.setStyle(t,r,i,o))}}function HN(n,e,t){n.setAttribute(e,"style",t)}function hb(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function fb(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&_p(n,e,r),i!==null&&hb(n,e,i),o!==null&&HN(n,e,o)}var en={};function U(n=1){pb(mt(),xe(),or()+n,!1)}function pb(n,e,t,r){if(!r)if((e[te]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Gu(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Wu(e,o,0,t)}Ei(t)}function J(n,e=ce.Default){let t=xe();if(t===null)return G(n,e);let r=gt();return BE(r,t,Tt(n),e)}function mb(){let n="invalid";throw new Error(n)}function gb(n,e,t,r,i,o){let s=Ee(null);try{let a=null;i&Fr.SignalBased&&(a=e[r][Gn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Fr.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):uE(e,a,r,o)}finally{Ee(s)}}function qN(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ei(~i);else{let o=i,s=t[++r],a=t[++r];TR(s,o);let u=e[o];a(2,u)}}}finally{Ei(-1)}}function Ll(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[rr]=i,p[te]=r|4|128|8|64,(l!==null||n&&n[te]&2048)&&(p[te]|=2048),gE(p),p[xt]=p[Uo]=n,p[hn]=t,p[Cn]=s||n&&n[Cn],p[Ge]=a||n&&n[Ge],p[Mo]=u||n&&n[Mo]||null,p[pn]=o,p[Cl]=sN(),p[el]=h,p[aE]=l,p[Dn]=e.type==2?n[Dn]:p,p}function _a(n,e,t,r,i){let o=n.data[e];if(o===null)o=GN(n,e,t,r,i),DR()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=ER();o.injectorIndex=s===null?-1:s.injectorIndex}return Ti(o,!0),o}function GN(n,e,t,r,i){let o=IE(),s=mm(),a=s?o:o&&o.parent,u=n.data[e]=ZN(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function yb(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function vb(n,e,t,r,i){let o=or(),s=r&2;try{Ei(-1),s&&e.length>Tn&&pb(n,e,Tn,!1),In(s?2:0,i),t(r,i)}finally{Ei(o),In(s?3:1,i)}}function Nm(n,e,t){if(fm(e)){let r=Ee(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{Ee(r)}}}function Pm(n,e,t){wE()&&(r1(n,e,t,Jt(t,e)),(t.flags&64)===64&&Eb(n,e,t))}function km(n,e,t=Jt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function _b(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Om(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Om(n,e,t,r,i,o,s,a,u,l,h){let p=Tn+r,g=p+i,y=WN(p,g),A=typeof l=="function"?l():l;return y[me]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:h}}function WN(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:en);return t}function KN(n,e,t,r){let o=r.get(fN,eb)||t===bn.ShadowDom,s=n.selectRootElement(e,o);return QN(s),s}function QN(n){YN(n)}var YN=()=>null;function ZN(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return _R()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function II(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Fr.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?EI(r,t,l,a,u):EI(r,t,l,a)}return r}function EI(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function JN(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],g=t?t.get(p):null,y=g?g.inputs:null,A=g?g.outputs:null;u=II(0,p.inputs,h,u,y),l=II(1,p.outputs,h,l,A);let P=u!==null&&s!==null&&!lm(e)?p1(u,h,s):null;a.push(P)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function XN(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function wb(n,e,t,r,i,o,s,a){let u=Jt(e,t),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Vm(n,t,h,r,i),Dl(e)&&e1(t,e.index)):e.type&3?(r=XN(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function e1(n,e){let t=Br(e,n);t[te]&16||(t[te]|=64)}function Fm(n,e,t,r){if(wE()){let i=r===null?null:{"":-1},o=o1(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Ib(n,e,t,s,i,a),i&&s1(t,r,i)}t.mergedAttrs=da(t.mergedAttrs,t.attrs)}function Ib(n,e,t,r,i,o){for(let l=0;l<r.length;l++)xp(al(t,e),n,r[l].type);c1(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=yb(n,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];t.mergedAttrs=da(t.mergedAttrs,h.hostAttrs),u1(n,t,e,u,h),a1(u,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}JN(n,t,o)}function t1(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;n1(s)!=a&&s.push(a),s.push(t,r,o)}}function n1(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function r1(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Dl(t)&&l1(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||al(t,e),jr(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let u=n.data[a],l=ko(e,n,a,t);if(jr(l,e),s!==null&&f1(e,a-i,l,u,t,s),Lr(u)){let h=Br(t.index,e);h[hn]=ko(e,n,a,t)}}}function Eb(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=SR();try{Ei(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Tp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&i1(u,l)}}finally{Ei(-1),Tp(s)}}function i1(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function o1(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(UM(e,s.selectors,!1))if(r||(r=[]),Lr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;jp(n,e,u)}else r.unshift(s),jp(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function jp(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function s1(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new W(-301,!1);r.push(e[i],o)}}}function a1(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Lr(e)&&(t[""]=n)}}function c1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function u1(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=To(i.type,!0)),s=new bi(o,Lr(i),J);n.blueprint[r]=s,t[r]=s,t1(n,e,r,yb(n,t,i.hostVars,en),i)}function l1(n,e,t){let r=Jt(e,n),i=_b(t),o=n[Cn].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=jl(n,Ll(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function d1(n,e,t,r,i,o){let s=Jt(n,e);h1(e[Ge],s,o,n.value,t,r,i)}function h1(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Yn(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function f1(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];gb(r,t,u,l,h,p)}}function p1(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function bb(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Cb(n,e){let t=n.contentQueries;if(t!==null){let r=Ee(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];DE(o),a.contentQueries(2,e[s],s)}}}finally{Ee(r)}}}function jl(n,e){return n[fa]?n[sI][dn]=e:n[fa]=e,n[sI]=e,e}function Up(n,e,t){DE(0);let r=Ee(null);try{e(n,t)}finally{Ee(r)}}function m1(n){return n[tl]??=[]}function g1(n){return n.cleanup??=[]}function Db(n,e){let t=n[Mo],r=t?t.get(Zn,null):null;r&&r.handleError(e)}function Vm(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],u=t[o++],l=e[s],h=n.data[s];gb(h,l,r,a,u,i)}}function Lm(n,e,t){let r=pE(e,n);TN(n[Ge],r,t)}function y1(n,e){let t=Br(e,n),r=t[me];v1(r,t);let i=t[rr];i!==null&&t[el]===null&&(t[el]=Sm(i,t[Mo])),jm(r,t,t[hn])}function v1(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function jm(n,e,t){gm(e);try{let r=n.viewQuery;r!==null&&Up(1,r,t);let i=n.template;i!==null&&vb(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[No]?.finishViewCreation(n),n.staticContentQueries&&Cb(n,e),n.staticViewQueries&&Up(2,n.viewQuery,t);let o=n.components;o!==null&&_1(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[te]&=-5,ym()}}function _1(n,e){for(let t=0;t<e.length;t++)y1(n,e[t])}function w1(n,e,t,r){let i=Ee(null);try{let o=e.tView,a=n[te]&4096?4096:16,u=Ll(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Ro]=l;let h=n[No];return h!==null&&(u[No]=h.createEmbeddedView(o)),jm(o,u,t),u}finally{Ee(i)}}function bI(n,e){return!e||e.firstChild===null||KE(n)}function I1(n,e,t,r=!0){let i=e[me];if(RN(i,e,n,t),r){let s=Lp(t,n),a=e[Ge],u=lb(a,n[wi]);u!==null&&xN(i,n[pn],a,e,u,s)}let o=e[el];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function hl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Sn(o)),ir(o)&&E1(o,r);let s=t.type;if(s&8)hl(n,e,t.child,r);else if(s&32){let a=xm(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=db(e,t);if(Array.isArray(a))r.push(...a);else{let u=Ii(e[Dn]);hl(u[me],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function E1(n,e){for(let t=Qt;t<n.length;t++){let r=n[t],i=r[me].firstChild;i!==null&&hl(r[me],r,i,e)}n[wi]!==n[rr]&&e.push(n[wi])}var Tb=[];function b1(n){return n[Kt]??C1(n)}function C1(n){let e=Tb.pop()??Object.create(T1);return e.lView=n,e}function D1(n){n.lView[Kt]!==n&&(n.lView=null,Tb.push(n))}var T1=he(V({},ia),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Al(n.lView)},consumerOnSignalRead(){this.lView[Kt]=this}});function S1(n){let e=n[Kt]??Object.create(A1);return e.lView=n,e}var A1=he(V({},ia),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Ii(n.lView);for(;e&&!Sb(e[me]);)e=Ii(e);e&&yE(e)},consumerOnSignalRead(){this.lView[Kt]=this}});function Sb(n){return n.type!==2}var x1=100;function Ab(n,e=!0,t=0){let r=n[Cn],i=r.rendererFactory,o=!1;o||i.begin?.();try{M1(n,t)}catch(s){throw e&&Db(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function M1(n,e){let t=bE();try{cI(!0),Bp(n,e);let r=0;for(;Sl(n);){if(r===x1)throw new W(103,!1);r++,Bp(n,1)}}finally{cI(t)}}function R1(n,e,t,r){let i=e[te];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Cn].inlineEffectRunner?.flush(),gm(e);let a=!0,u=null,l=null;o||(Sb(n)?(l=b1(e),u=fu(l)):f0()===null?(a=!1,l=S1(e),u=fu(l)):e[Kt]&&(Pf(e[Kt]),e[Kt]=null));try{gE(e),CR(n.bindingStartIndex),t!==null&&vb(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&Gu(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Wu(e,y,0,null),ip(e,0)}if(s||N1(e),xb(e,0),n.contentQueries!==null&&Cb(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&Gu(e,y)}else{let y=n.contentHooks;y!==null&&Wu(e,y,1),ip(e,1)}qN(n,e);let p=n.components;p!==null&&Rb(e,p,0);let g=n.viewQuery;if(g!==null&&Up(2,g,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&Gu(e,y)}else{let y=n.viewHooks;y!==null&&Wu(e,y,2),ip(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[rp]){for(let y of e[rp])y();e[rp]=null}o||(e[te]&=-73)}catch(h){throw o||Al(e),h}finally{l!==null&&(Rf(l,u),a&&D1(l)),ym()}}function xb(n,e){for(let t=YE(n);t!==null;t=ZE(t))for(let r=Qt;r<t.length;r++){let i=t[r];Mb(i,e)}}function N1(n){for(let e=YE(n);e!==null;e=ZE(e)){if(!(e[te]&il.HasTransplantedViews))continue;let t=e[rl];for(let r=0;r<t.length;r++){let i=t[r];yE(i)}}}function P1(n,e,t){let r=Br(e,n);Mb(r,t)}function Mb(n,e){pm(n)&&Bp(n,e)}function Bp(n,e){let r=n[me],i=n[te],o=n[Kt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Nf(o)),s||=!1,o&&(o.dirty=!1),n[te]&=-9217,s)R1(r,n,r.template,n[hn]);else if(i&8192){xb(n,1);let a=r.components;a!==null&&Rb(n,a,1)}}function Rb(n,e,t){for(let r=0;r<e.length;r++)P1(n,e[r],t)}function Um(n,e){let t=bE()?64:1088;for(n[Cn].changeDetectionScheduler?.notify(e);n;){n[te]|=t;let r=Ii(n);if(bp(n)&&!r)return n;n=r}return null}var Ci=class{get rootNodes(){let e=this._lView,t=e[me];return hl(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[hn]}set context(e){this._lView[hn]=e}get destroyed(){return(this._lView[te]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[xt];if(ir(e)){let t=e[nl],r=t?t.indexOf(this):-1;r>-1&&(Vp(e,r),Ju(t,r))}this._attachedToViewContainer=!1}cb(this._lView[me],this._lView)}onDestroy(e){vE(this._lView,e)}markForCheck(){Um(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[te]&=-129}reattach(){Dp(this._lView),this._lView[te]|=128}detectChanges(){this._lView[te]|=1024,Ab(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=bp(this._lView),t=this._lView[Ro];t!==null&&!e&&Mm(t,this._lView),sb(this._lView[me],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=e;let t=bp(this._lView),r=this._lView[Ro];r!==null&&!t&&ab(r,this._lView),Dp(this._lView)}},Ul=(()=>{class n{static{this.__NG_ELEMENT_ID__=F1}}return n})(),k1=Ul,O1=class extends k1{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=w1(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Ci(i)}};function F1(){return Nb(gt(),xe())}function Nb(n,e){return n.type&4?new O1(e,n,kl(n,e)):null}var Bq=new RegExp(`^(\\d+)*(${dN}|${lN})*(.*)`);var V1=()=>null;function CI(n,e){return V1(n,e)}var Oo=class{},Bl=new H("",{providedIn:"root",factory:()=>!1});var Pb=new H(""),kb=new H(""),$p=class{},fl=class{};function L1(n){let e=Error(`No component factory found for ${St(n)}.`);return e[j1]=n,e}var j1="ngComponent";var zp=class{resolveComponentFactory(e){throw L1(e)}},Fo=class{static{this.NULL=new zp}},Vo=class{},sr=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>U1()}}return n})();function U1(){let n=xe(),e=gt(),t=Br(e.index,n);return(Or(t)?t:n)[Ge]}var B1=(()=>{class n{static{this.\u0275prov=z({token:n,providedIn:"root",factory:()=>null})}}return n})();function pl(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=mp(i,a);else if(o==2){let u=a,l=e[++s];r=mp(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var ml=class extends Fo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Vr(e);return new Lo(t,this.ngModule)}};function DI(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Fr.None;e?t.push({propName:s,templateName:r,isSignal:(a&Fr.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function $1(n){let e=n.toLowerCase();return e==="svg"?fE:e==="math"?dR:null}var Lo=class extends fl{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=DI(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return DI(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=HM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=Ee(null);try{i=i||this.ngModule;let s=i instanceof At?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Sp(e,s):e,u=a.get(Vo,null);if(u===null)throw new W(407,!1);let l=a.get(B1,null),h=a.get(Oo,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},g=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",A=r?KN(g,r,this.componentDef.encapsulation,a):ob(g,y,$1(y)),P=512;this.componentDef.signals?P|=4096:this.componentDef.onPush||(P|=16);let N=null;A!==null&&(N=Sm(A,a,!0));let j=Om(0,null,null,1,0,null,null,null,null,null,null),K=Ll(null,j,null,P,null,null,p,g,a,null,N);gm(K);let B,re,Te=null;try{let Y=this.componentDef,b,v=null;Y.findHostDirectiveDefs?(b=[],v=new Map,Y.findHostDirectiveDefs(Y,b,v),b.push(Y)):b=[Y];let w=z1(K,A);Te=H1(w,A,Y,b,K,p,g),re=mE(j,Tn),A&&W1(g,Y,A,r),t!==void 0&&K1(re,this.ngContentSelectors,t),B=G1(Te,Y,b,v,K,[Q1]),jm(j,K,null)}catch(Y){throw Te!==null&&Op(Te),Op(K),Y}finally{ym()}return new Hp(this.componentType,B,kl(re,K),K,re)}finally{Ee(o)}}},Hp=class extends $p{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Ci(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Vm(o[me],o,i,e,t),this.previousInputValues.set(e,t);let s=Br(this._tNode.index,o);Um(s,1)}}get injector(){return new _i(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function z1(n,e){let t=n[me],r=Tn;return n[r]=e,_a(t,r,2,"#host",null)}function H1(n,e,t,r,i,o,s){let a=i[me];q1(r,n,e,s);let u=null;e!==null&&(u=Sm(e,i[Mo]));let l=o.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let p=Ll(i,_b(t),null,h,i[n.index],n,o,l,null,null,u);return a.firstCreatePass&&jp(a,n,r.length-1),jl(i,p),i[n.index]=p}function q1(n,e,t,r){for(let i of n)e.mergedAttrs=da(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(pl(e,e.mergedAttrs,!0),t!==null&&fb(r,t,e))}function G1(n,e,t,r,i,o){let s=gt(),a=i[me],u=Jt(s,i);Ib(a,i,s,t,null,r);for(let h=0;h<t.length;h++){let p=s.directiveStart+h,g=ko(i,a,p,s);jr(g,i)}Eb(a,i,s),u&&jr(u,i);let l=ko(i,a,s.directiveStart+s.componentOffset,s);if(n[hn]=i[hn]=l,o!==null)for(let h of o)h(l,e);return Nm(a,s,i),l}function W1(n,e,t,r){if(r)_p(n,t,["ng-version","18.2.14"]);else{let{attrs:i,classes:o}=qM(e.selectors[0]);i&&_p(n,t,i),o&&o.length>0&&hb(n,t,o.join(" "))}}function K1(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function Q1(){let n=gt();Pl(xe()[me],n)}var zo=(()=>{class n{static{this.__NG_ELEMENT_ID__=Y1}}return n})();function Y1(){let n=gt();return J1(n,xe())}var Z1=zo,Ob=class extends Z1{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return kl(this._hostTNode,this._hostLView)}get injector(){return new _i(this._hostTNode,this._hostLView)}get parentInjector(){let e=_m(this._hostTNode,this._hostLView);if(OE(e)){let t=sl(e,this._hostLView),r=ol(e),i=t[me].data[r+8];return new _i(i,t)}else return new _i(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=TI(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Qt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=CI(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,bI(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!aR(e),a;if(s)a=t;else{let A=t||{};a=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let u=s?e:new Lo(Vr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let P=(s?l:this.parentInjector).get(At,null);P&&(o=P)}let h=Vr(u.componentType??{}),p=CI(this._lContainer,h?.id??null),g=p?.firstChild??null,y=u.create(l,i,g,o);return this.insertImpl(y.hostView,a,bI(this._hostTNode,p)),y}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(fR(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[xt],l=new Ob(u,u[pn],u[xt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return I1(s,i,o,r),e.attachToViewContainerRef(),HI(up(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=TI(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Vp(this._lContainer,t);r&&(Ju(up(this._lContainer),t),cb(r[me],r))}detach(e){let t=this._adjustIndex(e,-1),r=Vp(this._lContainer,t);return r&&Ju(up(this._lContainer),t)!=null?new Ci(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function TI(n){return n[nl]}function up(n){return n[nl]||(n[nl]=[])}function J1(n,e){let t,r=e[n.index];return ir(r)?t=r:(t=bb(r,e,null,n),e[n.index]=t,jl(e,t)),eP(t,e,n,r),new Ob(t,n,e)}function X1(n,e){let t=n[Ge],r=t.createComment(""),i=Jt(e,n),o=lb(t,i);return dl(t,o,r,FN(t,i),!1),r}var eP=rP,tP=()=>!1;function nP(n,e,t){return tP(n,e,t)}function rP(n,e,t,r){if(n[wi])return;let i;t.type&8?i=Sn(r):i=X1(e,t),n[wi]=i}var SI=new Set;function Si(n){SI.has(n)||(SI.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function iP(n){return typeof n=="function"&&n[Gn]!==void 0}function wa(n,e){Si("NgSignals");let t=C0(n),r=t[Gn];return e?.equal&&(r.equal=e.equal),t.set=i=>kf(r,i),t.update=i=>D0(r,i),t.asReadonly=oP.bind(t),t}function oP(){let n=this[Gn];if(n.readonlyFn===void 0){let e=()=>this();e[Gn]=n,n.readonlyFn=e}return n.readonlyFn}function Fb(n){return iP(n)&&typeof n.set=="function"}function sP(n){return Object.getPrototypeOf(n.prototype).constructor}function Ut(n){let e=sP(n.type),t=!0,r=[n];for(;e;){let i;if(Lr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new W(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=$u(n.inputs),s.inputTransforms=$u(n.inputTransforms),s.declaredInputs=$u(n.declaredInputs),s.outputs=$u(n.outputs);let a=i.hostBindings;a&&dP(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&uP(n,u),l&&lP(n,l),aP(n,i),fM(n.outputs,i.outputs),Lr(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Ut&&(t=!1)}}e=Object.getPrototypeOf(e)}cP(r)}function aP(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function cP(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=da(i.hostAttrs,t=da(t,i.hostAttrs))}}function $u(n){return n===So?{}:n===Ot?[]:n}function uP(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function lP(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function dP(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Bm(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var Ur=class{},pa=class{};var qp=class extends Ur{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ml(this);let o=XI(e);this._bootstrapComponents=ib(o.bootstrap),this._r3Injector=HE(e,t,[{provide:Ur,useValue:this},{provide:Fo,useValue:this.componentFactoryResolver},...r],St(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Gp=class extends pa{constructor(e){super(),this.moduleType=e}create(e){return new qp(this.moduleType,e,[])}};var gl=class extends Ur{constructor(e){super(),this.componentFactoryResolver=new ml(this),this.instance=null;let t=new ha([...e.providers,{provide:Ur,useValue:this},{provide:Fo,useValue:this.componentFactoryResolver}],e.parent||hm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function $l(n,e,t=null){return new gl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function Vb(n){return fP(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function hP(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function fP(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Xn(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Lb(n,e,t,r){let i=Xn(n,e,t);return Xn(n,e+1,r)||i}function pP(n,e,t,r,i){let o=Lb(n,e,t,r);return Xn(n,e+2,i)||o}function mP(n){return(n.flags&32)===32}function gP(n,e,t,r,i,o,s,a,u){let l=e.consts,h=_a(e,n,4,s||null,a||null);Fm(e,t,h,Po(l,u)),Pl(e,h);let p=h.tView=Om(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function yP(n,e,t,r,i,o,s,a,u,l){let h=t+Tn,p=e.firstCreatePass?gP(h,e,n,r,i,o,s,a,u):e.data[h];Ti(p,!1);let g=vP(e,n,p,t);Rl()&&Fl(e,n,g,p),jr(g,n);let y=bb(g,n,g,p);return n[h]=y,jl(n,y),nP(y,p,n),Tl(p)&&Pm(e,n,p),u!=null&&km(n,p,l),p}function je(n,e,t,r,i,o,s,a){let u=xe(),l=mt(),h=Po(l.consts,o);return yP(u,l,n,e,t,r,i,h,s,a),je}var vP=_P;function _P(n,e,t,r){return Nl(!0),e[Ge].createComment("")}var bo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(bo||{}),jb=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Wp=class n{constructor(){this.ngZone=O(Se),this.scheduler=O(Oo),this.errorHandler=O(Zn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[bo.EarlyRead,bo.Write,bo.MixedReadWrite,bo.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}},Kp=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function $m(n,e){!e?.injector&&sR($m);let t=e?.injector??O(Mt);return bN(t)?(Si("NgAfterNextRender"),IP(n,t,e,!0)):EP}function wP(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function IP(n,e,t,r){let i=e.get(jb);i.impl??=e.get(Wp);let o=t?.phase??bo.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(Im):null,a=new Kp(i.impl,wP(n,o),r,s);return i.impl.register(a),a}var EP={destroy(){}};function Ho(n,e,t,r){let i=xe(),o=xl();if(Xn(i,o,e)){let s=mt(),a=vm();d1(a,i,n,e,t,r)}return Ho}function bP(n,e,t,r){return Xn(n,xl(),t)?e+Yn(t)+r:en}function CP(n,e,t,r,i,o){let s=CE(),a=Lb(n,s,t,i);return Ml(2),a?e+Yn(t)+r+Yn(i)+o:en}function DP(n,e,t,r,i,o,s,a){let u=CE(),l=pP(n,u,t,i,s);return Ml(3),l?e+Yn(t)+r+Yn(i)+o+Yn(s)+a:en}function zu(n,e){return n<<17|e<<2}function Di(n){return n>>17&32767}function TP(n){return(n&2)==2}function SP(n,e){return n&131071|e<<17}function Qp(n){return n|2}function jo(n){return(n&131068)>>2}function lp(n,e){return n&-131069|e<<2}function AP(n){return(n&1)===1}function Yp(n){return n|1}function xP(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Di(s),u=jo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||ya(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let g=Di(n[a+1]);n[r+1]=zu(g,a),g!==0&&(n[g+1]=lp(n[g+1],r)),n[a+1]=SP(n[a+1],r)}else n[r+1]=zu(a,0),a!==0&&(n[a+1]=lp(n[a+1],r)),a=r;else n[r+1]=zu(u,0),a===0?a=r:n[u+1]=lp(n[u+1],r),u=r;l&&(n[r+1]=Qp(n[r+1])),AI(n,h,r,!0),AI(n,h,r,!1),MP(e,h,n,r,o),s=zu(a,u),o?e.classBindings=s:e.styleBindings=s}function MP(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&ya(o,e)>=0&&(t[r+1]=Yp(t[r+1]))}function AI(n,e,t,r){let i=n[t+1],o=e===null,s=r?Di(i):jo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];RP(u,e)&&(a=!0,n[s+1]=r?Yp(l):Qp(l)),s=r?Di(l):jo(l)}a&&(n[t+1]=r?Qp(i):Yp(i))}function RP(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ya(n,e)>=0:!1}var ln={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function NP(n){return n.substring(ln.key,ln.keyEnd)}function PP(n){return kP(n),Ub(n,Bb(n,0,ln.textEnd))}function Ub(n,e){let t=ln.textEnd;return t===e?-1:(e=ln.keyEnd=OP(n,ln.key=e,t),Bb(n,e,t))}function kP(n){ln.key=0,ln.keyEnd=0,ln.value=0,ln.valueEnd=0,ln.textEnd=n.length}function Bb(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function OP(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function _e(n,e,t){let r=xe(),i=xl();if(Xn(r,i,e)){let o=mt(),s=vm();wb(o,s,r,n,e,r[Ge],t,!1)}return _e}function Zp(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Vm(n,t,o[s],s,r)}function mn(n,e){return VP(n,e,null,!0),mn}function $b(n){LP(HP,FP,n,!0)}function FP(n,e){for(let t=PP(e);t>=0;t=Ub(e,t))um(n,NP(e),!0)}function VP(n,e,t,r){let i=xe(),o=mt(),s=Ml(2);if(o.firstUpdatePass&&Hb(o,n,s,r),e!==en&&Xn(i,s,e)){let a=o.data[or()];qb(o,a,i,i[Ge],n,i[s+1]=GP(e,t),r,s)}}function LP(n,e,t,r){let i=mt(),o=Ml(2);i.firstUpdatePass&&Hb(i,null,o,r);let s=xe();if(t!==en&&Xn(s,o,t)){let a=i.data[or()];if(Gb(a,r)&&!zb(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(t=mp(u,t||"")),Zp(i,a,s,t,r)}else qP(i,a,s,s[Ge],s[o+1],s[o+1]=zP(n,e,t),r,o)}}function zb(n,e){return e>=n.expandoStartIndex}function Hb(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[or()],s=zb(n,t);Gb(o,r)&&e===null&&!s&&(e=!1),e=jP(i,o,e,r),xP(i,o,e,t,s,r)}}function jP(n,e,t,r){let i=AR(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=dp(null,n,e,t,r),t=ma(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=dp(i,n,e,t,r),o===null){let u=UP(n,e,r);u!==void 0&&Array.isArray(u)&&(u=dp(null,n,e,u[1],r),u=ma(u,e.attrs,r),BP(n,e,r,u))}else o=$P(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function UP(n,e,t){let r=t?e.classBindings:e.styleBindings;if(jo(r)!==0)return n[Di(r)]}function BP(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Di(i)]=r}function $P(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=ma(r,s,t)}return ma(r,e.attrs,t)}function dp(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=ma(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function ma(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),um(n,s,t?!0:e[++o]))}return n===void 0?null:n}function zP(n,e,t){if(t==null||t==="")return Ot;let r=[],i=Bo(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function HP(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&um(n,r,t)}function qP(n,e,t,r,i,o,s,a){i===en&&(i=Ot);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let g=u<i.length?i[u+1]:void 0,y=l<o.length?o[l+1]:void 0,A=null,P;h===p?(u+=2,l+=2,g!==y&&(A=p,P=y)):p===null||h!==null&&h<p?(u+=2,A=h):(l+=2,A=p,P=y),A!==null&&qb(n,e,t,r,A,P,s,a),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function qb(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=AP(l)?xI(u,e,t,i,jo(l),s):void 0;if(!yl(h)){yl(o)||TP(l)&&(o=xI(u,null,t,i,a,s));let p=pE(or(),t);zN(r,s,p,i,o)}}function xI(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=t[i+1];g===en&&(g=p?Ot:void 0);let y=p?tp(g,r):h===r?g:void 0;if(l&&!yl(y)&&(y=tp(u,r)),yl(y)&&(a=y,s))return a;let A=n[i+1];i=s?Di(A):jo(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=tp(u,r))}return a}function yl(n){return n!==void 0}function GP(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=St(Bo(n)))),n}function Gb(n,e){return(n.flags&(e?8:16))!==0}function WP(n,e,t,r,i,o){let s=e.consts,a=Po(s,i),u=_a(e,n,2,r,a);return Fm(e,t,u,Po(s,o)),u.attrs!==null&&pl(u,u.attrs,!1),u.mergedAttrs!==null&&pl(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function _(n,e,t,r){let i=xe(),o=mt(),s=Tn+n,a=i[Ge],u=o.firstCreatePass?WP(s,o,i,e,t,r):o.data[s],l=KP(o,i,u,a,e,n);i[s]=l;let h=Tl(u);return Ti(u,!0),fb(a,l,u),!mP(u)&&Rl()&&Fl(o,i,l,u),gR()===0&&jr(l,i),yR(),h&&(Pm(o,i,u),Nm(o,u,i)),r!==null&&km(i,u),_}function I(){let n=gt();mm()?EE():(n=n.parent,Ti(n,!1));let e=n;wR(e)&&IR(),vR();let t=mt();return t.firstCreatePass&&(Pl(t,n),fm(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&FR(e)&&Zp(t,e,xe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&VR(e)&&Zp(t,e,xe(),e.stylesWithoutHost,!1),I}function Me(n,e,t,r){return _(n,e,t,r),I(),Me}var KP=(n,e,t,r,i,o)=>(Nl(!0),ob(r,i,NR()));function QP(n,e,t,r,i){let o=e.consts,s=Po(o,r),a=_a(e,n,8,"ng-container",s);s!==null&&pl(a,s,!0);let u=Po(o,i);return Fm(e,t,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function zl(n,e,t){let r=xe(),i=mt(),o=n+Tn,s=i.firstCreatePass?QP(o,i,r,e,t):i.data[o];Ti(s,!0);let a=YP(i,r,s,n);return r[o]=a,Rl()&&Fl(i,r,a,s),jr(a,r),Tl(s)&&(Pm(i,r,s),Nm(i,s,r)),t!=null&&km(r,s),zl}function Hl(){let n=gt(),e=mt();return mm()?EE():(n=n.parent,Ti(n,!1)),e.firstCreatePass&&(Pl(e,n),fm(n)&&e.queries.elementEnd(n)),Hl}var YP=(n,e,t,r)=>(Nl(!0),SN(e[Ge],""));function yt(){return xe()}var vl="en-US";var ZP=vl;function JP(n){typeof n=="string"&&(ZP=n.toLowerCase().replace(/_/g,"-"))}var XP=(n,e,t)=>{};function de(n,e,t,r){let i=xe(),o=mt(),s=gt();return Wb(o,i,i[Ge],s,n,e,r),de}function ek(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[tl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function Wb(n,e,t,r,i,o,s){let a=Tl(r),l=n.firstCreatePass&&g1(n),h=e[hn],p=m1(e),g=!0;if(r.type&3||s){let P=Jt(r,e),N=s?s(P):P,j=p.length,K=s?re=>s(Sn(re[r.index])):r.index,B=null;if(!s&&a&&(B=ek(n,e,i,r.index)),B!==null){let re=B.__ngLastListenerFn__||B;re.__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,g=!1}else{o=RI(r,e,h,o),XP(P,i,o);let re=t.listen(N,i,o);p.push(o,re),l&&l.push(i,K,j,j+1)}}else o=RI(r,e,h,o);let y=r.outputs,A;if(g&&y!==null&&(A=y[i])){let P=A.length;if(P)for(let N=0;N<P;N+=2){let j=A[N],K=A[N+1],Te=e[j][K].subscribe(o),Y=p.length;p.push(o,Te),l&&l.push(i,r.index,Y,-(Y+1))}}}function MI(n,e,t,r){let i=Ee(null);try{return In(6,e,t),t(r)!==!1}catch(o){return Db(n,o),!1}finally{In(7,e,t),Ee(i)}}function RI(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?Br(n.index,e):e;Um(s,5);let a=MI(e,t,r,o),u=i.__ngNextListenerFn__;for(;u;)a=MI(e,t,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function we(n=1){return MR(n)}function Ai(n){let e=bR();return hR(e,Tn+n)}function D(n,e=""){let t=xe(),r=mt(),i=n+Tn,o=r.firstCreatePass?_a(r,i,1,e,null):r.data[i],s=tk(r,t,o,e,n);t[i]=s,Rl()&&Fl(r,t,s,o),Ti(o,!1)}var tk=(n,e,t,r,i)=>(Nl(!0),DN(e[Ge],r));function vt(n){return tn("",n,""),vt}function tn(n,e,t){let r=xe(),i=bP(r,n,e,t);return i!==en&&Lm(r,or(),i),tn}function zm(n,e,t,r,i){let o=xe(),s=CP(o,n,e,t,r,i);return s!==en&&Lm(o,or(),s),zm}function Hm(n,e,t,r,i,o,s){let a=xe(),u=DP(a,n,e,t,r,i,o,s);return u!==en&&Lm(a,or(),u),Hm}function Ze(n,e,t){Fb(e)&&(e=e());let r=xe(),i=xl();if(Xn(r,i,e)){let o=mt(),s=vm();wb(o,s,r,n,e,r[Ge],t,!1)}return Ze}function rt(n,e){let t=Fb(n);return t&&n.set(e),t}function Je(n,e){let t=xe(),r=mt(),i=gt();return Wb(r,t,t[Ge],i,n,e),Je}function nk(n,e,t){let r=mt();if(r.firstCreatePass){let i=Lr(n);Jp(t,r.data,r.blueprint,i,!0),Jp(e,r.data,r.blueprint,i,!1)}}function Jp(n,e,t,r,i){if(n=Tt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Jp(n[o],e,t,r,i);else{let o=mt(),s=xe(),a=gt(),u=xo(n)?n:Tt(n.provide),l=oE(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(xo(n)||!n.multi){let y=new bi(l,i,J),A=fp(u,e,i?h:h+g,p);A===-1?(xp(al(a,s),o,u),hp(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[A]=y,s[A]=y)}else{let y=fp(u,e,h+g,p),A=fp(u,e,h,h+g),P=y>=0&&t[y],N=A>=0&&t[A];if(i&&!N||!i&&!P){xp(al(a,s),o,u);let j=ok(i?ik:rk,t.length,i,r,l);!i&&N&&(t[A].providerFactory=j),hp(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(j),s.push(j)}else{let j=Kb(t[i?A:y],l,!i&&r);hp(o,n,y>-1?y:A,j)}!i&&r&&N&&t[A].componentProviders++}}}function hp(n,e,t,r){let i=xo(e),o=XM(e);if(i||o){let u=(o?Tt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function Kb(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function fp(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function rk(n,e,t,r){return Xp(this.multi,[])}function ik(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ko(t,t[me],this.providerFactory.index,r);o=a.slice(0,s),Xp(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Xp(i,o);return o}function Xp(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function ok(n,e,t,r,i){let o=new bi(n,t,J);return o.multi=[],o.index=e,o.componentProviders=0,Kb(o,i,r&&!t),o}function ar(n,e=[]){return t=>{t.providersResolver=(r,i)=>nk(r,i?i(n):n,e)}}var sk=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=nE(!1,t.type),i=r.length>0?$l([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=z({token:n,providedIn:"environment",factory:()=>new n(G(At))})}}return n})();function ze(n){Si("NgStandalone"),n.getStandaloneInjector=e=>e.get(sk).getOrCreateStandaloneInjector(n)}function Ia(n,e){return Nb(n,e)}var er=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Qb=new er("18.2.14");var ql=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var Yb=new H("");function xi(n){return!!n&&typeof n.then=="function"}function Zb(n){return!!n&&typeof n.subscribe=="function"}var Gl=new H(""),Jb=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=O(Gl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(xi(o))t.push(o);else if(Zb(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ea=new H("");function ak(){b0(()=>{throw new W(600,!1)})}function ck(n){return n.isBoundToModule}var uk=10;function lk(n,e,t){try{let r=t();return xi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var zr=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(rN),this.afterRenderManager=O(jb),this.zonelessEnabled=O(Bl),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ot,this.afterTick=new ot,this.componentTypes=[],this.components=[],this.isStable=O($r).hasPendingTasks.pipe(ee(t=>!t)),this._injector=O(At)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof fl;if(!this._injector.get(Jb).done){let g=!i&&JI(t),y=!1;throw new W(405,y)}let s;i?s=t:s=this._injector.get(Fo).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=ck(s)?void 0:this._injector.get(Ur),u=r||s.selector,l=s.create(Mt.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(Yb,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Ku(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new W(101,!1);let t=Ee(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Ee(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Vo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<uk;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)dk(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Sl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Ku(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Ea,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ku(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new W(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ku(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function dk(n,e,t,r){if(!t&&!Sl(n))return;Ab(n,e,t&&!r?0:1)}var em=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Wl=(()=>{class n{compileModuleSync(t){return new Gp(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=XI(t),o=ib(i.declarations).reduce((s,a)=>{let u=Vr(a);return u&&s.push(new Lo(u)),s},[]);return new em(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var hk=(()=>{class n{constructor(){this.zone=O(Se),this.changeDetectionScheduler=O(Oo),this.applicationRef=O(zr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fk=new H("",{factory:()=>!1});function Xb({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Se(he(V({},tC()),{scheduleInRootZone:t})),[{provide:Se,useFactory:n},{provide:Ao,multi:!0,useFactory:()=>{let r=O(hk,{optional:!0});return()=>r.initialize()}},{provide:Ao,multi:!0,useFactory:()=>{let r=O(pk);return()=>{r.initialize()}}},e===!0?{provide:Pb,useValue:!0}:[],{provide:kb,useValue:t??qE}]}function eC(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=Xb({ngZoneFactory:()=>{let i=tC(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Si("NgZone_CoalesceEvent"),new Se(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return An([{provide:fk,useValue:!0},{provide:Bl,useValue:!1},r])}function tC(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var pk=(()=>{class n{constructor(){this.subscription=new ke,this.initialized=!1,this.zone=O(Se),this.pendingTasks=O($r)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Se.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var mk=(()=>{class n{constructor(){this.appRef=O(zr),this.taskService=O($r),this.ngZone=O(Se),this.zonelessEnabled=O(Bl),this.disableScheduling=O(Pb,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ke,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ul):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(kb,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof kp||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?pI:GE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ul+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,pI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function gk(){return typeof $localize<"u"&&$localize.locale||vl}var qm=new H("",{providedIn:"root",factory:()=>O(qm,ce.Optional|ce.SkipSelf)||gk()});var tm=new H("");function Hu(n){return!n.moduleRef}function yk(n){let e=Hu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Se);return t.run(()=>{Hu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Zn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Hu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(tm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(tm);s.add(o),n.moduleRef.onDestroy(()=>{Ku(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return lk(r,t,()=>{let o=e.get(Jb);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(qm,vl);if(JP(s||vl),Hu(n)){let a=e.get(zr);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return vk(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function vk(n,e){let t=n.injector.get(zr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new W(-403,!1);e.push(n)}var Qu=null,nC=new H("");function _k(n=[],e){return Mt.create({name:e,providers:[{provide:bl,useValue:"platform"},{provide:tm,useValue:new Set([()=>Qu=null])},...n]})}function wk(n=[]){if(Qu)return Qu;let e=_k(n);return e.get(nC,!1)||(Qu=e),ak(),Ik(e),e}function Ik(n){n.get(Dm,null)?.forEach(t=>t())}var Mi=(()=>{class n{static{this.__NG_ELEMENT_ID__=Ek}}return n})();function Ek(n){return bk(gt(),xe(),(n&16)===16)}function bk(n,e,t){if(Dl(n)&&!t){let r=Br(n.index,e);return new Ci(r,r)}else if(n.type&175){let r=e[Dn];return new Ci(r,e)}return null}var nm=class{constructor(){}supports(e){return Vb(e)}create(e){return new rm(e)}},Ck=(n,e)=>e,rm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ck}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<NI(r,i,o)?t:r,a=NI(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,A=y+g;h<=A&&A<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Vb(e))throw new W(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,hP(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new im(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new _l),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new _l),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},im=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},om=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},_l=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new om,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function NI(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function PI(){return new Gm([new nm])}var Gm=(()=>{class n{static{this.\u0275prov=z({token:n,providedIn:"root",factory:PI})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||PI()),deps:[[n,new am,new Yt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new W(901,!1)}}return n})();function rC(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;try{let o=i?.injector??wk(r);if(o.get(nC,!1)===!0&&!n.platformRef)throw new W(401,!1);let s=[Xb({}),{provide:Oo,useExisting:mk},...t||[]],a=new gl({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return yk({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}}function Hr(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ba(n,e){Si("NgSignals");let t=w0(n);return e?.equal&&(t[Gn].equal=e.equal),t}function cr(n){let e=Ee(null);try{return n()}finally{Ee(e)}}function iC(n){let e=Vr(n);if(!e)return null;let t=new Lo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var uC=null;function lr(){return uC}function lC(n){uC??=n}var Kl=class{};var _t=new H(""),Zm=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>O(Tk),providedIn:"platform"})}}return n})(),dC=new H(""),Tk=(()=>{class n extends Zm{constructor(){super(),this._doc=O(_t),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return lr().getBaseHref(this._doc)}onPopState(t){let r=lr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=lr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Jm(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function oC(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function ur(n){return n&&n[0]!=="?"?"?"+n:n}var dr=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>O(Xm),providedIn:"root"})}}return n})(),hC=new H(""),Xm=(()=>{class n extends dr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(_t).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Jm(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+ur(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ur(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ur(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(G(Zm),G(hC,8))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fC=(()=>{class n extends dr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Jm(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ur(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ur(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(G(Zm),G(hC,8))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),Go=(()=>{class n{constructor(t){this._subject=new Ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=xk(oC(sC(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ur(r))}normalize(t){return n.stripTrailingSlash(Ak(this._basePath,sC(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ur(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ur(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=ur}static{this.joinWithSlash=Jm}static{this.stripTrailingSlash=oC}static{this.\u0275fac=function(r){return new(r||n)(G(dr))}}static{this.\u0275prov=z({token:n,factory:()=>Sk(),providedIn:"root"})}}return n})();function Sk(){return new Go(G(dr))}function Ak(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function sC(n){return n.replace(/\/index.html$/,"")}function xk(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function Ql(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Wm=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Wo=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Wm(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),aC(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);aC(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(J(zo),J(Ul),J(Gm))}}static{this.\u0275dir=Le({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function aC(n,e){n.context.$implicit=e.item}var Nn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Km,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){cC("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){cC("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(J(zo),J(Ul))}}static{this.\u0275dir=Le({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Km=class{constructor(){this.$implicit=null,this.ngIf=null}};function cC(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${St(e)}'.`)}var gn=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=nr({type:n})}static{this.\u0275inj=tr({})}}return n})(),eg="browser",Mk="server";function Rk(n){return n===eg}function Yl(n){return n===Mk}var pC=(()=>{class n{static{this.\u0275prov=z({token:n,providedIn:"root",factory:()=>Rk(O(Xt))?new Qm(O(_t),window):new Ym})}}return n})(),Qm=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=Nk(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function Nk(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Ym=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},qo=class{};var Da=class{},Jl=class{},hr=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var ng=class{encodeKey(e){return mC(e)}encodeValue(e){return mC(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Pk(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var kk=/%(\d[a-f0-9])/gi,Ok={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function mC(n){return encodeURIComponent(n).replace(kk,(e,t)=>Ok[t]??e)}function Zl(n){return`${n}`}var Gr=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ng,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Pk(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Zl):[Zl(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Zl(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Zl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var rg=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Fk(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function gC(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function yC(n){return typeof Blob<"u"&&n instanceof Blob}function vC(n){return typeof FormData<"u"&&n instanceof FormData}function Vk(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Ca=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(Fk(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new hr,this.context??=new rg,!this.params)this.params=new Gr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||gC(this.body)||yC(this.body)||vC(this.body)||Vk(this.body)?this.body:this.body instanceof Gr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||vC(this.body)?null:yC(this.body)?this.body.type||null:gC(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Gr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((g,y)=>g.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,y)=>g.set(y,e.setParams[y]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Wr=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Wr||{}),Ta=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new hr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Xl=class n extends Ta{constructor(e={}){super(e),this.type=Wr.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Sa=class n extends Ta{constructor(e={}){super(e),this.type=Wr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},qr=class extends Ta{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},EC=200,Lk=204;function tg(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var jk=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ca)o=t;else{let u;i.headers instanceof hr?u=i.headers:u=new hr(i.headers);let l;i.params&&(i.params instanceof Gr?l=i.params:l=new Gr({fromObject:i.params})),o=new Ca(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=Z(o).pipe(Kn(u=>this.handler.handle(u)));if(t instanceof Ca||i.observe==="events")return s;let a=s.pipe(Pt(u=>u instanceof Sa));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ee(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(ee(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Gr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,tg(i,r))}post(t,r,i={}){return this.request("POST",t,tg(i,r))}put(t,r,i={}){return this.request("PUT",t,tg(i,r))}static{this.\u0275fac=function(r){return new(r||n)(G(Da))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),Uk=/^\)\]\}',?\n/,Bk="X-Request-URL";function _C(n){if(n.url)return n.url;let e=Bk.toLocaleLowerCase();return n.headers.get(e)}var $k=(()=>{class n{constructor(){this.fetchImpl=O(ig,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=O(Se)}handle(t){return new fe(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(og,o=>r.error(new qr({error:o}))),()=>i.abort()})}doRequest(t,r,i){return M(this,null,function*(){let o=this.createRequestInit(t),s;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,V({signal:r},o)));zk(y),i.next({type:Wr.Sent}),s=yield y}catch(y){i.error(new qr({error:y,status:y.status??0,statusText:y.statusText,url:t.urlWithParams,headers:y.headers}));return}let a=new hr(s.headers),u=s.statusText,l=_C(s)??t.urlWithParams,h=s.status,p=null;if(t.reportProgress&&i.next(new Xl({headers:a,status:h,statusText:u,url:l})),s.body){let y=s.headers.get("content-length"),A=[],P=s.body.getReader(),N=0,j,K,B=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>M(this,null,function*(){for(;;){let{done:Te,value:Y}=yield P.read();if(Te)break;if(A.push(Y),N+=Y.length,t.reportProgress){K=t.responseType==="text"?(K??"")+(j??=new TextDecoder).decode(Y,{stream:!0}):void 0;let b=()=>i.next({type:Wr.DownloadProgress,total:y?+y:void 0,loaded:N,partialText:K});B?B.run(b):b()}}}));let re=this.concatChunks(A,N);try{let Te=s.headers.get("Content-Type")??"";p=this.parseBody(t,re,Te)}catch(Te){i.error(new qr({error:Te,headers:new hr(s.headers),status:s.status,statusText:s.statusText,url:_C(s)??t.urlWithParams}));return}}h===0&&(h=p?EC:0),h>=200&&h<300?(i.next(new Sa({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new qr({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(Uk,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),ig=class{};function og(){}function zk(n){n.then(og,og)}function Hk(n,e){return e(n)}function qk(n,e,t){return(r,i)=>Zt(t,()=>e(r,o=>n(o,i)))}var bC=new H(""),Gk=new H(""),Wk=new H("",{providedIn:"root",factory:()=>!0});var wC=(()=>{class n extends Da{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=O($r),this.contributeToStability=O(Wk)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(bC),...this.injector.get(Gk,[])]));this.chain=r.reduceRight((i,o)=>qk(i,o,this.injector),Hk)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(vi(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(G(Jl),G(At))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})();var Kk=/^\)\]\}',?\n/;function Qk(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var IC=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new W(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Fe(r.\u0275loadImpl()):Z(null)).pipe(kt(()=>new fe(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((P,N)=>s.setRequestHeader(P,N.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let P=t.detectContentTypeHeader();P!==null&&s.setRequestHeader("Content-Type",P)}if(t.responseType){let P=t.responseType.toLowerCase();s.responseType=P!=="json"?P:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let P=s.statusText||"OK",N=new hr(s.getAllResponseHeaders()),j=Qk(s)||t.url;return u=new Xl({headers:N,status:s.status,statusText:P,url:j}),u},h=()=>{let{headers:P,status:N,statusText:j,url:K}=l(),B=null;N!==Lk&&(B=typeof s.response>"u"?s.responseText:s.response),N===0&&(N=B?EC:0);let re=N>=200&&N<300;if(t.responseType==="json"&&typeof B=="string"){let Te=B;B=B.replace(Kk,"");try{B=B!==""?JSON.parse(B):null}catch(Y){B=Te,re&&(re=!1,B={error:Y,text:B})}}re?(o.next(new Sa({body:B,headers:P,status:N,statusText:j,url:K||void 0})),o.complete()):o.error(new qr({error:B,headers:P,status:N,statusText:j,url:K||void 0}))},p=P=>{let{url:N}=l(),j=new qr({error:P,status:s.status||0,statusText:s.statusText||"Unknown Error",url:N||void 0});o.error(j)},g=!1,y=P=>{g||(o.next(l()),g=!0);let N={type:Wr.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(N.total=P.total),t.responseType==="text"&&s.responseText&&(N.partialText=s.responseText),o.next(N)},A=P=>{let N={type:Wr.UploadProgress,loaded:P.loaded};P.lengthComputable&&(N.total=P.total),o.next(N)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",A)),s.send(a),o.next({type:Wr.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",A)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(G(qo))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),CC=new H(""),Yk="XSRF-TOKEN",Zk=new H("",{providedIn:"root",factory:()=>Yk}),Jk="X-XSRF-TOKEN",Xk=new H("",{providedIn:"root",factory:()=>Jk}),ed=class{},eO=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ql(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(G(_t),G(Xt),G(Zk))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})();function tO(n,e){let t=n.url.toLowerCase();if(!O(CC)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=O(ed).getToken(),i=O(Xk);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function DC(...n){let e=[jk,IC,wC,{provide:Da,useExisting:wC},{provide:Jl,useFactory:()=>O($k,{optional:!0})??O(IC)},{provide:bC,useValue:tO,multi:!0},{provide:CC,useValue:!0},{provide:ed,useClass:eO}];for(let t of n)e.push(...t.\u0275providers);return An(e)}var cg=class extends Kl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ug=class n extends cg{static makeCurrent(){lC(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=nO();return t==null?null:rO(t)}resetBaseElement(){Aa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ql(document.cookie,e)}},Aa=null;function nO(){return Aa=Aa||document.querySelector("base"),Aa?Aa.getAttribute("href"):null}function rO(n){return new URL(n,document.baseURI).pathname}var iO=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),lg=new H(""),xC=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new W(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(G(lg),G(Se))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),td=class{constructor(e){this._doc=e}},sg="ng-app-id",MC=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Yl(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${sg}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(sg),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(sg,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(G(_t),G(Cm),G(Tm,8),G(Xt))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),ag={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},hg=/%COMP%/g,RC="%COMP%",oO=`_nghost-${RC}`,sO=`_ngcontent-${RC}`,aO=!0,cO=new H("",{providedIn:"root",factory:()=>aO});function uO(n){return sO.replace(hg,n)}function lO(n){return oO.replace(hg,n)}function NC(n,e){return e.map(t=>t.replace(hg,n))}var TC=(()=>{class n{constructor(t,r,i,o,s,a,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Yl(a),this.defaultRenderer=new xa(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===bn.ShadowDom&&(r=he(V({},r),{encapsulation:bn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof nd?i.applyToHost(t):i instanceof Ma&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case bn.Emulated:o=new nd(u,l,r,this.appId,h,s,a,p);break;case bn.ShadowDom:return new dg(u,l,t,r,s,a,this.nonce,p);default:o=new Ma(u,l,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(G(xC),G(MC),G(Cm),G(cO),G(_t),G(Xt),G(Se),G(Tm))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),xa=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(ag[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(SC(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(SC(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new W(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=ag[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=ag[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Jn.DashCase|Jn.Important)?e.style.setProperty(t,r,i&Jn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Jn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=lr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function SC(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var dg=class extends xa{constructor(e,t,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=NC(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ma=class extends xa{constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?NC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},nd=class extends Ma{constructor(e,t,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,t,r,o,s,a,u,l),this.contentAttr=uO(l),this.hostAttr=lO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},dO=(()=>{class n extends td{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(G(_t))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),AC=["alt","control","meta","shift"],hO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fO={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},pO=(()=>{class n extends td{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),AC.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=hO[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),AC.forEach(s=>{if(s!==i){let a=fO[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(G(_t))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})();function PC(n,e,t){return rC(V({rootComponent:n,platformRef:t?.platformRef},mO(e)))}function mO(n){return{appProviders:[...wO,...n?.providers??[]],platformProviders:_O}}function gO(){ug.makeCurrent()}function yO(){return new Zn}function vO(){return XE(document),document}var _O=[{provide:Xt,useValue:eg},{provide:Dm,useValue:gO,multi:!0},{provide:_t,useFactory:vO,deps:[]}];var wO=[{provide:bl,useValue:"root"},{provide:Zn,useFactory:yO,deps:[]},{provide:lg,useClass:dO,multi:!0,deps:[_t,Se,Xt]},{provide:lg,useClass:pO,multi:!0,deps:[_t]},TC,MC,xC,{provide:Vo,useExisting:TC},{provide:qo,useClass:iO,deps:[]},[]];var kC=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(G(_t))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var se="primary",qa=Symbol("RouteTitle"),yg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Xo(n){return new yg(n)}function EO(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function bO(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Pn(n[t],e[t]))return!1;return!0}function Pn(n,e){let t=n?vg(n):void 0,r=e?vg(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!qC(n[i],e[i]))return!1;return!0}function vg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function qC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function GC(n){return n.length>0?n[n.length-1]:null}function Yr(n){return Kf(n)?n:xi(n)?Fe(Promise.resolve(n)):Z(n)}var CO={exact:KC,subset:QC},WC={exact:DO,subset:TO,ignored:()=>!0};function OC(n,e,t){return CO[t.paths](n.root,e.root,t.matrixParams)&&WC[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function DO(n,e){return Pn(n,e)}function KC(n,e,t){if(!Pi(n.segments,e.segments)||!od(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!KC(n.children[r],e.children[r],t))return!1;return!0}function TO(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>qC(n[t],e[t]))}function QC(n,e,t){return YC(n,e,e.segments,t)}function YC(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Pi(i,t)||e.hasChildren()||!od(i,t,r))}else if(n.segments.length===t.length){if(!Pi(n.segments,t)||!od(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!QC(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Pi(n.segments,i)||!od(n.segments,i,r)||!n.children[se]?!1:YC(n.children[se],e,o,r)}}function od(n,e,t){return e.every((r,i)=>WC[t](n[i].parameters,r.parameters))}var pr=class{constructor(e=new Ae([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Xo(this.queryParams),this._queryParamMap}toString(){return xO.serialize(this)}},Ae=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sd(this)}},Ni=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Xo(this.parameters),this._parameterMap}toString(){return JC(this)}};function SO(n,e){return Pi(n,e)&&n.every((t,r)=>Pn(t.parameters,e[r].parameters))}function Pi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function AO(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===se&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==se&&(t=t.concat(e(i,r)))}),t}var Ga=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>new es,providedIn:"root"})}}return n})(),es=class{parse(e){let t=new wg(e);return new pr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ra(e.root,!0)}`,r=NO(e.queryParams),i=typeof e.fragment=="string"?`#${MO(e.fragment)}`:"";return`${t}${r}${i}`}},xO=new es;function sd(n){return n.segments.map(e=>JC(e)).join("/")}function Ra(n,e){if(!n.hasChildren())return sd(n);if(e){let t=n.children[se]?Ra(n.children[se],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==se&&r.push(`${i}:${Ra(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=AO(n,(r,i)=>i===se?[Ra(n.children[se],!1)]:[`${i}:${Ra(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[se]!=null?`${sd(n)}/${t[0]}`:`${sd(n)}/(${t.join("//")})`}}function ZC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rd(n){return ZC(n).replace(/%3B/gi,";")}function MO(n){return encodeURI(n)}function _g(n){return ZC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ad(n){return decodeURIComponent(n)}function FC(n){return ad(n.replace(/\+/g,"%20"))}function JC(n){return`${_g(n.path)}${RO(n.parameters)}`}function RO(n){return Object.entries(n).map(([e,t])=>`;${_g(e)}=${_g(t)}`).join("")}function NO(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${rd(t)}=${rd(i)}`).join("&"):`${rd(t)}=${rd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var PO=/^[^\/()?;#]+/;function fg(n){let e=n.match(PO);return e?e[0]:""}var kO=/^[^\/()?;=#]+/;function OO(n){let e=n.match(kO);return e?e[0]:""}var FO=/^[^=?&#]+/;function VO(n){let e=n.match(FO);return e?e[0]:""}var LO=/^[^&#]+/;function jO(n){let e=n.match(LO);return e?e[0]:""}var wg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[se]=new Ae(e,t)),r}parseSegment(){let e=fg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new W(4009,!1);return this.capture(e),new Ni(ad(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=OO(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=fg(this.remaining);i&&(r=i,this.capture(r))}e[ad(t)]=ad(r)}parseQueryParam(e){let t=VO(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=jO(this.remaining);s&&(r=s,this.capture(r))}let i=FC(t),o=FC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=fg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new W(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=se);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[se]:new Ae([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new W(4011,!1)}};function XC(n){return n.segments.length>0?new Ae([],{[se]:n}):n}function eD(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=eD(i);if(r===se&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ae(n.segments,e);return UO(t)}function UO(n){if(n.numberOfChildren===1&&n.children[se]){let e=n.children[se];return new Ae(n.segments.concat(e.segments),e.children)}return n}function ki(n){return n instanceof pr}function BO(n,e,t=null,r=null){let i=tD(n);return nD(i,e,t,r)}function tD(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Ae(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=XC(r);return e??i}function nD(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return pg(i,i,i,t,r);let o=$O(e);if(o.toRoot())return pg(i,i,new Ae([],{}),t,r);let s=zO(o,i,n),a=s.processChildren?ka(s.segmentGroup,s.index,o.commands):iD(s.segmentGroup,s.index,o.commands);return pg(i,s.segmentGroup,a,t,r)}function cd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Va(n){return typeof n=="object"&&n!=null&&n.outlets}function pg(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=rD(n,e,t);let a=XC(eD(s));return new pr(a,o,i)}function rD(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=rD(o,e,t)}),new Ae(n.segments,r)}var ud=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&cd(r[0]))throw new W(4003,!1);let i=r.find(Va);if(i&&i!==GC(r))throw new W(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function $O(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new ud(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ud(t,e,r)}var Yo=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function zO(n,e,t){if(n.isAbsolute)return new Yo(e,!0,0);if(!t)return new Yo(e,!1,NaN);if(t.parent===null)return new Yo(t,!0,0);let r=cd(n.commands[0])?0:1,i=t.segments.length-1+r;return HO(t,i,n.numberOfDoubleDots)}function HO(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new W(4005,!1);i=r.segments.length}return new Yo(r,!1,i-o)}function qO(n){return Va(n[0])?n[0].outlets:{[se]:n}}function iD(n,e,t){if(n??=new Ae([],{}),n.segments.length===0&&n.hasChildren())return ka(n,e,t);let r=GO(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ae(n.segments.slice(0,r.pathIndex),{});return o.children[se]=new Ae(n.segments.slice(r.pathIndex),n.children),ka(o,0,i)}else return r.match&&i.length===0?new Ae(n.segments,{}):r.match&&!n.hasChildren()?Ig(n,e,t):r.match?ka(n,0,i):Ig(n,e,t)}function ka(n,e,t){if(t.length===0)return new Ae(n.segments,{});{let r=qO(t),i={};if(Object.keys(r).some(o=>o!==se)&&n.children[se]&&n.numberOfChildren===1&&n.children[se].segments.length===0){let o=ka(n.children[se],e,t);return new Ae(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=iD(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ae(n.segments,i)}}function GO(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Va(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!LC(u,l,s))return o;r+=2}else{if(!LC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ig(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Va(o)){let u=WO(o.outlets);return new Ae(r,u)}if(i===0&&cd(t[0])){let u=n.segments[e];r.push(new Ni(u.path,VC(t[0]))),i++;continue}let s=Va(o)?o.outlets[se]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&cd(a)?(r.push(new Ni(s,VC(a))),i+=2):(r.push(new Ni(s,{})),i++)}return new Ae(r,{})}function WO(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Ig(new Ae([],{}),0,r))}),e}function VC(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function LC(n,e,t){return n==t.path&&Pn(e,t.parameters)}var Oa="imperative",st=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(st||{}),nn=class{constructor(e,t){this.id=e,this.url=t}},ts=class extends nn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=st.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},kn=class extends nn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=st.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},$t=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}($t||{}),ld=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(ld||{}),fr=class extends nn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=st.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Kr=class extends nn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=st.NavigationSkipped}},La=class extends nn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=st.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},dd=class extends nn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=st.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Eg=class extends nn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=st.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bg=class extends nn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=st.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Cg=class extends nn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=st.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dg=class extends nn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=st.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tg=class{constructor(e){this.route=e,this.type=st.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Sg=class{constructor(e){this.route=e,this.type=st.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ag=class{constructor(e){this.snapshot=e,this.type=st.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xg=class{constructor(e){this.snapshot=e,this.type=st.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mg=class{constructor(e){this.snapshot=e,this.type=st.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rg=class{constructor(e){this.snapshot=e,this.type=st.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hd=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=st.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ja=class{},ns=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function KO(n,e){return n.providers&&!n._injector&&(n._injector=$l(n.providers,e,`Route: ${n.path}`)),n._injector??e}function yn(n){return n.outlet||se}function QO(n,e){let t=n.filter(r=>yn(r)===e);return t.push(...n.filter(r=>yn(r)!==e)),t}function Wa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Ng=class{get injector(){return Wa(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Ka(this.rootInjector),this.attachRef=null}},Ka=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ng(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(G(At))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Pg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Pg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=kg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return kg(e,this._root).map(t=>t.value)}};function Pg(n,e){if(n===e.value)return e;for(let t of e.children){let r=Pg(n,t);if(r)return r}return null}function kg(n,e){if(n===e.value)return[e];for(let t of e.children){let r=kg(n,t);if(r.length)return r.unshift(e),r}return[]}var Bt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Qo(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var pd=class extends fd{constructor(e,t){super(e),this.snapshot=t,zg(this,e)}toString(){return this.snapshot.toString()}};function oD(n){let e=YO(n),t=new qe([new Ni("",{})]),r=new qe({}),i=new qe({}),o=new qe({}),s=new qe(""),a=new Qr(t,r,o,s,i,se,n,e.root);return a.snapshot=e.root,new pd(new Bt(a,[]),e)}function YO(n){let e={},t={},r={},i="",o=new Zo([],e,r,i,t,se,n,null,{});return new gd("",new Bt(o,[]))}var Qr=class{constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ee(l=>l[qa]))??Z(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>Xo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>Xo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function md(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),n.params),data:V(V({},e.data),n.data),resolve:V(V(V(V({},n.data),e.data),i?.data),n._resolvedData)}:r={params:V({},n.params),data:V({},n.data),resolve:V(V({},n.data),n._resolvedData??{})},i&&aD(i)&&(r.resolve[qa]=i.title),r}var Zo=class{get title(){return this.data?.[qa]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},gd=class extends fd{constructor(e,t){super(t),this.url=e,zg(this,t)}toString(){return sD(this._root)}};function zg(n,e){e.value._routerState=n,e.children.forEach(t=>zg(n,t))}function sD(n){let e=n.children.length>0?` { ${n.children.map(sD).join(", ")} } `:"";return`${n.value}${e}`}function mg(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Pn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Pn(e.params,t.params)||n.paramsSubject.next(t.params),bO(e.url,t.url)||n.urlSubject.next(t.url),Pn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Og(n,e){let t=Pn(n.params,e.params)&&SO(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Og(n.parent,e.parent))}function aD(n){return typeof n.title=="string"||n.title===null}var Hg=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new Ye,this.deactivateEvents=new Ye,this.attachEvents=new Ye,this.detachEvents=new Ye,this.parentContexts=O(Ka),this.location=O(zo),this.changeDetector=O(Mi),this.inputBinder=O(wd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new W(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new W(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new W(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new W(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Fg(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Le({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[xn]})}}return n})(),Fg=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Qr?this.route:e===Ka?this.childContexts:this.parent.get(e,t)}},wd=new H(""),jC=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=aa([r.queryParams,r.params,r.data]).pipe(kt(([o,s,a],u)=>(a=V(V(V({},o),s),a),u===0?Z(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=iC(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})();function ZO(n,e,t){let r=Ua(n,e._root,t?t._root:void 0);return new pd(r,e)}function Ua(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=JO(n,e,t);return new Bt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ua(n,a)),s}}let r=XO(e.value),i=e.children.map(o=>Ua(n,o));return new Bt(r,i)}}function JO(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ua(n,r,i);return Ua(n,r)})}function XO(n){return new Qr(new qe(n.url),new qe(n.params),new qe(n.queryParams),new qe(n.fragment),new qe(n.data),n.outlet,n.component,n)}var Ba=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},cD="ngNavigationCancelingError";function yd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ki(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=uD(!1,$t.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function uD(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[cD]=!0,t.cancellationCode=e,t}function eF(n){return lD(n)&&ki(n.url)}function lD(n){return!!n&&n[cD]}var tF=(n,e,t,r)=>ee(i=>(new Vg(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Vg=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),mg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Qo(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Qo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Qo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Qo(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Rg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new xg(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(mg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),mg(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},vd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Jo=class{constructor(e,t){this.component=e,this.route=t}};function nF(n,e,t){let r=n._root,i=e?e._root:null;return Na(r,i,t,[r.value])}function rF(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function is(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!VI(n)?n:e.get(n):r}function Na(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Qo(e);return n.children.forEach(s=>{iF(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Fa(a,t.getContext(s),i)),i}function iF(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=oF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new vd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Na(n,e,a?a.children:null,r,i):Na(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Jo(a.outlet.component,s))}else s&&Fa(e,a,i),i.canActivateChecks.push(new vd(r)),o.component?Na(n,null,a?a.children:null,r,i):Na(n,null,t,r,i);return i}function oF(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Pi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Pi(n.url,e.url)||!Pn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Og(n,e)||!Pn(n.queryParams,e.queryParams);case"paramsChange":default:return!Og(n,e)}}function Fa(n,e,t){let r=Qo(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Fa(s,e.children.getContext(o),t):Fa(s,null,t):Fa(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Jo(e.outlet.component,i)):t.canDeactivateChecks.push(new Jo(null,i)):t.canDeactivateChecks.push(new Jo(null,i))}function Qa(n){return typeof n=="function"}function sF(n){return typeof n=="boolean"}function aF(n){return n&&Qa(n.canLoad)}function cF(n){return n&&Qa(n.canActivate)}function uF(n){return n&&Qa(n.canActivateChild)}function lF(n){return n&&Qa(n.canDeactivate)}function dF(n){return n&&Qa(n.canMatch)}function dD(n){return n instanceof Wn||n?.name==="EmptyError"}var id=Symbol("INITIAL_VALUE");function rs(){return kt(n=>aa(n.map(e=>e.pipe(Qn(1),Xf(id)))).pipe(ee(e=>{for(let t of e)if(t!==!0){if(t===id)return id;if(t===!1||hF(t))return t}return!0}),Pt(e=>e!==id),Qn(1)))}function hF(n){return ki(n)||n instanceof Ba}function fF(n,e){return Ke(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Z(he(V({},t),{guardsResult:!0})):pF(s,r,i,n).pipe(Ke(a=>a&&sF(a)?mF(r,o,n,e):Z(a)),ee(a=>he(V({},t),{guardsResult:a})))})}function pF(n,e,t,r){return Fe(n).pipe(Ke(i=>wF(i.component,i.route,t,e,r)),wn(i=>i!==!0,!0))}function mF(n,e,t,r){return Fe(e).pipe(Kn(i=>vo(yF(i.route.parent,r),gF(i.route,r),_F(n,i.path,t),vF(n,i.route,t))),wn(i=>i!==!0,!0))}function gF(n,e){return n!==null&&e&&e(new Mg(n)),Z(!0)}function yF(n,e){return n!==null&&e&&e(new Ag(n)),Z(!0)}function vF(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(o=>Lu(()=>{let s=Wa(e)??t,a=is(o,s),u=cF(a)?a.canActivate(e,n):Zt(s,()=>a(e,n));return Yr(u).pipe(wn())}));return Z(i).pipe(rs())}function _F(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>rF(s)).filter(s=>s!==null).map(s=>Lu(()=>{let a=s.guards.map(u=>{let l=Wa(s.node)??t,h=is(u,l),p=uF(h)?h.canActivateChild(r,n):Zt(l,()=>h(r,n));return Yr(p).pipe(wn())});return Z(a).pipe(rs())}));return Z(o).pipe(rs())}function wF(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Z(!0);let s=o.map(a=>{let u=Wa(e)??i,l=is(a,u),h=lF(l)?l.canDeactivate(n,e,t,r):Zt(u,()=>l(n,e,t,r));return Yr(h).pipe(wn())});return Z(s).pipe(rs())}function IF(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let o=i.map(s=>{let a=is(s,n),u=aF(a)?a.canLoad(e,t):Zt(n,()=>a(e,t));return Yr(u)});return Z(o).pipe(rs(),hD(r))}function hD(n){return Uf(Qe(e=>{if(typeof e!="boolean")throw yd(n,e)}),ee(e=>e===!0))}function EF(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let o=i.map(s=>{let a=is(s,n),u=dF(a)?a.canMatch(e,t):Zt(n,()=>a(e,t));return Yr(u)});return Z(o).pipe(rs(),hD(r))}var $a=class{constructor(e){this.segmentGroup=e||null}},za=class extends Error{constructor(e){super(),this.urlTree=e}};function Ko(n){return go(new $a(n))}function bF(n){return go(new W(4e3,!1))}function CF(n){return go(uD(!1,$t.GuardRejected))}var Lg=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[se])return bF(`${e.redirectTo}`);i=i.children[se]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,params:y,data:A,title:P}=i,N=Zt(o,()=>a({params:y,data:A,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,title:P}));if(N instanceof pr)throw new za(N);t=N}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new za(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new pr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ae(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new W(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},jg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function DF(n,e,t,r,i){let o=fD(n,e,t);return o.matched?(r=KO(e,r),EF(r,e,t,i).pipe(ee(s=>s===!0?o:V({},jg)))):Z(o)}function fD(n,e,t){if(e.path==="**")return TF(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?V({},jg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||EO)(t,n,e);if(!i)return V({},jg);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function TF(n){return{matched:!0,parameters:n.length>0?GC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function UC(n,e,t,r){return t.length>0&&xF(n,t,r)?{segmentGroup:new Ae(e,AF(r,new Ae(t,n.children))),slicedSegments:[]}:t.length===0&&MF(n,t,r)?{segmentGroup:new Ae(n.segments,SF(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ae(n.segments,n.children),slicedSegments:t}}function SF(n,e,t,r){let i={};for(let o of t)if(Id(n,e,o)&&!r[yn(o)]){let s=new Ae([],{});i[yn(o)]=s}return V(V({},r),i)}function AF(n,e){let t={};t[se]=e;for(let r of n)if(r.path===""&&yn(r)!==se){let i=new Ae([],{});t[yn(r)]=i}return t}function xF(n,e,t){return t.some(r=>Id(n,e,r)&&yn(r)!==se)}function MF(n,e,t){return t.some(r=>Id(n,e,r))}function Id(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function RF(n,e,t){return e.length===0&&!n.children[t]}var Ug=class{};function NF(n,e,t,r,i,o,s="emptyOnly"){return new Bg(n,e,t,r,i,s,o).recognize()}var PF=31,Bg=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Lg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new W(4002,`'${e.segmentGroup}'`)}recognize(){let e=UC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(({children:t,rootSnapshot:r})=>{let i=new Bt(r,t),o=new gd("",i),s=BO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Zo([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,se,t).pipe(ee(r=>({children:r,rootSnapshot:t})),Rr(r=>{if(r instanceof za)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof $a?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ee(s=>s instanceof Bt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Fe(o).pipe(Kn(s=>{let a=r.children[s],u=QO(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Jf((s,a)=>(s.push(...a),s)),Nr(null),Zf(),Ke(s=>{if(s===null)return Ko(r);let a=pD(s);return kF(a),Z(a)}))}processSegment(e,t,r,i,o,s,a){return Fe(t).pipe(Kn(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Rr(l=>{if(l instanceof $a)return Z(null);throw l}))),wn(u=>!!u),Rr(u=>{if(dD(u))return RF(r,i,o)?Z(new Ug):Ko(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return yn(r)!==s&&(s===se||!Id(i,o,r))?Ko(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Ko(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=fD(t,i,o);if(!u)return Ko(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>PF&&(this.allowRedirects=!1));let y=new Zo(o,l,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,BC(i),yn(i),i.component??i._loadedComponent??null,i,$C(i)),A=md(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(A.params),y.data=Object.freeze(A.data);let P=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,P).pipe(Ke(N=>this.processSegment(e,r,t,N.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=DF(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(kt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(kt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=u,A=new Zo(g,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,BC(r),yn(r),r.component??r._loadedComponent??null,r,$C(r)),P=md(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(P.params),A.data=Object.freeze(P.data);let{segmentGroup:N,slicedSegments:j}=UC(t,g,y,l);if(j.length===0&&N.hasChildren())return this.processChildren(h,l,N,A).pipe(ee(B=>new Bt(A,B)));if(l.length===0&&j.length===0)return Z(new Bt(A,[]));let K=yn(r)===o;return this.processSegment(h,l,N,j,K?se:o,!0,A).pipe(ee(B=>new Bt(A,B instanceof Bt?[B]:[])))}))):Ko(t)))}getChildConfig(e,t,r){return t.children?Z({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Z({routes:t._loadedRoutes,injector:t._loadedInjector}):IF(e,t,r,this.urlSerializer).pipe(Ke(i=>i?this.configLoader.loadChildren(e,t).pipe(Qe(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):CF(t))):Z({routes:[],injector:e})}};function kF(n){n.sort((e,t)=>e.value.outlet===se?-1:t.value.outlet===se?1:e.value.outlet.localeCompare(t.value.outlet))}function OF(n){let e=n.value.routeConfig;return e&&e.path===""}function pD(n){let e=[],t=new Set;for(let r of n){if(!OF(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=pD(r.children);e.push(new Bt(r.value,i))}return e.filter(r=>!t.has(r))}function BC(n){return n.data||{}}function $C(n){return n.resolve||{}}function FF(n,e,t,r,i,o){return Ke(s=>NF(n,e,t,r,s.extractedUrl,i,o).pipe(ee(({state:a,tree:u})=>he(V({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function VF(n,e){return Ke(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Z(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of mD(u))s.add(l);let a=0;return Fe(s).pipe(Kn(u=>o.has(u)?LF(u,r,n,e):(u.data=md(u,u.parent,n).resolve,Z(void 0))),Qe(()=>a++),_o(1),Ke(u=>a===s.size?Z(t):jt))})}function mD(n){let e=n.children.map(t=>mD(t)).flat();return[n,...e]}function LF(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!aD(i)&&(o[qa]=i.title),jF(o,n,e,r).pipe(ee(s=>(n._resolvedData=s,n.data=md(n,n.parent,t).resolve,null)))}function jF(n,e,t,r){let i=vg(n);if(i.length===0)return Z({});let o={};return Fe(i).pipe(Ke(s=>UF(n[s],e,t,r).pipe(wn(),Qe(a=>{if(a instanceof Ba)throw yd(new es,a);o[s]=a}))),_o(1),Yf(o),Rr(s=>dD(s)?jt:go(s)))}function UF(n,e,t,r){let i=Wa(e)??r,o=is(n,i),s=o.resolve?o.resolve(e,t):Zt(i,()=>o(e,t));return Yr(s)}function gg(n){return kt(e=>{let t=n(e);return t?Fe(t).pipe(ee(()=>e)):Z(e)})}var gD=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===se);return r}getResolvedTitleForRoute(t){return t.data[qa]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>O(BF),providedIn:"root"})}}return n})(),BF=(()=>{class n extends gD{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(G(kC))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ya=new H("",{providedIn:"root",factory:()=>({})}),$F=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=$e({type:n,selectors:[["ng-component"]],standalone:!0,features:[ze],decls:1,vars:0,template:function(r,i){r&1&&Me(0,"router-outlet")},dependencies:[Hg],encapsulation:2})}}return n})();function qg(n){let e=n.children&&n.children.map(qg),t=e?he(V({},n),{children:e}):V({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==se&&(t.component=$F),t}var Ha=new H(""),Gg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(Wl)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Z(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Yr(t.loadComponent()).pipe(ee(yD),Qe(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),vi(()=>{this.componentLoaders.delete(t)})),i=new ho(r,()=>new ot).pipe(lo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=zF(r,this.compiler,t,this.onLoadEndListener).pipe(vi(()=>{this.childrenLoaders.delete(r)})),s=new ho(o,()=>new ot).pipe(lo());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function zF(n,e,t,r){return Yr(n.loadChildren()).pipe(ee(yD),Ke(i=>i instanceof pa||Array.isArray(i)?Z(i):Fe(e.compileModuleAsync(i))),ee(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Ha,[],{optional:!0,self:!0}).flat()),{routes:s.map(qg),injector:o}}))}function HF(n){return n&&typeof n=="object"&&"default"in n}function yD(n){return HF(n)?n.default:n}var Wg=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>O(qF),providedIn:"root"})}}return n})(),qF=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vD=new H(""),_D=new H("");function GF(n,e,t){let r=n.get(_D),i=n.get(_t);return n.get(Se).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),WF(n))),{onViewTransitionCreated:u}=r;return u&&Zt(n,()=>u({transition:a,from:e,to:t})),s})}function WF(n){return new Promise(e=>{$m({read:()=>setTimeout(e)},{injector:n})})}var KF=new H(""),Kg=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ot,this.transitionAbortSubject=new ot,this.configLoader=O(Gg),this.environmentInjector=O(At),this.urlSerializer=O(Ga),this.rootContexts=O(Ka),this.location=O(Go),this.inputBindingEnabled=O(wd,{optional:!0})!==null,this.titleStrategy=O(gD),this.options=O(Ya,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(Wg),this.createViewTransition=O(vD,{optional:!0}),this.navigationErrorHandler=O(KF,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Tg(i)),r=i=>this.events.next(new Sg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(he(V(V({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new qe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Oa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Pt(o=>o.id!==0),ee(o=>he(V({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),kt(o=>{let s=!1,a=!1;return Z(o).pipe(kt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",$t.SupersededByNewNavigation),jt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?he(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new Kr(u.id,this.urlSerializer.serialize(u.rawUrl),p,ld.IgnoredSameUrlNavigation)),u.resolve(!1),jt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Z(u).pipe(kt(p=>{let g=this.transitions?.getValue();return this.events.next(new ts(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?jt:Promise.resolve(p)}),FF(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Qe(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=he(V({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let g=new dd(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:g,source:y,restoredState:A,extras:P}=u,N=new ts(p,this.urlSerializer.serialize(g),y,A);this.events.next(N);let j=oD(this.rootComponentType).snapshot;return this.currentTransition=o=he(V({},u),{targetSnapshot:j,urlAfterRedirects:g,extras:he(V({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,Z(o)}else{let p="";return this.events.next(new Kr(u.id,this.urlSerializer.serialize(u.extractedUrl),p,ld.IgnoredByUrlHandlingStrategy)),u.resolve(!1),jt}}),Qe(u=>{let l=new Eg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ee(u=>(this.currentTransition=o=he(V({},u),{guards:nF(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),fF(this.environmentInjector,u=>this.events.next(u)),Qe(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw yd(this.urlSerializer,u.guardsResult);let l=new bg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Pt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",$t.GuardRejected),!1)),gg(u=>{if(u.guards.canActivateChecks.length)return Z(u).pipe(Qe(l=>{let h=new Cg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),kt(l=>{let h=!1;return Z(l).pipe(VF(this.paramsInheritanceStrategy,this.environmentInjector),Qe({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",$t.NoDataFromResolver)}}))}),Qe(l=>{let h=new Dg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),gg(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Qe(g=>{h.component=g}),ee(()=>{})));for(let g of h.children)p.push(...l(g));return p};return aa(l(u.targetSnapshot.root)).pipe(Nr(null),Qn(1))}),gg(()=>this.afterPreactivation()),kt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Fe(h).pipe(ee(()=>o)):Z(o)}),ee(u=>{let l=ZO(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=he(V({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Qe(()=>{this.events.next(new ja)}),tF(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Qn(1),Qe({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new kn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),ep(this.transitionAbortSubject.pipe(Qe(u=>{throw u}))),vi(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",$t.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Rr(u=>{if(a=!0,lD(u))this.events.next(new fr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),eF(u)?this.events.next(new ns(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new La(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let h=Zt(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof Ba){let{message:p,cancellationCode:g}=yd(this.urlSerializer,h);this.events.next(new fr(o.id,this.urlSerializer.serialize(o.extractedUrl),p,g)),this.events.next(new ns(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=t.errorHandler(u);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return jt}))}))}cancelNavigationTransition(t,r,i){let o=new fr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function QF(n){return n!==Oa}var YF=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>O(ZF),providedIn:"root"})}}return n})(),$g=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},ZF=(()=>{class n extends $g{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})()}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>O(JF),providedIn:"root"})}}return n})(),JF=(()=>{class n extends wD{constructor(){super(...arguments),this.location=O(Go),this.urlSerializer=O(Ga),this.options=O(Ya,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(Wg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new pr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=oD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof ts)this.stateMemento=this.createStateMemento();else if(t instanceof Kr)this.rawUrlTree=r.initialUrl;else if(t instanceof dd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof ja?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof fr&&(t.code===$t.GuardRejected||t.code===$t.NoDataFromResolver)?this.restoreHistory(r):t instanceof La?this.restoreHistory(r,!0):t instanceof kn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof pr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=V(V({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=V(V({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})()}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Pa=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Pa||{});function ID(n,e){n.events.pipe(Pt(t=>t instanceof kn||t instanceof fr||t instanceof La||t instanceof Kr),ee(t=>t instanceof kn||t instanceof Kr?Pa.COMPLETE:(t instanceof fr?t.code===$t.Redirect||t.code===$t.SupersededByNewNavigation:!1)?Pa.REDIRECTING:Pa.FAILED),Pt(t=>t!==Pa.REDIRECTING),Qn(1)).subscribe(()=>{e()})}function XF(n){throw n}var eV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Rt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=O(ql),this.stateManager=O(wD),this.options=O(Ya,{optional:!0})||{},this.pendingTasks=O($r),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(Kg),this.urlSerializer=O(Ga),this.location=O(Go),this.urlHandlingStrategy=O(Wg),this._events=new ot,this.errorHandler=this.options.errorHandler||XF,this.navigated=!1,this.routeReuseStrategy=O(YF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(Ha,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(wd,{optional:!0}),this.eventsSubscription=new ke,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof fr&&r.code!==$t.Redirect&&r.code!==$t.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof kn)this.navigated=!0;else if(r instanceof ns){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||QF(i.source)},s);this.scheduleNavigation(a,Oa,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}rV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Oa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=V({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(qg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=tD(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return nD(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ki(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Oa,null,r)}navigate(t,r={skipLocationChange:!1}){return nV(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=V({},eV):r===!1?i=V({},tV):i=r,ki(t))return OC(this.currentUrlTree,t,i);let o=this.parseUrl(t);return OC(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return ID(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function nV(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new W(4008,!1)}function rV(n){return!(n instanceof ja)&&!(n instanceof ns)}var ED=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new ot,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof kn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ki(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:nb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:ki(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(J(Rt),J(Qr),wm("tabindex"),J(sr),J(Rn),J(dr))}}static{this.\u0275dir=Le({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&de("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ho("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Hr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Hr],replaceUrl:[2,"replaceUrl","replaceUrl",Hr],routerLink:"routerLink"},standalone:!0,features:[Bm,xn]})}}return n})();var _d=class{};var iV=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Pt(t=>t instanceof kn),Kn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=$l(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Fe(i).pipe(yo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=Z(null);let o=i.pipe(Ke(s=>s===null?Z(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Fe([o,s]).pipe(yo())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(G(Rt),G(Wl),G(At),G(_d),G(Gg))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),bD=new H(""),oV=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ts?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof kn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Kr&&t.code===ld.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof hd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new hd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){mb()}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})();function CD(n,...e){return An([{provide:Ha,multi:!0,useValue:n},[],{provide:Qr,useFactory:DD,deps:[Rt]},{provide:Ea,multi:!0,useFactory:TD},e.map(t=>t.\u0275providers)])}function DD(n){return n.routerState.root}function Za(n,e){return{\u0275kind:n,\u0275providers:e}}function TD(){let n=O(Mt);return e=>{let t=n.get(zr);if(e!==t.components[0])return;let r=n.get(Rt),i=n.get(SD);n.get(Qg)===1&&r.initialNavigation(),n.get(AD,null,ce.Optional)?.setUpPreloading(),n.get(bD,null,ce.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var SD=new H("",{factory:()=>new ot}),Qg=new H("",{providedIn:"root",factory:()=>1});function sV(){return Za(2,[{provide:Qg,useValue:0},{provide:Gl,multi:!0,deps:[Mt],useFactory:e=>{let t=e.get(dC,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Rt),o=e.get(SD);ID(i,()=>{r(!0)}),e.get(Kg).afterPreactivation=()=>(r(!0),o.closed?Z(void 0):o),i.initialNavigation()}))}}])}function aV(){return Za(3,[{provide:Gl,multi:!0,useFactory:()=>{let e=O(Rt);return()=>{e.setUpLocationChangeListener()}}},{provide:Qg,useValue:2}])}var AD=new H("");function cV(n){return Za(0,[{provide:AD,useExisting:iV},{provide:_d,useExisting:n}])}function uV(){return Za(8,[jC,{provide:wd,useExisting:jC}])}function lV(n){let e=[{provide:vD,useValue:GF},{provide:_D,useValue:V({skipNextTransition:!!n?.skipInitialTransition},n)}];return Za(9,e)}var zC=new H("ROUTER_FORROOT_GUARD"),dV=[Go,{provide:Ga,useClass:es},Rt,Ka,{provide:Qr,useFactory:DD,deps:[Rt]},Gg,[]],xD=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[dV,[],{provide:Ha,multi:!0,useValue:t},{provide:zC,useFactory:mV,deps:[[Rt,new Yt,new am]]},{provide:Ya,useValue:r||{}},r?.useHash?fV():pV(),hV(),r?.preloadingStrategy?cV(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?gV(r):[],r?.bindToComponentInputs?uV().\u0275providers:[],r?.enableViewTransitions?lV().\u0275providers:[],yV()]}}static forChild(t){return{ngModule:n,providers:[{provide:Ha,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(G(zC,8))}}static{this.\u0275mod=nr({type:n})}static{this.\u0275inj=tr({})}}return n})();function hV(){return{provide:bD,useFactory:()=>{let n=O(pC),e=O(Se),t=O(Ya),r=O(Kg),i=O(Ga);return t.scrollOffset&&n.setOffset(t.scrollOffset),new oV(i,r,n,e,t)}}}function fV(){return{provide:dr,useClass:fC}}function pV(){return{provide:dr,useClass:Xm}}function mV(n){return"guarded"}function gV(n){return[n.initialNavigation==="disabled"?aV().\u0275providers:[],n.initialNavigation==="enabledBlocking"?sV().\u0275providers:[]]}var HC=new H("");function yV(){return[{provide:HC,useFactory:TD},{provide:Ea,multi:!0,useExisting:HC}]}var jD=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(J(sr),J(Rn))}}static{this.\u0275dir=Le({type:n})}}return n})(),Md=(()=>{class n extends jD{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})()}static{this.\u0275dir=Le({type:n,features:[Ut]})}}return n})(),ic=new H("");var vV={provide:ic,useExisting:fn(()=>Zr),multi:!0};function _V(){let n=lr()?lr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var wV=new H(""),Zr=(()=>{class n extends jD{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!_V())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(J(sr),J(Rn),J(wV,8))}}static{this.\u0275dir=Le({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&de("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[ar([vV]),Ut]})}}return n})();function Yg(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var Rd=new H(""),UD=new H("");function IV(n){return e=>{if(Yg(e.value)||Yg(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function EV(n){return Yg(n.value)?{required:!0}:null}function MD(n){return null}function BD(n){return n!=null}function $D(n){return xi(n)?Fe(n):n}function zD(n){let e={};return n.forEach(t=>{e=t!=null?V(V({},e),t):e}),Object.keys(e).length===0?null:e}function HD(n,e){return e.map(t=>t(n))}function bV(n){return!n.validate}function qD(n){return n.map(e=>bV(e)?e:t=>e.validate(t))}function CV(n){if(!n)return null;let e=n.filter(BD);return e.length==0?null:function(t){return zD(HD(t,e))}}function Jg(n){return n!=null?CV(qD(n)):null}function DV(n){if(!n)return null;let e=n.filter(BD);return e.length==0?null:function(t){let r=HD(t,e).map($D);return Qf(r).pipe(ee(zD))}}function Xg(n){return n!=null?DV(qD(n)):null}function RD(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function TV(n){return n._rawValidators}function SV(n){return n._rawAsyncValidators}function Zg(n){return n?Array.isArray(n)?n:[n]:[]}function Cd(n,e){return Array.isArray(n)?n.includes(e):n===e}function ND(n,e){let t=Zg(e);return Zg(n).forEach(i=>{Cd(t,i)||t.push(i)}),t}function PD(n,e){return Zg(e).filter(t=>!Cd(n,t))}var Dd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Jg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Xg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},as=class extends Dd{get formDirective(){return null}get path(){return null}},rc=class extends Dd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Td=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},AV={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},PG=he(V({},AV),{"[class.ng-submitted]":"isSubmitted"}),us=(()=>{class n extends Td{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(J(rc,2))}}static{this.\u0275dir=Le({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&mn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ut]})}}return n})(),Nd=(()=>{class n extends Td{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(J(as,10))}}static{this.\u0275dir=Le({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&mn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ut]})}}return n})();var Ja="VALID",bd="INVALID",os="PENDING",Xa="DISABLED",cs=class{},Sd=class extends cs{constructor(e,t){super(),this.value=e,this.source=t}},tc=class extends cs{constructor(e,t){super(),this.pristine=e,this.source=t}},nc=class extends cs{constructor(e,t){super(),this.touched=e,this.source=t}},ss=class extends cs{constructor(e,t){super(),this.status=e,this.source=t}};function GD(n){return(Pd(n)?n.validators:n)||null}function xV(n){return Array.isArray(n)?Jg(n):n||null}function WD(n,e){return(Pd(e)?e.asyncValidators:n)||null}function MV(n){return Array.isArray(n)?Xg(n):n||null}function Pd(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function RV(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new W(1e3,"");if(!r[t])throw new W(1001,"")}function NV(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new W(1002,"")})}var Ad=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ba(()=>this.statusReactive()),this.statusReactive=wa(void 0),this._pristine=ba(()=>this.pristineReactive()),this.pristineReactive=wa(!0),this._touched=ba(()=>this.touchedReactive()),this.touchedReactive=wa(!1),this._events=new ot,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return cr(this.statusReactive)}set status(e){cr(()=>this.statusReactive.set(e))}get valid(){return this.status===Ja}get invalid(){return this.status===bd}get pending(){return this.status==os}get disabled(){return this.status===Xa}get enabled(){return this.status!==Xa}get pristine(){return cr(this.pristineReactive)}set pristine(e){cr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return cr(this.touchedReactive)}set touched(e){cr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ND(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ND(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(PD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(PD(e,this._rawAsyncValidators))}hasValidator(e){return Cd(this._rawValidators,e)}hasAsyncValidator(e){return Cd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(he(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new nc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new nc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(he(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new tc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new tc(!0,r))}markAsPending(e={}){this.status=os;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ss(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(he(V({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Xa,this.errors=null,this._forEachChild(i=>{i.disable(he(V({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sd(this.value,r)),this._events.next(new ss(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ja,this._forEachChild(r=>{r.enable(he(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(he(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ja||this.status===os)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sd(this.value,t)),this._events.next(new ss(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(he(V({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xa:Ja}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=os,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=$D(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ss(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ye,this.statusChanges=new Ye}_calculateStatus(){return this._allControlsDisabled()?Xa:this.errors?bd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(os)?os:this._anyControlsHaveStatus(bd)?bd:Ja}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new tc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new nc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Pd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=xV(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=MV(this._rawAsyncValidators)}},xd=class extends Ad{constructor(e,t,r){super(GD(t),WD(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){NV(this,!0,e),Object.keys(e).forEach(r=>{RV(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ey=new H("CallSetDisabledState",{providedIn:"root",factory:()=>ty}),ty="always";function PV(n,e){return[...e.path,n]}function KD(n,e,t=ty){QD(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),OV(n,e),VV(n,e),FV(n,e),kV(n,e)}function kD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function kV(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function QD(n,e){let t=TV(n);e.validator!==null?n.setValidators(RD(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=SV(n);e.asyncValidator!==null?n.setAsyncValidators(RD(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();kD(e._rawValidators,i),kD(e._rawAsyncValidators,i)}function OV(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&YD(n,e)})}function FV(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&YD(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function YD(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function VV(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function LV(n,e){n==null,QD(n,e)}function jV(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function UV(n){return Object.getPrototypeOf(n.constructor)===Md}function BV(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function $V(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Zr?t=o:UV(o)?r=o:i=o}),i||r||t||null}var zV={provide:as,useExisting:fn(()=>oc)},ec=Promise.resolve(),oc=(()=>{class n extends as{get submitted(){return cr(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=ba(()=>this.submittedReactive()),this.submittedReactive=wa(!1),this._directives=new Set,this.ngSubmit=new Ye,this.form=new xd({},Jg(t),Xg(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ec.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),KD(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ec.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ec.then(()=>{let r=this._findContainer(t.path),i=new xd({});LV(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ec.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){ec.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),BV(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(J(Rd,10),J(UD,10),J(ey,8))}}static{this.\u0275dir=Le({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&de("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ar([zV]),Ut]})}}return n})();function OD(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function FD(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var HV=class extends Ad{constructor(e=null,t,r){super(GD(t),WD(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pd(t)&&(t.nonNullable||t.initialValueIsDefault)&&(FD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){OD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){OD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){FD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var qV={provide:rc,useExisting:fn(()=>Oi)},VD=Promise.resolve(),Oi=(()=>{class n extends rc{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new HV,this._registered=!1,this.name="",this.update=new Ye,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=$V(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),jV(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){KD(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){VD.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Hr(r);VD.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?PV(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(J(as,9),J(Rd,10),J(UD,10),J(ic,10),J(Mi,8),J(ey,8))}}static{this.\u0275dir=Le({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ar([qV]),Ut,xn]})}}return n})(),kd=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Le({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),GV={provide:ic,useExisting:fn(()=>ny),multi:!0},ny=(()=>{class n extends Md{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})()}static{this.\u0275dir=Le({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&de("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[ar([GV]),Ut]})}}return n})();var WV={provide:ic,useExisting:fn(()=>Od),multi:!0};function ZD(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function KV(n){return n.split(":")[0]}var Od=(()=>{class n extends Md{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=ZD(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=KV(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})()}static{this.\u0275dir=Le({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&de("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ar([WV]),Ut]})}}return n})(),JD=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(ZD(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(J(Rn),J(sr),J(Od,9))}}static{this.\u0275dir=Le({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),QV={provide:ic,useExisting:fn(()=>XD),multi:!0};function LD(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function YV(n){return n.split(":")[0]}var XD=(()=>{class n extends Md{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=YV(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})()}static{this.\u0275dir=Le({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&de("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ar([QV]),Ut]})}}return n})(),eT=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(LD(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(LD(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(J(Rn),J(sr),J(XD,9))}}static{this.\u0275dir=Le({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function ZV(n){return typeof n=="number"?n:parseFloat(n)}var tT=(()=>{class n{constructor(){this._validator=MD}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):MD,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Le({type:n,features:[xn]})}}return n})();var JV={provide:Rd,useExisting:fn(()=>ry),multi:!0},ry=(()=>{class n extends tT{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>ZV(t),this.createValidator=t=>IV(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})()}static{this.\u0275dir=Le({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ho("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[ar([JV]),Ut]})}}return n})(),XV={provide:Rd,useExisting:fn(()=>sc),multi:!0};var sc=(()=>{class n extends tT{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Hr,this.createValidator=t=>EV}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Mn(n)))(i||n)}})()}static{this.\u0275dir=Le({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ho("required",i._enabled?"":null)},inputs:{required:"required"},features:[ar([XV]),Ut]})}}return n})();var eL=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=nr({type:n})}static{this.\u0275inj=tr({})}}return n})();var ls=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ey,useValue:t.callSetDisabledState??ty}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=nr({type:n})}static{this.\u0275inj=tr({imports:[eL]})}}return n})();var On=class n{constructor(e){this.router=e;this.isAuthenticated=!!localStorage.getItem(this.authTokenKey),this.authStatusSubject.next(this.isAuthenticated)}isAuthenticated=!1;authTokenKey="authToken";username="admin";password="terciopelo123";authStatusSubject=new qe(this.isAuthenticated);authStatus$=this.authStatusSubject.asObservable();login(e,t){if(e===this.username&&t===this.password){let r=btoa(`${e}:${t}`);return localStorage.setItem(this.authTokenKey,r),this.isAuthenticated=!0,this.authStatusSubject.next(!0),!0}return!1}logout(){localStorage.removeItem(this.authTokenKey),this.isAuthenticated=!1,this.authStatusSubject.next(!1),this.router.navigate(["/admin/login"])}isLoggedIn(){return this.isAuthenticated}getAuthToken(){return localStorage.getItem(this.authTokenKey)}static \u0275fac=function(t){return new(t||n)(G(Rt))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function tL(n,e){if(n&1&&(_(0,"p",9),D(1),I()),n&2){let t=we();U(),vt(t.errorMessage)}}var Vd=class n{constructor(e,t){this.authService=e;this.router=t}username="";password="";errorMessage="";onSubmit(){this.authService.login(this.username,this.password)?this.router.navigate(["/admin/dashboard"]):this.errorMessage="Credenciales incorrectas"}static \u0275fac=function(t){return new(t||n)(J(On),J(Rt))};static \u0275cmp=$e({type:n,selectors:[["app-admin-login"]],standalone:!0,features:[ze],decls:16,vars:3,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gray-100"],[1,"bg-white","p-8","rounded-lg","shadow-md","w-full","max-w-md"],[1,"text-2xl","font-bold","mb-6","text-center"],[1,"space-y-4",3,"ngSubmit"],[1,"block","text-sm","font-medium","mb-1"],["type","text","name","username","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","password","name","password","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","btn","bg-blue-600","hover:bg-blue-700"],["class","text-red-500 text-center",4,"ngIf"],[1,"text-red-500","text-center"]],template:function(t,r){t&1&&(_(0,"div",0)(1,"div",1)(2,"h2",2),D(3,"Iniciar Sesi\xF3n"),I(),_(4,"form",3),de("ngSubmit",function(){return r.onSubmit()}),_(5,"div")(6,"label",4),D(7,"Usuario"),I(),_(8,"input",5),Je("ngModelChange",function(o){return rt(r.username,o)||(r.username=o),o}),I()(),_(9,"div")(10,"label",4),D(11,"Contrase\xF1a"),I(),_(12,"input",6),Je("ngModelChange",function(o){return rt(r.password,o)||(r.password=o),o}),I()(),_(13,"button",7),D(14,"Ingresar"),I(),je(15,tL,2,1,"p",8),I()()()),t&2&&(U(8),Ze("ngModel",r.username),U(4),Ze("ngModel",r.password),U(3),_e("ngIf",r.errorMessage))},dependencies:[ls,kd,Zr,us,Nd,sc,Oi,oc,gn,Nn]})};var Ld=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.isLoggedIn()?!0:(this.router.navigate(["/admin/login"]),!1)}static \u0275fac=function(t){return new(t||n)(G(On),G(Rt))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function nL(n,e){n&1&&(zl(0),_(1,"a",21),D(2," Login "),I(),Hl())}function rL(n,e){if(n&1){let t=yt();_(0,"a",22),de("click",function(){ue(t);let i=we();return le(i.logout())}),D(1," Logout "),I()}}function iL(n,e){n&1&&(zl(0),_(1,"a",23),D(2,"Login"),I(),Hl())}function oL(n,e){if(n&1){let t=yt();_(0,"a",24),de("click",function(){ue(t);let i=we();return le(i.logout())}),D(1,"Logout"),I()}}var jd=class n{constructor(e){this.authService=e}isMenuOpen=!1;isAuthenticated=!1;authSubscription;ngOnInit(){this.authSubscription=this.authService.authStatus$.subscribe(e=>this.isAuthenticated=e)}ngOnDestroy(){this.authSubscription&&this.authSubscription.unsubscribe()}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}logout(){this.authService.logout()}static \u0275fac=function(t){return new(t||n)(J(On))};static \u0275cmp=$e({type:n,selectors:[["app-header"]],standalone:!0,features:[ze],decls:43,vars:6,consts:[["logoutTemplate",""],["logoutMobileTemplate",""],[1,"bg-white","shadow-md","sticky","top-0","z-50"],[1,"container","mx-auto","px-4"],[1,"flex","justify-between","items-center","py-4"],["href","#",1,"text-2xl","font-bold","text-purple-700"],[1,"hidden","md:flex","space-x-8","items-center"],["href","#inicio",1,"text-gray-700","hover:text-purple-700"],["href","#tecnica",1,"text-gray-700","hover:text-purple-700"],["href","#galeria",1,"text-gray-700","hover:text-purple-700"],["href","#contacto",1,"text-gray-700","hover:text-purple-700"],[4,"ngIf","ngIfElse"],[1,"md:hidden",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16m-7 6h7"],[1,"md:hidden"],[1,"py-4","space-y-2"],["href","#inicio",1,"block","px-4","py-2","text-gray-700","hover:bg-purple-100"],["href","#tecnica",1,"block","px-4","py-2","text-gray-700","hover:bg-purple-100"],["href","#galeria",1,"block","px-4","py-2","text-gray-700","hover:bg-purple-100"],["href","#contacto",1,"block","px-4","py-2","text-gray-700","hover:bg-purple-100"],["routerLink","/admin/login",1,"bg-purple-600","text-white","px-4","py-2","rounded-md","hover:bg-purple-700","transition-colors"],[1,"bg-red-600","text-white","px-4","py-2","rounded-md","hover:bg-red-700","transition-colors","cursor-pointer",3,"click"],["routerLink","/admin/login",1,"block","px-4","py-2","text-gray-700","hover:bg-purple-100"],[1,"block","px-4","py-2","text-gray-700","hover:bg-purple-100","cursor-pointer",3,"click"]],template:function(t,r){if(t&1){let i=yt();_(0,"header",2)(1,"div",3)(2,"nav",4)(3,"a",5),D(4,"MALAVER"),I(),_(5,"ul",6)(6,"li")(7,"a",7),D(8,"Inicio"),I()(),_(9,"li")(10,"a",8),D(11,"T\xE9cnica"),I()(),_(12,"li")(13,"a",9),D(14,"Galer\xEDa"),I()(),_(15,"li")(16,"a",10),D(17,"Contacto"),I()(),_(18,"li"),je(19,nL,3,0,"ng-container",11)(20,rL,2,0,"ng-template",null,0,Ia),I()(),_(22,"button",12),de("click",function(){return ue(i),le(r.toggleMenu())}),RE(),_(23,"svg",13),Me(24,"path",14),I()()(),NE(),_(25,"div",15)(26,"ul",16)(27,"li")(28,"a",17),D(29,"Inicio"),I()(),_(30,"li")(31,"a",18),D(32,"T\xE9cnica"),I()(),_(33,"li")(34,"a",19),D(35,"Galer\xEDa"),I()(),_(36,"li")(37,"a",20),D(38,"Contacto"),I()(),_(39,"li"),je(40,iL,3,0,"ng-container",11)(41,oL,2,0,"ng-template",null,1,Ia),I()()()()()}if(t&2){let i=Ai(21),o=Ai(42);U(19),_e("ngIf",!r.isAuthenticated)("ngIfElse",i),U(6),mn("hidden",!r.isMenuOpen),U(15),_e("ngIf",!r.isAuthenticated)("ngIfElse",o)}},dependencies:[gn,Nn,xD,ED]})};var Ud=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=$e({type:n,selectors:[["app-hero"]],standalone:!0,features:[ze],decls:61,vars:0,consts:[["id","inicio",1,"min-h-screen","flex","items-center","justify-center","relative","overflow-hidden","bg-artistic-pattern"],[1,"absolute","inset-0","bg-gradient-to-br","from-background","via-white","to-accent/20"],[1,"absolute","top-10","left-10","w-72","h-72","bg-primary/5","rounded-full","blur-3xl","animate-float"],[1,"absolute","bottom-10","right-10","w-96","h-96","bg-accent/10","rounded-full","blur-3xl","animate-float",2,"animation-delay","2s"],[1,"container","relative","z-10"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-12","items-center"],[1,"text-center","lg:text-left","animate-fade-in-up"],[1,"mb-6"],[1,"inline-block","px-4","py-2","bg-accent/30","text-primary-dark","rounded-full","text-sm","font-medium","mb-4"],[1,"text-5xl","md:text-6xl","lg:text-7xl","font-light","text-primary-dark","mb-6","leading-tight"],[1,"font-serif","italic"],[1,"space-y-4","mb-8"],[1,"text-xl","md:text-2xl","text-text","leading-relaxed"],[1,"font-semibold","text-primary-dark"],[1,"text-lg","text-text-light","leading-relaxed"],[1,"italic"],[1,"flex","flex-col","sm:flex-row","gap-4","justify-center","lg:justify-start"],["href","#galeria",1,"btn","px-8","py-3","text-lg","font-light"],[1,"mr-2"],["href","#sobre-mi",1,"btn","btn-outline","px-8","py-3","text-lg","font-light"],[1,"mt-12","grid","grid-cols-2","md:grid-cols-3","gap-6","text-center","lg:text-left"],[1,"space-y-2"],[1,"text-2xl","font-light","text-primary-dark"],[1,"text-sm","text-text-light"],[1,"relative","animate-fade-in-up",2,"animation-delay","0.3s"],[1,"relative","group"],[1,"relative","bg-white/80","backdrop-blur-sm","rounded-2xl","p-4","shadow-2xl","border","border-accent/50"],[1,"aspect-square","bg-gradient-to-br","from-primary/5","to-accent/10","rounded-lg","overflow-hidden"],[1,"w-full","h-full","flex","items-center","justify-center","p-2"],[1,"relative","w-full","h-full","rounded-lg","overflow-hidden"],["src","https://res.cloudinary.com/dvdscvipo/image/upload/v1758581745/Scannen0002_fa4n0x.jpg","alt","Mar\xEDa Malaver - Artista pict\xF3rica",1,"w-full","h-full","object-cover","rounded-lg","transition-transform","duration-500","group-hover:scale-105"],[1,"absolute","inset-0","bg-black/0","transition-all","duration-300","group-hover:bg-black/5"],[1,"absolute","-top-3","-right-3","w-20","h-20","bg-primary/10","rounded-full","blur-xl"],[1,"absolute","-bottom-3","-left-3","w-24","h-24","bg-accent/15","rounded-full","blur-xl"]],template:function(t,r){t&1&&(_(0,"section",0),Me(1,"div",1)(2,"div",2)(3,"div",3),_(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"span",8),D(9," Artista Pict\xF3rica Profesional "),I()(),_(10,"h1",9)(11,"span",10),D(12,"Malaver"),I()(),_(13,"div",11)(14,"p",12),D(15," Especialista en "),_(16,"span",13),D(17,"\xF3leo sobre lienzo"),I(),D(18," y t\xE9cnicas con "),_(19,"span",13),D(20,"pincel de pelo (tercio pelo)"),I()(),_(21,"p",14),D(22," Mi trabajo explora la relaci\xF3n entre la "),_(23,"span",15),D(24,"luz, el color y la textura"),I(),D(25,", creando piezas que invitan a la reflexi\xF3n y la contemplaci\xF3n. "),I()(),_(26,"div",16)(27,"a",17)(28,"span",18),D(29,"\u{1F3A8}"),I(),D(30," Explorar Galer\xEDa "),I(),_(31,"a",19)(32,"span",18),D(33,"\u{1F469}\u200D\u{1F3A8}"),I(),D(34," Conocer Artista "),I()(),_(35,"div",20)(36,"div",21)(37,"div",22),D(38,"15+"),I(),_(39,"div",23),D(40,"A\xF1os de Experiencia"),I()(),_(41,"div",21)(42,"div",22),D(43,"200+"),I(),_(44,"div",23),D(45,"Obras Creadas"),I()(),_(46,"div",21)(47,"div",22),D(48,"10+"),I(),_(49,"div",23),D(50,"Exposiciones"),I()()()(),_(51,"div",24)(52,"div",25)(53,"div",26)(54,"div",27)(55,"div",28)(56,"div",29),Me(57,"img",30)(58,"div",31),I()()()(),Me(59,"div",32)(60,"div",33),I()()()()())}})};var Bd=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=$e({type:n,selectors:[["app-techniques"]],standalone:!0,features:[ze],decls:58,vars:0,consts:[["id","tecnica",1,"py-20","bg-background"],[1,"container"],[1,"text-center","mb-16","animate-fade-in-up"],[1,"inline-block","px-4","py-2","bg-accent/30","text-primary-dark","rounded-full","text-sm","font-medium","mb-4"],[1,"text-4xl","md:text-5xl","font-light","text-primary-dark","mb-4"],[1,"text-lg","text-text-light","max-w-2xl","mx-auto"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8"],[1,"card","p-8","text-center","group","hover:transform","hover:scale-105","transition-all","duration-300","animate-fade-in-up"],[1,"w-16","h-16","bg-primary/10","rounded-full","flex","items-center","justify-center","mx-auto","mb-6","group-hover:bg-primary/20","transition-colors","duration-300"],[1,"text-2xl","text-primary-dark"],[1,"text-xl","font-semibold","text-primary-dark","mb-4"],[1,"text-text-light","leading-relaxed"],[1,"card","p-8","text-center","group","hover:transform","hover:scale-105","transition-all","duration-300","animate-fade-in-up",2,"animation-delay","0.1s"],[1,"card","p-8","text-center","group","hover:transform","hover:scale-105","transition-all","duration-300","animate-fade-in-up",2,"animation-delay","0.2s"],[1,"mt-16","bg-white/50","backdrop-blur-sm","rounded-2xl","p-8","border","border-accent/30","animate-fade-in-up"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8","items-center"],[1,"text-2xl","font-light","text-primary-dark","mb-4"],[1,"text-text-light","mb-4"],[1,"space-y-2","text-text-light"],[1,"flex","items-center"],[1,"w-2","h-2","bg-primary","rounded-full","mr-3"],[1,"bg-gradient-to-br","from-primary/5","to-accent/10","rounded-lg","p-6","text-center"],[1,"text-3xl","text-primary-dark","mb-2"],[1,"text-text-light","font-medium"],[1,"text-sm","text-text-light","mt-2"]],template:function(t,r){t&1&&(_(0,"section",0)(1,"div",1)(2,"div",2)(3,"span",3),D(4," Especialidades Art\xEDsticas "),I(),_(5,"h2",4),D(6,"T\xE9cnicas y Materiales"),I(),_(7,"p",5),D(8,"Domino diversas t\xE9cnicas que me permiten expresar mi visi\xF3n art\xEDstica con la m\xE1xima calidad y autenticidad."),I()(),_(9,"div",6)(10,"div",7)(11,"div",8)(12,"span",9),D(13,"\u{1F3A8}"),I()(),_(14,"h3",10),D(15,"\xD3leo sobre lienzo"),I(),_(16,"p",11),D(17,"Trabajo con \xF3leos de alta calidad sobre lienzo de lino, permitiendo una mayor durabilidad y intensidad de color en cada obra."),I()(),_(18,"div",12)(19,"div",8)(20,"span",9),D(21,"\u{1F58C}\uFE0F"),I()(),_(22,"h3",10),D(23,"Pincel de pelo (tercio pelo)"),I(),_(24,"p",11),D(25,"Utilizo pinceles de pelo natural que permiten un mayor control de la pintura y la creaci\xF3n de texturas \xFAnicas y expresivas."),I()(),_(26,"div",13)(27,"div",8)(28,"span",9),D(29,"\u2728"),I()(),_(30,"h3",10),D(31,"T\xE9cnicas mixtas"),I(),_(32,"p",11),D(33,"Combino t\xE9cnicas tradicionales con enfoques contempor\xE1neos para crear obras \xFAnicas que trascienden los l\xEDmites convencionales."),I()()(),_(34,"div",14)(35,"div",15)(36,"div")(37,"h3",16),D(38,"Compromiso con la calidad"),I(),_(39,"p",17),D(40,"Cada material es cuidadosamente seleccionado para garantizar la permanencia y belleza de las obras a trav\xE9s del tiempo."),I(),_(41,"ul",18)(42,"li",19),Me(43,"span",20),D(44," Pigmentos de la m\xE1s alta calidad "),I(),_(45,"li",19),Me(46,"span",20),D(47," Lienzos de lino premium "),I(),_(48,"li",19),Me(49,"span",20),D(50," Barnices de protecci\xF3n especializados "),I()()(),_(51,"div",21)(52,"div",22),D(53,"15+"),I(),_(54,"div",23),D(55,"A\xF1os perfeccionando t\xE9cnicas"),I(),_(56,"div",24),D(57,"Experiencia que se refleja en cada pincelada"),I()()()()()())}})};function sL(n,e){if(n&1){let t=yt();_(0,"div",12),de("click",function(){let i=ue(t).index,o=we();return le(o.goToSlide(i))}),_(1,"img",13),de("click",function(i){ue(t);let o=we();return i.stopPropagation(),le(o.openModal())}),I()()}if(n&2){let t=e.$implicit,r=e.index,i=we();mn("center",r===i.currentIndex)("left-1",r===i.left1Index)("left-2",r===i.left2Index)("right-1",r===i.right1Index)("right-2",r===i.right2Index)("hidden",i.isHidden(r)),U(),_e("src",t.imagen,$o)("alt",t.titulo)}}function aL(n,e){if(n&1&&(_(0,"p",14),D(1),I()),n&2){let t=we();U(),vt(t.currentArtwork==null?null:t.currentArtwork.descripcion)}}function cL(n,e){if(n&1){let t=yt();_(0,"div",15),de("click",function(){let i=ue(t).index,o=we();return le(o.goToSlide(i))}),I()}if(n&2){let t=e.index,r=we();mn("active",t===r.currentIndex)}}function uL(n,e){n&1&&(_(0,"span",37),D(1,"(Desliza para navegar)"),I())}function lL(n,e){if(n&1&&(_(0,"div",35),D(1),je(2,uL,2,0,"span",36),I()),n&2){let t=we(2);mn("mobile",t.isMobile),U(),tn(" ",t.isZoomed?"Toca para quitar zoom":"Toca para hacer zoom"," "),U(),_e("ngIf",t.isMobile)}}function dL(n,e){if(n&1&&(_(0,"p",38),D(1),I()),n&2){let t=we(2);U(),vt(t.currentArtwork==null?null:t.currentArtwork.descripcion)}}function hL(n,e){if(n&1&&(_(0,"div",39)(1,"div",40)(2,"span",41),D(3,"Dimensiones:"),I(),_(4,"span",42),D(5),I()(),_(6,"div",40)(7,"span",41),D(8,"Materiales:"),I(),_(9,"span",42),D(10),I()(),_(11,"div",40)(12,"span",41),D(13,"A\xF1o:"),I(),_(14,"span",42),D(15),I()()()),n&2){let t=we(2);U(5),vt(t.currentArtwork.medidas),U(5),vt(t.currentArtwork.tecnica),U(5),vt(t.currentArtwork.anio)}}function fL(n,e){if(n&1){let t=yt();_(0,"div",16),de("click",function(){ue(t);let i=we();return le(i.closeModal())}),_(1,"div",17),de("click",function(i){return ue(t),le(i.stopPropagation())}),_(2,"button",18),de("click",function(){ue(t);let i=we();return le(i.closeModal())}),D(3,"\xD7"),I(),_(4,"div",19)(5,"div",20)(6,"img",21),de("click",function(){ue(t);let i=we();return le(i.toggleZoom())}),I(),je(7,lL,3,4,"div",22),_(8,"button",23),de("click",function(){ue(t);let i=we();return le(i.prevInModal())}),D(9,"\u2039"),I(),_(10,"button",24),de("click",function(){ue(t);let i=we();return le(i.nextInModal())}),D(11,"\u203A"),I()(),_(12,"div",25)(13,"h2",26),D(14),I(),_(15,"p",27),D(16),I(),je(17,dL,2,1,"p",28)(18,hL,16,3,"div",29),_(19,"div",30)(20,"button",31)(21,"span",32),D(22,"\u{1F6D2}"),I(),_(23,"span",33),D(24,"Comprar Obra"),I()(),_(25,"button",34)(26,"span",32),D(27,"\u{1F4AC}"),I(),_(28,"span",33),D(29,"Consultar Disponibilidad"),I()()()()()()()}if(n&2){let t=we();U(6),mn("zoomed",t.isZoomed),_e("src",t.currentArtwork==null?null:t.currentArtwork.imagen,$o)("alt",t.currentArtwork==null?null:t.currentArtwork.titulo),U(),_e("ngIf",t.showZoomIndicator),U(7),vt(t.currentArtwork==null?null:t.currentArtwork.titulo),U(2),vt(t.currentArtwork==null?null:t.currentArtwork.tecnica),U(),_e("ngIf",t.currentArtwork==null?null:t.currentArtwork.descripcion),U(),_e("ngIf",t.currentArtwork)}}var $d=class n{artworks=[];currentIndex=0;currentArtwork=null;isModalOpen=!1;isZoomed=!1;showZoomIndicator=!1;left2Index=0;left1Index=0;right1Index=0;right2Index=0;isMobile=!1;ngOnInit(){this.updateCarousel(0),this.checkIfMobile(),window.addEventListener("resize",()=>this.checkIfMobile())}ngOnChanges(){this.artworks.length>0&&this.updateCarousel(this.currentIndex)}updateCarousel(e){let t=this.artworks.length;this.currentIndex=(e+t)%t,this.currentArtwork=this.artworks[this.currentIndex],this.isZoomed=!1,this.left2Index=(this.currentIndex-2+t)%t,this.left1Index=(this.currentIndex-1+t)%t,this.right1Index=(this.currentIndex+1)%t,this.right2Index=(this.currentIndex+2)%t}isHidden(e){let t=this.artworks.length;return![this.currentIndex,this.left1Index,this.left2Index,this.right1Index,this.right2Index].includes(e)}next(){this.updateCarousel(this.currentIndex+1)}prev(){this.updateCarousel(this.currentIndex-1)}goToSlide(e){this.updateCarousel(e)}openModal(){this.isModalOpen=!0,this.isZoomed=!1,document.body.style.overflow="hidden"}closeModal(){this.isModalOpen=!1,this.isZoomed=!1,document.body.style.overflow=""}nextInModal(){this.next(),this.isZoomed=!1}prevInModal(){this.prev(),this.isZoomed=!1}toggleZoom(){this.isZoomed=!this.isZoomed,this.isZoomed&&(this.showZoomIndicator=!0,setTimeout(()=>{this.showZoomIndicator=!1},3e3))}handleEscapeKey(e){this.isModalOpen&&(this.isZoomed?this.isZoomed=!1:this.closeModal())}handleRightArrow(e){this.isModalOpen&&this.nextInModal()}handleLeftArrow(e){this.isModalOpen&&this.prevInModal()}handleZKey(e){this.isModalOpen&&this.toggleZoom()}checkIfMobile(){this.isMobile=window.innerWidth<=768}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=$e({type:n,selectors:[["app-artwork-carousel"]],hostBindings:function(t,r){t&1&&de("keydown.escape",function(o){return r.handleEscapeKey(o)},!1,va)("keydown.arrowright",function(o){return r.handleRightArrow(o)},!1,va)("keydown.arrowleft",function(o){return r.handleLeftArrow(o)},!1,va)("keydown.z",function(o){return r.handleZKey(o)},!1,va)},inputs:{artworks:"artworks"},standalone:!0,features:[xn,ze],decls:16,vars:6,consts:[[1,"carousel-container"],[1,"nav-arrow","left",3,"click"],[1,"carousel-track"],["class","card",3,"center","left-1","left-2","right-1","right-2","hidden","click",4,"ngFor","ngForOf"],[1,"nav-arrow","right",3,"click"],[1,"artwork-info"],[1,"artwork-title"],[1,"artwork-technique"],["class","artwork-description",4,"ngIf"],[1,"dots"],["class","dot",3,"active","click",4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"card",3,"click"],[1,"artwork-image",3,"click","src","alt"],[1,"artwork-description"],[1,"dot",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-close",3,"click"],[1,"modal-body"],[1,"modal-image-container"],[1,"modal-image",3,"click","src","alt"],["class","zoom-indicator",3,"mobile",4,"ngIf"],[1,"modal-nav","modal-prev",3,"click"],[1,"modal-nav","modal-next",3,"click"],[1,"modal-info"],[1,"modal-title"],[1,"modal-technique"],["class","modal-description",4,"ngIf"],["class","artwork-details",4,"ngIf"],[1,"modal-actions"],[1,"btn-buy"],[1,"btn-icon"],[1,"btn-text"],[1,"btn-contact"],[1,"zoom-indicator"],["class","zoom-hint",4,"ngIf"],[1,"zoom-hint"],[1,"modal-description"],[1,"artwork-details"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"]],template:function(t,r){t&1&&(_(0,"div",0)(1,"button",1),de("click",function(){return r.prev()}),D(2,"\u2039"),I(),_(3,"div",2),je(4,sL,2,14,"div",3),I(),_(5,"button",4),de("click",function(){return r.next()}),D(6,"\u203A"),I()(),_(7,"div",5)(8,"h2",6),D(9),I(),_(10,"p",7),D(11),I(),je(12,aL,2,1,"p",8),I(),_(13,"div",9),je(14,cL,1,2,"div",10),I(),je(15,fL,30,9,"div",11)),t&2&&(U(4),_e("ngForOf",r.artworks),U(5),vt(r.currentArtwork==null?null:r.currentArtwork.titulo),U(2),vt(r.currentArtwork==null?null:r.currentArtwork.tecnica),U(),_e("ngIf",r.currentArtwork==null?null:r.currentArtwork.descripcion),U(2),_e("ngForOf",r.artworks),U(),_e("ngIf",r.isModalOpen))},dependencies:[gn,Wo,Nn],styles:['@charset "UTF-8";.carousel-container[_ngcontent-%COMP%]{width:100%;max-width:1200px;height:450px;position:relative;perspective:1000px;margin:80px auto 0}.carousel-track[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;position:relative;transform-style:preserve-3d}.card[_ngcontent-%COMP%]{position:absolute;width:280px;height:380px;background:#fff;border-radius:20px;overflow:hidden;box-shadow:0 20px 40px #00000026;transition:all .8s cubic-bezier(.25,.46,.45,.94);cursor:pointer}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:all .8s cubic-bezier(.25,.46,.45,.94)}.card.center[_ngcontent-%COMP%]{z-index:10;transform:scale(1.1) translateZ(0)}.card.center[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:none}.card.left-2[_ngcontent-%COMP%]{z-index:1;transform:translate(-400px) scale(.8) translateZ(-300px);opacity:.7}.card.left-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(100%)}.card.left-1[_ngcontent-%COMP%]{z-index:5;transform:translate(-200px) scale(.9) translateZ(-100px);opacity:.9}.card.left-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(100%)}.card.right-1[_ngcontent-%COMP%]{z-index:5;transform:translate(200px) scale(.9) translateZ(-100px);opacity:.9}.card.right-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(100%)}.card.right-2[_ngcontent-%COMP%]{z-index:1;transform:translate(400px) scale(.8) translateZ(-300px);opacity:.7}.card.right-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(100%)}.card.hidden[_ngcontent-%COMP%]{opacity:0;pointer-events:none}.artwork-info[_ngcontent-%COMP%]{text-align:center;margin-top:40px;transition:all .5s ease-out}.artwork-title[_ngcontent-%COMP%]{color:#8b5cf6;font-size:2.5rem;font-weight:700;margin-bottom:10px;position:relative;display:inline-block}.artwork-title[_ngcontent-%COMP%]:before, .artwork-title[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;width:100px;height:2px;background:#8b5cf6}.artwork-title[_ngcontent-%COMP%]:before{left:-120px}.artwork-title[_ngcontent-%COMP%]:after{right:-120px}.artwork-technique[_ngcontent-%COMP%]{color:#848696;font-size:1.5rem;font-weight:500;opacity:.8;text-transform:uppercase;letter-spacing:.1em;padding:10px 0;margin-top:-15px;position:relative}.artwork-description[_ngcontent-%COMP%]{color:#6b7280;font-size:1rem;max-width:600px;margin:0 auto;line-height:1.6}.dots[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin-top:60px}.dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;background:#8b5cf633;cursor:pointer;transition:all .3s ease}.dot.active[_ngcontent-%COMP%]{background:#8b5cf6;transform:scale(1.2)}.nav-arrow[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:#87878799;color:#fff;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:20;transition:all .3s ease;font-size:2.5rem;border:none;outline:none;padding-bottom:4px;animation:_ngcontent-%COMP%_pulse 2s infinite}.nav-arrow[_ngcontent-%COMP%]:hover{background:#8b5cf6cc;transform:translateY(-50%) scale(1.1);animation:none}.nav-arrow.left[_ngcontent-%COMP%]{left:20px;padding-right:3px;margin-left:100px!important}.nav-arrow.right[_ngcontent-%COMP%]{right:20px;padding-left:3px;margin-right:100px!important}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #8b5cf6cc}70%{box-shadow:0 0 0 15px #8b5cf600}to{box-shadow:0 0 #8b5cf600}}.gallery-title[_ngcontent-%COMP%]{font-size:7.5rem;font-weight:900;text-transform:uppercase;letter-spacing:-.02em;text-align:center;pointer-events:none;white-space:nowrap;font-family:Arial Black,Arial Bold,Arial,sans-serif;background:linear-gradient(to bottom,#8b5cf659 30%,#fff0 76%);-webkit-background-clip:text;background-clip:text;color:transparent;margin-bottom:2rem}@media (max-width: 768px){.gallery-title[_ngcontent-%COMP%]{font-size:4.5rem}.carousel-container[_ngcontent-%COMP%]{height:350px;margin-top:60px}.card[_ngcontent-%COMP%]{width:200px;height:280px}.card.left-2[_ngcontent-%COMP%]{transform:translate(-250px) scale(.8) translateZ(-300px)}.card.left-1[_ngcontent-%COMP%]{transform:translate(-120px) scale(.9) translateZ(-100px)}.card.right-1[_ngcontent-%COMP%]{transform:translate(120px) scale(.9) translateZ(-100px)}.card.right-2[_ngcontent-%COMP%]{transform:translate(250px) scale(.8) translateZ(-300px)}.artwork-title[_ngcontent-%COMP%]{font-size:2rem}.artwork-title[_ngcontent-%COMP%]:before, .artwork-title[_ngcontent-%COMP%]:after{width:50px}.artwork-title[_ngcontent-%COMP%]:before{left:-70px}.artwork-title[_ngcontent-%COMP%]:after{right:-70px}.artwork-technique[_ngcontent-%COMP%]{font-size:1.2rem}.nav-arrow[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.2rem;margin-top:195px!important}.nav-arrow.left[_ngcontent-%COMP%]{left:10px}.nav-arrow.right[_ngcontent-%COMP%]{right:10px}}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000f2;display:flex;justify-content:center;align-items:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease-out;backdrop-filter:blur(15px);padding:10px;box-sizing:border-box}.modal-content[_ngcontent-%COMP%]{background:rgb(var(--color-background));border-radius:24px;max-width:95%;max-height:95%;width:1400px;height:800px;overflow:hidden;position:relative;display:flex;box-shadow:0 30px 60px #0009;animation:_ngcontent-%COMP%_slideUp .3s ease-out}@media (max-width: 1200px){.modal-content[_ngcontent-%COMP%]{width:95%;height:700px;max-height:90vh}}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{max-width:100%;max-height:100%;width:100%;height:100%;border-radius:0;margin:0;flex-direction:column;overflow-y:auto;position:fixed;top:0;left:0}}.modal-close[_ngcontent-%COMP%]{position:absolute;top:25px;right:25px;background:rgba(var(--color-primary),.9);color:#fff;border:none;width:45px;height:45px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:10;font-size:1.8rem;transition:all .3s ease;backdrop-filter:blur(10px);font-weight:300}@media (max-width: 768px){.modal-close[_ngcontent-%COMP%]{top:15px;right:15px;width:40px;height:40px;font-size:1.5rem;background:#000000b3}}.modal-close[_ngcontent-%COMP%]:hover{background:rgb(var(--color-primary));transform:scale(1.15);box-shadow:0 5px 15px #0000004d}.modal-body[_ngcontent-%COMP%]{display:flex;height:100%;width:100%}@media (max-width: 768px){.modal-body[_ngcontent-%COMP%]{flex-direction:column;height:auto;min-height:100%;overflow-y:auto}}.modal-image-container[_ngcontent-%COMP%]{flex:1;position:relative;overflow:hidden;background:#f8f9fa;display:flex;align-items:center;justify-content:center;min-height:500px;background:linear-gradient(135deg,#f5f7fa,#c3cfe2)}@media (max-width: 768px){.modal-image-container[_ngcontent-%COMP%]{min-height:40vh;max-height:50vh;flex:none;width:100%}}.modal-image-container[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{width:85%;height:85%;object-fit:contain;transition:all .4s cubic-bezier(.25,.46,.45,.94);cursor:zoom-in;border-radius:12px;box-shadow:0 15px 35px #0000001a}.modal-image-container[_ngcontent-%COMP%]   .modal-image.zoomed[_ngcontent-%COMP%]{cursor:zoom-out;transform:scale(1.8);box-shadow:0 25px 50px #0000004d}@media (max-width: 768px){.modal-image-container[_ngcontent-%COMP%]   .modal-image.zoomed[_ngcontent-%COMP%]{transform:scale(2.5);width:100%;height:auto;max-height:90vh;object-fit:contain}}@media (hover: hover){.modal-image-container[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]:not(.zoomed):hover{transform:scale(1.05);box-shadow:0 20px 40px #00000026}}@media (max-width: 768px){.modal-image-container[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{width:95%;height:95%;border-radius:8px}}.modal-nav[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:rgba(var(--color-primary),.8);color:#fff;border:none;width:60px;height:60px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:5;font-size:2rem;transition:all .3s ease;backdrop-filter:blur(10px);font-weight:300;box-shadow:0 5px 15px #0003}@media (max-width: 768px){.modal-nav[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.5rem;background:#0009}.modal-nav.modal-prev[_ngcontent-%COMP%]{left:10px}.modal-nav.modal-next[_ngcontent-%COMP%]{right:10px}.modal-image.zoomed[_ngcontent-%COMP%] ~ .modal-nav[_ngcontent-%COMP%]{opacity:0;pointer-events:none}}.modal-nav[_ngcontent-%COMP%]:hover{background:rgb(var(--color-primary));transform:translateY(-50%) scale(1.15);box-shadow:0 8px 25px #0000004d}.modal-nav.modal-prev[_ngcontent-%COMP%]{left:30px;padding-right:5px}.modal-nav.modal-next[_ngcontent-%COMP%]{right:30px;padding-left:5px}.modal-info[_ngcontent-%COMP%]{flex:0 0 450px;padding:50px 40px;overflow-y:auto;background:#fff;display:flex;flex-direction:column}@media (max-width: 768px){.modal-info[_ngcontent-%COMP%]{flex:none;max-height:none;padding:25px 20px;overflow-y:visible}}@media (max-width: 1200px){.modal-info[_ngcontent-%COMP%]{flex:0 0 400px;padding:40px 30px}}.modal-title[_ngcontent-%COMP%]{color:rgb(var(--color-primary-dark));font-size:2.2rem;font-weight:400;margin-bottom:15px;font-family:Montserrat,sans-serif;line-height:1.3}@media (max-width: 768px){.modal-title[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:10px}}.modal-technique[_ngcontent-%COMP%]{color:rgb(var(--color-text-light));font-size:1.2rem;text-transform:uppercase;letter-spacing:.1em;margin-bottom:25px;font-weight:300;border-bottom:2px solid rgba(var(--color-accent),.3);padding-bottom:15px}@media (max-width: 768px){.modal-technique[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:20px;padding-bottom:10px}}.modal-description[_ngcontent-%COMP%]{color:rgb(var(--color-text));font-size:1.1rem;line-height:1.7;margin-bottom:30px;font-weight:300}@media (max-width: 768px){.modal-description[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6;margin-bottom:20px}}.artwork-details[_ngcontent-%COMP%]{border-top:2px solid rgba(var(--color-accent),.3);padding-top:25px;margin-bottom:35px}@media (max-width: 768px){.artwork-details[_ngcontent-%COMP%]{padding-top:20px;margin-bottom:25px}}.detail-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:12px;padding:8px 0;border-bottom:1px solid rgba(var(--color-accent),.1)}@media (max-width: 768px){.detail-item[_ngcontent-%COMP%]{flex-direction:column;margin-bottom:10px;padding:5px 0}}.detail-item[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.detail-label[_ngcontent-%COMP%]{color:rgb(var(--color-text-light));font-weight:500;font-size:1rem}@media (max-width: 768px){.detail-label[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:3px}}.detail-value[_ngcontent-%COMP%]{color:rgb(var(--color-text));font-weight:400;text-align:right}@media (max-width: 768px){.detail-value[_ngcontent-%COMP%]{text-align:left;font-size:.95rem}}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:15px;flex-direction:column;margin-top:auto}@media (max-width: 768px){.modal-actions[_ngcontent-%COMP%]{margin-top:20px;gap:12px}}.btn-buy[_ngcontent-%COMP%], .btn-contact[_ngcontent-%COMP%]{padding:18px 30px;border:none;border-radius:12px;font-size:1.1rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:12px;font-weight:500;text-transform:uppercase;letter-spacing:.05em}@media (max-width: 768px){.btn-buy[_ngcontent-%COMP%], .btn-contact[_ngcontent-%COMP%]{padding:16px 20px;font-size:1rem;gap:8px}}.btn-buy[_ngcontent-%COMP%]:hover, .btn-contact[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 25px #00000026}.btn-buy[_ngcontent-%COMP%]:active, .btn-contact[_ngcontent-%COMP%]:active{transform:translateY(-1px)}.btn-buy[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgb(var(--color-primary)),rgb(var(--color-primary-dark)));color:#fff;box-shadow:0 5px 15px rgba(var(--color-primary),.3)}.btn-buy[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,rgb(var(--color-primary-dark)),rgb(var(--color-primary)))}.btn-contact[_ngcontent-%COMP%]{background:transparent;color:rgb(var(--color-primary));border:2px solid rgb(var(--color-primary));box-shadow:0 3px 10px rgba(var(--color-primary),.1)}.btn-contact[_ngcontent-%COMP%]:hover{background:rgb(var(--color-primary));color:#fff}.btn-icon[_ngcontent-%COMP%]{font-size:1.3rem}@media (max-width: 768px){.btn-icon[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.btn-text[_ngcontent-%COMP%]{font-size:.9rem}}.zoom-indicator[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:50%;transform:translate(-50%);background:#000000b3;color:#fff;padding:8px 16px;border-radius:20px;font-size:.9rem;backdrop-filter:blur(10px);animation:_ngcontent-%COMP%_fadeInOut 3s ease-in-out;opacity:0;text-align:center;z-index:10}@media (max-width: 768px){.zoom-indicator[_ngcontent-%COMP%]{bottom:10px;font-size:.8rem;padding:6px 12px;width:90%;max-width:300px}.zoom-indicator.mobile[_ngcontent-%COMP%]{padding:8px 12px}}.zoom-hint[_ngcontent-%COMP%]{display:block;font-size:.7rem;margin-top:2px;opacity:.8}@keyframes _ngcontent-%COMP%_fadeInOut{0%{opacity:0}20%{opacity:1}80%{opacity:1}to{opacity:0}}@media (max-width: 768px){.modal-image-container[_ngcontent-%COMP%], .modal-image.zoomed[_ngcontent-%COMP%]{touch-action:pan-x pan-y}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;backdrop-filter:blur(0px)}to{opacity:1;backdrop-filter:blur(15px)}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(80px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.artwork-image[_ngcontent-%COMP%]{cursor:pointer;transition:transform .3s ease}.artwork-image[_ngcontent-%COMP%]:hover{transform:scale(1.03)}']})};var rT=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},pL=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},iT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(t[h],t[p],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(rT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):pL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new sy;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},sy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},mL=function(n){let e=rT(n);return iT.encodeByteArray(e,!0)},ac=function(n){return mL(n).replace(/\./g,"")},cy=function(n){try{return iT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var yL=()=>gL().__FIREBASE_DEFAULTS__,vL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},_L=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&cy(n[1]);return e&&JSON.parse(e)},Hd=()=>{try{return yL()||vL()||_L()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},oT=n=>{var e,t;return(t=(e=Hd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},sT=n=>{let e=oT(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},uy=()=>{var n;return(n=Hd())===null||n===void 0?void 0:n.config},aT=n=>{var e;return(e=Hd())===null||e===void 0?void 0:e[`_${n}`]};var zd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function cT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ac(JSON.stringify(t)),ac(JSON.stringify(s)),""].join(".")}function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function wL(){var n;let e=(n=Hd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dT(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function hT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fT(){return!wL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ly(){try{return typeof indexedDB=="object"}catch{return!1}}function pT(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var IL="FirebaseError",rn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=IL,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gr.prototype.create)}},gr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?EL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new rn(i,a,r)}};function EL(n,e){return n.replace(bL,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var bL=/\{\$([^}]+)}/g;function ds(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(nT(o)&&nT(s)){if(!ds(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function nT(n){return n!==null&&typeof n=="object"}function dy(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mT(n,e){let t=new ay(n,e);return t.subscribe.bind(t)}var ay=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");CL(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=oy),i.error===void 0&&(i.error=oy),i.complete===void 0&&(i.complete=oy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function CL(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function oy(){}var KG=4*60*60*1e3;function wt(n){return n&&n._delegate?n._delegate:n}var on=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Fi="[DEFAULT]";var hy=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new zd;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TL(e))try{this.getOrInitializeService({instanceIdentifier:Fi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return M(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Fi){return this.instances.has(e)}getOptions(e=Fi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DL(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fi){return this.component?this.component.multipleInstances?e:Fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function DL(n){return n===Fi?void 0:n}function TL(n){return n.instantiationMode==="EAGER"}var qd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new hy(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var SL=[],ge=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ge||{}),AL={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},xL=ge.INFO,ML={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},RL=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=ML[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Jr=class{constructor(e){this.name=e,this._logLevel=xL,this._logHandler=RL,this._userLogHandler=null,SL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}};var NL=(n,e)=>e.some(t=>n instanceof t),gT,yT;function PL(){return gT||(gT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kL(){return yT||(yT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var vT=new WeakMap,py=new WeakMap,_T=new WeakMap,fy=new WeakMap,gy=new WeakMap;function OL(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Fn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&vT.set(t,n)}).catch(()=>{}),gy.set(e,n),e}function FL(n){if(py.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});py.set(n,e)}var my={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return py.get(n);if(e==="objectStoreNames")return n.objectStoreNames||_T.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Fn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function wT(n){my=n(my)}function VL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Gd(this),e,...t);return _T.set(r,e.sort?e.sort():[e]),Fn(r)}:kL().includes(n)?function(...e){return n.apply(Gd(this),e),Fn(vT.get(this))}:function(...e){return Fn(n.apply(Gd(this),e))}}function LL(n){return typeof n=="function"?VL(n):(n instanceof IDBTransaction&&FL(n),NL(n,PL())?new Proxy(n,my):n)}function Fn(n){if(n instanceof IDBRequest)return OL(n);if(fy.has(n))return fy.get(n);let e=LL(n);return e!==n&&(fy.set(n,e),gy.set(e,n)),e}var Gd=n=>gy.get(n);function ET(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Fn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Fn(s.result),u.oldVersion,u.newVersion,Fn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var jL=["get","getKey","getAll","getAllKeys","count"],UL=["put","add","delete","clear"],yy=new Map;function IT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(yy.get(e))return yy.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=UL.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jL.includes(t)))return;let o=function(s,...a){return M(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return yy.set(e,o),o}wT(n=>he(V({},n),{get:(e,t,r)=>IT(e,t)||n.get(e,t,r),has:(e,t)=>!!IT(e,t)||n.has(e,t)}));var _y=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(BL(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function BL(n){let e=n.getComponent();return e?.type==="VERSION"}var wy="@firebase/app",bT="0.10.13";var yr=new Jr("@firebase/app"),$L="@firebase/app-compat",zL="@firebase/analytics-compat",HL="@firebase/analytics",qL="@firebase/app-check-compat",GL="@firebase/app-check",WL="@firebase/auth",KL="@firebase/auth-compat",QL="@firebase/database",YL="@firebase/data-connect",ZL="@firebase/database-compat",JL="@firebase/functions",XL="@firebase/functions-compat",e2="@firebase/installations",t2="@firebase/installations-compat",n2="@firebase/messaging",r2="@firebase/messaging-compat",i2="@firebase/performance",o2="@firebase/performance-compat",s2="@firebase/remote-config",a2="@firebase/remote-config-compat",c2="@firebase/storage",u2="@firebase/storage-compat",l2="@firebase/firestore",d2="@firebase/vertexai-preview",h2="@firebase/firestore-compat",f2="firebase",p2="10.14.1";var Iy="[DEFAULT]",m2={[wy]:"fire-core",[$L]:"fire-core-compat",[HL]:"fire-analytics",[zL]:"fire-analytics-compat",[GL]:"fire-app-check",[qL]:"fire-app-check-compat",[WL]:"fire-auth",[KL]:"fire-auth-compat",[QL]:"fire-rtdb",[YL]:"fire-data-connect",[ZL]:"fire-rtdb-compat",[JL]:"fire-fn",[XL]:"fire-fn-compat",[e2]:"fire-iid",[t2]:"fire-iid-compat",[n2]:"fire-fcm",[r2]:"fire-fcm-compat",[i2]:"fire-perf",[o2]:"fire-perf-compat",[s2]:"fire-rc",[a2]:"fire-rc-compat",[c2]:"fire-gcs",[u2]:"fire-gcs-compat",[l2]:"fire-fst",[h2]:"fire-fst-compat",[d2]:"fire-vertex","fire-js":"fire-js",[f2]:"fire-js-all"};var cc=new Map,g2=new Map,Ey=new Map;function CT(n,e){try{n.container.addComponent(e)}catch(t){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ei(n){let e=n.name;if(Ey.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;Ey.set(e,n);for(let t of cc.values())CT(t,n);for(let t of g2.values())CT(t,n);return!0}function Ty(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function hs(n){return n.settings!==void 0}var y2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new gr("app","Firebase",y2);var by=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new on("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}};var fs=p2;function Sy(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Iy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xr.create("bad-app-name",{appName:String(i)});if(t||(t=uy()),!t)throw Xr.create("no-options");let o=cc.get(i);if(o){if(ds(t,o.options)&&ds(r,o.config))return o;throw Xr.create("duplicate-app",{appName:i})}let s=new qd(i);for(let u of Ey.values())s.addComponent(u);let a=new by(t,r,s);return cc.set(i,a),a}function lc(n=Iy){let e=cc.get(n);if(!e&&n===Iy&&uy())return Sy();if(!e)throw Xr.create("no-app",{appName:n});return e}function Wd(){return Array.from(cc.values())}function at(n,e,t){var r;let i=(r=m2[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(a.join(" "));return}ei(new on(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var v2="firebase-heartbeat-database",_2=1,uc="firebase-heartbeat-store",vy=null;function AT(){return vy||(vy=ET(v2,_2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(uc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Xr.create("idb-open",{originalErrorMessage:n.message})})),vy}function w2(n){return M(this,null,function*(){try{let t=(yield AT()).transaction(uc),r=yield t.objectStore(uc).get(xT(n));return yield t.done,r}catch(e){if(e instanceof rn)yr.warn(e.message);else{let t=Xr.create("idb-get",{originalErrorMessage:e?.message});yr.warn(t.message)}}})}function DT(n,e){return M(this,null,function*(){try{let r=(yield AT()).transaction(uc,"readwrite");yield r.objectStore(uc).put(e,xT(n)),yield r.done}catch(t){if(t instanceof rn)yr.warn(t.message);else{let r=Xr.create("idb-set",{originalErrorMessage:t?.message});yr.warn(r.message)}}})}function xT(n){return`${n.name}!${n.options.appId}`}var I2=1024,E2=30*24*60*60*1e3,Cy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Dy(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return M(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=TT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=E2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){yr.warn(r)}})}getHeartbeatsHeader(){return M(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=TT(),{heartbeatsToSend:r,unsentEntries:i}=b2(this._heartbeatsCache.heartbeats),o=ac(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return yr.warn(t),""}})}};function TT(){return new Date().toISOString().substring(0,10)}function b2(n,e=I2){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),ST(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),ST(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Dy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return M(this,null,function*(){return ly()?pT().then(()=>!0).catch(()=>!1):!1})}read(){return M(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield w2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return M(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return DT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return M(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return DT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function ST(n){return ac(JSON.stringify({version:2,heartbeats:n})).length}function C2(n){ei(new on("platform-logger",e=>new _y(e),"PRIVATE")),ei(new on("heartbeat",e=>new Cy(e),"PRIVATE")),at(wy,bT,n),at(wy,bT,"esm2017"),at("fire-js","")}C2("");var D2="firebase",T2="10.14.1";at(D2,T2,"app");var ms=new er("ANGULARFIRE2_VERSION");function xy(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var hc=(n,e)=>{let t=e?[e]:Wd(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},dc=class{constructor(){return hc(S2)}},S2="app-check";function ps(){}var Kd=class{zone;delegate;constructor(e,t=Gf){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},Ay=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ps,{},ps,ps)),t.pipe(Qe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},fc=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Kd(Zone.current)),this.insideAngular=t.run(()=>new Kd(Zone.current,qf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(G(Se))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qd(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function A2(n){return Qd().ngZone.runOutsideAngular(()=>n())}function Vi(n){return Qd().ngZone.run(()=>n())}function x2(n){return M2(Qd())(n)}function M2(n){return function(t){return t=t.lift(new Ay(n.ngZone)),t.pipe(Mr(n.outsideAngular),xr(n.insideAngular))}}var R2=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Vi(()=>n.apply(void 0,r))},Ht=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=Vi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ps,{},ps,ps))),r[o]=R2(r[o],t));let i=A2(()=>n.apply(this,r));if(!e)if(i instanceof fe){let o=Qd();return i.pipe(Mr(o.outsideAngular),xr(o.insideAngular))}else return Vi(()=>i);return i instanceof fe?i.pipe(x2):i instanceof Promise?Vi(()=>new Promise((o,s)=>i.then(a=>Vi(()=>o(a)),a=>Vi(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Vi(()=>i)};var Li=class{constructor(e){return e}},pc=class{constructor(){return Wd()}};function N2(n){return n&&n.length===1?n[0]:new Li(lc())}var My=new H("angularfire2._apps"),P2={provide:Li,useFactory:N2,deps:[[new Yt,My]]},k2={provide:pc,deps:[[new Yt,My]]};function O2(n){return(e,t)=>{let r=t.get(Xt);at("angularfire",ms.full,"core"),at("angularfire",ms.full,"app"),at("angular",Qb.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Li(i)}}function MT(n,...e){return An([P2,k2,{provide:My,useFactory:O2(n),multi:!0,deps:[Se,Mt,fc,...e]}])}var RT=Ht(Sy,!0);function jT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var UT=jT,BT=new gr("auth","Firebase",jT());var Xd=new Jr("@firebase/auth");function V2(n,...e){Xd.logLevel<=ge.WARN&&Xd.warn(`Auth (${fs}): ${n}`,...e)}function Zd(n,...e){Xd.logLevel<=ge.ERROR&&Xd.error(`Auth (${fs}): ${n}`,...e)}function NT(n,...e){throw $y(n,...e)}function By(n,...e){return $y(n,...e)}function $T(n,e,t){let r=Object.assign(Object.assign({},UT()),{[e]:t});return new gr("auth","Firebase",r).create(e,{appName:n.name})}function Jd(n){return $T(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $y(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return BT.create(n,...e)}function De(n,e,...t){if(!n)throw $y(e,...t)}function mc(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Zd(e),new Error(e)}function eh(n,e){n||mc(e)}function L2(){return PT()==="http:"||PT()==="https:"}function PT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function j2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L2()||dT()||"connection"in navigator)?navigator.onLine:!0}function U2(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ui=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,eh(t>e,"Short delay should be less than long delay!"),this.isMobile=uT()||hT()}get(){return j2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function B2(n,e){eh(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var th=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var $2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var z2=new Ui(3e4,6e4);function zT(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function oh(o,s,a,u){return M(this,arguments,function*(n,e,t,r,i={}){return HT(n,i,()=>M(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=dy(Object.assign({key:n.config.apiKey},h)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:g},l);return lT()||(y.referrerPolicy="no-referrer"),th.fetch()(qT(n,n.config.apiHost,t,p),y)}))})}function HT(n,e,t){return M(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},$2),e);try{let i=new Py(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Yd(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yd(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Yd(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Yd(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw $T(n,h,l);NT(n,h)}}catch(i){if(i instanceof rn)throw i;NT(n,"network-request-failed",{message:String(i)})}})}function qT(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?B2(n.config,i):`${n.config.apiScheme}://${i}`}var Py=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(By(this.auth,"network-request-failed")),z2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Yd(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=By(n,e,r);return i.customData._tokenResponse=t,i}function H2(n,e){return M(this,null,function*(){return oh(n,"POST","/v1/accounts:delete",e)})}function GT(n,e){return M(this,null,function*(){return oh(n,"POST","/v1/accounts:lookup",e)})}function gc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function zy(n,e=!1){return M(this,null,function*(){let t=wt(n),r=yield t.getIdToken(e),i=WT(r);De(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:gc(Ry(i.auth_time)),issuedAtTime:gc(Ry(i.iat)),expirationTime:gc(Ry(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Ry(n){return Number(n)*1e3}function WT(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Zd("JWT malformed, contained fewer than 3 sections"),null;try{let i=cy(t);return i?JSON.parse(i):(Zd("Failed to decode base64 JWT payload"),null)}catch(i){return Zd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function kT(n){let e=WT(n);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ky(n,e,t=!1){return M(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof rn&&q2(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function q2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Oy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>M(this,null,function*(){yield this.iteration()}),t)}iteration(){return M(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var vc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gc(this.lastLoginAt),this.creationTime=gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function nh(n){return M(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield ky(n,GT(t,{idToken:r}));De(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?KT(o.providerUserInfo):[],a=G2(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new vc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function Hy(n){return M(this,null,function*(){let e=wt(n);yield nh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function G2(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KT(n){return n.map(e=>{var{providerId:t}=e,r=Wf(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function W2(n,e){return M(this,null,function*(){let t=yield HT(n,{},()=>M(this,null,function*(){let r=dy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=qT(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",th.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function K2(n,e){return M(this,null,function*(){return oh(n,"POST","/v2/accounts:revokeToken",zT(n,e))})}var yc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");let t=kT(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return M(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return M(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield W2(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(De(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(De(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(De(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return mc("not implemented")}};function ti(n,e){De(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var _c=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Wf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Oy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return M(this,null,function*(){let t=yield ky(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return zy(this,e)}reload(){return Hy(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return M(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield nh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return M(this,null,function*(){if(hs(this.auth.app))return Promise.reject(Jd(this.auth));let e=yield this.getIdToken();return yield ky(this,H2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=t.photoURL)!==null&&s!==void 0?s:void 0,P=(a=t.tenantId)!==null&&a!==void 0?a:void 0,N=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,j=(l=t.createdAt)!==null&&l!==void 0?l:void 0,K=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:B,emailVerified:re,isAnonymous:Te,providerData:Y,stsTokenManager:b}=t;De(B&&b,e,"internal-error");let v=yc.fromJSON(this.name,b);De(typeof B=="string",e,"internal-error"),ti(p,e.name),ti(g,e.name),De(typeof re=="boolean",e,"internal-error"),De(typeof Te=="boolean",e,"internal-error"),ti(y,e.name),ti(A,e.name),ti(P,e.name),ti(N,e.name),ti(j,e.name),ti(K,e.name);let w=new n({uid:B,auth:e,email:g,emailVerified:re,displayName:p,isAnonymous:Te,photoURL:A,phoneNumber:y,tenantId:P,stsTokenManager:v,createdAt:j,lastLoginAt:K});return Y&&Array.isArray(Y)&&(w.providerData=Y.map(C=>Object.assign({},C))),N&&(w._redirectEventId=N),w}static _fromIdTokenResponse(e,t,r=!1){return M(this,null,function*(){let i=new yc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield nh(o),o})}static _fromGetAccountInfoResponse(e,t,r){return M(this,null,function*(){let i=t.users[0];De(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?KT(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new yc;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new vc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var OT=new Map;function ji(n){eh(n instanceof Function,"Expected a class definition");let e=OT.get(n);return e?(eh(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,OT.set(n,e),e)}var Q2=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return M(this,null,function*(){return!0})}_set(t,r){return M(this,null,function*(){this.storage[t]=r})}_get(t){return M(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return M(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Fy=Q2;function Ny(n,e,t){return`firebase:${n}:${e}:${t}`}var rh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Ny(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ny("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return M(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?_c._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return M(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return M(this,null,function*(){if(!t.length)return new n(ji(Fy),e,r);let i=(yield Promise.all(t.map(l=>M(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||ji(Fy),s=Ny(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p=_c._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>M(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function FT(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(X2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Y2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tj(e))return"Blackberry";if(nj(e))return"Webos";if(Z2(e))return"Safari";if((e.includes("chrome/")||J2(e))&&!e.includes("edge/"))return"Chrome";if(ej(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Y2(n=zt()){return/firefox\//i.test(n)}function Z2(n=zt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function J2(n=zt()){return/crios\//i.test(n)}function X2(n=zt()){return/iemobile/i.test(n)}function ej(n=zt()){return/android/i.test(n)}function tj(n=zt()){return/blackberry/i.test(n)}function nj(n=zt()){return/webos/i.test(n)}function QT(n,e=[]){let t;switch(n){case"Browser":t=FT(zt());break;case"Worker":t=`${FT(zt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${fs}/${r}`}var Vy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return M(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function rj(t){return M(this,arguments,function*(n,e={}){return oh(n,"GET","/v2/passwordPolicy",zT(n,e))})}var ij=6,Ly=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:ij,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var jy=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ih(this),this.idTokenSubscription=new ih(this),this.beforeStateQueue=new Vy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ji(t)),this._initializationPromise=this.queue(()=>M(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield rh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return M(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return M(this,null,function*(){try{let t=yield GT(this,{idToken:e}),r=yield _c._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return M(this,null,function*(){var t;if(hs(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return M(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return M(this,null,function*(){try{yield nh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=U2()}_delete(){return M(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return M(this,null,function*(){if(hs(this.app))return Promise.reject(Jd(this));let t=e?wt(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return M(this,null,function*(){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>M(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return M(this,null,function*(){return hs(this.app)?Promise.reject(Jd(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return hs(this.app)?Promise.reject(Jd(this)):this.queue(()=>M(this,null,function*(){yield this.assertedPersistence.setPersistence(ji(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return M(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return M(this,null,function*(){let e=yield rj(this),t=new Ly(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return M(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield K2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return M(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return M(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ji(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=yield rh.create(this,[ji(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return M(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>M(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return M(this,null,function*(){if(e===this.currentUser)return this.queue(()=>M(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return M(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return M(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return M(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&V2(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function oj(n){return wt(n)}var ih=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=mT(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var sj={loadJS(){return M(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aj(n){sj=n}function cj(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function uj(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ji);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var q8=cj("rcb"),G8=new Ui(3e4,6e4);var W8=new Ui(2e3,1e4);var K8=10*60*1e3;var Q8=new Ui(3e4,6e4);var Y8=new Ui(5e3,15e3);var Z8=encodeURIComponent("fac");var VT="@firebase/auth",LT="1.7.9";var Uy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return M(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function lj(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dj(n){ei(new on("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;De(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QT(n)},l=new jy(r,i,o,u);return uj(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ei(new on("auth-internal",e=>{let t=oj(e.getProvider("auth").getImmediate());return(r=>new Uy(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),at(VT,LT,lj(n)),at(VT,LT,"esm2017")}var hj=5*60,J8=aT("authIdTokenMaxAge")||hj;function fj(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}aj({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=By("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",fj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dj("Browser");var hU="auth";var sh=class{constructor(){return hc(hU)}};var YT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ZT={};var ni,qy;(function(){var n;function e(b,v){function w(){}w.prototype=v.prototype,b.D=v.prototype,b.prototype=new w,b.prototype.constructor=b,b.C=function(C,T,x){for(var E=Array(arguments.length-2),zn=2;zn<arguments.length;zn++)E[zn-2]=arguments[zn];return v.prototype[T].apply(C,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,v,w){w||(w=0);var C=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)C[T]=v.charCodeAt(w++)|v.charCodeAt(w++)<<8|v.charCodeAt(w++)<<16|v.charCodeAt(w++)<<24;else for(T=0;16>T;++T)C[T]=v[w++]|v[w++]<<8|v[w++]<<16|v[w++]<<24;v=b.g[0],w=b.g[1],T=b.g[2];var x=b.g[3],E=v+(x^w&(T^x))+C[0]+3614090360&4294967295;v=w+(E<<7&4294967295|E>>>25),E=x+(T^v&(w^T))+C[1]+3905402710&4294967295,x=v+(E<<12&4294967295|E>>>20),E=T+(w^x&(v^w))+C[2]+606105819&4294967295,T=x+(E<<17&4294967295|E>>>15),E=w+(v^T&(x^v))+C[3]+3250441966&4294967295,w=T+(E<<22&4294967295|E>>>10),E=v+(x^w&(T^x))+C[4]+4118548399&4294967295,v=w+(E<<7&4294967295|E>>>25),E=x+(T^v&(w^T))+C[5]+1200080426&4294967295,x=v+(E<<12&4294967295|E>>>20),E=T+(w^x&(v^w))+C[6]+2821735955&4294967295,T=x+(E<<17&4294967295|E>>>15),E=w+(v^T&(x^v))+C[7]+4249261313&4294967295,w=T+(E<<22&4294967295|E>>>10),E=v+(x^w&(T^x))+C[8]+1770035416&4294967295,v=w+(E<<7&4294967295|E>>>25),E=x+(T^v&(w^T))+C[9]+2336552879&4294967295,x=v+(E<<12&4294967295|E>>>20),E=T+(w^x&(v^w))+C[10]+4294925233&4294967295,T=x+(E<<17&4294967295|E>>>15),E=w+(v^T&(x^v))+C[11]+2304563134&4294967295,w=T+(E<<22&4294967295|E>>>10),E=v+(x^w&(T^x))+C[12]+1804603682&4294967295,v=w+(E<<7&4294967295|E>>>25),E=x+(T^v&(w^T))+C[13]+4254626195&4294967295,x=v+(E<<12&4294967295|E>>>20),E=T+(w^x&(v^w))+C[14]+2792965006&4294967295,T=x+(E<<17&4294967295|E>>>15),E=w+(v^T&(x^v))+C[15]+1236535329&4294967295,w=T+(E<<22&4294967295|E>>>10),E=v+(T^x&(w^T))+C[1]+4129170786&4294967295,v=w+(E<<5&4294967295|E>>>27),E=x+(w^T&(v^w))+C[6]+3225465664&4294967295,x=v+(E<<9&4294967295|E>>>23),E=T+(v^w&(x^v))+C[11]+643717713&4294967295,T=x+(E<<14&4294967295|E>>>18),E=w+(x^v&(T^x))+C[0]+3921069994&4294967295,w=T+(E<<20&4294967295|E>>>12),E=v+(T^x&(w^T))+C[5]+3593408605&4294967295,v=w+(E<<5&4294967295|E>>>27),E=x+(w^T&(v^w))+C[10]+38016083&4294967295,x=v+(E<<9&4294967295|E>>>23),E=T+(v^w&(x^v))+C[15]+3634488961&4294967295,T=x+(E<<14&4294967295|E>>>18),E=w+(x^v&(T^x))+C[4]+3889429448&4294967295,w=T+(E<<20&4294967295|E>>>12),E=v+(T^x&(w^T))+C[9]+568446438&4294967295,v=w+(E<<5&4294967295|E>>>27),E=x+(w^T&(v^w))+C[14]+3275163606&4294967295,x=v+(E<<9&4294967295|E>>>23),E=T+(v^w&(x^v))+C[3]+4107603335&4294967295,T=x+(E<<14&4294967295|E>>>18),E=w+(x^v&(T^x))+C[8]+1163531501&4294967295,w=T+(E<<20&4294967295|E>>>12),E=v+(T^x&(w^T))+C[13]+2850285829&4294967295,v=w+(E<<5&4294967295|E>>>27),E=x+(w^T&(v^w))+C[2]+4243563512&4294967295,x=v+(E<<9&4294967295|E>>>23),E=T+(v^w&(x^v))+C[7]+1735328473&4294967295,T=x+(E<<14&4294967295|E>>>18),E=w+(x^v&(T^x))+C[12]+2368359562&4294967295,w=T+(E<<20&4294967295|E>>>12),E=v+(w^T^x)+C[5]+4294588738&4294967295,v=w+(E<<4&4294967295|E>>>28),E=x+(v^w^T)+C[8]+2272392833&4294967295,x=v+(E<<11&4294967295|E>>>21),E=T+(x^v^w)+C[11]+1839030562&4294967295,T=x+(E<<16&4294967295|E>>>16),E=w+(T^x^v)+C[14]+4259657740&4294967295,w=T+(E<<23&4294967295|E>>>9),E=v+(w^T^x)+C[1]+2763975236&4294967295,v=w+(E<<4&4294967295|E>>>28),E=x+(v^w^T)+C[4]+1272893353&4294967295,x=v+(E<<11&4294967295|E>>>21),E=T+(x^v^w)+C[7]+4139469664&4294967295,T=x+(E<<16&4294967295|E>>>16),E=w+(T^x^v)+C[10]+3200236656&4294967295,w=T+(E<<23&4294967295|E>>>9),E=v+(w^T^x)+C[13]+681279174&4294967295,v=w+(E<<4&4294967295|E>>>28),E=x+(v^w^T)+C[0]+3936430074&4294967295,x=v+(E<<11&4294967295|E>>>21),E=T+(x^v^w)+C[3]+3572445317&4294967295,T=x+(E<<16&4294967295|E>>>16),E=w+(T^x^v)+C[6]+76029189&4294967295,w=T+(E<<23&4294967295|E>>>9),E=v+(w^T^x)+C[9]+3654602809&4294967295,v=w+(E<<4&4294967295|E>>>28),E=x+(v^w^T)+C[12]+3873151461&4294967295,x=v+(E<<11&4294967295|E>>>21),E=T+(x^v^w)+C[15]+530742520&4294967295,T=x+(E<<16&4294967295|E>>>16),E=w+(T^x^v)+C[2]+3299628645&4294967295,w=T+(E<<23&4294967295|E>>>9),E=v+(T^(w|~x))+C[0]+4096336452&4294967295,v=w+(E<<6&4294967295|E>>>26),E=x+(w^(v|~T))+C[7]+1126891415&4294967295,x=v+(E<<10&4294967295|E>>>22),E=T+(v^(x|~w))+C[14]+2878612391&4294967295,T=x+(E<<15&4294967295|E>>>17),E=w+(x^(T|~v))+C[5]+4237533241&4294967295,w=T+(E<<21&4294967295|E>>>11),E=v+(T^(w|~x))+C[12]+1700485571&4294967295,v=w+(E<<6&4294967295|E>>>26),E=x+(w^(v|~T))+C[3]+2399980690&4294967295,x=v+(E<<10&4294967295|E>>>22),E=T+(v^(x|~w))+C[10]+4293915773&4294967295,T=x+(E<<15&4294967295|E>>>17),E=w+(x^(T|~v))+C[1]+2240044497&4294967295,w=T+(E<<21&4294967295|E>>>11),E=v+(T^(w|~x))+C[8]+1873313359&4294967295,v=w+(E<<6&4294967295|E>>>26),E=x+(w^(v|~T))+C[15]+4264355552&4294967295,x=v+(E<<10&4294967295|E>>>22),E=T+(v^(x|~w))+C[6]+2734768916&4294967295,T=x+(E<<15&4294967295|E>>>17),E=w+(x^(T|~v))+C[13]+1309151649&4294967295,w=T+(E<<21&4294967295|E>>>11),E=v+(T^(w|~x))+C[4]+4149444226&4294967295,v=w+(E<<6&4294967295|E>>>26),E=x+(w^(v|~T))+C[11]+3174756917&4294967295,x=v+(E<<10&4294967295|E>>>22),E=T+(v^(x|~w))+C[2]+718787259&4294967295,T=x+(E<<15&4294967295|E>>>17),E=w+(x^(T|~v))+C[9]+3951481745&4294967295,b.g[0]=b.g[0]+v&4294967295,b.g[1]=b.g[1]+(T+(E<<21&4294967295|E>>>11))&4294967295,b.g[2]=b.g[2]+T&4294967295,b.g[3]=b.g[3]+x&4294967295}r.prototype.u=function(b,v){v===void 0&&(v=b.length);for(var w=v-this.blockSize,C=this.B,T=this.h,x=0;x<v;){if(T==0)for(;x<=w;)i(this,b,x),x+=this.blockSize;if(typeof b=="string"){for(;x<v;)if(C[T++]=b.charCodeAt(x++),T==this.blockSize){i(this,C),T=0;break}}else for(;x<v;)if(C[T++]=b[x++],T==this.blockSize){i(this,C),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var v=1;v<b.length-8;++v)b[v]=0;var w=8*this.o;for(v=b.length-8;v<b.length;++v)b[v]=w&255,w/=256;for(this.u(b),b=Array(16),v=w=0;4>v;++v)for(var C=0;32>C;C+=8)b[w++]=this.g[v]>>>C&255;return b};function o(b,v){var w=a;return Object.prototype.hasOwnProperty.call(w,b)?w[b]:w[b]=v(b)}function s(b,v){this.h=v;for(var w=[],C=!0,T=b.length-1;0<=T;T--){var x=b[T]|0;C&&x==v||(w[T]=x,C=!1)}this.g=w}var a={};function u(b){return-128<=b&&128>b?o(b,function(v){return new s([v|0],0>v?-1:0)}):new s([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return N(l(-b));for(var v=[],w=1,C=0;b>=w;C++)v[C]=b/w|0,w*=4294967296;return new s(v,0)}function h(b,v){if(b.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(b.charAt(0)=="-")return N(h(b.substring(1),v));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(v,8)),C=p,T=0;T<b.length;T+=8){var x=Math.min(8,b.length-T),E=parseInt(b.substring(T,T+x),v);8>x?(x=l(Math.pow(v,x)),C=C.j(x).add(l(E))):(C=C.j(w),C=C.add(l(E)))}return C}var p=u(0),g=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(P(this))return-N(this).m();for(var b=0,v=1,w=0;w<this.g.length;w++){var C=this.i(w);b+=(0<=C?C:4294967296+C)*v,v*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(A(this))return"0";if(P(this))return"-"+N(this).toString(b);for(var v=l(Math.pow(b,6)),w=this,C="";;){var T=re(w,v).g;w=j(w,T.j(v));var x=((0<w.g.length?w.g[0]:w.h)>>>0).toString(b);if(w=T,A(w))return x+C;for(;6>x.length;)x="0"+x;C=x+C}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function A(b){if(b.h!=0)return!1;for(var v=0;v<b.g.length;v++)if(b.g[v]!=0)return!1;return!0}function P(b){return b.h==-1}n.l=function(b){return b=j(this,b),P(b)?-1:A(b)?0:1};function N(b){for(var v=b.g.length,w=[],C=0;C<v;C++)w[C]=~b.g[C];return new s(w,~b.h).add(g)}n.abs=function(){return P(this)?N(this):this},n.add=function(b){for(var v=Math.max(this.g.length,b.g.length),w=[],C=0,T=0;T<=v;T++){var x=C+(this.i(T)&65535)+(b.i(T)&65535),E=(x>>>16)+(this.i(T)>>>16)+(b.i(T)>>>16);C=E>>>16,x&=65535,E&=65535,w[T]=E<<16|x}return new s(w,w[w.length-1]&-2147483648?-1:0)};function j(b,v){return b.add(N(v))}n.j=function(b){if(A(this)||A(b))return p;if(P(this))return P(b)?N(this).j(N(b)):N(N(this).j(b));if(P(b))return N(this.j(N(b)));if(0>this.l(y)&&0>b.l(y))return l(this.m()*b.m());for(var v=this.g.length+b.g.length,w=[],C=0;C<2*v;C++)w[C]=0;for(C=0;C<this.g.length;C++)for(var T=0;T<b.g.length;T++){var x=this.i(C)>>>16,E=this.i(C)&65535,zn=b.i(T)>>>16,Ls=b.i(T)&65535;w[2*C+2*T]+=E*Ls,K(w,2*C+2*T),w[2*C+2*T+1]+=x*Ls,K(w,2*C+2*T+1),w[2*C+2*T+1]+=E*zn,K(w,2*C+2*T+1),w[2*C+2*T+2]+=x*zn,K(w,2*C+2*T+2)}for(C=0;C<v;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=v;C<2*v;C++)w[C]=0;return new s(w,0)};function K(b,v){for(;(b[v]&65535)!=b[v];)b[v+1]+=b[v]>>>16,b[v]&=65535,v++}function B(b,v){this.g=b,this.h=v}function re(b,v){if(A(v))throw Error("division by zero");if(A(b))return new B(p,p);if(P(b))return v=re(N(b),v),new B(N(v.g),N(v.h));if(P(v))return v=re(b,N(v)),new B(N(v.g),v.h);if(30<b.g.length){if(P(b)||P(v))throw Error("slowDivide_ only works with positive integers.");for(var w=g,C=v;0>=C.l(b);)w=Te(w),C=Te(C);var T=Y(w,1),x=Y(C,1);for(C=Y(C,2),w=Y(w,2);!A(C);){var E=x.add(C);0>=E.l(b)&&(T=T.add(w),x=E),C=Y(C,1),w=Y(w,1)}return v=j(b,T.j(v)),new B(T,v)}for(T=p;0<=b.l(v);){for(w=Math.max(1,Math.floor(b.m()/v.m())),C=Math.ceil(Math.log(w)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),x=l(w),E=x.j(v);P(E)||0<E.l(b);)w-=C,x=l(w),E=x.j(v);A(x)&&(x=g),T=T.add(x),b=j(b,E)}return new B(T,b)}n.A=function(b){return re(this,b).h},n.and=function(b){for(var v=Math.max(this.g.length,b.g.length),w=[],C=0;C<v;C++)w[C]=this.i(C)&b.i(C);return new s(w,this.h&b.h)},n.or=function(b){for(var v=Math.max(this.g.length,b.g.length),w=[],C=0;C<v;C++)w[C]=this.i(C)|b.i(C);return new s(w,this.h|b.h)},n.xor=function(b){for(var v=Math.max(this.g.length,b.g.length),w=[],C=0;C<v;C++)w[C]=this.i(C)^b.i(C);return new s(w,this.h^b.h)};function Te(b){for(var v=b.g.length+1,w=[],C=0;C<v;C++)w[C]=b.i(C)<<1|b.i(C-1)>>>31;return new s(w,b.h)}function Y(b,v){var w=v>>5;v%=32;for(var C=b.g.length-w,T=[],x=0;x<C;x++)T[x]=0<v?b.i(x+w)>>>v|b.i(x+w+1)<<32-v:b.i(x+w);return new s(T,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,qy=ZT.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,ni=ZT.Integer=s}).apply(typeof YT<"u"?YT:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vr={};var Gy,fU,gs,Wy,wc,ch,Ky,Qy,Yy;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var S=c[m];if(!(S in f))break e;f=f[S]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,S={next:function(){if(!m&&f<c.length){var R=f++;return{value:d(R,c[R]),done:!1}}return m=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,m),c.apply(d,S)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function A(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,S,R){for(var L=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)L[Ne-2]=arguments[Ne];return d.prototype[S].apply(m,L)}}function P(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function N(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let S=c.length||0,R=m.length||0;c.length=S+R;for(let L=0;L<R;L++)c[S+L]=m[L]}else c.push(m)}}class j{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(c){return/^[\s\xa0]*$/.test(c)}function B(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var Te=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function Y(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function b(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,d){let f,m;for(let S=1;S<arguments.length;S++){m=arguments[S];for(f in m)c[f]=m[f];for(let R=0;R<w.length;R++)f=w[R],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function x(c){a.setTimeout(()=>{throw c},0)}function E(){var c=nf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class zn{constructor(){this.h=this.g=null}add(d,f){let m=Ls.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Ls=new j(()=>new nx,c=>c.reset());class nx{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let js,Us=!1,nf=new zn,cw=()=>{let c=a.Promise.resolve(void 0);js=()=>{c.then(rx)}};var rx=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){x(f)}var d=Ls;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Us=!1};function Cr(){this.s=this.s,this.C=this.C}Cr.prototype.s=!1,Cr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Cr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function dt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}dt.prototype.h=function(){this.defaultPrevented=!0};var ix=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Bs(c,d){if(dt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Te){e:{try{re(d.nodeName);var S=!0;break e}catch{}S=!1}S||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ox[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Bs.aa.h.call(this)}}A(Bs,dt);var ox={2:"touch",3:"pen",4:"mouse"};Bs.prototype.h=function(){Bs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var $s="closure_listenable_"+(1e6*Math.random()|0),sx=0;function ax(c,d,f,m,S){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=S,this.key=++sx,this.da=this.fa=!1}function qc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Gc(c){this.src=c,this.g={},this.h=0}Gc.prototype.add=function(c,d,f,m,S){var R=c.toString();c=this.g[R],c||(c=this.g[R]=[],this.h++);var L=of(c,d,m,S);return-1<L?(d=c[L],f||(d.fa=!1)):(d=new ax(d,this.src,R,!!m,S),d.fa=f,c.push(d)),d};function rf(c,d){var f=d.type;if(f in c.g){var m=c.g[f],S=Array.prototype.indexOf.call(m,d,void 0),R;(R=0<=S)&&Array.prototype.splice.call(m,S,1),R&&(qc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function of(c,d,f,m){for(var S=0;S<c.length;++S){var R=c[S];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==m)return S}return-1}var sf="closure_lm_"+(1e6*Math.random()|0),af={};function uw(c,d,f,m,S){if(m&&m.once)return dw(c,d,f,m,S);if(Array.isArray(d)){for(var R=0;R<d.length;R++)uw(c,d[R],f,m,S);return null}return f=df(f),c&&c[$s]?c.K(d,f,l(m)?!!m.capture:!!m,S):lw(c,d,f,!1,m,S)}function lw(c,d,f,m,S,R){if(!d)throw Error("Invalid event type");var L=l(S)?!!S.capture:!!S,Ne=uf(c);if(Ne||(c[sf]=Ne=new Gc(c)),f=Ne.add(d,f,m,L,R),f.proxy)return f;if(m=cx(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)ix||(S=L),S===void 0&&(S=!1),c.addEventListener(d.toString(),m,S);else if(c.attachEvent)c.attachEvent(fw(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function cx(){function c(f){return d.call(c.src,c.listener,f)}let d=ux;return c}function dw(c,d,f,m,S){if(Array.isArray(d)){for(var R=0;R<d.length;R++)dw(c,d[R],f,m,S);return null}return f=df(f),c&&c[$s]?c.L(d,f,l(m)?!!m.capture:!!m,S):lw(c,d,f,!0,m,S)}function hw(c,d,f,m,S){if(Array.isArray(d))for(var R=0;R<d.length;R++)hw(c,d[R],f,m,S);else m=l(m)?!!m.capture:!!m,f=df(f),c&&c[$s]?(c=c.i,d=String(d).toString(),d in c.g&&(R=c.g[d],f=of(R,f,m,S),-1<f&&(qc(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete c.g[d],c.h--)))):c&&(c=uf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=of(d,f,m,S)),(f=-1<c?d[c]:null)&&cf(f))}function cf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[$s])rf(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(fw(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=uf(d))?(rf(f,c),f.h==0&&(f.src=null,d[sf]=null)):qc(c)}}}function fw(c){return c in af?af[c]:af[c]="on"+c}function ux(c,d){if(c.da)c=!0;else{d=new Bs(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&cf(c),c=f.call(m,d)}return c}function uf(c){return c=c[sf],c instanceof Gc?c:null}var lf="__closure_events_fn_"+(1e9*Math.random()>>>0);function df(c){return typeof c=="function"?c:(c[lf]||(c[lf]=function(d){return c.handleEvent(d)}),c[lf])}function ht(){Cr.call(this),this.i=new Gc(this),this.M=this,this.F=null}A(ht,Cr),ht.prototype[$s]=!0,ht.prototype.removeEventListener=function(c,d,f,m){hw(this,c,d,f,m)};function Ct(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new dt(d,c);else if(d instanceof dt)d.target=d.target||c;else{var S=d;d=new dt(m,c),C(d,S)}if(S=!0,f)for(var R=f.length-1;0<=R;R--){var L=d.g=f[R];S=Wc(L,m,!0,d)&&S}if(L=d.g=c,S=Wc(L,m,!0,d)&&S,S=Wc(L,m,!1,d)&&S,f)for(R=0;R<f.length;R++)L=d.g=f[R],S=Wc(L,m,!1,d)&&S}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)qc(f[m]);delete c.g[d],c.h--}}this.F=null},ht.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},ht.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function Wc(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var S=!0,R=0;R<d.length;++R){var L=d[R];if(L&&!L.da&&L.capture==f){var Ne=L.listener,ut=L.ha||L.src;L.fa&&rf(c.i,L),S=Ne.call(ut,m)!==!1&&S}}return S&&!m.defaultPrevented}function pw(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function mw(c){c.g=pw(()=>{c.g=null,c.i&&(c.i=!1,mw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class lx extends Cr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:mw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zs(c){Cr.call(this),this.h=c,this.g={}}A(zs,Cr);var gw=[];function yw(c){Y(c.g,function(d,f){this.g.hasOwnProperty(f)&&cf(d)},c),c.g={}}zs.prototype.N=function(){zs.aa.N.call(this),yw(this)},zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hf=a.JSON.stringify,dx=a.JSON.parse,hx=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ff(){}ff.prototype.h=null;function vw(c){return c.h||(c.h=c.i())}function _w(){}var Hs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pf(){dt.call(this,"d")}A(pf,dt);function mf(){dt.call(this,"c")}A(mf,dt);var li={},ww=null;function Kc(){return ww=ww||new ht}li.La="serverreachability";function Iw(c){dt.call(this,li.La,c)}A(Iw,dt);function qs(c){let d=Kc();Ct(d,new Iw(d))}li.STAT_EVENT="statevent";function Ew(c,d){dt.call(this,li.STAT_EVENT,c),this.stat=d}A(Ew,dt);function Dt(c){let d=Kc();Ct(d,new Ew(d,c))}li.Ma="timingevent";function bw(c,d){dt.call(this,li.Ma,c),this.size=d}A(bw,dt);function Gs(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ws(){this.g=!0}Ws.prototype.xa=function(){this.g=!1};function fx(c,d,f,m,S,R){c.info(function(){if(c.g)if(R)for(var L="",Ne=R.split("&"),ut=0;ut<Ne.length;ut++){var be=Ne[ut].split("=");if(1<be.length){var ft=be[0];be=be[1];var pt=ft.split("_");L=2<=pt.length&&pt[1]=="type"?L+(ft+"="+be+"&"):L+(ft+"=redacted&")}}else L=null;else L=R;return"XMLHTTP REQ ("+m+") [attempt "+S+"]: "+d+`
`+f+`
`+L})}function px(c,d,f,m,S,R,L){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+S+"]: "+d+`
`+f+`
`+R+" "+L})}function to(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+gx(c,f)+(m?" "+m:"")})}function mx(c,d){c.info(function(){return"TIMEOUT: "+d})}Ws.prototype.info=function(){};function gx(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var S=m[1];if(Array.isArray(S)&&!(1>S.length)){var R=S[0];if(R!="noop"&&R!="stop"&&R!="close")for(var L=1;L<S.length;L++)S[L]=""}}}}return hf(f)}catch{return d}}var Qc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gf;function Yc(){}A(Yc,ff),Yc.prototype.g=function(){return new XMLHttpRequest},Yc.prototype.i=function(){return{}},gf=new Yc;function Dr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new zs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dw}function Dw(){this.i=null,this.g="",this.h=!1}var Tw={},yf={};function vf(c,d,f){c.L=1,c.v=eu(Hn(d)),c.m=f,c.P=!0,Sw(c,null)}function Sw(c,d){c.F=Date.now(),Zc(c),c.A=Hn(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),Bw(f.i,"t",m),c.C=0,f=c.j.J,c.h=new Dw,c.g=o0(c.j,f?d:null,!c.m),0<c.O&&(c.M=new lx(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var S="readystatechange";Array.isArray(S)||(S&&(gw[0]=S.toString()),S=gw);for(var R=0;R<S.length;R++){var L=uw(f,S[R],m||d.handleEvent,!1,d.h||d);if(!L)break;d.g[L.key]=L}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),qs(),fx(c.i,c.u,c.A,c.l,c.R,c.m)}Dr.prototype.ca=function(c){c=c.target;let d=this.M;d&&qn(c)==3?d.j():this.Y(c)},Dr.prototype.Y=function(c){try{if(c==this.g)e:{let pt=qn(this.g);var d=this.g.Ba();let io=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||Kw(this.g)))){this.J||pt!=4||d==7||(d==8||0>=io?qs(3):qs(2)),_f(this);var f=this.g.Z();this.X=f;t:if(Aw(this)){var m=Kw(this.g);c="";var S=m.length,R=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){di(this),Ks(this);var L="";break t}this.h.i=new a.TextDecoder}for(d=0;d<S;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(R&&d==S-1)});m.length=0,this.h.g+=c,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=f==200,px(this.i,this.u,this.A,this.l,this.R,pt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,ut=this.g;if((Ne=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Ne)){var be=Ne;break t}}be=null}if(f=be)to(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wf(this,f);else{this.o=!1,this.s=3,Dt(12),di(this),Ks(this);break e}}if(this.P){f=!0;let an;for(;!this.J&&this.C<L.length;)if(an=yx(this,L),an==yf){pt==4&&(this.s=4,Dt(14),f=!1),to(this.i,this.l,null,"[Incomplete Response]");break}else if(an==Tw){this.s=4,Dt(15),to(this.i,this.l,L,"[Invalid Chunk]"),f=!1;break}else to(this.i,this.l,an,null),wf(this,an);if(Aw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||L.length!=0||this.h.h||(this.s=1,Dt(16),f=!1),this.o=this.o&&f,!f)to(this.i,this.l,L,"[Invalid Chunked Response]"),di(this),Ks(this);else if(0<L.length&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.ba&&!ft.M&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Tf(ft),ft.M=!0,Dt(11))}}else to(this.i,this.l,L,null),wf(this,L);pt==4&&di(this),this.o&&!this.J&&(pt==4?t0(this.j,this):(this.o=!1,Zc(this)))}else kx(this.g),f==400&&0<L.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),di(this),Ks(this)}}}catch{}finally{}};function Aw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function yx(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?yf:(f=Number(d.substring(f,m)),isNaN(f)?Tw:(m+=1,m+f>d.length?yf:(d=d.slice(m,m+f),c.C=m+f,d)))}Dr.prototype.cancel=function(){this.J=!0,di(this)};function Zc(c){c.S=Date.now()+c.I,xw(c,c.I)}function xw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Gs(g(c.ba,c),d)}function _f(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Dr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(mx(this.i,this.A),this.L!=2&&(qs(),Dt(17)),di(this),this.s=2,Ks(this)):xw(this,this.S-c)};function Ks(c){c.j.G==0||c.J||t0(c.j,c)}function di(c){_f(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,yw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function wf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||If(f.h,c))){if(!c.K&&If(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var S=m;if(S[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)ou(f),ru(f);else break e;Df(f),Dt(18)}}else f.za=S[1],0<f.za-f.T&&37500>S[2]&&f.F&&f.v==0&&!f.C&&(f.C=Gs(g(f.Za,f),6e3));if(1>=Nw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else fi(f,11)}else if((c.K||f.g==c)&&ou(f),!K(d))for(S=f.Da.g.parse(d),d=0;d<S.length;d++){let be=S[d];if(f.T=be[0],be=be[1],f.G==2)if(be[0]=="c"){f.K=be[1],f.ia=be[2];let ft=be[3];ft!=null&&(f.la=ft,f.j.info("VER="+f.la));let pt=be[4];pt!=null&&(f.Aa=pt,f.j.info("SVER="+f.Aa));let io=be[5];io!=null&&typeof io=="number"&&0<io&&(m=1.5*io,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let an=c.g;if(an){let au=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(au){var R=m.h;R.g||au.indexOf("spdy")==-1&&au.indexOf("quic")==-1&&au.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(Ef(R,R.h),R.h=null))}if(m.D){let Sf=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;Sf&&(m.ya=Sf,Oe(m.I,m.D,Sf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var L=c;if(m.qa=i0(m,m.J?m.ia:null,m.W),L.K){Pw(m.h,L);var Ne=L,ut=m.L;ut&&(Ne.I=ut),Ne.B&&(_f(Ne),Zc(Ne)),m.g=L}else Xw(m);0<f.i.length&&iu(f)}else be[0]!="stop"&&be[0]!="close"||fi(f,7);else f.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?fi(f,7):Cf(f):be[0]!="noop"&&f.l&&f.l.ta(be),f.v=0)}}qs(4)}catch{}}var vx=class{constructor(c,d){this.g=c,this.map=d}};function Mw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Nw(c){return c.h?1:c.g?c.g.size:0}function If(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Ef(c,d){c.g?c.g.add(d):c.h=d}function Pw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Mw.prototype.cancel=function(){if(this.i=kw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function kw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return P(c.i)}function _x(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function wx(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function Ow(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=wx(c),m=_x(c),S=m.length,R=0;R<S;R++)d.call(void 0,m[R],f&&f[R],c)}var Fw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ix(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),S=null;if(0<=m){var R=c[f].substring(0,m);S=c[f].substring(m+1)}else R=c[f];d(R,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function hi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof hi){this.h=c.h,Jc(this,c.j),this.o=c.o,this.g=c.g,Xc(this,c.s),this.l=c.l;var d=c.i,f=new Zs;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Vw(this,f),this.m=c.m}else c&&(d=String(c).match(Fw))?(this.h=!1,Jc(this,d[1]||"",!0),this.o=Qs(d[2]||""),this.g=Qs(d[3]||"",!0),Xc(this,d[4]),this.l=Qs(d[5]||"",!0),Vw(this,d[6]||"",!0),this.m=Qs(d[7]||"")):(this.h=!1,this.i=new Zs(null,this.h))}hi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ys(d,Lw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ys(d,Lw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ys(f,f.charAt(0)=="/"?Cx:bx,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ys(f,Tx)),c.join("")};function Hn(c){return new hi(c)}function Jc(c,d,f){c.j=f?Qs(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Xc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Vw(c,d,f){d instanceof Zs?(c.i=d,Sx(c.i,c.h)):(f||(d=Ys(d,Dx)),c.i=new Zs(d,c.h))}function Oe(c,d,f){c.i.set(d,f)}function eu(c){return Oe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Qs(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ys(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,Ex),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ex(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Lw=/[#\/\?@]/g,bx=/[#\?:]/g,Cx=/[#\?]/g,Dx=/[#\?@]/g,Tx=/#/g;function Zs(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Tr(c){c.g||(c.g=new Map,c.h=0,c.i&&Ix(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Zs.prototype,n.add=function(c,d){Tr(this),this.i=null,c=no(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function jw(c,d){Tr(c),d=no(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Uw(c,d){return Tr(c),d=no(c,d),c.g.has(d)}n.forEach=function(c,d){Tr(this),this.g.forEach(function(f,m){f.forEach(function(S){c.call(d,S,m,this)},this)},this)},n.na=function(){Tr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let S=c[m];for(let R=0;R<S.length;R++)f.push(d[m])}return f},n.V=function(c){Tr(this);let d=[];if(typeof c=="string")Uw(this,c)&&(d=d.concat(this.g.get(no(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Tr(this),this.i=null,c=no(this,c),Uw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Bw(c,d,f){jw(c,d),0<f.length&&(c.i=null,c.g.set(no(c,d),P(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let R=encodeURIComponent(String(m)),L=this.V(m);for(m=0;m<L.length;m++){var S=R;L[m]!==""&&(S+="="+encodeURIComponent(String(L[m]))),c.push(S)}}return this.i=c.join("&")};function no(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function Sx(c,d){d&&!c.j&&(Tr(c),c.i=null,c.g.forEach(function(f,m){var S=m.toLowerCase();m!=S&&(jw(this,m),Bw(this,S,f))},c)),c.j=d}function Ax(c,d){let f=new Ws;if(a.Image){let m=new Image;m.onload=y(Sr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(Sr,f,"TestLoadImage: error",!1,d,m),m.onabort=y(Sr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(Sr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function xx(c,d){let f=new Ws,m=new AbortController,S=setTimeout(()=>{m.abort(),Sr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(R=>{clearTimeout(S),R.ok?Sr(f,"TestPingServer: ok",!0,d):Sr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(S),Sr(f,"TestPingServer: error",!1,d)})}function Sr(c,d,f,m,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),m(f)}catch{}}function Mx(){this.g=new hx}function Rx(c,d,f){let m=f||"";try{Ow(c,function(S,R){let L=S;l(S)&&(L=hf(S)),d.push(m+R+"="+encodeURIComponent(L))})}catch(S){throw d.push(m+"type="+encodeURIComponent("_badmap")),S}}function Js(c){this.l=c.Ub||null,this.j=c.eb||!1}A(Js,ff),Js.prototype.g=function(){return new tu(this.l,this.j)},Js.prototype.i=function(c){return function(){return c}}({});function tu(c,d){ht.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(tu,ht),n=tu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ea(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xs(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ea(this)),this.g&&(this.readyState=3,ea(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$w(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function $w(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Xs(this):ea(this),this.readyState==3&&$w(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Xs(this))},n.Qa=function(c){this.g&&(this.response=c,Xs(this))},n.ga=function(){this.g&&Xs(this)};function Xs(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ea(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ea(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(tu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zw(c){let d="";return Y(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function bf(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=zw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Oe(c,d,f))}function Be(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Be,ht);var Nx=/^https?$/i,Px=["POST","PUT"];n=Be.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gf.g(),this.v=this.o?vw(this.o):vw(gf),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(R){Hw(this,R);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var S in m)f.set(S,m[S]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let R of m.keys())f.set(R,m.get(R));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),S=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Px,d,void 0))||m||S||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,L]of f)this.g.setRequestHeader(R,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ww(this),this.u=!0,this.g.send(c),this.u=!1}catch(R){Hw(this,R)}};function Hw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,qw(c),nu(c)}function qw(c){c.A||(c.A=!0,Ct(c,"complete"),Ct(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ct(this,"complete"),Ct(this,"abort"),nu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nu(this,!0)),Be.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Gw(this):this.bb())},n.bb=function(){Gw(this)};function Gw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||qn(c)!=4||c.Z()!=2)){if(c.u&&qn(c)==4)pw(c.Ea,0,c);else if(Ct(c,"readystatechange"),qn(c)==4){c.h=!1;try{let L=c.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=L===0){var S=String(c.D).match(Fw)[1]||null;!S&&a.self&&a.self.location&&(S=a.self.location.protocol.slice(0,-1)),m=!Nx.test(S?S.toLowerCase():"")}f=m}if(f)Ct(c,"complete"),Ct(c,"success");else{c.m=6;try{var R=2<qn(c)?c.g.statusText:""}catch{R=""}c.l=R+" ["+c.Z()+"]",qw(c)}}finally{nu(c)}}}}function nu(c,d){if(c.g){Ww(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Ct(c,"ready");try{f.onreadystatechange=m}catch{}}}function Ww(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),dx(d)}};function Kw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function kx(c){let d={};c=(c.g&&2<=qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(K(c[m]))continue;var f=T(c[m]);let S=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[S]||[];d[S]=R,R.push(f)}b(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ta(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Qw(c){this.Aa=0,this.i=[],this.j=new Ws,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ta("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ta("baseRetryDelayMs",5e3,c),this.cb=ta("retryDelaySeedMs",1e4,c),this.Wa=ta("forwardChannelMaxRetries",2,c),this.wa=ta("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Mw(c&&c.concurrentRequestLimit),this.Da=new Mx,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Qw.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){Dt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=i0(this,null,this.W),iu(this)};function Cf(c){if(Yw(c),c.G==3){var d=c.U++,f=Hn(c.I);if(Oe(f,"SID",c.K),Oe(f,"RID",d),Oe(f,"TYPE","terminate"),na(c,f),d=new Dr(c,c.j,d),d.L=2,d.v=eu(Hn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=o0(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Zc(d)}r0(c)}function ru(c){c.g&&(Tf(c),c.g.cancel(),c.g=null)}function Yw(c){ru(c),c.u&&(a.clearTimeout(c.u),c.u=null),ou(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function iu(c){if(!Rw(c.h)&&!c.s){c.s=!0;var d=c.Ga;js||cw(),Us||(js(),Us=!0),nf.add(d,c),c.B=0}}function Ox(c,d){return Nw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Gs(g(c.Ga,c,d),n0(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let S=new Dr(this,this.j,c),R=this.o;if(this.S&&(R?(R=v(R),C(R,this.S)):R=this.S),this.m!==null||this.O||(S.H=R,R=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Jw(this,S,d),f=Hn(this.I),Oe(f,"RID",c),Oe(f,"CVER",22),this.D&&Oe(f,"X-HTTP-Session-Id",this.D),na(this,f),R&&(this.O?d="headers="+encodeURIComponent(String(zw(R)))+"&"+d:this.m&&bf(f,this.m,R)),Ef(this.h,S),this.Ua&&Oe(f,"TYPE","init"),this.P?(Oe(f,"$req",d),Oe(f,"SID","null"),S.T=!0,vf(S,f,null)):vf(S,f,d),this.G=2}}else this.G==3&&(c?Zw(this,c):this.i.length==0||Rw(this.h)||Zw(this))};function Zw(c,d){var f;d?f=d.l:f=c.U++;let m=Hn(c.I);Oe(m,"SID",c.K),Oe(m,"RID",f),Oe(m,"AID",c.T),na(c,m),c.m&&c.o&&bf(m,c.m,c.o),f=new Dr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Jw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ef(c.h,f),vf(f,m,d)}function na(c,d){c.H&&Y(c.H,function(f,m){Oe(d,m,f)}),c.l&&Ow({},function(f,m){Oe(d,m,f)})}function Jw(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var S=c.i;let R=-1;for(;;){let L=["count="+f];R==-1?0<f?(R=S[0].g,L.push("ofs="+R)):R=0:L.push("ofs="+R);let Ne=!0;for(let ut=0;ut<f;ut++){let be=S[ut].g,ft=S[ut].map;if(be-=R,0>be)R=Math.max(0,S[ut].g-100),Ne=!1;else try{Rx(ft,L,"req"+be+"_")}catch{m&&m(ft)}}if(Ne){m=L.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function Xw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;js||cw(),Us||(js(),Us=!0),nf.add(d,c),c.v=0}}function Df(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Gs(g(c.Fa,c),n0(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,e0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Gs(g(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),ru(this),e0(this))};function Tf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function e0(c){c.g=new Dr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Hn(c.qa);Oe(d,"RID","rpc"),Oe(d,"SID",c.K),Oe(d,"AID",c.T),Oe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Oe(d,"TO",c.ja),Oe(d,"TYPE","xmlhttp"),na(c,d),c.m&&c.o&&bf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=eu(Hn(d)),f.m=null,f.P=!0,Sw(f,c)}n.Za=function(){this.C!=null&&(this.C=null,ru(this),Df(this),Dt(19))};function ou(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function t0(c,d){var f=null;if(c.g==d){ou(c),Tf(c),c.g=null;var m=2}else if(If(c.h,d))f=d.D,Pw(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var S=c.B;m=Kc(),Ct(m,new bw(m,f)),iu(c)}else Xw(c);else if(S=d.s,S==3||S==0&&0<d.X||!(m==1&&Ox(c,d)||m==2&&Df(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),S){case 1:fi(c,5);break;case 4:fi(c,10);break;case 3:fi(c,6);break;default:fi(c,2)}}}function n0(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function fi(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let S=!m;m=new hi(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Jc(m,"https"),eu(m),S?Ax(m.toString(),f):xx(m.toString(),f)}else Dt(2);c.G=0,c.l&&c.l.sa(d),r0(c),Yw(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function r0(c){if(c.G=0,c.ka=[],c.l){let d=kw(c.h);(d.length!=0||c.i.length!=0)&&(N(c.ka,d),N(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function i0(c,d,f){var m=f instanceof hi?Hn(f):new hi(f);if(m.g!="")d&&(m.g=d+"."+m.g),Xc(m,m.s);else{var S=a.location;m=S.protocol,d=d?d+"."+S.hostname:S.hostname,S=+S.port;var R=new hi(null);m&&Jc(R,m),d&&(R.g=d),S&&Xc(R,S),f&&(R.l=f),m=R}return f=c.D,d=c.ya,f&&d&&Oe(m,f,d),Oe(m,"VER",c.la),na(c,m),m}function o0(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Be(new Js({eb:f})):new Be(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function s0(){}n=s0.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function su(){}su.prototype.g=function(c,d){return new Vt(c,d)};function Vt(c,d){ht.call(this),this.g=new Qw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!K(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ro(this)}A(Vt,ht),Vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vt.prototype.close=function(){Cf(this.g)},Vt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=hf(c),c=f);d.i.push(new vx(d.Ya++,c)),d.G==3&&iu(d)},Vt.prototype.N=function(){this.g.l=null,delete this.j,Cf(this.g),delete this.g,Vt.aa.N.call(this)};function a0(c){pf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}A(a0,pf);function c0(){mf.call(this),this.status=1}A(c0,mf);function ro(c){this.g=c}A(ro,s0),ro.prototype.ua=function(){Ct(this.g,"a")},ro.prototype.ta=function(c){Ct(this.g,new a0(c))},ro.prototype.sa=function(c){Ct(this.g,new c0)},ro.prototype.ra=function(){Ct(this.g,"b")},su.prototype.createWebChannel=su.prototype.g,Vt.prototype.send=Vt.prototype.o,Vt.prototype.open=Vt.prototype.m,Vt.prototype.close=Vt.prototype.close,Yy=vr.createWebChannelTransport=function(){return new su},Qy=vr.getStatEventTarget=function(){return Kc()},Ky=vr.Event=li,ch=vr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qc.NO_ERROR=0,Qc.TIMEOUT=8,Qc.HTTP_ERROR=6,wc=vr.ErrorCode=Qc,Cw.COMPLETE="complete",Wy=vr.EventType=Cw,_w.EventType=Hs,Hs.OPEN="a",Hs.CLOSE="b",Hs.ERROR="c",Hs.MESSAGE="d",ht.prototype.listen=ht.prototype.K,gs=vr.WebChannel=_w,fU=vr.FetchXmlHttpFactory=Js,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,Gy=vr.XhrIo=Be}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});var JT="@firebase/firestore";var ct=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ct.UNAUTHENTICATED=new ct(null),ct.GOOGLE_CREDENTIALS=new ct("google-credentials-uid"),ct.FIRST_PARTY=new ct("first-party-uid"),ct.MOCK_USER=new ct("mock-user");var Os="10.14.0";var Hi=new Jr("@firebase/firestore");function Ic(){return Hi.logLevel}function q(n,...e){if(Hi.logLevel<=ge.DEBUG){let t=e.map(F_);Hi.debug(`Firestore (${Os}): ${n}`,...t)}}function Ir(n,...e){if(Hi.logLevel<=ge.ERROR){let t=e.map(F_);Hi.error(`Firestore (${Os}): ${n}`,...t)}}function bs(n,...e){if(Hi.logLevel<=ge.WARN){let t=e.map(F_);Hi.warn(`Firestore (${Os}): ${n}`,...t)}}function F_(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function X(n="Unexpected state"){let e=`FIRESTORE (${Os}) INTERNAL ASSERTION FAILED: `+n;throw Ir(e),new Error(e)}function Re(n,e){n||X()}function ne(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends rn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var _r=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var fh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},tv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ct.UNAUTHENTICATED))}shutdown(){}},nv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},rv=class{constructor(e){this.t=e,this.currentUser=ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Re(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _r,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>M(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _r)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new fh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new ct(e)}},iv=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ct.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},ov=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new iv(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}},sv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},av=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Re(this.o===void 0);let r=o=>{o.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Re(typeof t.token=="string"),this.R=t.token,new sv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function pU(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var ph=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=pU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function Ce(n,e){return n<e?-1:n>e?1:0}function Cs(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var lt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new $(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var oe=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new lt(0,0))}static max(){return new n(new lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var mh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&X(),r===void 0?r=e.length-t:r>e.length-t&&X(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Ue=class n extends mh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},mU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gt=class n extends mh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return mU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new $(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new $(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Q=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ue.fromString(e))}static fromName(e){return new n(Ue.fromString(e).popFirst(5))}static empty(){return new n(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ue.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ue(e.slice()))}};var cv=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};cv.UNKNOWN_ID=-1;function gU(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=oe.fromTimestamp(r===1e9?new lt(t+1,0):new lt(t,r));return new qi(i,Q.empty(),e)}function yU(n){return new qi(n.readTime,n.key,-1)}var qi=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(oe.min(),Q.empty(),-1)}static max(){return new n(oe.max(),Q.empty(),-1)}};function vU(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Q.comparator(n.documentKey,e.documentKey),t!==0?t:Ce(n.largestBatchId,e.largestBatchId))}var _U="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",uv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Uc(n){return M(this,null,function*(){if(n.code!==k.FAILED_PRECONDITION||n.message!==_U)throw n;q("LocalStore","Unexpectedly lost primary lease")})}var F=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function wU(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bc(n){return n.name==="IndexedDbTransactionError"}var kS=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Hh(n){return n==null}function Sc(n){return n===0&&1/n==-1/0}function IU(n){return typeof n=="number"&&Number.isInteger(n)&&!Sc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var EU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],X9=[...EU,"documentOverlays"],bU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],CU=bU,DU=[...CU,"indexConfiguration","indexState","indexEntries"];var eW=[...DU,"globals"];function XT(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ji(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function OS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var He=class n{constructor(e,t){this.comparator=e,this.root=t||Ln.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ln.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ln.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ws(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ws(this.root,e,this.comparator,!1)}getReverseIterator(){return new ws(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ws(this.root,e,this.comparator,!0)}},ws=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ln=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();let e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}};Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1;Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Ln(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Et=class n{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gh(this.data.getIterator())}getIteratorFrom(e){return new gh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},gh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var sn=class n{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new n([])}unionWith(e){let t=new Et(Gt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Cs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var yh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var bt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new yh("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};bt.EMPTY_BYTE_STRING=new bt("");var TU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(n){if(Re(!!n),typeof n=="string"){let e=0,t=TU.exec(n);if(Re(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(n.seconds),nanos:Ve(n.nanos)}}function Ve(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function oi(n){return typeof n=="string"?bt.fromBase64String(n):bt.fromUint8Array(n)}function V_(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function L_(n){let e=n.mapValue.fields.__previous_value__;return V_(e)?L_(e):e}function Ac(n){let e=Er(n.mapValue.fields.__local_write_time__.timestampValue);return new lt(e.seconds,e.nanos)}var lv=class{constructor(e,t,r,i,o,s,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},vh=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var uh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?V_(n)?4:VS(n)?9007199254740991:FS(n)?10:11:X()}function Bn(n,e){if(n===e)return!0;let t=Gi(n);if(t!==Gi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ac(n).isEqual(Ac(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Er(i.timestampValue),a=Er(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return oi(i.bytesValue).isEqual(oi(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Ve(i.geoPointValue.latitude)===Ve(o.geoPointValue.latitude)&&Ve(i.geoPointValue.longitude)===Ve(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ve(i.integerValue)===Ve(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ve(i.doubleValue),a=Ve(o.doubleValue);return s===a?Sc(s)===Sc(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Cs(n.arrayValue.values||[],e.arrayValue.values||[],Bn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(XT(s)!==XT(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Bn(s[u],a[u])))return!1;return!0}(n,e);default:return X()}}function xc(n,e){return(n.values||[]).find(t=>Bn(t,e))!==void 0}function Ds(n,e){if(n===e)return 0;let t=Gi(n),r=Gi(e);if(t!==r)return Ce(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ce(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ve(o.integerValue||o.doubleValue),u=Ve(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return eS(n.timestampValue,e.timestampValue);case 4:return eS(Ac(n),Ac(e));case 5:return Ce(n.stringValue,e.stringValue);case 6:return function(o,s){let a=oi(o),u=oi(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Ce(a[l],u[l]);if(h!==0)return h}return Ce(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ce(Ve(o.latitude),Ve(s.latitude));return a!==0?a:Ce(Ve(o.longitude),Ve(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return tS(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,A=(u=g.value)===null||u===void 0?void 0:u.arrayValue,P=Ce(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=A?.values)===null||h===void 0?void 0:h.length)||0);return P!==0?P:tS(y,A)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===uh.mapValue&&s===uh.mapValue)return 0;if(o===uh.mapValue)return 1;if(s===uh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=Ce(u[p],h[p]);if(g!==0)return g;let y=Ds(a[u[p]],l[h[p]]);if(y!==0)return y}return Ce(u.length,h.length)}(n.mapValue,e.mapValue);default:throw X()}}function eS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ce(n,e);let t=Er(n),r=Er(e),i=Ce(t.seconds,r.seconds);return i!==0?i:Ce(t.nanos,r.nanos)}function tS(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ds(t[i],r[i]);if(o)return o}return Ce(t.length,r.length)}function Ts(n){return dv(n)}function dv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Er(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return oi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Q.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=dv(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${dv(t.fields[s])}`;return i+"}"}(n.mapValue):X()}function nS(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function hv(n){return!!n&&"integerValue"in n}function j_(n){return!!n&&"arrayValue"in n}function rS(n){return!!n&&"nullValue"in n}function iS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dh(n){return!!n&&"mapValue"in n}function FS(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function bc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ji(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=bc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function VS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var qt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!dh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bc(t)}setAll(e){let t=Gt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=bc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());dh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];dh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ji(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(bc(this.value))}};function LS(n){let e=[];return Ji(n.fields,(t,r)=>{let i=new Gt([t]);if(dh(r)){let o=LS(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new sn(e)}var vn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,oe.min(),oe.min(),oe.min(),qt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,oe.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,oe.min(),oe.min(),qt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,oe.min(),oe.min(),qt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ss=class{constructor(e,t){this.position=e,this.inclusive=t}};function oS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=Q.comparator(Q.fromName(s.referenceValue),t.key):r=Ds(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function sS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Bn(n.position[t],e.position[t]))return!1;return!0}var Wi=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function SU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var _h=class{},tt=class n extends _h{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new pv(e,t,r):t==="array-contains"?new yv(e,r):t==="in"?new vv(e,r):t==="not-in"?new _v(e,r):t==="array-contains-any"?new wv(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new mv(e,r):new gv(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ds(t,this.value)):t!==null&&Gi(this.value)===Gi(t)&&this.matchesComparison(Ds(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},_n=class n extends _h{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return jS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function jS(n){return n.op==="and"}function US(n){return AU(n)&&jS(n)}function AU(n){for(let e of n.filters)if(e instanceof _n)return!1;return!0}function fv(n){if(n instanceof tt)return n.field.canonicalString()+n.op.toString()+Ts(n.value);if(US(n))return n.filters.map(e=>fv(e)).join(",");{let e=n.filters.map(t=>fv(t)).join(",");return`${n.op}(${e})`}}function BS(n,e){return n instanceof tt?function(r,i){return i instanceof tt&&r.op===i.op&&r.field.isEqual(i.field)&&Bn(r.value,i.value)}(n,e):n instanceof _n?function(r,i){return i instanceof _n&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&BS(s,i.filters[a]),!0):!1}(n,e):void X()}function $S(n){return n instanceof tt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ts(t.value)}`}(n):n instanceof _n?function(t){return t.op.toString()+" {"+t.getFilters().map($S).join(" ,")+"}"}(n):"Filter"}var pv=class extends tt{constructor(e,t,r){super(e,t,r),this.key=Q.fromName(r.referenceValue)}matches(e){let t=Q.comparator(e.key,this.key);return this.matchesComparison(t)}},mv=class extends tt{constructor(e,t){super(e,"in",t),this.keys=zS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},gv=class extends tt{constructor(e,t){super(e,"not-in",t),this.keys=zS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function zS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Q.fromName(r.referenceValue))}var yv=class extends tt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return j_(t)&&xc(t.arrayValue,this.value)}},vv=class extends tt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&xc(this.value.arrayValue,t)}},_v=class extends tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!xc(this.value.arrayValue,t)}},wv=class extends tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!j_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>xc(this.value.arrayValue,r))}};var Iv=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function aS(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Iv(n,e,t,r,i,o,s)}function U_(n){let e=ne(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>fv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Hh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ts(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ts(r)).join(",")),e.ue=t}return e.ue}function B_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!SU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!BS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sS(n.startAt,e.startAt)&&sS(n.endAt,e.endAt)}function Ev(n){return Q.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var si=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function xU(n,e,t,r,i,o,s,a){return new si(n,e,t,r,i,o,s,a)}function $_(n){return new si(n)}function cS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function HS(n){return n.collectionGroup!==null}function Cc(n){let e=ne(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Et(Gt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Wi(o,r))}),t.has(Gt.keyField().canonicalString())||e.ce.push(new Wi(Gt.keyField(),r))}return e.ce}function jn(n){let e=ne(n);return e.le||(e.le=MU(e,Cc(n))),e.le}function MU(n,e){if(n.limitType==="F")return aS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Wi(i.field,o)});let t=n.endAt?new Ss(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ss(n.startAt.position,n.startAt.inclusive):null;return aS(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function bv(n,e){let t=n.filters.concat([e]);return new si(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Cv(n,e,t){return new si(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function qh(n,e){return B_(jn(n),jn(e))&&n.limitType===e.limitType}function qS(n){return`${U_(jn(n))}|lt:${n.limitType}`}function ys(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>$S(i)).join(", ")}]`),Hh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ts(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ts(i)).join(",")),`Target(${r})`}(jn(n))}; limitType=${n.limitType})`}function Gh(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Cc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=oS(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Cc(r),i)||r.endAt&&!function(s,a,u){let l=oS(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Cc(r),i))}(n,e)}function RU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function GS(n){return(e,t)=>{let r=!1;for(let i of Cc(n)){let o=NU(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function NU(n,e,t){let r=n.field.isKeyField()?Q.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Ds(u,l):X()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}var ai=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ji(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return OS(this.inner)}size(){return this.innerSize}};var PU=new He(Q.comparator);function br(){return PU}var WS=new He(Q.comparator);function Ec(...n){let e=WS;for(let t of n)e=e.insert(t.key,t);return e}function KS(n){let e=WS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Bi(){return Dc()}function QS(){return Dc()}function Dc(){return new ai(n=>n.toString(),(n,e)=>n.isEqual(e))}var kU=new He(Q.comparator),OU=new Et(Q.comparator);function ye(...n){let e=OU;for(let t of n)e=e.add(t);return e}var FU=new Et(Ce);function VU(){return FU}function z_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sc(e)?"-0":e}}function YS(n){return{integerValue:""+n}}function LU(n,e){return IU(e)?YS(e):z_(n,e)}var As=class{constructor(){this._=void 0}};function jU(n,e,t){return n instanceof xs?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&V_(o)&&(o=L_(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Ki?JS(n,e):n instanceof Qi?XS(n,e):function(i,o){let s=ZS(i,o),a=uS(s)+uS(i.Pe);return hv(s)&&hv(i.Pe)?YS(a):z_(i.serializer,a)}(n,e)}function UU(n,e,t){return n instanceof Ki?JS(n,e):n instanceof Qi?XS(n,e):t}function ZS(n,e){return n instanceof Ms?function(r){return hv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var xs=class extends As{},Ki=class extends As{constructor(e){super(),this.elements=e}};function JS(n,e){let t=eA(e);for(let r of n.elements)t.some(i=>Bn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Qi=class extends As{constructor(e){super(),this.elements=e}};function XS(n,e){let t=eA(e);for(let r of n.elements)t=t.filter(i=>!Bn(i,r));return{arrayValue:{values:t}}}var Ms=class extends As{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function uS(n){return Ve(n.integerValue||n.doubleValue)}function eA(n){return j_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function BU(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ki&&i instanceof Ki||r instanceof Qi&&i instanceof Qi?Cs(r.elements,i.elements,Bn):r instanceof Ms&&i instanceof Ms?Bn(r.Pe,i.Pe):r instanceof xs&&i instanceof xs}(n.transform,e.transform)}var Dv=class{constructor(e,t){this.version=e,this.transformResults=t}},wr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function hh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Rs=class{};function tA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Mc(n.key,wr.none()):new Yi(n.key,n.data,wr.none());{let t=n.data,r=qt.empty(),i=new Et(Gt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new $n(n.key,r,new sn(i.toArray()),wr.none())}}function $U(n,e,t){n instanceof Yi?function(i,o,s){let a=i.value.clone(),u=dS(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof $n?function(i,o,s){if(!hh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=dS(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(nA(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Tc(n,e,t,r){return n instanceof Yi?function(o,s,a,u){if(!hh(o.precondition,s))return a;let l=o.value.clone(),h=hS(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof $n?function(o,s,a,u){if(!hh(o.precondition,s))return a;let l=hS(o.fieldTransforms,u,s),h=s.data;return h.setAll(nA(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return hh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function zU(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=ZS(r.transform,i||null);o!=null&&(t===null&&(t=qt.empty()),t.set(r.field,o))}return t||null}function lS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Cs(r,i,(o,s)=>BU(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Yi=class extends Rs{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},$n=class extends Rs{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function nA(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function dS(n,e,t){let r=new Map;Re(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,UU(s,a,t[i]))}return r}function hS(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,jU(o,s,e))}return r}var Mc=class extends Rs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Tv=class extends Rs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Sv=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&$U(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Tc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Tc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=QS();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=tA(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ye())}isEqual(e){return this.batchId===e.batchId&&Cs(this.mutations,e.mutations,(t,r)=>lS(t,r))&&Cs(this.baseMutations,e.baseMutations,(t,r)=>lS(t,r))}},Av=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Re(e.mutations.length===r.length);let i=function(){return kU}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var xv=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Mv=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Xe,Ie;function HU(n){switch(n){default:return X();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function rA(n){if(n===void 0)return Ir("GRPC error has no .code"),k.UNKNOWN;switch(n){case Xe.OK:return k.OK;case Xe.CANCELLED:return k.CANCELLED;case Xe.UNKNOWN:return k.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return k.INTERNAL;case Xe.UNAVAILABLE:return k.UNAVAILABLE;case Xe.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Xe.NOT_FOUND:return k.NOT_FOUND;case Xe.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Xe.ABORTED:return k.ABORTED;case Xe.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Xe.DATA_LOSS:return k.DATA_LOSS;default:return X()}}(Ie=Xe||(Xe={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";var fS=null;function qU(){return new TextEncoder}var GU=new ni([4294967295,4294967295],0);function pS(n){let e=qU().encode(n),t=new qy;return t.update(e),new Uint8Array(t.digest())}function mS(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ni([t,r],0),new ni([i,o],0)]}var Rv=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new $i(`Invalid padding: ${t}`);if(r<0)throw new $i(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $i(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new $i(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ni.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(ni.fromNumber(r)));return i.compare(GU)===1&&(i=new ni([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=pS(e),[r,i]=mS(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=pS(e),[r,i]=mS(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},$i=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var wh=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(oe.min(),i,new He(Ce),br(),ye())}},Rc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ye(),ye(),ye())}};var Is=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},Ih=class{constructor(e,t){this.targetId=e,this.me=t}},Eh=class{constructor(e,t,r=bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},bh=class{constructor(){this.fe=0,this.ge=yS(),this.pe=bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ye(),t=ye(),r=ye();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:X()}}),new Rc(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=yS()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Re(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Nv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=br(),this.qe=gS(),this.Qe=new He(Ce)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:X()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(Ev(o))if(r===0){let s=new Q(o.path);this.Ue(t,s,vn.newNoDocument(s,oe.min()))}else Re(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}fS?.et(function(h,p,g,y,A){var P,N,j,K,B,re;let Te={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},Y=p.unchangedNames;return Y&&(Te.bloomFilter={applied:A===0,hashCount:(P=Y?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(K=(j=(N=Y?.bits)===null||N===void 0?void 0:N.bitmap)===null||j===void 0?void 0:j.length)!==null&&K!==void 0?K:0,padding:(re=(B=Y?.bits)===null||B===void 0?void 0:B.padding)!==null&&re!==void 0?re:0,mightContain:b=>{var v;return(v=y?.mightContain(b))!==null&&v!==void 0&&v}}),Te}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=oi(r).toUint8Array()}catch(u){if(u instanceof yh)return bs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Rv(s,i,o)}catch(u){return bs(u instanceof $i?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Ev(a.target)){let u=new Q(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,vn.newNoDocument(u,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=ye();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new wh(e,t,this.Qe,this.ke,r);return this.ke=br(),this.qe=gS(),this.Qe=new He(Ce),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new bh,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Et(Ce),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||q("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new bh),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function gS(){return new He(Q.comparator)}function yS(){return new He(Q.comparator)}var WU={asc:"ASCENDING",desc:"DESCENDING"},KU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QU={and:"AND",or:"OR"},Pv=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function kv(n,e){return n.useProto3Json||Hh(e)?e:{value:e}}function Ch(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function YU(n,e){return Ch(n,e.toTimestamp())}function Un(n){return Re(!!n),oe.fromTimestamp(function(t){let r=Er(t);return new lt(r.seconds,r.nanos)}(n))}function H_(n,e){return Ov(n,e).canonicalString()}function Ov(n,e){let t=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function oA(n){let e=Ue.fromString(n);return Re(lA(e)),e}function Fv(n,e){return H_(n.databaseId,e.path)}function Zy(n,e){let t=oA(e);if(t.get(1)!==n.databaseId.projectId)throw new $(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Q(aA(t))}function sA(n,e){return H_(n.databaseId,e)}function ZU(n){let e=oA(n);return e.length===4?Ue.emptyPath():aA(e)}function Vv(n){return new Ue(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function aA(n){return Re(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function vS(n,e,t){return{name:Fv(n,e),fields:t.value.mapValue.fields}}function JU(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Re(h===void 0||typeof h=="string"),bt.fromBase64String(h||"")):(Re(h===void 0||h instanceof Buffer||h instanceof Uint8Array),bt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?k.UNKNOWN:rA(l.code);return new $(h,l.message||"")}(s);t=new Eh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Zy(n,r.document.name),o=Un(r.document.updateTime),s=r.document.createTime?Un(r.document.createTime):oe.min(),a=new qt({mapValue:{fields:r.document.fields}}),u=vn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Is(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Zy(n,r.document),o=r.readTime?Un(r.readTime):oe.min(),s=vn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Is([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Zy(n,r.document),o=r.removedTargetIds||[];t=new Is([],o,i,null)}else{if(!("filter"in e))return X();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Mv(i,o),a=r.targetId;t=new Ih(a,s)}}return t}function XU(n,e){let t;if(e instanceof Yi)t={update:vS(n,e.key,e.value)};else if(e instanceof Mc)t={delete:Fv(n,e.key)};else if(e instanceof $n)t={update:vS(n,e.key,e.data),updateMask:cB(e.fieldMask)};else{if(!(e instanceof Tv))return X();t={verify:Fv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof xs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ki)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ms)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw X()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:YU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:X()}(n,e.precondition)),t}function eB(n,e){return n&&n.length>0?(Re(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?Un(i.updateTime):Un(o);return s.isEqual(oe.min())&&(s=Un(o)),new Dv(s,i.transformResults||[])}(t,e))):[]}function tB(n,e){return{documents:[sA(n,e.path)]}}function nB(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=sA(n,i);let o=function(l){if(l.length!==0)return uA(_n.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:vs(g.field),direction:oB(g.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=kv(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function rB(n){let e=ZU(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Re(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let g=cA(p);return g instanceof _n&&US(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(g=>function(A){return new Wi(_s(A.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,Hh(g)?null:g}(t.limit));let u=null;t.startAt&&(u=function(p){let g=!!p.before,y=p.values||[];return new Ss(y,g)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let g=!p.before,y=p.values||[];return new Ss(y,g)}(t.endAt)),xU(e,i,s,o,a,"F",u,l)}function iB(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function cA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=_s(t.unaryFilter.field);return tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=_s(t.unaryFilter.field);return tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=_s(t.unaryFilter.field);return tt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=_s(t.unaryFilter.field);return tt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(n):n.fieldFilter!==void 0?function(t){return tt.create(_s(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return _n.create(t.compositeFilter.filters.map(r=>cA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X()}}(t.compositeFilter.op))}(n):X()}function oB(n){return WU[n]}function sB(n){return KU[n]}function aB(n){return QU[n]}function vs(n){return{fieldPath:n.canonicalString()}}function _s(n){return Gt.fromServerFormat(n.fieldPath)}function uA(n){return n instanceof tt?function(t){if(t.op==="=="){if(iS(t.value))return{unaryFilter:{field:vs(t.field),op:"IS_NAN"}};if(rS(t.value))return{unaryFilter:{field:vs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(iS(t.value))return{unaryFilter:{field:vs(t.field),op:"IS_NOT_NAN"}};if(rS(t.value))return{unaryFilter:{field:vs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vs(t.field),op:sB(t.op),value:t.value}}}(n):n instanceof _n?function(t){let r=t.getFilters().map(i=>uA(i));return r.length===1?r[0]:{compositeFilter:{op:aB(t.op),filters:r}}}(n):X()}function cB(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Nc=class n{constructor(e,t,r,i,o=oe.min(),s=oe.min(),a=bt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Lv=class{constructor(e){this.ct=e}};function uB(n){let e=rB({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Cv(e,e.limit,"L"):e}var Dh=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ve(e.integerValue));else if("doubleValue"in e){let r=Ve(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Sc(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Er(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(oi(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?VS(e)?this.dt(t,Number.MAX_SAFE_INTEGER):FS(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):X()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Ve(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),Q.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Dh.vt=new Dh;var jv=class{constructor(){this.un=new Uv}addToCollectionParentIndex(e,t){return this.un.add(t),F.resolve()}getCollectionParents(e,t){return F.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return F.resolve()}deleteFieldIndex(e,t){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,t){return F.resolve()}getDocumentsMatchingTarget(e,t){return F.resolve(null)}getIndexType(e,t){return F.resolve(0)}getFieldIndexes(e,t){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,t){return F.resolve(qi.min())}getMinOffsetFromCollectionGroup(e,t){return F.resolve(qi.min())}updateCollectionGroup(e,t,r){return F.resolve()}updateIndexEntries(e,t){return F.resolve()}},Uv=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Et(Ue.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Et(Ue.comparator)).toArray()}};var nW=new Uint8Array(0);var Vn=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(41943040,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);var Pc=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var Bv=class{constructor(){this.changes=new ai(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?F.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var $v=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var zv=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Tc(r.mutation,i,sn.empty(),lt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ye()){let i=Bi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Ec();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Bi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ye()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=br(),s=Dc(),a=function(){return Dc()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof $n)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Tc(h.mutation,l,h.mutation.getFieldMask(),lt.now())):s.set(l.key,sn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new $v(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Dc(),i=new He((s,a)=>s-a),o=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||sn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ye()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=QS();h.forEach(g=>{if(!o.has(g)){let y=tA(t.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return Q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):HS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):F.resolve(Bi()),a=-1,u=o;return s.next(l=>F.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ye())).next(h=>({batchId:a,changes:KS(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Q(t)).next(r=>{let i=Ec();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Ec();return this.indexManager.getCollectionParents(e,o).next(a=>F.forEach(a,u=>{let l=function(p,g){return new si(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,vn.newInvalidDocument(h)))});let a=Ec();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Tc(h.mutation,l,sn.empty(),lt.now()),Gh(t,l)&&(a=a.insert(u,l))}),a})}};var Hv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return F.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Un(i.createTime)}}(t)),F.resolve()}getNamedQuery(e,t){return F.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:uB(i.bundledQuery),readTime:Un(i.readTime)}}(t)),F.resolve()}};var qv=class{constructor(){this.overlays=new He(Q.comparator),this.Ir=new Map}getOverlay(e,t){return F.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Bi();return F.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),F.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,t,r){let i=Bi(),o=t.length+1,s=new Q(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new He((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Bi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Bi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return F.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new xv(t,r));let o=this.Ir.get(t);o===void 0&&(o=ye(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var Gv=class{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,F.resolve()}};var kc=class{constructor(){this.Tr=new Et(et.Er),this.dr=new Et(et.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new et(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new et(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new Q(new Ue([])),r=new et(t,e),i=new et(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new Q(new Ue([])),r=new et(t,e),i=new et(t,e+1),o=ye();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new et(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},et=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Q.comparator(e.key,t.key)||Ce(e.wr,t.wr)}static Ar(e,t){return Ce(e.wr,t.wr)||Q.comparator(e.key,t.key)}};var Wv=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Et(et.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Sv(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new et(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,t){return F.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new et(t,0),i=new et(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Et(Ce);return t.forEach(i=>{let o=new et(i,0),s=new et(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;Q.isDocumentKey(o)||(o=o.child(""));let s=new et(new Q(o),0),a=new Et(Ce);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),F.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Re(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(t.mutations,i=>{let o=new et(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new et(t,0),i=this.br.firstAfterOrEqual(r);return F.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Kv=class{constructor(e){this.Mr=e,this.docs=function(){return new He(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return F.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(t))}getEntries(e,t){let r=br();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():vn.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=br(),s=t.path,a=new Q(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||vU(yU(h),r)<=0||(i.has(h.key)||Gh(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,t,r,i){X()}Or(e,t){return F.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Qv(this)}getSize(e){return F.resolve(this.size)}},Qv=class extends Bv{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),F.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var Yv=class{constructor(e){this.persistence=e,this.Nr=new ai(t=>U_(t),B_),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new kc,this.targetCount=0,this.kr=Pc.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),F.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Pc(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,F.resolve()}updateTargetData(e,t){return this.Kn(t),F.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return F.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),F.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),F.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return F.resolve(r)}containsKey(e,t){return F.resolve(this.Br.containsKey(t))}};var Zv=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new kS(0),this.Kr=!1,this.Kr=!0,this.$r=new Gv,this.referenceDelegate=e(this),this.Ur=new Yv(this),this.indexManager=new jv,this.remoteDocumentCache=function(i){return new Kv(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Lv(t),this.Gr=new Hv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new Wv(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){q("MemoryPersistence","Starting transaction:",e);let i=new Jv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},Jv=class extends uv{constructor(e){super(),this.currentSequenceNumber=e}},Xv=class n{constructor(e){this.persistence=e,this.Jr=new kc,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw X()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),F.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{let i=Q.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,oe.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return F.or([()=>F.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var e_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=ye(),i=ye();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var t_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var n_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return fT()?8:wU(zt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new t_;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Ic()<=ge.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",ys(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(Ic()<=ge.DEBUG&&q("QueryEngine","Query:",ys(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ic()<=ge.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",ys(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jn(t))):F.resolve())}Yi(e,t){if(cS(t))return F.resolve(null);let r=jn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Cv(t,null,"F"),r=jn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ye(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(t,a);return this.ns(t,l,s,u.readTime)?this.Yi(e,Cv(t,null,"F")):this.rs(e,l,t,u)}))})))}Zi(e,t,r,i){return cS(t)||i.isEqual(oe.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?F.resolve(null):(Ic()<=ge.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ys(t)),this.rs(e,s,t,gU(i,-1)).next(a=>a))})}ts(e,t){let r=new Et(GS(e));return t.forEach((i,o)=>{Gh(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return Ic()<=ge.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",ys(t)),this.Ji.getDocumentsMatchingQuery(e,t,qi.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var r_=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new He(Ce),this._s=new ai(o=>U_(o),B_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function lB(n,e,t,r){return new r_(n,e,t,r)}function dA(n,e){return M(this,null,function*(){let t=ne(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ye();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function dB(n,e){let t=ne(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),y=F.resolve();return g.forEach(A=>{y=y.next(()=>h.getEntry(u,A)).next(P=>{let N=l.docVersions.get(A);Re(N!==null),P.version.compareTo(N)<0&&(p.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),h.addEntry(P)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ye();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function hA(n){let e=ne(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function hB(n,e){let t=ne(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(bt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(P,N,j){return P.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(g,y,h)&&a.push(t.Ur.updateTargetData(o,y))});let u=br(),l=ye();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(fB(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(oe.min())){let h=t.Ur.getLastRemoteSnapshotVersion(o).next(p=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.os=i,o))}function fB(n,e,t){let r=ye(),i=ye();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=br();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(oe.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function pB(n,e){let t=ne(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mB(n,e){let t=ne(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Nc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function i_(n,e,t){return M(this,null,function*(){let r=ne(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Bc(s))throw s;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function _S(n,e,t){let r=ne(n),i=oe.min(),o=ye();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ne(u),g=p._s.get(h);return g!==void 0?F.resolve(p.os.get(g)):p.Ur.getTargetData(l,h)}(r,s,jn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:oe.min(),t?o:ye())).next(a=>(gB(r,RU(e),a),{documents:a,Ts:o})))}function gB(n,e,t){let r=n.us.get(e)||oe.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var Th=class{constructor(){this.activeTargetIds=VU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var o_=class{constructor(){this.so=new Th,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Th,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var s_=class{_o(e){}shutdown(){}};var Sh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var lh=null;function Jy(){return lh===null?lh=function(){return 268435456+Math.round(2147483648*Math.random())}():lh++,"0x"+lh.toString(16)}var yB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var a_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var It="WebChannelConnection",c_=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=Jy(),u=this.xo(t,r.toUriEncodedString());q("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(t,u,l,i).then(h=>(q("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw bs("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Os}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=yB[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=Jy();return new Promise((s,a)=>{let u=new Gy;u.setWithCredentials(!0),u.listenOnce(Wy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case wc.NO_ERROR:let h=u.getResponseJson();q(It,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case wc.TIMEOUT:q(It,`RPC '${e}' ${o} timed out`),a(new $(k.DEADLINE_EXCEEDED,"Request time out"));break;case wc.HTTP_ERROR:let p=u.getStatus();if(q(It,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);let y=g?.error;if(y&&y.status&&y.message){let A=function(N){let j=N.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(j)>=0?j:k.UNKNOWN}(y.status);a(new $(A,y.message))}else a(new $(k.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new $(k.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{q(It,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);q(It,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=Jy(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Yy(),a=Qy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");q(It,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),g=!1,y=!1,A=new a_({Io:N=>{y?q(It,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(g||(q(It,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),q(It,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},To:()=>p.close()}),P=(N,j,K)=>{N.listen(j,B=>{try{K(B)}catch(re){setTimeout(()=>{throw re},0)}})};return P(p,gs.EventType.OPEN,()=>{y||(q(It,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),P(p,gs.EventType.CLOSE,()=>{y||(y=!0,q(It,`RPC '${e}' stream ${i} transport closed`),A.So())}),P(p,gs.EventType.ERROR,N=>{y||(y=!0,bs(It,`RPC '${e}' stream ${i} transport errored:`,N),A.So(new $(k.UNAVAILABLE,"The operation could not be completed")))}),P(p,gs.EventType.MESSAGE,N=>{var j;if(!y){let K=N.data[0];Re(!!K);let B=K,re=B.error||((j=B[0])===null||j===void 0?void 0:j.error);if(re){q(It,`RPC '${e}' stream ${i} received error:`,re);let Te=re.status,Y=function(w){let C=Xe[w];if(C!==void 0)return rA(C)}(Te),b=re.message;Y===void 0&&(Y=k.INTERNAL,b="Unknown error status: "+Te+" with message "+re.message),y=!0,A.So(new $(Y,b)),p.close()}else q(It,`RPC '${e}' stream ${i} received:`,K),A.bo(K)}}),P(a,Ky.STAT_EVENT,N=>{N.stat===ch.PROXY?q(It,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===ch.NOPROXY&&q(It,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function Xy(){return typeof document<"u"?document:null}function Wh(n){return new Pv(n,!0)}var Ah=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var xh=class{constructor(e,t,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ah(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return M(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return M(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return M(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(Ir(t.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new $(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>M(this,null,function*(){this.state=0,this.start()}))}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},u_=class extends xh{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=JU(this.serializer,e),r=function(o){if(!("targetChange"in o))return oe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?oe.min():s.readTime?Un(s.readTime):oe.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=Vv(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=Ev(u)?{documents:tB(o,u)}:{query:nB(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=iA(o,s.resumeToken);let l=kv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(oe.min())>0){a.readTime=Ch(o,s.snapshotVersion.toTimestamp());let l=kv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=iB(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=Vv(this.serializer),t.removeTarget=e,this.a_(t)}},l_=class extends xh{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=eB(e.writeResults,e.commitTime),r=Un(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=Vv(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>XU(this.serializer,r))};this.a_(t)}};var d_=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new $(k.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Ov(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(k.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Ov(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(k.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},h_=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ir(t),this.D_=!1):q("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var f_=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>M(this,null,function*(){Xi(this)&&(q("RemoteStore","Restarting streams for network reachability change."),yield function(u){return M(this,null,function*(){let l=ne(u);l.L_.add(4),yield $c(l),l.q_.set("Unknown"),l.L_.delete(4),yield Kh(l)})}(this))}))}),this.q_=new h_(r,i)}};function Kh(n){return M(this,null,function*(){if(Xi(n))for(let e of n.B_)yield e(!0)})}function $c(n){return M(this,null,function*(){for(let e of n.B_)yield e(!1)})}function fA(n,e){let t=ne(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),K_(t)?W_(t):Fs(t).r_()&&G_(t,e))}function q_(n,e){let t=ne(n),r=Fs(t);t.N_.delete(e),r.r_()&&pA(t,e),t.N_.size===0&&(r.r_()?r.o_():Xi(t)&&t.q_.set("Unknown"))}function G_(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Fs(n).A_(e)}function pA(n,e){n.Q_.xe(e),Fs(n).R_(e)}function W_(n){n.Q_=new Nv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Fs(n).start(),n.q_.v_()}function K_(n){return Xi(n)&&!Fs(n).n_()&&n.N_.size>0}function Xi(n){return ne(n).L_.size===0}function mA(n){n.Q_=void 0}function vB(n){return M(this,null,function*(){n.q_.set("Online")})}function _B(n){return M(this,null,function*(){n.N_.forEach((e,t)=>{G_(n,e)})})}function wB(n,e){return M(this,null,function*(){mA(n),K_(n)?(n.q_.M_(e),W_(n)):n.q_.set("Unknown")})}function IB(n,e,t){return M(this,null,function*(){if(n.q_.set("Online"),e instanceof Eh&&e.state===2&&e.cause)try{yield function(i,o){return M(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Mh(n,r)}else if(e instanceof Is?n.Q_.Ke(e):e instanceof Ih?n.Q_.He(e):n.Q_.We(e),!t.isEqual(oe.min()))try{let r=yield hA(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(bt.EMPTY_BYTE_STRING,h.snapshotVersion)),pA(o,u);let p=new Nc(h.target,u,l,h.sequenceNumber);G_(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){q("RemoteStore","Failed to raise snapshot:",r),yield Mh(n,r)}})}function Mh(n,e,t){return M(this,null,function*(){if(!Bc(e))throw e;n.L_.add(1),yield $c(n),n.q_.set("Offline"),t||(t=()=>hA(n.localStore)),n.asyncQueue.enqueueRetryable(()=>M(this,null,function*(){q("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Kh(n)}))})}function gA(n,e){return e().catch(t=>Mh(n,t,e))}function Qh(n){return M(this,null,function*(){let e=ne(n),t=ci(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;EB(e);)try{let i=yield pB(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,bB(e,i)}catch(i){yield Mh(e,i)}yA(e)&&vA(e)})}function EB(n){return Xi(n)&&n.O_.length<10}function bB(n,e){n.O_.push(e);let t=ci(n);t.r_()&&t.V_&&t.m_(e.mutations)}function yA(n){return Xi(n)&&!ci(n).n_()&&n.O_.length>0}function vA(n){ci(n).start()}function CB(n){return M(this,null,function*(){ci(n).p_()})}function DB(n){return M(this,null,function*(){let e=ci(n);for(let t of n.O_)e.m_(t.mutations)})}function TB(n,e,t){return M(this,null,function*(){let r=n.O_.shift(),i=Av.from(r,e,t);yield gA(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Qh(n)})}function SB(n,e){return M(this,null,function*(){e&&ci(n).V_&&(yield function(r,i){return M(this,null,function*(){if(function(s){return HU(s)&&s!==k.ABORTED}(i.code)){let o=r.O_.shift();ci(r).s_(),yield gA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Qh(r)}})}(n,e)),yA(n)&&vA(n)})}function wS(n,e){return M(this,null,function*(){let t=ne(n);t.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");let r=Xi(t);t.L_.add(3),yield $c(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Kh(t)})}function AB(n,e){return M(this,null,function*(){let t=ne(n);e?(t.L_.delete(2),yield Kh(t)):e||(t.L_.add(2),yield $c(t),t.q_.set("Unknown"))})}function Fs(n){return n.K_||(n.K_=function(t,r,i){let o=ne(t);return o.w_(),new u_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:vB.bind(null,n),Ro:_B.bind(null,n),mo:wB.bind(null,n),d_:IB.bind(null,n)}),n.B_.push(e=>M(this,null,function*(){e?(n.K_.s_(),K_(n)?W_(n):n.q_.set("Unknown")):(yield n.K_.stop(),mA(n))}))),n.K_}function ci(n){return n.U_||(n.U_=function(t,r,i){let o=ne(t);return o.w_(),new l_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:CB.bind(null,n),mo:SB.bind(null,n),f_:DB.bind(null,n),g_:TB.bind(null,n)}),n.B_.push(e=>M(this,null,function*(){e?(n.U_.s_(),yield Qh(n)):(yield n.U_.stop(),n.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var p_=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Q_(n,e){if(Ir("AsyncQueue",`${e}: ${n}`),Bc(n))return new $(k.UNAVAILABLE,`${e}: ${n}`);throw n}var Rh=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Q.comparator(t.key,r.key):(t,r)=>Q.comparator(t.key,r.key),this.keyedMap=Ec(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Nh=class{constructor(){this.W_=new He(Q.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):X():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Ns=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Rh.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var m_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},g_=class{constructor(){this.queries=IS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=ne(t),o=i.queries;i.queries=IS(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new $(k.ABORTED,"Firestore shutting down"))}};function IS(){return new ai(n=>qS(n),qh)}function xB(n,e){return M(this,null,function*(){let t=ne(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new m_,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=Q_(s,`Initialization of query '${ys(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&Y_(t)})}function MB(n,e){return M(this,null,function*(){let t=ne(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function RB(n,e){let t=ne(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Y_(t)}function NB(n,e,t){let r=ne(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function Y_(n){n.Y_.forEach(e=>{e.next()})}var y_,ES;(ES=y_||(y_={})).ea="default",ES.Cache="cache";var v_=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ns(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Ns.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==y_.Cache}};var Ph=class{constructor(e){this.key=e}},kh=class{constructor(e){this.key=e}},__=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ye(),this.mutatedKeys=ye(),this.Aa=GS(e),this.Ra=new Rh(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Nh,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=Gh(this.query,p)?p:null,A=!!g&&this.mutatedKeys.has(g.key),P=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),N=!1;g&&y?g.data.isEqual(y.data)?A!==P&&(r.track({type:3,doc:y}),N=!0):this.ga(g,y)||(r.track({type:2,doc:y}),N=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),N=!0):g&&!y&&(r.track({type:1,doc:g}),N=!0,(u||l)&&(a=!0)),N&&(y?(s=s.add(y),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(y,A){let P=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return P(y)-P(A)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Ns(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Nh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ye(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new kh(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Ph(r))}),t}ba(e){this.Ta=e.Ts,this.da=ye();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Ns.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},w_=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},I_=class{constructor(e){this.key=e,this.va=!1}},E_=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ai(a=>qS(a),qh),this.Ma=new Map,this.xa=new Set,this.Oa=new He(Q.comparator),this.Na=new Map,this.La=new kc,this.Ba={},this.ka=new Map,this.qa=Pc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function PB(n,e,t=!0){return M(this,null,function*(){let r=CA(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield _A(r,e,t,!0),i})}function kB(n,e){return M(this,null,function*(){let t=CA(n);yield _A(t,e,!0,!1)})}function _A(n,e,t,r){return M(this,null,function*(){let i=yield mB(n.localStore,jn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield OB(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&fA(n.remoteStore,i),a})}function OB(n,e,t,r,i){return M(this,null,function*(){n.Ka=(p,g,y)=>function(P,N,j,K){return M(this,null,function*(){let B=N.view.ma(j);B.ns&&(B=yield _S(P.localStore,N.query,!1).then(({documents:b})=>N.view.ma(b,B)));let re=K&&K.targetChanges.get(N.targetId),Te=K&&K.targetMismatches.get(N.targetId)!=null,Y=N.view.applyChanges(B,P.isPrimaryClient,re,Te);return CS(P,N.targetId,Y.wa),Y.snapshot})}(n,p,g,y);let o=yield _S(n.localStore,e,!0),s=new __(e,o.Ts),a=s.ma(o.documents),u=Rc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);CS(n,t,l.wa);let h=new w_(e,t,s);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function FB(n,e,t){return M(this,null,function*(){let r=ne(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!qh(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield i_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&q_(r.remoteStore,i.targetId),b_(r,i.targetId)}).catch(Uc))):(b_(r,i.targetId),yield i_(r.localStore,i.targetId,!0))})}function VB(n,e){return M(this,null,function*(){let t=ne(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),q_(t.remoteStore,r.targetId))})}function LB(n,e,t){return M(this,null,function*(){let r=qB(n);try{let i=yield function(s,a){let u=ne(s),l=lt.now(),h=a.reduce((y,A)=>y.add(A.key),ye()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let A=br(),P=ye();return u.cs.getEntries(y,h).next(N=>{A=N,A.forEach((j,K)=>{K.isValidDocument()||(P=P.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,A)).next(N=>{p=N;let j=[];for(let K of a){let B=zU(K,p.get(K.key).overlayedDocument);B!=null&&j.push(new $n(K.key,B,LS(B.value.mapValue),wr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,j,a)}).next(N=>{g=N;let j=N.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(y,N.batchId,j)})}).then(()=>({batchId:g.batchId,changes:KS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new He(Ce)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,t),yield zc(r,i.changes),yield Qh(r.remoteStore)}catch(i){let o=Q_(i,"Failed to persist write");t.reject(o)}})}function wA(n,e){return M(this,null,function*(){let t=ne(n);try{let r=yield hB(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Re(s.va):i.removedDocuments.size>0&&(Re(s.va),s.va=!1))}),yield zc(t,r,e)}catch(r){yield Uc(r)}})}function bS(n,e,t){let r=ne(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ne(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.j_)g.Z_(a)&&(l=!0)}),l&&Y_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function jB(n,e,t){return M(this,null,function*(){let r=ne(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new He(Q.comparator);s=s.insert(o,vn.newNoDocument(o,oe.min()));let a=ye().add(o),u=new wh(oe.min(),new Map,new He(Ce),s,a);yield wA(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Z_(r)}else yield i_(r.localStore,e,!1).then(()=>b_(r,e,t)).catch(Uc)})}function UB(n,e){return M(this,null,function*(){let t=ne(n),r=e.batch.batchId;try{let i=yield dB(t.localStore,e);EA(t,r,null),IA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield zc(t,i)}catch(i){yield Uc(i)}})}function BB(n,e,t){return M(this,null,function*(){let r=ne(n);try{let i=yield function(s,a){let u=ne(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Re(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);EA(r,e,t),IA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield zc(r,i)}catch(i){yield Uc(i)}})}function IA(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function EA(n,e,t){let r=ne(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function b_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||bA(n,r)})}function bA(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(q_(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Z_(n))}function CS(n,e,t){for(let r of t)r instanceof Ph?(n.La.addReference(r.key,e),$B(n,r)):r instanceof kh?(q("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||bA(n,r.key)):X()}function $B(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(q("SyncEngine","New document in limbo: "+t),n.xa.add(r),Z_(n))}function Z_(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new Q(Ue.fromString(e)),r=n.qa.next();n.Na.set(r,new I_(t)),n.Oa=n.Oa.insert(t,r),fA(n.remoteStore,new Nc(jn($_(t.path)),r,"TargetPurposeLimboResolution",kS.oe))}}function zc(n,e,t){return M(this,null,function*(){let r=ne(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=e_.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return M(this,null,function*(){let h=ne(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(l,g=>F.forEach(g.$i,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>F.forEach(g.Ui,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!Bc(p))throw p;q("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.os.get(g),A=y.snapshotVersion,P=y.withLastLimboFreeSnapshotVersion(A);h.os=h.os.insert(g,P)}}})}(r.localStore,o))})}function zB(n,e){return M(this,null,function*(){let t=ne(n);if(!t.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());let r=yield dA(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new $(k.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield zc(t,r.hs)}})}function HB(n,e){let t=ne(n),r=t.Na.get(e);if(r&&r.va)return ye().add(r.key);{let i=ye(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function CA(n){let e=ne(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=wA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jB.bind(null,e),e.Ca.d_=RB.bind(null,e.eventManager),e.Ca.$a=NB.bind(null,e.eventManager),e}function qB(n){let e=ne(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BB.bind(null,e),e}var DS=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return M(this,null,function*(){this.serializer=Wh(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return lB(this.persistence,new n_,t.initialUser,this.serializer)}Ga(t){return new Zv(Xv.Zr,this.serializer)}Wa(t){return new o_}terminate(){return M(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var GB=(()=>{class n{initialize(t,r){return M(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>bS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=zB.bind(null,this.syncEngine),yield AB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new g_}()}createDatastore(t){let r=Wh(t.databaseInfo.databaseId),i=function(s){return new c_(s)}(t.databaseInfo);return function(s,a,u,l){return new d_(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new f_(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>bS(this.syncEngine,r,0),function(){return Sh.D()?new Sh:new s_}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let g=new E_(o,s,a,u,l,h);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return M(this,null,function*(){var t,r;yield function(o){return M(this,null,function*(){let s=ne(o);q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield $c(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var C_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ir("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var D_=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ct.UNAUTHENTICATED,this.clientId=ph.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>M(this,null,function*(){q("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>M(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Q_(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function ev(n,e){return M(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>M(this,null,function*(){r.isEqual(i)||(yield dA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function TS(n,e){return M(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield WB(n);q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>wS(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>wS(e.remoteStore,i)),n._onlineComponents=e})}function WB(n){return M(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ev(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;bs("Error using user provided cache. Falling back to memory cache: "+t),yield ev(n,new DS)}}else q("FirestoreClient","Using default OfflineComponentProvider"),yield ev(n,new DS);return n._offlineComponents})}function DA(n){return M(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),yield TS(n,n._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),yield TS(n,new GB))),n._onlineComponents})}function KB(n){return DA(n).then(e=>e.syncEngine)}function SS(n){return M(this,null,function*(){let e=yield DA(n),t=e.eventManager;return t.onListen=PB.bind(null,e.syncEngine),t.onUnlisten=FB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=kB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=VB.bind(null,e.syncEngine),t})}function TA(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var AS=new Map;function SA(n,e,t){if(!t)throw new $(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function QB(n,e,t,r){if(e===!0&&r===!0)throw new $(k.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function xS(n){if(!Q.isDocumentKey(n))throw new $(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function MS(n){if(Q.isDocumentKey(n))throw new $(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Yh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":X()}function ri(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Yh(n);throw new $(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Oh=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ps=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Oh({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Oh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tv;switch(r.type){case"firstParty":return new ov(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return M(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=AS.get(t);r&&(q("ComponentProvider","Removing Datastore"),AS.delete(t),r.terminate())}(this),Promise.resolve()}};function AA(n,e,t,r={}){var i;let o=(n=ri(n,Ps))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=ct.MOCK_USER;else{a=cT(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new $(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ct(l)}n._authCredentials=new nv(new fh(a,u))}}var Zi=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ft=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},ii=class n extends Zi{constructor(e,t,r){super(e,t,$_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new Q(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function xA(n,e,...t){if(n=wt(n),SA("collection","path",e),n instanceof Ps){let r=Ue.fromString(e,...t);return MS(r),new ii(n,null,r)}{if(!(n instanceof Ft||n instanceof ii))throw new $(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ue.fromString(e,...t));return MS(r),new ii(n.firestore,null,r)}}function J_(n,e,...t){if(n=wt(n),arguments.length===1&&(e=ph.newId()),SA("doc","path",e),n instanceof Ps){let r=Ue.fromString(e,...t);return xS(r),new Ft(n,null,new Q(r))}{if(!(n instanceof Ft||n instanceof ii))throw new $(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ue.fromString(e,...t));return xS(r),new Ft(n.firestore,n instanceof ii?n.converter:null,new Q(r))}}var Fh=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ah(this,"async_queue_retry"),this.Vu=()=>{let r=Xy();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=Xy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=Xy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new _r;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return M(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Bc(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Ir("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=p_.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&X()}verifyOperationInProgress(){}wu(){return M(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function RS(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var ui=class extends Ps{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Fh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return M(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Fh(e),this._firestoreClient=void 0,yield e}})}};function MA(n,e){let t=typeof n=="object"?n:lc(),r=typeof n=="string"?n:e||"(default)",i=Ty(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=sT("firestore");o&&AA(i,...o)}return i}function RA(n){if(n._terminated)throw new $(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||YB(n),n._firestoreClient}function YB(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new lv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,TA(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new D_(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var Oc=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(bt.fromBase64String(e))}catch(t){throw new $(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ks=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Fc=class{constructor(e){this._methodName=e}};var Vc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}};var Lc=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var ZB=/^__.*__$/,T_=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new $n(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yi(e,this.data,t,this.fieldTransforms)}},Vh=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new $n(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function NA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}var S_=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return jh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(NA(this.Cu)&&ZB.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},A_=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Wh(e)}Qu(e,t,r,i=!1){return new S_({Cu:e,methodName:t,qu:r,path:Gt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function X_(n){let e=n._freezeSettings(),t=Wh(n._databaseId);return new A_(n._databaseId,!!e.ignoreUndefinedProperties,t)}function JB(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);ew("Data must be an object, but it was:",s,r);let a=PA(r,s),u,l;if(o.merge)u=new sn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=x_(e,p,t);if(!s.contains(g))throw new $(k.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);OA(h,g)||h.push(g)}u=new sn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new T_(new qt(a),u,l)}var Lh=class n extends Fc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function XB(n,e,t,r){let i=n.Qu(1,e,t);ew("Data must be an object, but it was:",i,r);let o=[],s=qt.empty();Ji(r,(u,l)=>{let h=tw(e,u,t);l=wt(l);let p=i.Nu(h);if(l instanceof Lh)o.push(h);else{let g=Hc(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new sn(o);return new Vh(s,a,i.fieldTransforms)}function e$(n,e,t,r,i,o){let s=n.Qu(1,e,t),a=[x_(e,r,t)],u=[i];if(o.length%2!=0)throw new $(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(x_(e,o[g])),u.push(o[g+1]);let l=[],h=qt.empty();for(let g=a.length-1;g>=0;--g)if(!OA(l,a[g])){let y=a[g],A=u[g];A=wt(A);let P=s.Nu(y);if(A instanceof Lh)l.push(y);else{let N=Hc(A,P);N!=null&&(l.push(y),h.set(y,N))}}let p=new sn(l);return new Vh(h,p,s.fieldTransforms)}function t$(n,e,t,r=!1){return Hc(t,n.Qu(r?4:3,e))}function Hc(n,e){if(kA(n=wt(n)))return ew("Unsupported field value:",e,n),PA(n,e);if(n instanceof Fc)return function(r,i){if(!NA(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Hc(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=lt.fromDate(r);return{timestampValue:Ch(i.serializer,o)}}if(r instanceof lt){let o=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ch(i.serializer,o)}}if(r instanceof Vc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Oc)return{bytesValue:iA(i.serializer,r._byteString)};if(r instanceof Ft){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:H_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Lc)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return z_(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Yh(r)}`)}(n,e)}function PA(n,e){let t={};return OS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ji(n,(r,i)=>{let o=Hc(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function kA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof lt||n instanceof Vc||n instanceof Oc||n instanceof Ft||n instanceof Fc||n instanceof Lc)}function ew(n,e,t){if(!kA(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Yh(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function x_(n,e,t){if((e=wt(e))instanceof ks)return e._internalPath;if(typeof e=="string")return tw(n,e);throw jh("Field path arguments must be of type string or ",n,!1,void 0,t)}var n$=new RegExp("[~\\*/\\[\\]]");function tw(n,e,t){if(e.search(n$)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ks(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function jh(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new $(k.INVALID_ARGUMENT,a+n+u)}function OA(n,e){return n.some(t=>t.isEqual(e))}var Uh=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new M_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(nw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},M_=class extends Uh{data(){return super.data()}};function nw(n,e){return typeof e=="string"?tw(n,e):e instanceof ks?e._internalPath:e._delegate._internalPath}function r$(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new $(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var jc=class{},Bh=class extends jc{};function FA(n,e,...t){let r=[];e instanceof jc&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof N_).length,a=o.filter(u=>u instanceof R_).length;if(s>1||s>0&&a>0)throw new $(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var R_=class n extends Bh{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return LA(e._query,t),new Zi(e.firestore,e.converter,bv(e._query,t))}_parse(e){let t=X_(e.firestore);return function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new $(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){PS(p,h);let y=[];for(let A of p)y.push(NS(u,o,A));g={arrayValue:{values:y}}}else g=NS(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||PS(p,h),g=t$(a,s,p,h==="in"||h==="not-in");return tt.create(l,h,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var N_=class n extends jc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:_n.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)LA(s,u),s=bv(s,u)}(e._query,t),new Zi(e.firestore,e.converter,bv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var P_=class n extends Bh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new $(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new $(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wi(o,s)}(e._query,this._field,this._direction);return new Zi(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new si(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function VA(n,e="asc"){let t=e,r=nw("orderBy",n);return P_._create(r,t)}function NS(n,e,t){if(typeof(t=wt(t))=="string"){if(t==="")throw new $(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HS(e)&&t.indexOf("/")!==-1)throw new $(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Ue.fromString(t));if(!Q.isDocumentKey(r))throw new $(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nS(n,new Q(r))}if(t instanceof Ft)return nS(n,t._key);throw new $(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yh(t)}.`)}function PS(n,e){if(!Array.isArray(n)||n.length===0)throw new $(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LA(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new $(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var k_=class{convertValue(e,t="none"){switch(Gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw X()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ji(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ve(s.doubleValue));return new Lc(o)}convertGeoPoint(e){return new Vc(Ve(e.latitude),Ve(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=L_(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ac(e));default:return null}}convertTimestamp(e){let t=Er(e);return new lt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ue.fromString(e);Re(lA(r));let i=new vh(r.get(1),r.get(3)),o=new Q(r.popFirst(5));return i.isEqual(t)||Ir(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function i$(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var zi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},$h=class extends Uh{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Es(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(nw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Es=class extends $h{data(e={}){return super.data(e)}},O_=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new zi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Es(this._firestore,this._userDataWriter,r.key,r,new zi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Es(i._firestore,i._userDataWriter,a.doc.key,a.doc,new zi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Es(i._firestore,i._userDataWriter,a.doc.key,a.doc,new zi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:o$(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function o$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}var zh=class extends k_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oc(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,t)}};function jA(n,e,t,...r){n=ri(n,Ft);let i=ri(n.firestore,ui),o=X_(i),s;return s=typeof(e=wt(e))=="string"||e instanceof ks?e$(o,"updateDoc",n._key,e,t,r):XB(o,"updateDoc",n._key,e),rw(i,[s.toMutation(n._key,wr.exists(!0))])}function UA(n){return rw(ri(n.firestore,ui),[new Mc(n._key,wr.none())])}function BA(n,e){let t=ri(n.firestore,ui),r=J_(n),i=i$(n.converter,e);return rw(t,[JB(X_(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,wr.exists(!1))]).then(()=>r)}function $A(n,...e){var t,r,i;n=wt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||RS(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(RS(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Ft)l=ri(n.firestore,ui),h=$_(n._key.path),u={next:p=>{e[s]&&e[s](s$(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=ri(n,Zi);l=ri(p.firestore,ui),h=p._query;let g=new zh(l);u={next:y=>{e[s]&&e[s](new O_(l,g,p,y))},error:e[s+1],complete:e[s+2]},r$(n._query)}return function(g,y,A,P){let N=new C_(P),j=new v_(y,N,A);return g.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return xB(yield SS(g),j)})),()=>{N.Za(),g.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return MB(yield SS(g),j)}))}}(RA(l),h,a,u)}function rw(n,e){return function(r,i){let o=new _r;return r.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return LB(yield KB(r),i,o)})),o.promise}(RA(n),e)}function s$(n,e,t){let r=t.docs.get(e._key),i=new zh(n);return new $h(n,i,e._key,r,new zi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Os=i})(fs),ei(new on("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ui(new rv(r.getProvider("auth-internal")),new av(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new $(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),at(JT,"4.7.3",e),at(JT,"4.7.3","esm2017")})();var eo=class{constructor(e){return e}},zA="firestore",iw=class{constructor(){return hc(zA)}};var ow=new H("angularfire2.firestore-instances");function a$(n,e){let t=xy(zA,n,e);return t&&new eo(t)}function c$(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new eo(r)}}var u$={provide:iw,deps:[[new Yt,ow]]},l$={provide:eo,useFactory:a$,deps:[[new Yt,ow],Li]};function HA(n,...e){return at("angularfire",ms.full,"fst"),An([l$,u$,{provide:ow,useFactory:c$(n),multi:!0,deps:[Se,Mt,fc,pc,[new Yt,sh],[new Yt,dc],...e]}])}var qA=Ht(BA,!0);var sw=Ht(xA,!0);var GA=Ht(UA,!0);var aw=Ht(J_,!0);var WA=Ht(MA,!0);var KA=Ht($A,!0);var QA=Ht(VA,!0);var YA=Ht(FA,!0);var ZA=Ht(jA,!0);var Vs=class n{constructor(e){this.firestore=e;this.loadArtworks()}artworks=[];artworksSubject=new qe([]);artworks$=this.artworksSubject.asObservable();loadArtworks(){try{let e=YA(sw(this.firestore,"Obras"),QA("titulo"));KA(e,t=>{let r=[];t.forEach(i=>{let o=i.data();r.push(he(V({},o),{id:i.id}))}),this.artworks=r,this.artworksSubject.next(r)},t=>{console.error("Error loading artworks:",t),this.artworksSubject.next([])})}catch(e){console.error("Error setting up Firestore listener:",e),this.artworksSubject.next([])}}getAllArtworks(){return this.artworks$}getArtworksByCategory(e){return this.artworks$.pipe(ee(t=>e==="all"?t:t.filter(r=>r.genero.toLowerCase()===e.toLowerCase())))}getArtworkById(e){return this.artworks$.pipe(ee(t=>t.find(r=>r.id===e)))}addArtwork(e){return M(this,null,function*(){try{let t=e,{id:r}=t,i=uu(t,["id"]);return(yield qA(sw(this.firestore,"Obras"),i)).id}catch(r){throw console.error("Error adding artwork:",r),r}})}updateArtwork(e){return M(this,null,function*(){try{let t=e,{id:r}=t,i=uu(t,["id"]),o=aw(this.firestore,"Obras",r);yield ZA(o,i)}catch(r){throw console.error("Error updating artwork:",r),r}})}deleteArtwork(e){return M(this,null,function*(){try{yield GA(aw(this.firestore,"Obras",e))}catch(t){throw console.error("Error deleting artwork:",t),t}})}static \u0275fac=function(t){return new(t||n)(G(eo))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function h$(n,e){if(n&1){let t=yt();_(0,"button",26),de("click",function(){let i=ue(t).$implicit,o=we();return le(o.filterByCategory(i))}),D(1),I()}if(n&2){let t=e.$implicit,r=we();$b(r.getCategoryButtonClass(t)),U(),tn(" ",r.getCategoryDisplayName(t)," ")}}function f$(n,e){if(n&1&&(_(0,"div",27)(1,"span",28),D(2),I()()),n&2){let t=we();U(2),Hm(" ",t.filteredArtworks.length," obra",t.filteredArtworks.length!==1?"s":""," encontrada",t.filteredArtworks.length!==1?"s":""," ")}}function p$(n,e){if(n&1&&(_(0,"div",29),Me(1,"app-artwork-carousel",30),I()),n&2){let t=we();U(),_e("artworks",t.filteredArtworks)}}function m$(n,e){if(n&1){let t=yt();_(0,"div",31)(1,"div",32)(2,"div",33),D(3,"\u{1F3A8}"),I(),_(4,"p",34),D(5,"No se encontraron obras que coincidan con tu b\xFAsqueda."),I(),_(6,"button",35),de("click",function(){ue(t);let i=we();return le(i.clearFilters())}),D(7," \u{1F504} Limpiar filtros "),I()()()}}function g$(n,e){n&1&&(_(0,"div",36)(1,"div",37),Me(2,"div",38),_(3,"span",39),D(4,"Cargando obras..."),I()()())}var Zh=class n{constructor(e){this.artworkService=e}artworks=[];filteredArtworks=[];isLoading=!0;availableCategories=["all","paisajismo","bodegones","retratos","animalismo","otros"];selectedCategory="all";searchTerm="";subscription=new ke;ngOnInit(){this.loadArtworks()}ngOnDestroy(){this.subscription.unsubscribe()}loadArtworks(){this.isLoading=!0,this.subscription.add(this.artworkService.getAllArtworks().subscribe({next:e=>{this.artworks=e,this.applyFilters(),this.isLoading=!1},error:e=>{console.error("Error loading artworks:",e),this.isLoading=!1}}))}filterByCategory(e){this.selectedCategory=e,this.applyFilters()}getCategoryButtonClass(e){let t="px-3 lg:px-6 py-2 lg:py-3 rounded-full text-xs sm:text-sm font-medium transition-all duration-300 whitespace-nowrap";return this.selectedCategory===e?`${t} bg-primary text-white shadow-lg transform hover:scale-105 border border-primary`:`${t} bg-white/80 backdrop-blur-sm text-primary-dark border border-accent hover:bg-primary/10 hover:border-primary/30 hover:shadow-md`}getCategoryDisplayName(e){return{all:"Todas",paisajismo:"Paisajismo",bodegones:"Bodegones",retratos:"Retratos",animalismo:"Animalismo",otros:"Otras"}[e]||e}applyFilters(){let e=this.artworks;if(this.selectedCategory!=="all"&&(e=e.filter(t=>t.categoria.toLowerCase()===this.selectedCategory)),this.searchTerm.trim()!==""){let t=this.searchTerm.toLowerCase().trim();e=e.filter(r=>r.titulo.toLowerCase().includes(t)||r.descripcion&&r.descripcion.toLowerCase().includes(t)||r.tecnica.toLowerCase().includes(t))}this.filteredArtworks=e}clearFilters(){this.selectedCategory="all",this.searchTerm="",this.applyFilters()}clearSearch(){this.searchTerm="",this.applyFilters()}static \u0275fac=function(t){return new(t||n)(J(Vs))};static \u0275cmp=$e({type:n,selectors:[["app-gallery"]],standalone:!0,features:[ze],decls:33,vars:6,consts:[["noResults",""],["id","galeria",1,"py-16","lg:py-20","bg-background","relative","overflow-hidden"],[1,"absolute","inset-0","bg-gradient-to-br","from-background","via-white","to-accent/20"],[1,"absolute","top-10","right-10","w-48","lg:w-72","h-48","lg:h-72","bg-primary/5","rounded-full","blur-3xl","animate-float"],[1,"absolute","bottom-10","left-10","w-64","lg:w-96","h-64","lg:h-96","bg-accent/10","rounded-full","blur-3xl","animate-float",2,"animation-delay","2s"],[1,"container","relative","z-10","px-4","sm:px-6"],[1,"text-center","mb-12","lg:mb-16","animate-fade-in-up"],[1,"mb-4","lg:mb-6"],[1,"inline-block","px-3","lg:px-4","py-1","lg:py-2","bg-accent/30","text-primary-dark","rounded-full","text-xs","lg:text-sm","font-medium"],[1,"text-3xl","sm:text-4xl","md:text-5xl","lg:text-6xl","font-light","text-primary-dark","mb-4","lg:mb-6","leading-tight"],[1,"font-serif","italic"],[1,"text-base","sm:text-lg","md:text-xl","text-text-light","max-w-2xl","mx-auto","leading-relaxed","px-4"],[1,"mb-8","lg:mb-12","animate-fade-in-up",2,"animation-delay","0.2s"],[1,"flex","justify-center","mb-6","lg:mb-8"],[1,"flex","flex-wrap","gap-2","sm:gap-3","lg:gap-4","justify-center","max-w-4xl","mx-auto","px-2"],["class","px-3 lg:px-6 py-2 lg:py-3 rounded-full text-xs sm:text-sm font-medium transition-all duration-300 whitespace-nowrap",3,"class","click",4,"ngFor","ngForOf"],[1,"flex","justify-center","px-2"],[1,"relative","w-full","max-w-md","lg:max-w-lg"],[1,"flex","bg-white/80","backdrop-blur-sm","rounded-xl","shadow-lg","border","border-accent/50","hover:border-primary/30","transition-all","duration-300"],["type","text","placeholder","Buscar por t\xEDtulo, t\xE9cnica...",1,"flex-1","px-4","lg:px-6","py-3","lg:py-4","bg-transparent","border-none","focus:outline-none","focus:ring-0","text-text","placeholder-text-light","text-sm","lg:text-base",3,"ngModelChange","input","ngModel"],[1,"flex","items-center","justify-center","px-4","lg:px-6","bg-primary","text-white","rounded-r-xl","hover:bg-primary-dark","transition-all","duration-300","group",3,"click"],[1,"text-lg","lg:text-xl","group-hover:scale-110","transition-transform"],[1,"ml-2","text-xs","lg:text-sm","font-medium","hidden","sm:inline"],["class","mt-3 text-center",4,"ngIf"],["class","animate-fade-in-up","style","animation-delay: 0.4s;",4,"ngIf","ngIfElse"],["class","text-center py-12",4,"ngIf"],[1,"px-3","lg:px-6","py-2","lg:py-3","rounded-full","text-xs","sm:text-sm","font-medium","transition-all","duration-300","whitespace-nowrap",3,"click"],[1,"mt-3","text-center"],[1,"inline-block","px-3","py-1","bg-accent/20","text-primary-dark","rounded-full","text-xs","font-medium"],[1,"animate-fade-in-up",2,"animation-delay","0.4s"],[3,"artworks"],[1,"text-center","py-8","lg:py-12","animate-fade-in-up"],[1,"max-w-md","mx-auto"],[1,"text-6xl","mb-4"],[1,"text-lg","text-text-light","mb-4"],[1,"btn","btn-outline","text-sm",3,"click"],[1,"text-center","py-12"],[1,"inline-flex","items-center","gap-3","text-text-light"],[1,"w-6","h-6","border-2","border-primary/30","border-t-primary","rounded-full","animate-spin"],[1,"text-sm","font-medium"]],template:function(t,r){if(t&1){let i=yt();_(0,"section",1),Me(1,"div",2)(2,"div",3)(3,"div",4),_(4,"div",5)(5,"div",6)(6,"div",7)(7,"span",8),D(8," Colecci\xF3n de Obras "),I()(),_(9,"h1",9)(10,"span",10),D(11,"Galer\xEDa"),I(),D(12," de Arte "),I(),_(13,"p",11),D(14," Explora mi colecci\xF3n de obras creadas con t\xE9cnicas tradicionales y contempor\xE1neas "),I()(),_(15,"div",12)(16,"div",13)(17,"div",14),je(18,h$,2,3,"button",15),I()(),_(19,"div",16)(20,"div",17)(21,"div",18)(22,"input",19),Je("ngModelChange",function(s){return ue(i),rt(r.searchTerm,s)||(r.searchTerm=s),le(s)}),de("input",function(){return ue(i),le(r.applyFilters())}),I(),_(23,"button",20),de("click",function(){return ue(i),le(r.applyFilters())}),_(24,"span",21),D(25,"\u{1F50D}"),I(),_(26,"span",22),D(27,"Buscar"),I()()(),je(28,f$,3,3,"div",23),I()()(),je(29,p$,2,1,"div",24)(30,m$,8,0,"ng-template",null,0,Ia)(32,g$,5,0,"div",25),I()()}if(t&2){let i=Ai(31);U(18),_e("ngForOf",r.availableCategories),U(4),Ze("ngModel",r.searchTerm),U(6),_e("ngIf",r.filteredArtworks.length>0),U(),_e("ngIf",r.filteredArtworks.length>0)("ngIfElse",i),U(3),_e("ngIf",r.isLoading)}},dependencies:[gn,Wo,Nn,$d,ls,Zr,us,Oi],styles:[".category-button[_ngcontent-%COMP%]{white-space:nowrap;border-radius:9999px;padding:.5rem .75rem;font-size:.75rem;line-height:1rem;font-weight:500;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}@media (min-width: 640px){.category-button[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}}@media (min-width: 1024px){.category-button[_ngcontent-%COMP%]{padding:.75rem 1.5rem}}.category-button.active[_ngcontent-%COMP%]{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));border-width:1px;--tw-border-opacity: 1;border-color:rgb(107 114 128 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(107 114 128 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.category-button.active[_ngcontent-%COMP%]:hover{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.category-button.inactive[_ngcontent-%COMP%]{border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));background-color:#fffc;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1));--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);color:rgb(var(--color-primary-dark))}.category-button.inactive[_ngcontent-%COMP%]:hover{border-color:#6b72804d;background-color:#6b72801a;--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.search-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:28rem}@media (min-width: 1024px){.search-container[_ngcontent-%COMP%]{max-width:32rem}}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]{display:flex;border-radius:.75rem;border-width:1px;border-color:#d1d5db80;background-color:#fffc;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]:hover{border-color:#6b72804d}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:#6b728080;--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{flex:1 1 0%;border-style:none;background-color:transparent;padding:.75rem 1rem;font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{--tw-placeholder-opacity: 1;color:rgb(107 114 128 / var(--tw-placeholder-opacity, 1))}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}@media (min-width: 1024px){.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-size:1rem;line-height:1.5rem}}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1));color:rgb(var(--color-text-light));opacity:.9}.search-container[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]:hover{transform:none}.results-counter[_ngcontent-%COMP%]{margin-top:.75rem;text-align:center}.results-counter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;border-radius:9999px;background-color:#d1d5db33;padding:.25rem .75rem;font-size:.75rem;line-height:1rem;font-weight:500;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1));color:rgb(var(--color-primary-dark))}.loading-indicator[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1));color:rgb(var(--color-text-light));opacity:.9}.loading-indicator[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:1.5rem;width:1.5rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.loading-indicator[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 60s infinite linear;border-radius:9999px;border-width:2px;border-color:#6b72804d;--tw-border-opacity: 1;border-top-color:rgb(107 114 128 / var(--tw-border-opacity, 1))}.no-results[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out;padding-top:2rem;padding-bottom:2rem;text-align:center;animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}@media (min-width: 1024px){.no-results[_ngcontent-%COMP%]{padding-top:3rem;padding-bottom:3rem}}.no-results[_ngcontent-%COMP%]   .no-results-content[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;max-width:28rem}.no-results[_ngcontent-%COMP%]   .no-results-icon[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:3.75rem;line-height:1}.no-results[_ngcontent-%COMP%]   .no-results-text[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.125rem;line-height:1.75rem;--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1));color:rgb(var(--color-text-light));opacity:.9}@media (max-width: 640px){.category-button[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.75rem;line-height:1rem;min-width:80px}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.875rem;line-height:1.25rem}.search-container[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]{padding:.5rem .75rem}.search-container[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}@media (max-width: 480px){.category-button[_ngcontent-%COMP%]{padding:.25rem;line-height:1rem;min-width:70px;font-size:.7rem}.categories-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.categories-container[_ngcontent-%COMP%]   .category-button[_ngcontent-%COMP%]{width:100%;max-width:140px;justify-content:center}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}button[_ngcontent-%COMP%]:focus-visible{outline-width:2px;outline-offset:2px;outline-color:#6b7280}input[_ngcontent-%COMP%]:focus-visible{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-color: rgb(107 114 128 / .5);--tw-ring-offset-width: 2px;--tw-ring-offset-color: #FAFAF9}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], .category-button[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.text-primary-dark[_ngcontent-%COMP%]{color:rgb(var(--color-primary-dark))}.text-text-light[_ngcontent-%COMP%]{color:rgb(var(--color-text-light));opacity:.9}"]})};var Jh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=$e({type:n,selectors:[["app-footer"]],standalone:!0,features:[ze],decls:109,vars:0,consts:[["id","contacto",1,"relative","bg-background","py-20","overflow-hidden"],[1,"absolute","inset-0","bg-gradient-to-br","from-background","via-white","to-accent/20"],[1,"absolute","top-0","left-0","w-64","h-64","bg-primary/5","rounded-full","blur-3xl","animate-float"],[1,"absolute","bottom-0","right-0","w-80","h-80","bg-accent/10","rounded-full","blur-3xl","animate-float",2,"animation-delay","2s"],[1,"container","relative","z-10"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-12"],[1,"text-center","lg:text-left","animate-fade-in-up"],[1,"mb-6"],[1,"inline-block","px-4","py-2","bg-accent/30","text-primary-dark","rounded-full","text-sm","font-medium","mb-4"],[1,"text-3xl","font-light","text-primary-dark","mb-6"],[1,"font-serif","italic"],[1,"space-y-4","text-text"],[1,"flex","items-center","gap-3"],[1,"text-2xl"],[1,"font-medium"],[1,"text-text-light"],[1,"text-center","lg:text-left","animate-fade-in-up",2,"animation-delay","0.2s"],[1,"space-y-4"],["href","#",1,"flex","items-center","gap-3","group","text-text","hover:text-primary-dark","transition-all","duration-300"],[1,"text-2xl","group-hover:scale-110","transition-transform"],[1,"font-medium","group-hover:underline"],[1,"text-text-light","text-sm"],[1,"text-center","lg:text-left","animate-fade-in-up",2,"animation-delay","0.4s"],[1,"bg-white/50","backdrop-blur-sm","rounded-lg","p-4","border","border-accent/30"],[1,"font-semibold","text-primary-dark"],[1,"text-sm","text-text-light"],[1,"text-sm","mt-1"],[1,"border-t","border-accent/30","mt-12","pt-8","text-center","animate-fade-in-up",2,"animation-delay","0.6s"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","gap-4"],[1,"text-text-light","font-light"],[1,"font-serif","italic","text-primary-dark"],[1,"flex","gap-6","text-text-light"],["href","#",1,"hover:text-primary-dark","transition-colors","duration-300","font-light"],[1,"mt-6","flex","justify-center"],[1,"w-24","h-1","bg-gradient-to-r","from-transparent","via-primary/50","to-transparent","rounded-full"],[1,"absolute","-bottom-10","-left-10","w-32","h-32","bg-primary/10","rounded-full","blur-2xl"],[1,"absolute","-top-10","-right-10","w-40","h-40","bg-accent/15","rounded-full","blur-2xl"]],template:function(t,r){t&1&&(_(0,"footer",0),Me(1,"div",1)(2,"div",2)(3,"div",3),_(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"span",8),D(9," Contacto Directo "),I()(),_(10,"h3",9)(11,"span",10),D(12,"Estudio"),I(),D(13," Malaver "),I(),_(14,"div",11)(15,"div",12)(16,"span",13),D(17,"\u{1F4E7}"),I(),_(18,"div")(19,"p",14),D(20,"Email"),I(),_(21,"p",15),D(22,"artista@email.com"),I()()(),_(23,"div",12)(24,"span",13),D(25,"\u{1F4F1}"),I(),_(26,"div")(27,"p",14),D(28,"Tel\xE9fono"),I(),_(29,"p",15),D(30,"+34 123 456 789"),I()()(),_(31,"div",12)(32,"span",13),D(33,"\u{1F4CD}"),I(),_(34,"div")(35,"p",14),D(36,"Estudio"),I(),_(37,"p",15),D(38,"Calle Arte 123, Madrid"),I()()()()(),_(39,"div",16)(40,"div",7)(41,"span",8),D(42," S\xEDgueme en Redes "),I()(),_(43,"h3",9)(44,"span",10),D(45,"Conectemos"),I()(),_(46,"div",17)(47,"a",18)(48,"span",19),D(49,"\u{1F4F7}"),I(),_(50,"div")(51,"p",20),D(52,"Instagram"),I(),_(53,"p",21),D(54,"@malaver.arte"),I()()(),_(55,"a",18)(56,"span",19),D(57,"\u{1F465}"),I(),_(58,"div")(59,"p",20),D(60,"Facebook"),I(),_(61,"p",21),D(62,"Mar\xEDa Malaver Arte"),I()()(),_(63,"a",18)(64,"span",19),D(65,"\u{1F426}"),I(),_(66,"div")(67,"p",20),D(68,"Twitter"),I(),_(69,"p",21),D(70,"@malaver_art"),I()()()()(),_(71,"div",22)(72,"div",7)(73,"span",8),D(74," Pr\xF3ximos Eventos "),I()(),_(75,"h3",9)(76,"span",10),D(77,"Exposiciones"),I()(),_(78,"div",11)(79,"div",23)(80,"p",24),D(81,"Galer\xEDa Moderna"),I(),_(82,"p",25),D(83,"15 Nov - 30 Dic 2024"),I(),_(84,"p",26),D(85,"Inauguraci\xF3n: 15 Nov, 19:00h"),I()(),_(86,"div",23)(87,"p",24),D(88,"Feria Internacional"),I(),_(89,"p",25),D(90,"Enero 2025"),I(),_(91,"p",26),D(92,"Stand A-15, Pabell\xF3n 3"),I()()()()(),_(93,"div",27)(94,"div",28)(95,"p",29),D(96," \xA9 2024 "),_(97,"span",30),D(98,"Mar\xEDa Malaver"),I(),D(99,". Todos los derechos reservados. "),I(),_(100,"div",31)(101,"a",32),D(102,"Pol\xEDtica de Privacidad"),I(),_(103,"a",32),D(104,"T\xE9rminos de Servicio"),I()()(),_(105,"div",33),Me(106,"div",34),I()()(),Me(107,"div",35)(108,"div",36),I())}})};var Xh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=$e({type:n,selectors:[["app-home"]],standalone:!0,features:[ze],decls:6,vars:0,template:function(t,r){t&1&&(Me(0,"app-header"),_(1,"main"),Me(2,"app-hero")(3,"app-techniques")(4,"app-gallery"),I(),Me(5,"app-footer"))},dependencies:[jd,Ud,Bd,Zh,Jh]})};function y$(n,e){if(n&1&&(_(0,"div",45),D(1),I()),n&2){let t=we();U(),tn(" ",t.successMessage," ")}}function v$(n,e){if(n&1&&(_(0,"div",46),D(1),I()),n&2){let t=we();U(),tn(" ",t.errorMessage," ")}}function _$(n,e){if(n&1){let t=yt();_(0,"button",47),de("click",function(){ue(t);let i=we();return le(i.cancelEdit())}),D(1," Cancelar "),I()}}function w$(n,e){n&1&&(_(0,"div",48),D(1," No hay obras registradas. Agrega tu primera obra usando el formulario superior. "),I())}function I$(n,e){if(n&1){let t=yt();_(0,"tr")(1,"td",55),Me(2,"img",56),I(),_(3,"td",55)(4,"div",57),D(5),I(),_(6,"div",58),D(7),I()(),_(8,"td",59),D(9),I(),_(10,"td",59),D(11),I(),_(12,"td",60)(13,"button",61),de("click",function(){let i=ue(t).$implicit,o=we(2);return le(o.editArtwork(i))}),D(14," Editar "),I(),_(15,"button",62),de("click",function(){let i=ue(t).$implicit,o=we(2);return le(o.deleteArtwork(i.id))}),D(16," Eliminar "),I()()()}if(n&2){let t=e.$implicit;U(2),_e("src",t.imagen,$o)("alt",t.titulo),U(3),vt(t.titulo),U(2),vt(t.medidas),U(2),tn(" ",t.tecnica," "),U(2),zm(" ",t.precio," ",t.moneda," ")}}function E$(n,e){if(n&1&&(_(0,"div",49)(1,"table",50)(2,"thead",51)(3,"tr")(4,"th",52),D(5,"Imagen"),I(),_(6,"th",52),D(7,"T\xEDtulo"),I(),_(8,"th",52),D(9,"T\xE9cnica"),I(),_(10,"th",52),D(11,"Precio"),I(),_(12,"th",52),D(13,"Acciones"),I()()(),_(14,"tbody",53),je(15,I$,17,7,"tr",54),I()()()),n&2){let t=we();U(15),_e("ngForOf",t.artworks)}}var ef=class n{constructor(e,t){this.artworkService=e;this.authService=t}artworks=[];newArtwork={id:"",titulo:"",medidas:"",tecnica:"",estilo:"",genero:"",descripcion:"",estado:"",precio:0,moneda:"EUR",imagen:"",anio:new Date().getFullYear(),categoria:"",vendido:!1};editingArtwork=null;successMessage="";errorMessage="";subscription=new ke;ngOnInit(){this.loadArtworks()}ngOnDestroy(){this.subscription.unsubscribe()}loadArtworks(){this.subscription.add(this.artworkService.artworks$.subscribe({next:e=>{this.artworks=e},error:e=>{console.error("Error loading artworks:",e),this.errorMessage="Error al cargar las obras",setTimeout(()=>{this.errorMessage=""},3e3)}}))}onSubmit(){return M(this,null,function*(){try{this.editingArtwork?(yield this.artworkService.updateArtwork(V({},this.newArtwork)),this.successMessage="Obra actualizada correctamente"):(yield this.artworkService.addArtwork(V({},this.newArtwork)),this.successMessage="Obra agregada correctamente"),this.resetForm(),setTimeout(()=>{this.successMessage=""},3e3)}catch(e){console.error("Error saving artwork:",e),this.errorMessage="Error al guardar la obra",setTimeout(()=>{this.errorMessage=""},3e3)}})}editArtwork(e){this.editingArtwork=e,this.newArtwork=V({},e)}deleteArtwork(e){return M(this,null,function*(){if(confirm("\xBFEst\xE1s seguro de que deseas eliminar esta obra?"))try{yield this.artworkService.deleteArtwork(e),this.successMessage="Obra eliminada correctamente",setTimeout(()=>{this.successMessage=""},3e3)}catch(t){console.error("Error deleting artwork:",t),this.errorMessage="Error al eliminar la obra",setTimeout(()=>{this.errorMessage=""},3e3)}})}resetForm(){this.newArtwork={id:"",titulo:"",medidas:"",tecnica:"",estilo:"",genero:"",descripcion:"",estado:"",precio:0,moneda:"EUR",imagen:"",anio:new Date().getFullYear(),categoria:"",vendido:!1},this.editingArtwork=null}cancelEdit(){this.resetForm()}static \u0275fac=function(t){return new(t||n)(J(Vs),J(On))};static \u0275cmp=$e({type:n,selectors:[["app-admin-dashboard"]],standalone:!0,features:[ze],decls:103,vars:23,consts:[["artworkForm","ngForm"],[1,"min-h-screen","bg-gray-100","p-6"],[1,"max-w-7xl","mx-auto"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-3xl","font-bold","text-gray-800"],[1,"bg-red-600","text-white","px-4","py-2","rounded-md","hover:bg-red-700","transition-colors",3,"click"],["class","bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",4,"ngIf"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",4,"ngIf"],[1,"bg-white","shadow-md","rounded-lg","p-6","mb-8"],[1,"text-xl","font-semibold","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4",3,"ngSubmit"],[1,"space-y-4"],[1,"block","text-sm","font-medium","mb-1"],["type","text","name","titulo","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","text","name","medidas","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","text","name","tecnica","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","text","name","estilo",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","text","name","genero","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["name","categoria","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["value","paisajismo"],["value","bodegones"],["value","retratos"],["value","animalismo"],["value","otros"],["name","estado","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["value","Nuevo"],["value","Usado"],["value","Restaurado"],["type","number","name","precio","required","","min","0",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["name","moneda","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["value","EUR"],["value","USD"],["value","COP"],["type","number","name","anio",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["name","vendido","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],[3,"ngValue"],["type","text","name","imagen","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],[1,"md:col-span-2"],["name","descripcion","rows","3",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],[1,"md:col-span-2","flex","justify-end","space-x-4","mt-4"],["type","button","class","bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600 transition-colors",3,"click",4,"ngIf"],["type","submit",1,"bg-blue-600","text-white","px-4","py-2","rounded-md","hover:bg-blue-700","transition-colors","disabled:bg-blue-300",3,"disabled"],[1,"bg-white","shadow-md","rounded-lg","p-6"],["class","text-center py-8 text-gray-500",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],[1,"bg-green-100","border","border-green-400","text-green-700","px-4","py-3","rounded","mb-6"],[1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","mb-6"],["type","button",1,"bg-gray-500","text-white","px-4","py-2","rounded-md","hover:bg-gray-600","transition-colors",3,"click"],[1,"text-center","py-8","text-gray-500"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],[1,"px-6","py-4","whitespace-nowrap"],[1,"h-12","w-12","object-cover","rounded",3,"src","alt"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"text-indigo-600","hover:text-indigo-900","mr-3",3,"click"],[1,"text-red-600","hover:text-red-900",3,"click"]],template:function(t,r){if(t&1){let i=yt();_(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),D(4,"Panel de Administraci\xF3n"),I(),_(5,"button",5),de("click",function(){return ue(i),le(r.authService.logout())}),D(6," Cerrar Sesi\xF3n "),I()(),je(7,y$,2,1,"div",6)(8,v$,2,1,"div",7),_(9,"div",8)(10,"h2",9),D(11),I(),_(12,"form",10,0),de("ngSubmit",function(){return ue(i),le(r.onSubmit())}),_(14,"div",11)(15,"div")(16,"label",12),D(17,"T\xEDtulo *"),I(),_(18,"input",13),Je("ngModelChange",function(s){return ue(i),rt(r.newArtwork.titulo,s)||(r.newArtwork.titulo=s),le(s)}),I()(),_(19,"div")(20,"label",12),D(21,"Medidas *"),I(),_(22,"input",14),Je("ngModelChange",function(s){return ue(i),rt(r.newArtwork.medidas,s)||(r.newArtwork.medidas=s),le(s)}),I()(),_(23,"div")(24,"label",12),D(25,"T\xE9cnica *"),I(),_(26,"input",15),Je("ngModelChange",function(s){return ue(i),rt(r.newArtwork.tecnica,s)||(r.newArtwork.tecnica=s),le(s)}),I()(),_(27,"div")(28,"label",12),D(29,"Estilo"),I(),_(30,"input",16),Je("ngModelChange",function(s){return ue(i),rt(r.newArtwork.estilo,s)||(r.newArtwork.estilo=s),le(s)}),I()(),_(31,"div")(32,"label",12),D(33,"G\xE9nero *"),I(),_(34,"input",17),Je("ngModelChange",function(s){return ue(i),rt(r.newArtwork.genero,s)||(r.newArtwork.genero=s),le(s)}),I()(),_(35,"div")(36,"label",12),D(37,"Categor\xEDa *"),I(),_(38,"select",18),Je("ngModelChange",function(s){return ue(i),rt(r.newArtwork.categoria,s)||(r.newArtwork.categoria=s),le(s)}),_(39,"option",19),D(40,"Paisajismo"),I(),_(41,"option",20),D(42,"Bodegones"),I(),_(43,"option",21),D(44,"Retratos"),I(),_(45,"option",22),D(46,"Animalismo"),I(),_(47,"option",23),D(48,"Otros"),I()()()(),_(49,"div",11)(50,"div")(51,"label",12),D(52,"Estado *"),I(),_(53,"select",24),Je("ngModelChange",function(s){return ue(i),rt(r.newArtwork.estado,s)||(r.newArtwork.estado=s),le(s)}),_(54,"option",25),D(55,"Nuevo"),I(),_(56,"option",26),D(57,"Usado"),I(),_(58,"option",27),D(59,"Restaurado"),I()()(),_(60,"div")(61,"label",12),D(62,"Precio *"),I(),_(63,"input",28),Je("ngModelChange",function(s){return ue(i),rt(r.newArtwork.precio,s)||(r.newArtwork.precio=s),le(s)}),I()(),_(64,"div")(65,"label",12),D(66,"Moneda *"),I(),_(67,"select",29),Je("ngModelChange",function(s){return ue(i),rt(r.newArtwork.moneda,s)||(r.newArtwork.moneda=s),le(s)}),_(68,"option",30),D(69,"EUR"),I(),_(70,"option",31),D(71,"USD"),I(),_(72,"option",32),D(73,"COP"),I()()(),_(74,"div")(75,"label",12),D(76,"A\xF1o"),I(),_(77,"input",33),Je("ngModelChange",function(s){return ue(i),rt(r.newArtwork.anio,s)||(r.newArtwork.anio=s),le(s)}),I()(),_(78,"div")(79,"label",12),D(80,"Vendido *"),I(),_(81,"select",34),Je("ngModelChange",function(s){return ue(i),rt(r.newArtwork.vendido,s)||(r.newArtwork.vendido=s),le(s)}),_(82,"option",35),D(83,"No Vendido"),I(),_(84,"option",35),D(85,"Vendido"),I()()(),_(86,"div")(87,"label",12),D(88,"URL de la Imagen *"),I(),_(89,"input",36),Je("ngModelChange",function(s){return ue(i),rt(r.newArtwork.imagen,s)||(r.newArtwork.imagen=s),le(s)}),I()()(),_(90,"div",37)(91,"label",12),D(92,"Descripci\xF3n"),I(),_(93,"textarea",38),Je("ngModelChange",function(s){return ue(i),rt(r.newArtwork.descripcion,s)||(r.newArtwork.descripcion=s),le(s)}),I()(),_(94,"div",39),je(95,_$,2,0,"button",40),_(96,"button",41),D(97),I()()()(),_(98,"div",42)(99,"h2",9),D(100,"Obras Existentes"),I(),je(101,w$,2,0,"div",43)(102,E$,16,1,"div",44),I()()()}if(t&2){let i=Ai(13);U(7),_e("ngIf",r.successMessage),U(),_e("ngIf",r.errorMessage),U(3),tn(" ",r.editingArtwork?"Editar Obra":"Agregar Nueva Obra"," "),U(7),Ze("ngModel",r.newArtwork.titulo),U(4),Ze("ngModel",r.newArtwork.medidas),U(4),Ze("ngModel",r.newArtwork.tecnica),U(4),Ze("ngModel",r.newArtwork.estilo),U(4),Ze("ngModel",r.newArtwork.genero),U(4),Ze("ngModel",r.newArtwork.categoria),U(15),Ze("ngModel",r.newArtwork.estado),U(10),Ze("ngModel",r.newArtwork.precio),U(4),Ze("ngModel",r.newArtwork.moneda),U(10),Ze("ngModel",r.newArtwork.anio),U(4),Ze("ngModel",r.newArtwork.vendido),U(),_e("ngValue",!1),U(2),_e("ngValue",!0),U(5),Ze("ngModel",r.newArtwork.imagen),U(4),Ze("ngModel",r.newArtwork.descripcion),U(2),_e("ngIf",r.editingArtwork),U(),_e("disabled",!i.valid),U(),tn(" ",r.editingArtwork?"Actualizar":"Agregar"," Obra "),U(4),_e("ngIf",r.artworks.length===0),U(),_e("ngIf",r.artworks.length>0)}},dependencies:[ls,kd,JD,eT,Zr,ny,Od,us,Nd,sc,ry,Oi,oc,gn,Wo,Nn]})};var XA=[{path:"",component:Xh},{path:"admin/login",component:Vd},{path:"admin/dashboard",component:ef,canActivate:[Ld]},{path:"**",redirectTo:""}];var ex={production:!1,firebaseConfig:{apiKey:"AIzaSyBY5l0nyxjgrb2MC8b2_3lGOf4h2KHTH24",authDomain:"galeria-70ec6.firebaseapp.com",projectId:"galeria-70ec6",storageBucket:"galeria-70ec6.firebasestorage.app",messagingSenderId:"17744554129",appId:"1:17744554129:web:4dcbadd5dad6e58238f730",measurementId:"G-2SCNFR1HB6"}};var tx={providers:[eC({eventCoalescing:!0}),CD(XA),DC(),MT(()=>RT(ex.firebaseConfig)),HA(()=>WA())]};var tf=class n{title="Malaver";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=$e({type:n,selectors:[["app-root"]],standalone:!0,features:[ze],decls:1,vars:0,template:function(t,r){t&1&&Me(0,"router-outlet")},dependencies:[Hg]})};PC(tf,tx).catch(n=>console.error(n));
